############################################################################################################
# WA AI Templates Triggers
# Templates types :
# - Infantry
# - Motorized
# - Mechanized
# - Light Armor
# - Medium Armor
# - Heavy Armor
# - Modern Armor
# - Garrison
# - Military Police / Cavalry
# - Marine
# - Airborne
# - Mountaineer
# - Rangers


# Available widths :
# - 20 Width
# - 30 Width

# parameters :
# - fuel availability
# - total manpower
# - mils count
# - expected terrain

WA_AI_TEMPLATES_use_heavy_infantry = {
	num_of_military_factories > 5
}

WA_AI_TEMPLATES_use_marines = {
	any_owned_state = {
		is_coastal = yes
	}
	num_of_military_factories > 50
	NOT = { WA_AI_CONFIG_is_submarine_navy = yes }
	NOT = { WA_AI_CONFIG_DIVISIONS_is_expected_marshes_or_mountains = yes }
}

WA_AI_TEMPLATES_use_mountaineers = {
	NOT = { WA_AI_TEMPLATES_use_marines = yes }
}

WA_AI_TEMPLATES_use_motorized_templates = {
	OR = {
		WA_AI_CONFIG_DIVISIONS_use_motorized_divisions = yes
		AND = {
			num_of_military_factories > 50
			NOT = { WA_AI_TEMPLATES_use_mechanized_templates = yes }
			NOT = { WA_AI_TEMPLATES_use_armor_templates = yes }
		}
	}
}

WA_AI_TEMPLATES_use_mechanized_templates = {
	OR = {
		WA_AI_CONFIG_DIVISIONS_use_mechanized_divisions = yes
		num_of_military_factories > 100
	}
}

WA_AI_TEMPLATES_use_armor_templates = {
	OR = {
		WA_AI_CONFIG_DIVISIONS_use_armored_divisions = yes
		num_of_military_factories > 150
	}
}

WA_AI_TEMPLATES_use_heavy_armor_templates = {
	WA_AI_TEMPLATES_use_armor_templates = yes
	WA_AI_CONFIG_DIVISIONS_focus_on_heavy_armor = yes
}

WA_AI_TEMPLATES_use_medium_armor_templates = {
	WA_AI_TEMPLATES_use_armor_templates = yes
	NOT = { WA_AI_TEMPLATES_use_heavy_armor_templates = yes }
	OR = {
		WA_AI_CONFIG_DIVISIONS_focus_on_medium_armor = yes
		date > 1941.1.1
	}
}

WA_AI_TEMPLATES_use_light_armor_templates = {
	WA_AI_TEMPLATES_use_armor_templates = yes
}

WA_AI_TEMPLATES_use_modern_armor = {
	WA_AI_TEMPLATES_use_armor_templates = yes
	date > 1945.1.1
}

############################################################################################################
# Equipment Unlock Triggers
# These triggers check if a nation has researched any technology that unlocks specific equipment types.
# Used to determine if certain equipment variants are available for template creation.

# Heavy Anti-Tank Equipment
WA_AI_TEMPLATES_has_heavy_at_unlocked = {
	OR = {
		has_tech = cze_heavy_anti_tank_1
		has_tech = cze_heavy_anti_tank_2
		has_tech = eng_heavy_anti_tank_1
		has_tech = eng_heavy_anti_tank_2
		has_tech = fra_heavy_anti_tank_1
		has_tech = generic_heavy_anti_tank_1
		has_tech = generic_heavy_anti_tank_2
		has_tech = ger_heavy_anti_tank_1
		has_tech = ger_heavy_anti_tank_2
		has_tech = hun_heavy_anti_tank_1
		has_tech = hun_heavy_anti_tank_2
		has_tech = ita_heavy_anti_tank_1
		has_tech = ita_heavy_anti_tank_2
		has_tech = jap_heavy_anti_tank_1
		has_tech = jap_heavy_anti_tank_2
		has_tech = pol_heavy_anti_tank_1
		has_tech = sov_heavy_anti_tank_1
		has_tech = sov_heavy_anti_tank_2
		has_tech = usa_heavy_anti_tank_1
		has_tech = usa_heavy_anti_tank_2
	}
}

# Heavy Anti-Air Equipment
WA_AI_TEMPLATES_has_heavy_aa_unlocked = {
	OR = {
		has_tech = cze_heavy_anti_air_1
		has_tech = cze_heavy_anti_air_2
		has_tech = cze_heavy_anti_air_3
		has_tech = cze_heavy_anti_air_4
		has_tech = cze_heavy_anti_air_5
		has_tech = cze_heavy_anti_air_6
		has_tech = eng_heavy_anti_air_1
		has_tech = eng_heavy_anti_air_2
		has_tech = eng_heavy_anti_air_3
		has_tech = fra_heavy_anti_air_1
		has_tech = fra_heavy_anti_air_2
		has_tech = fra_heavy_anti_air_3
		has_tech = fra_heavy_anti_air_4
		has_tech = generic_heavy_anti_air_1
		has_tech = generic_heavy_anti_air_2
		has_tech = generic_heavy_anti_air_3
		has_tech = ger_heavy_anti_air_1
		has_tech = ger_heavy_anti_air_2
		has_tech = ger_heavy_anti_air_3
		has_tech = hun_heavy_anti_air_1
		has_tech = hun_heavy_anti_air_2
		has_tech = hun_heavy_anti_air_3
		has_tech = ita_heavy_anti_air_1
		has_tech = ita_heavy_anti_air_2
		has_tech = ita_heavy_anti_air_3
		has_tech = jap_heavy_anti_air_1
		has_tech = jap_heavy_anti_air_2
		has_tech = jap_heavy_anti_air_3
		has_tech = jap_heavy_anti_air_4
		has_tech = jap_heavy_anti_air_5
		has_tech = pol_heavy_anti_air_1
		has_tech = pol_heavy_anti_air_2
		has_tech = pol_heavy_anti_air_3
		has_tech = sov_heavy_anti_air_1
		has_tech = sov_heavy_anti_air_2
		has_tech = sov_heavy_anti_air_3
		has_tech = sov_heavy_anti_air_4
		has_tech = swe_heavy_anti_air_1
		has_tech = swe_heavy_anti_air_2
		has_tech = swe_heavy_anti_air_3
		has_tech = usa_heavy_anti_air_1
		has_tech = usa_heavy_anti_air_2
		has_tech = usa_heavy_anti_air_3
		has_tech = usa_heavy_anti_air_4
	}
}

# Mechanized Anti-Tank Equipment
WA_AI_TEMPLATES_has_mechanized_at_unlocked = {
	OR = {
		has_tech = fra_mechanized_td_1
		has_tech = ger_mechanized_td_1
		has_tech = ger_mechanized_td_2
		has_tech = ger_mechanized_td_3
		has_tech = ger_mechanized_td_4
		has_tech = sov_mechanized_td_1
		has_tech = usa_mechanized_td_1
		has_tech = usa_mechanized_td_2
	}
}

# Mechanized Anti-Air Equipment
WA_AI_TEMPLATES_has_mechanized_aa_unlocked = {
	OR = {
		has_tech = ger_mechanized_aa_1
		has_tech = ger_mechanized_aa_2
		has_tech = ger_mechanized_aa_3
		has_tech = sov_mechanized_aa_1
		has_tech = sov_mechanized_aa_2
		has_tech = sov_mechanized_aa_3
		has_tech = usa_mechanized_aa_1
		has_tech = usa_mechanized_aa_2
		has_tech = usa_mechanized_aa_3
	}
}

# Light Tank Destroyer Equipment
WA_AI_TEMPLATES_has_light_td_unlocked = {
	OR = {
		has_tech = cze_light_tank_1_td
		has_tech = cze_light_tank_2_td
		has_tech = cze_light_tank_3_td
		has_tech = cze_light_tank_4_td
		has_tech = ger_light_tank_1_td
		has_tech = ger_light_tank_2_td
		has_tech = ger_light_tank_3_td
		has_tech = ger_light_tank_4_1_td
		has_tech = ger_light_tank_4_td
		has_tech = ger_light_tank_5_td
		has_tech = ger_light_tank_6_td
		has_tech = hun_light_tank_chassis_5_td
		has_tech = ita_light_tank_td_1
		has_tech = ita_light_tank_td_2
		has_tech = ita_light_tank_td_4
		has_tech = jap_light_tank_td_3
		has_tech = jap_light_tank_td_6
		has_tech = pol_light_tank_chassis_td_1
		has_tech = pol_light_tank_chassis_td_2
		has_tech = pol_light_tank_chassis_td_4
		has_tech = usa_light_tank_td_3
	}
}

# Medium Tank Destroyer Equipment
WA_AI_TEMPLATES_has_medium_td_unlocked = {
	OR = {
		has_tech = cze_medium_tank_1_td
		has_tech = eng_medium_tank_td_6
		has_tech = eng_medium_tank_td_7
		has_tech = eng_medium_tank_td_8
		has_tech = fra_medium_tank_td_2
		has_tech = fra_medium_tank_td_3
		has_tech = fra_medium_tank_td_4
		has_tech = fra_medium_tank_td_7
		has_tech = ger_medium_tank_5_td
		has_tech = ger_medium_tank_6_td
		has_tech = ger_medium_tank_7_td
		has_tech = hun_medium_tank_td_3
		has_tech = ita_medium_tank_td_2
		has_tech = ita_medium_tank_td_3
		has_tech = ita_medium_tank_td_4
		has_tech = ita_medium_tank_td_5
		has_tech = jap_medium_tank_td_4
		has_tech = jap_medium_tank_td_6
		has_tech = jap_medium_tank_td_7
		has_tech = jap_medium_tank_td_8
		has_tech = jap_medium_tank_td_9
		has_tech = pol_medium_tank_chassis_5_td
		has_tech = pol_medium_tank_chassis_6_td
		has_tech = sov_medium_tank_td_2
		has_tech = sov_medium_tank_td_3
		has_tech = sov_medium_tank_td_4
		has_tech = swe_medium_tank_chassis_td_2
		has_tech = swe_medium_tank_chassis_td_3
		has_tech = usa_medium_tank_td_2
		has_tech = usa_medium_tank_td_3
		has_tech = usa_medium_tank_td_4
		has_tech = usa_medium_tank_td_5
	}
}

# Heavy Tank Destroyer Equipment
WA_AI_TEMPLATES_has_heavy_td_unlocked = {
	OR = {
		has_tech = eng_heavy_tank_td_10
		has_tech = eng_heavy_tank_td_3
		has_tech = eng_heavy_tank_td_4
		has_tech = eng_heavy_tank_td_8
		has_tech = ger_heavy_tank_1_td
		has_tech = ger_heavy_tank_2_td
		has_tech = ger_heavy_tank_4_td
		has_tech = ger_heavy_tank_6_td
		has_tech = ger_heavy_tank_7_td
		has_tech = ita_heavy_tank_td_1
		has_tech = ita_heavy_tank_td_2
		has_tech = ita_heavy_tank_td_3
		has_tech = jap_heavy_tank_chassis_td_1
		has_tech = jap_heavy_tank_chassis_td_3
		has_tech = sov_heavy_tank_td_11
		has_tech = sov_heavy_tank_td_12
		has_tech = sov_heavy_tank_td_7
		has_tech = sov_heavy_tank_td_9
		has_tech = usa_heavy_tank_td_2
		has_tech = usa_heavy_tank_td_6
	}
}

# Modern Tank Destroyer Equipment
WA_AI_TEMPLATES_has_modern_td_unlocked = {
	OR = {
		has_tech = cze_modern_tank_1_td
		has_tech = cze_modern_tank_2_td
		has_tech = eng_modern_tank_td_3
		has_tech = fra_modern_tank_td_1
		has_tech = fra_modern_tank_td_2
		has_tech = fra_modern_tank_td_4
		has_tech = fra_modern_tank_td_5
		has_tech = ger_modern_tank_1_2_td
		has_tech = ger_modern_tank_1_td
		has_tech = ger_modern_tank_3_td
		has_tech = hun_modern_tank_td_2
		has_tech = ita_modern_tank_td_3
		has_tech = ita_modern_tank_td_4
		has_tech = jap_modern_tank_td_1
		has_tech = pol_modern_tank_chassis_1_td
		has_tech = sov_modern_tank_td_1
		has_tech = sov_modern_tank_td_3
		has_tech = usa_modern_tank_td_2
	}
}

# Light Self-Propelled Gun Equipment
WA_AI_TEMPLATES_has_light_spg_unlocked = {
	OR = {
		has_tech = cze_light_tank_2_spg
		has_tech = eng_light_tank_spg_3
		has_tech = eng_light_tank_spg_4
		has_tech = fra_light_tank_spg_4
		has_tech = fra_light_tank_spg_5
		has_tech = fra_light_tank_spg_7
		has_tech = ger_light_tank_4_spg
		has_tech = ger_light_tank_5_spg
		has_tech = ita_light_tank_spg_2
		has_tech = ita_light_tank_spg_4
		has_tech = jap_light_tank_spg_3
		has_tech = jap_light_tank_spg_6
		has_tech = sov_light_tank_spg_1
		has_tech = sov_light_tank_spg_2
		has_tech = sov_light_tank_spg_6
		has_tech = sov_light_tank_spg_7
		has_tech = spr_light_tank_3_spg
		has_tech = swe_light_tank_chassis_spg_2
		has_tech = swe_light_tank_chassis_spg_3
		has_tech = usa_light_tank_spg_4
		has_tech = usa_light_tank_spg_5
		has_tech = usa_light_tank_spg_5_2
	}
}

# Medium Self-Propelled Gun Equipment
WA_AI_TEMPLATES_has_medium_spg_unlocked = {
	OR = {
		has_tech = can_medium_tank_chassis_2_tank_spg
		has_tech = cze_medium_tank_1_spg
		has_tech = cze_medium_tank_2_spg
		has_tech = eng_medium_tank_spg_7
		has_tech = eng_medium_tank_spg_8
		has_tech = fra_medium_tank_spg_7
		has_tech = ger_medium_tank_5_spg
		has_tech = ita_medium_tank_spg_3
		has_tech = ita_medium_tank_spg_4
		has_tech = ita_medium_tank_spg_5
		has_tech = jap_medium_tank_spg_4
		has_tech = jap_medium_tank_spg_8
		has_tech = jap_medium_tank_spg_9
		has_tech = pol_medium_tank_chassis_5_spg
		has_tech = pol_medium_tank_chassis_6_spg
		has_tech = sov_light_assault_spg_1
		has_tech = swe_medium_tank_chassis_spg_3
		has_tech = usa_medium_tank_spg_2
		has_tech = usa_medium_tank_spg_3
		has_tech = usa_medium_tank_spg_5
	}
}

# Heavy Self-Propelled Gun Equipment
WA_AI_TEMPLATES_has_heavy_spg_unlocked = {
	OR = {
		has_tech = eng_heavy_tank_spg_1
		has_tech = eng_heavy_tank_spg_10
		has_tech = eng_heavy_tank_spg_9
		has_tech = ger_heavy_tank_4_spg
		has_tech = ger_heavy_tank_6_spg
		has_tech = ger_heavy_tank_7_spg
		has_tech = jap_heavy_tank_chassis_spg_1
		has_tech = jap_heavy_tank_chassis_spg_3
		has_tech = sov_heavy_tank_spg_11
		has_tech = sov_heavy_tank_spg_12
		has_tech = sov_heavy_tank_spg_3
		has_tech = sov_heavy_tank_spg_4
		has_tech = usa_heavy_tank_spg_3
	}
}

# Modern Self-Propelled Gun Equipment
WA_AI_TEMPLATES_has_modern_spg_unlocked = {
	OR = {
		has_tech = cze_modern_tank_1_spg
		has_tech = cze_modern_tank_2_spg
		has_tech = eng_modern_tank_spg_2
		has_tech = eng_modern_tank_spg_3
		has_tech = fra_modern_tank_spg_1
		has_tech = fra_modern_tank_spg_2
		has_tech = fra_modern_tank_spg_3
		has_tech = fra_modern_tank_spg_4
		has_tech = fra_modern_tank_spg_5
		has_tech = ger_modern_tank_1_2_spg
		has_tech = ger_modern_tank_1_spg
		has_tech = ger_modern_tank_3_spg
		has_tech = hun_modern_tank_spg_2
		has_tech = ita_modern_tank_spg_3
		has_tech = ita_modern_tank_spg_4
		has_tech = jap_modern_tank_spg_1
		has_tech = pol_modern_tank_chassis_1_spg
		has_tech = sov_modern_tank_spg_4
		has_tech = usa_modern_tank_spg_2
	}
}

# Light Self-Propelled Anti-Air Equipment
WA_AI_TEMPLATES_has_light_spaa_unlocked = {
	OR = {
		has_tech = fra_light_tank_aa_7
		has_tech = ger_light_tank_1_aa
		has_tech = ger_light_tank_2_aa
		has_tech = ger_light_tank_3_aa
		has_tech = ger_light_tank_5_aa
		has_tech = hun_light_tank_aa_1
		has_tech = ita_light_tank_aa_1
		has_tech = ita_light_tank_aa_3
		has_tech = ita_light_tank_aa_4
		has_tech = ita_light_tank_aa_5
		has_tech = jap_light_tank_aa_3
		has_tech = jap_light_tank_aa_5
		has_tech = jap_light_tank_aa_6
		has_tech = pol_light_tank_chassis_4_aa
		has_tech = sov_light_tank_aa_4
		has_tech = sov_light_tank_aa_5
		has_tech = sov_light_tank_aa_6
		has_tech = swe_light_tank_chassis_aa_3
		has_tech = usa_light_tank_aa_4
		has_tech = usa_light_tank_aa_5
	}
}

# Medium Self-Propelled Anti-Air Equipment
WA_AI_TEMPLATES_has_medium_spaa_unlocked = {
	OR = {
		has_tech = eng_medium_tank_aa_4
		has_tech = eng_medium_tank_aa_5
		has_tech = eng_medium_tank_aa_7
		has_tech = fra_medium_tank_aa_4
		has_tech = fra_medium_tank_aa_7
		has_tech = ger_medium_tank_5_aa
		has_tech = ger_medium_tank_6_aa
		has_tech = ger_medium_tank_7_aa
		has_tech = ita_medium_tank_aa_3
		has_tech = ita_medium_tank_aa_5
		has_tech = jap_medium_tank_aa_8
		has_tech = pol_medium_tank_chassis_5_aa
		has_tech = pol_medium_tank_chassis_6_aa
		has_tech = sov_medium_tank_aa_4
		has_tech = swe_medium_tank_chassis_aa_2
		has_tech = usa_medium_tank_aa_4
	}
}

# Modern Self-Propelled Anti-Air Equipment
WA_AI_TEMPLATES_has_modern_spaa_unlocked = {
	OR = {
		has_tech = eng_modern_tank_aa_3
		has_tech = fra_modern_tank_aa_3
		has_tech = fra_modern_tank_aa_6
		has_tech = ger_modern_tank_1_aa
		has_tech = ger_modern_tank_3_aa
		has_tech = hun_modern_tank_aa_2
		has_tech = ita_modern_tank_aa_3
		has_tech = ita_modern_tank_aa_4
		has_tech = jap_modern_tank_aa_1
		has_tech = pol_modern_tank_chassis_1_aa
		has_tech = sov_modern_tank_aa_3
		has_tech = usa_modern_tank_aa_2
	}
}