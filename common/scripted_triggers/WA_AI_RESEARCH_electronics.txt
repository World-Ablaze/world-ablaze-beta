# ============================================================================
# ELECTRONICS RESEARCH TRIGGERS by Aigle2
# ============================================================================
# These triggers determine which electronics technologies the AI should research.
# NO COUNTRY TAGS ALLOWED - use WA_AI_CONFIG triggers instead.
# ============================================================================

# Core Electronics - Always researched by all nations
WA_AI_RESEARCH_needs_electronics_base = {
	always = yes
}

WA_AI_RESEARCH_needs_radio = {
	always = yes
}

WA_AI_RESEARCH_needs_computing = {
	always = yes
}

# Radar - Majors and air-focused nations
WA_AI_RESEARCH_needs_radar = {
	OR = {
		WA_AI_CONFIG_is_major_country = yes
		WA_AI_CONFIG_is_strategic_bombing_airforce = yes
	}
}

# Encryption - Major powers only
WA_AI_RESEARCH_needs_encryption = {
	WA_AI_CONFIG_is_major_country = yes
}

# Decryption - Major powers only
WA_AI_RESEARCH_needs_decryption = {
	WA_AI_CONFIG_is_major_country = yes
}

# Fire Control Systems - Naval nations with capital ships
WA_AI_RESEARCH_needs_fire_control = {
	OR = {
		WA_AI_CONFIG_is_carrier_navy = yes
		WA_AI_CONFIG_is_battleship_navy = yes
		has_navy_size = { type = capital_ship size > 5 }
	}
}

# ASW Equipment - Convoy escort nations + dynamic
WA_AI_RESEARCH_needs_asw = {
	OR = {
		WA_AI_CONFIG_focus_on_escorts = yes
		# Dynamic: at war with submarine navy
		AND = {
			has_war = yes
			any_enemy_country = { WA_AI_CONFIG_is_submarine_navy = yes }
		}
		has_navy_size = { type = screen_ship size > 10 }
	}
}

# Torpedoes - Naval combat nations
WA_AI_RESEARCH_needs_torpedoes = {
	OR = {
		WA_AI_CONFIG_is_carrier_navy = yes
		WA_AI_CONFIG_is_battleship_navy = yes
		WA_AI_CONFIG_is_submarine_navy = yes
		has_navy_size = { type = submarine size > 0 }
		has_navy_size = { type = screen_ship size > 5 }
	}
}

# Naval Mines - Mine-focused nations + dynamic
WA_AI_RESEARCH_needs_naval_mines = {
	OR = {
		WA_AI_CONFIG_focus_on_minelayers = yes
		has_navy_size = { type = screen_ship size > 10 }
	}
}

# Submarine Equipment - Submarine nations + dynamic
WA_AI_RESEARCH_needs_submarine_equipment = {
	AND = {
		has_navy_size = { type = submarine size > 5 }
		num_of_naval_factories > 4
	}
}

# Amphibious Technologies - Amphibious doctrine nations + allies at war
WA_AI_RESEARCH_needs_amphibious = {
	OR = {
		WA_AI_CONFIG_has_amphibious_doctrine = yes
		WA_AI_TEMPLATES_use_marines = yes
	}
}

# Nuclear Technology - Major nuclear powers only
WA_AI_RESEARCH_needs_nuclear = {
	WA_AI_CONFIG_can_research_nuclear = yes
}

# Rocket Technology - Rocket nations only
WA_AI_RESEARCH_needs_rockets = {
	WA_AI_CONFIG_can_research_rockets = yes
}

# Vehicle Electronics - Majors and motorized nations
WA_AI_RESEARCH_needs_vehicle_electronics = {
	OR = {
		WA_AI_CONFIG_is_major_country = yes
		has_tech = motorised_infantry
	}
}
