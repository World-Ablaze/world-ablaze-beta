# ============================================================================
# TANKS PRODUCTION TRIGGERS by Aigle2
# ============================================================================
# These triggers are used to determine the production of tank equipment.
# All triggers for production are done here using the PRODUCTION suffix
# so that conditions in ai_strategy files are one-liners.
#
# Tank equipment includes:
# - Light armor (tanks, TD, SPG, SPAA)
# - Medium armor (tanks, TD, SPG, SPAA)
# - Heavy armor (tanks, TD, SPG, SPAA)
# - Modern armor (tanks, TD, SPG, SPAA)
# - Mechanized equipment (APC, TD, AA, Artillery)
# ============================================================================

# ============================================================================
# MASTER SWITCH
# ============================================================================
# This trigger determines if a country uses the default tanks production system.
# It references the CONFIG trigger which contains the actual country tags.
# ============================================================================

WA_AI_PRODUCTION_tanks_is_enabled = {
	WA_AI_CONFIG_uses_default_tanks_production = yes
}

# ============================================================================
# LIGHT ARMOR TRIGGERS
# ============================================================================

WA_AI_PRODUCTION_build_light_armor = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	OR = {
		WA_AI_TEMPLATES_use_light_armor_templates = yes
		WA_AI_TEMPLATES_use_medium_armor_templates = yes
		WA_AI_TEMPLATES_use_heavy_armor_templates = yes
		WA_AI_TEMPLATES_use_modern_armor = yes
	}
}

WA_AI_PRODUCTION_build_medium_armor_in_replacement_of_light_armor = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_medium_armor_templates = yes
	WA_AI_TEMPLATES_switch_from_light_to_medium_armor = yes
}

WA_AI_PRODUCTION_build_light_armor_td = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_light_armor_templates = yes
	WA_AI_TEMPLATES_has_light_td_unlocked = yes
}

WA_AI_PRODUCTION_build_light_armor_spg = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	OR = {
		WA_AI_TEMPLATES_use_light_armor_templates = yes
		WA_AI_TEMPLATES_use_medium_armor_templates = yes
	}
	#WA_AI_TEMPLATES_use_light_armor_spg_templates = yes
	WA_AI_TEMPLATES_has_light_spg_unlocked = yes
}

WA_AI_PRODUCTION_build_light_armor_spaa = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_light_armor_templates = yes
	WA_AI_TEMPLATES_has_light_spaa_unlocked = yes
}

# ============================================================================
# MEDIUM ARMOR TRIGGERS
# ============================================================================

WA_AI_PRODUCTION_build_medium_armor = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_medium_armor_templates = yes
}

WA_AI_PRODUCTION_build_medium_armor_td = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_medium_armor_templates = yes
	WA_AI_TEMPLATES_has_medium_td_unlocked = yes
}

WA_AI_PRODUCTION_build_medium_armor_spg = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_medium_armor_templates = yes
	#WA_AI_TEMPLATES_use_medium_armor_spg_templates = yes
	WA_AI_TEMPLATES_has_medium_spg_unlocked = yes
}

WA_AI_PRODUCTION_build_medium_armor_spaa = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_medium_armor_templates = yes
	WA_AI_TEMPLATES_has_medium_spaa_unlocked = yes
}

# ============================================================================
# HEAVY ARMOR TRIGGERS
# ============================================================================

WA_AI_PRODUCTION_build_heavy_armor = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_heavy_armor_templates = yes
}

WA_AI_PRODUCTION_build_heavy_armor_td = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_heavy_armor_templates = yes
	WA_AI_TEMPLATES_has_heavy_td_unlocked = yes
}

WA_AI_PRODUCTION_build_heavy_armor_spg = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_heavy_armor_templates = yes
	WA_AI_TEMPLATES_has_heavy_spg_unlocked = yes
}

# ============================================================================
# MODERN ARMOR TRIGGERS
# ============================================================================

WA_AI_PRODUCTION_build_modern_armor = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_modern_armor = yes
}

WA_AI_PRODUCTION_build_modern_armor_td = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_modern_armor = yes
	WA_AI_TEMPLATES_has_modern_td_unlocked = yes
}

WA_AI_PRODUCTION_build_modern_armor_spg = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_modern_armor = yes
	WA_AI_TEMPLATES_has_modern_spg_unlocked = yes
}

WA_AI_PRODUCTION_build_modern_armor_spaa = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_modern_armor = yes
	WA_AI_TEMPLATES_has_modern_spaa_unlocked = yes
}

# ============================================================================
# MECHANIZED TRIGGERS
# ============================================================================

WA_AI_PRODUCTION_build_mechanized = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_mechanized_templates = yes
}

WA_AI_PRODUCTION_build_mechanized_td = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_mechanized_templates = yes
	WA_AI_TEMPLATES_has_mechanized_at_unlocked = yes
}

WA_AI_PRODUCTION_build_mechanized_aa = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_TEMPLATES_use_mechanized_templates = yes
	WA_AI_TEMPLATES_has_mechanized_aa_unlocked = yes
}

# ============================================================================
# ARMOR FOCUS TRIGGERS
# ============================================================================
# These triggers determine which armor type to prioritize based on CONFIG

WA_AI_PRODUCTION_focus_on_light_armor = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_CONFIG_DIVISIONS_focus_on_light_armor = yes
}

WA_AI_PRODUCTION_focus_on_medium_armor = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_CONFIG_DIVISIONS_focus_on_medium_armor = yes
}

WA_AI_PRODUCTION_focus_on_heavy_armor = {
	WA_AI_PRODUCTION_tanks_is_enabled = yes
	WA_AI_CONFIG_DIVISIONS_focus_on_heavy_armor = yes
}

