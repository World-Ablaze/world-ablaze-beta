# ============================================================================
# GROUND PRODUCTION TRIGGERS by Aigle2
# ============================================================================
# These triggers are used to determine the production of ground equipment.
# All triggers for production are done here using the PRODUCTION suffix
# so that conditions in ai_strategy files are one-liners.
#
# Ground equipment includes:
# - Infantry equipment (regular and heavy)
# - Artillery
# - Anti-tank equipment (regular and heavy)
# - Anti-air equipment (regular and heavy)
# - Support equipment
# - Trucks (motorized equipment)
# - Trains
# ============================================================================

# ============================================================================
# MASTER SWITCH
# ============================================================================
# This trigger determines if a country uses the default ground production system.
# It references the CONFIG trigger which contains the actual country tags.
# ============================================================================

WA_AI_PRODUCTION_ground_is_enabled = {
	WA_AI_CONFIG_uses_default_ground_production = yes
}

# ============================================================================
# INFANTRY EQUIPMENT TRIGGERS
# ============================================================================

WA_AI_PRODUCTION_build_infantry_base = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
}

WA_AI_PRODUCTION_build_heavy_infantry = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
	WA_AI_TEMPLATES_use_heavy_infantry = yes
}

WA_AI_PRODUCTION_build_infantry_stockpile_low = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
	OR = {
		has_equipment = { infantry_equipment < 10000 }
		has_equipment = { support_equipment < 5000 }
	}
}

# ============================================================================
# ARTILLERY TRIGGERS
# ============================================================================

WA_AI_PRODUCTION_build_artillery = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
}

WA_AI_PRODUCTION_build_artillery_major = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
	WA_AI_CONFIG_is_major_country = yes
}

# ============================================================================
# ANTI-TANK TRIGGERS
# ============================================================================

WA_AI_PRODUCTION_build_anti_tank = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
}

WA_AI_PRODUCTION_build_heavy_anti_tank = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
	WA_AI_TEMPLATES_has_heavy_at_unlocked = yes
}

# ============================================================================
# ANTI-AIR TRIGGERS
# ============================================================================

WA_AI_PRODUCTION_build_anti_air = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
}

WA_AI_PRODUCTION_build_heavy_anti_air = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
	WA_AI_TEMPLATES_has_heavy_aa_unlocked = yes
}

# ============================================================================
# TRUCK / MOTORIZED TRIGGERS
# ============================================================================

WA_AI_PRODUCTION_build_trucks = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
}

WA_AI_PRODUCTION_build_trucks_stockpile_low = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
	has_equipment = { motorized_equipment < 25000 }
}

WA_AI_PRODUCTION_build_trucks_stockpile_very_low = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
	has_equipment = { motorized_equipment < 10000 }
}

# ============================================================================
# TRAIN TRIGGERS
# ============================================================================

WA_AI_PRODUCTION_build_trains = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
}

WA_AI_PRODUCTION_build_trains_reduce_factor = {
	WA_AI_PRODUCTION_ground_is_enabled = yes
	# Reduce train production factor for countries that don't need many trains
}

