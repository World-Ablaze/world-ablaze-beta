STRATEGIC_REGION_eastern_front = {

	GER_case_white = {

		icon = generic_operation

		allowed = {
            always = yes
		}

		available = {
            original_tag = GER
            has_government = fascism
			GER = { has_completed_focus = GER_endsieg }
			has_war = no
        }

        visible = {
        	original_tag = GER
            has_government = fascism
			country_exists = SOV
			has_global_flag = GER_SOV_ceasefire
        }

		cost = 1000
		days_remove = 90
		fire_only_once = yes

		targeted_modifier = {
			tag = SOV
			attack_bonus_against = 0.1
		}

		modifier = {
            supply_consumption_factor = -0.4
			army_morale_factor = 0.1
            political_power_factor = -0.25
        }

        ai_will_do = {
			factor = 0
		}

		remove_effect = {
		}

		complete_effect = {
			if = {
				limit = {
					NOT = { SOV = { is_in_faction_with = GER } }
				}
				declare_war_on = {
					target = SOV
					type = annex_everything
				}
			}
			if = {
				limit = {
					NOT = { SOV = { is_in_faction_with = RSO } }
					NOT = { RSO = { has_war_with = SOV } }
					is_in_faction_with = RSO
				}
				RSO = {
					add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = asked_to_join }
				}
			}
			if = {
				limit = {
					NOT = { SOV = { is_in_faction_with = RKA } }
					NOT = { RKA = { has_war_with = SOV } }
					is_in_faction_with = RKA
				}
				RKA = {
					add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = asked_to_join }
				}
			}
			if = {
				limit = {
					NOT = { SOV = { is_in_faction_with = RBL } }
					NOT = { RBL = { has_war_with = SOV } }
					is_in_faction_with = RBL
				}
				RBL = {
					add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = asked_to_join }
				}
			}
			if = {
				limit = {
					NOT = { SOV = { is_in_faction_with = RUK } }
					NOT = { RUK = { has_war_with = SOV } }
					is_in_faction_with = RUK
				}
				RUK = {
					add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = asked_to_join }
				}
			}
        }
	}

	SOV_infiltrate_arkhangelsk = {
		icon = border_war
		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = {
				has_war_with = GER
				is_in_faction_with = GER
			}
			controls_state = 397
			214 = {
				SOV_can_increase_infiltration_in_state = yes
			}
		}

		visible = {
			has_global_flag = GER_SOV_ceasefire
			has_country_flag = foundations_of_retribution_flag
			214 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
					}
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 397
				state = 214
			}
		}

		cost = 0
		custom_cost_text = custom_cost_25_cp
		custom_cost_trigger = {
			command_power > 24
		}

		cancel_if_not_visible = yes

		fire_only_once = no

		days_re_enable = 90
		ai_will_do = {
			factor = 200

			modifier = {
				factor = 0
				divisions_in_state = {
					type = infantry
					size < 6
					state = 214
				}
			}
		}

		complete_effect = {
			hidden_effect = {
				add_command_power = -25
			}
			if = {
				limit = {
					GER = {
						divisions_in_border_state = {
							size > 5
							state = 214
							border_state = 397
						}
					}
				}
				GER = { transfer_state = 214 }
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 397
						num_provinces = 4
						on_win = sov_armor.829
						on_lose = sov_armor.830
						on_cancel = sov_armor.831
					}

					defender = {
						state = 214
						num_provinces = 3
						on_win = sov_armor.830
						on_lose = sov_armor.829
						on_cancel = sov_armor.831
					}
				}
			}
			else = {
				SOV = {
					country_event = { id = sov_armor.832 }
				}
				GER = {
					country_event = { id = sov_armor.832 days = 1 random_days = 1 }
				}
			}
		}
	}

	SOV_infiltrate_kirov = {
		icon = border_war
		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = {
				has_war_with = GER
				is_in_faction_with = GER
			}
			controls_state = 1029
			400 = {
				SOV_can_increase_infiltration_in_state = yes
			}
		}

		visible = {
			has_global_flag = GER_SOV_ceasefire
			has_country_flag = foundations_of_retribution_flag
			400 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
					}
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 1029
				state = 400
			}
		}

		cost = 0
		custom_cost_text = custom_cost_25_cp
		custom_cost_trigger = {
			command_power > 24
		}

		cancel_if_not_visible = yes

		fire_only_once = no

		days_re_enable = 90
		ai_will_do = {
			factor = 200

			modifier = {
				factor = 0
				divisions_in_state = {
					type = infantry
					size < 6
					state = 400
				}
			}
		}

		complete_effect = {
			hidden_effect = {
				add_command_power = -25
			}
			if = {
				limit = {
					GER = {
						divisions_in_border_state = {
							size > 5
							state = 400
							border_state = 1029
						}
					}
				}
				GER = { transfer_state = 400 }
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 1029
						num_provinces = 2
						on_win = sov_armor.833
						on_lose = sov_armor.834
						on_cancel = sov_armor.835
					}

					defender = {
						state = 400
						num_provinces = 2
						on_win = sov_armor.834
						on_lose = sov_armor.833
						on_cancel = sov_armor.835
					}
				}
			}
			else = {
				SOV = {
					country_event = { id = sov_armor.836 }
				}
				GER = {
					country_event = { id = sov_armor.836 days = 1 random_days = 1 }
				}
			}
		}
	}

	SOV_infiltrate_udmurt = {
		icon = border_war
		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = {
				has_war_with = GER
				is_in_faction_with = GER
			}
			controls_state = 398
			399 = {
				SOV_can_increase_infiltration_in_state = yes
			}
		}

		visible = {
			has_global_flag = GER_SOV_ceasefire
			has_country_flag = foundations_of_retribution_flag
			399 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
					}
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 398
				state = 399
			}
		}

		cost = 0
		custom_cost_text = custom_cost_25_cp
		custom_cost_trigger = {
			command_power > 24
		}

		cancel_if_not_visible = yes

		fire_only_once = no

		days_re_enable = 90
		ai_will_do = {
			factor = 200

			modifier = {
				factor = 0
				divisions_in_state = {
					type = infantry
					size < 6
					state = 399
				}
			}
		}

		complete_effect = {
			hidden_effect = {
				add_command_power = -25
			}
			if = {
				limit = {
					GER = {
						divisions_in_border_state = {
							size > 5
							state = 399
							border_state = 398
						}
					}
				}
				GER = { transfer_state = 399 }
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 398
						num_provinces = 3
						on_win = sov_armor.837
						on_lose = sov_armor.838
						on_cancel = sov_armor.839
					}

					defender = {
						state = 399
						num_provinces = 2
						on_win = sov_armor.838
						on_lose = sov_armor.837
						on_cancel = sov_armor.839
					}
				}
			}
			else = {
				SOV = {
					country_event = { id = sov_armor.840 }
				}
				GER = {
					country_event = { id = sov_armor.840 days = 1 random_days = 1 }
				}
			}
		}
	}

	SOV_infiltrate_kazan = {
		icon = border_war
		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = {
				has_war_with = GER
				is_in_faction_with = GER
			}
			controls_state = 651
			249 = {
				SOV_can_increase_infiltration_in_state = yes
			}
		}

		visible = {
			has_global_flag = GER_SOV_ceasefire
			has_country_flag = foundations_of_retribution_flag
			249 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
					}
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 651
				state = 249
			}
		}

		cost = 0
		custom_cost_text = custom_cost_25_cp
		custom_cost_trigger = {
			command_power > 24
		}

		cancel_if_not_visible = yes

		fire_only_once = no

		days_re_enable = 90
		ai_will_do = {
			factor = 200

			modifier = {
				factor = 0
				divisions_in_state = {
					type = infantry
					size < 6
					state = 249
				}
			}
		}

		complete_effect = {
			hidden_effect = {
				add_command_power = -25
			}
			if = {
				limit = {
					GER = {
						divisions_in_border_state = {
							size > 5
							state = 249
							border_state = 651
						}
					}
				}
				GER = { transfer_state = 249 }
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 651
						num_provinces = 3
						on_win = sov_armor.841
						on_lose = sov_armor.842
						on_cancel = sov_armor.843
					}

					defender = {
						state = 249
						num_provinces = 3
						on_win = sov_armor.842
						on_lose = sov_armor.841
						on_cancel = sov_armor.843
					}
				}
			}
			else = {
				SOV = {
					country_event = { id = sov_armor.844 }
				}
				GER = {
					country_event = { id = sov_armor.844 days = 1 random_days = 1 }
				}
			}
		}
	}

	SOV_infiltrate_kuibyshev = {
		icon = border_war
		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = {
				has_war_with = GER
				is_in_faction_with = GER
			}
			controls_state = 652
			251 = {
				SOV_can_increase_infiltration_in_state = yes
			}
		}

		visible = {
			has_global_flag = GER_SOV_ceasefire
			has_country_flag = foundations_of_retribution_flag
			251 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
					}
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = 652
				state = 251
			}
		}

		cost = 0
		custom_cost_text = custom_cost_25_cp
		custom_cost_trigger = {
			command_power > 24
		}

		cancel_if_not_visible = yes

		fire_only_once = no

		days_re_enable = 90
		ai_will_do = {
			factor = 200

			modifier = {
				factor = 0
				divisions_in_state = {
					type = infantry
					size < 6
					state = 251
				}
			}
		}

		complete_effect = {
			hidden_effect = {
				add_command_power = -25
			}
			if = {
				limit = {
					GER = {
						divisions_in_border_state = {
							size > 5
							state = 251
							border_state = 652
						}
					}
				}
				GER = { transfer_state = 251 }
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = 652
						num_provinces = 1
						on_win = sov_armor.845
						on_lose = sov_armor.846
						on_cancel = sov_armor.847
					}

					defender = {
						state = 251
						num_provinces = 2
						on_win = sov_armor.846
						on_lose = sov_armor.845
						on_cancel = sov_armor.847
					}
				}
			}
			else = {
				SOV = {
					country_event = { id = sov_armor.848 }
				}
				GER = {
					country_event = { id = sov_armor.848 days = 1 random_days = 1 }
				}
			}
		}
	}

 	SOV_war_of_retribution = {
		icon = generic_ignite_civil_war

		visible = {
			has_global_flag = GER_SOV_ceasefire
			has_country_flag = foundations_of_retribution_flag
		}

		available = {
			has_global_flag = GER_SOV_ceasefire
			has_country_flag = foundations_of_retribution_flag
		}

		fire_only_once = yes

		days_remove = 60

		war_with_on_remove = GER

		cost = 500

		ai_will_do = {
			base = 0

			modifier = {
				#Block if still trying to kill JAP
				factor = 0
				has_war_with = JAP
			}

			#Block if we get fewer than 12 troops
			modifier = {
				factor = 0
				NOT = {
					count_triggers = {
						amount = 4
						214 = { SOV_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						400 = { SOV_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						399 = { SOV_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						249 = { SOV_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						251 = { SOV_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					}
				}
			}

			#The more troops, the bigger chance
			modifier = {
				add = 10
				214 = { SOV_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				400 = { SOV_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				399 = { SOV_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				249 = { SOV_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				251 = { SOV_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}

			#Sabotage is also nice
			modifier = {
				add = 3
				214 = { SOV_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				400 = { SOV_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				399 = { SOV_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				249 = { SOV_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				251 = { SOV_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
		}

		complete_effect = {
		}

		remove_effect = {
			if = {
				limit = {
					country_exists = RSO
				}
				declare_war_on = {
					target = RSO
					type = annex_everything
				}
			}
			if = {
				limit = {
					country_exists = GER
				}
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
			add_stability = 0.3
			214 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
							}
						}
						SOV_is_infiltrated_by_PREV = yes
					}
					SOV_execute_infiltration_effects_for_PREV = yes
				}
			}
			400 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
							}
						}
						SOV_is_infiltrated_by_PREV = yes
					}
					SOV_execute_infiltration_effects_for_PREV = yes
				}
			}
			399 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
							}
						}
						SOV_is_infiltrated_by_PREV = yes
					}
					SOV_execute_infiltration_effects_for_PREV = yes
				}
			}
			249 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
							}
						}
						SOV_is_infiltrated_by_PREV = yes
					}
					SOV_execute_infiltration_effects_for_PREV = yes
				}
			}
			251 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
							}
						}
						SOV_is_infiltrated_by_PREV = yes
					}
					SOV_execute_infiltration_effects_for_PREV = yes
				}
			}
		}
	}
}