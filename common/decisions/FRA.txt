FRA_imperial_actions = {
	FRA_reassure_hotchkiss_and_renault = {
		allowed = {
			tag = FRA
		}
		available = {

		}
		cost = 75
		visible = {
			or = {
				has_active_mission = FRA_fulfill_the_hotchkiss_contract
				has_active_mission = FRA_fulfill_the_renault_contract
			}
		}

		complete_effect = {
			add_days_mission_timeout = {
				mission = FRA_fulfill_the_hotchkiss_contract
				days = 700
			}
			add_days_mission_timeout = {
				mission = FRA_fulfill_the_renault_contract
				days = 700
			}
		}
		# ai_will_do = {
		# 	factor = 5
		# 	modifier = {
		# 		factor = 50

		# 		check_variable = {
		# 			var = trainingpips
		# 			value = 4
		# 			compare = greater_than
		# 		}
		# 	}
		# }
	}

	FRA_the_emperor_finishes_training = {
		allowed = {
			tag = FRA
		}
		available = {

		}
		cost = 0
		visible = {
			has_completed_focus = FRA_a_military_training_for_the_emperor
			NOT = { has_country_flag = emperor_trains }
			NOT = { has_country_flag = emperor_trains_finish }
		}

		complete_effect = {
			remove_ideas = FRA_emperor_military_training_idea
			hidden_effect = {
				add_to_variable = {
					var = trainingpips
					value = 100
				}
				set_country_flag = emperor_trains_finish
			}
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 50

				check_variable = {
					var = trainingpips
					value = 4
					compare = greater_than
				}
			}
		}
	}

	FRA_the_emperor_trains_attack = {
		allowed = {
			tag = FRA
		}
		available = {

		}
		visible = {
			has_completed_focus = FRA_a_military_training_for_the_emperor
		}
		cost = 0
		custom_cost_trigger = {
			command_power > 35
		}
		visible = {
			NOT = { has_country_flag = emperor_trains }
			NOT = { has_country_flag = attack2 }
			check_variable = {
				var = trainingpips
				value = 5
				compare = less_than
			}
		}
		custom_cost_text = custom_cost_35_cp

		days_remove = 45

		complete_effect = {
			hidden_effect = {
				add_command_power = -35
				set_country_flag = emperor_trains
			}
		}

		remove_effect = {
			every_unit_leader = {
				limit = {
					is_character = FRA_napoleon_vi
				}
				add_attack = 1
			}
			hidden_effect = {
				clr_country_flag = emperor_trains
				add_to_variable = {
					var = trainingpips
					value = 1
				}
				if = {
					limit = {
						has_country_flag = attack1
					}
					set_country_flag = attack2
				}
				else = {
					set_country_flag = attack1
				}
			}
		}
		ai_will_do = {
			factor = 25
		}
	}

	FRA_the_emperor_trains_defense = {
		allowed = {
			tag = FRA
		}
		available = {

		}
		visible = {
			has_completed_focus = FRA_a_military_training_for_the_emperor
		}
		cost = 0
		custom_cost_trigger = {
			command_power > 35
		}
		visible = {
			NOT = { has_country_flag = emperor_trains }
			NOT = { has_country_flag = defense2 }
			check_variable = {
				var = trainingpips
				value = 5
				compare = less_than
			}
		}
		custom_cost_text = custom_cost_35_cp

		days_remove = 45

		complete_effect = {
			hidden_effect = {
				add_command_power = -35
				set_country_flag = emperor_trains
			}
		}

		remove_effect = {
			every_unit_leader = {
				limit = {
					is_character = FRA_napoleon_vi
				}
				add_defense = 1
			}
			hidden_effect = {
				clr_country_flag = emperor_trains
				add_to_variable = {
					var = trainingpips
					value = 1
				}
				if = {
					limit = {
						has_country_flag = defense1
					}
					set_country_flag = defense2
				}
				else = {
					set_country_flag = defense1
				}
			}
		}
		ai_will_do = {
			factor = 25
		}
	}

	FRA_the_emperor_trains_logistics = {
		allowed = {
			tag = FRA
		}
		available = {

		}
		visible = {
			has_completed_focus = FRA_a_military_training_for_the_emperor
		}
		cost = 0
		custom_cost_trigger = {
			command_power > 35
		}
		visible = {
			NOT = { has_country_flag = emperor_trains }
			NOT = { has_country_flag = logistics2 }
			check_variable = {
				var = trainingpips
				value = 5
				compare = less_than
			}
		}
		custom_cost_text = custom_cost_35_cp

		days_remove = 45

		complete_effect = {
			hidden_effect = {
				add_command_power = -35
				set_country_flag = emperor_trains
			}
		}

		remove_effect = {
			every_unit_leader = {
				limit = {
					is_character = FRA_napoleon_vi
				}
				add_logistics = 1
			}
			hidden_effect = {
				clr_country_flag = emperor_trains
				add_to_variable = {
					var = trainingpips
					value = 1
				}
				if = {
					limit = {
						has_country_flag = logistics1
					}
					set_country_flag = logistics2
				}
				else = {
					set_country_flag = logistics1
				}
			}
		}
		ai_will_do = {
			factor = 25
		}
	}

	FRA_the_emperor_trains_planning = {
		allowed = {
			tag = FRA
		}
		available = {

		}
		visible = {
			has_completed_focus = FRA_a_military_training_for_the_emperor
		}
		cost = 0
		custom_cost_trigger = {
			command_power > 35
		}
		visible = {
			NOT = { has_country_flag = emperor_trains }
			NOT = { has_country_flag = planning2 }
			check_variable = {
				var = trainingpips
				value = 5
				compare = less_than
			}
		}
		custom_cost_text = custom_cost_35_cp

		days_remove = 45

		complete_effect = {
			hidden_effect = {
				add_command_power = -35
				set_country_flag = emperor_trains
			}
		}

		remove_effect = {
			every_unit_leader = {
				limit = {
					is_character = FRA_napoleon_vi
				}
				add_planning = 1
			}
			hidden_effect = {
				clr_country_flag = emperor_trains
				add_to_variable = {
					var = trainingpips
					value = 1
				}
				if = {
					limit = {
						has_country_flag = planning1
					}
					set_country_flag = planning2
				}
				else = {
					set_country_flag = planning1
				}
			}
		}
		ai_will_do = {
			factor = 25
		}
	}

	FRA_garde_imperiale_recruitment = {
		allowed = {
			tag = FRA
		}

		available = {
		}
		visible = {
			855 = {
				CONTROLLER = {
					OR = {
						is_in_faction_with = FRA
						original_tag = FRA
					}
				}
			}
			has_army_experience > 99
			has_completed_focus = FRA_revive_the_garde_imperiale
		}
		cost = 25
		ai_will_do = {
			factor = 25
		}
		days_re_enable = 30
		complete_effect = {
			army_experience = -100
			if = {
				limit = {
					has_template = "Garde Impériale"
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Garde Impériale\" start_experience_factor = 1"
						owner = ROOT
					}
				}
			}
			else = {
				division_template = {
					name = "Garde Impériale"
					division_names_group = FRA_GARDE_01
					priority = 2
					is_locked = yes

					regiments = {
						heavy_infantry = { x = 0 y = 0 }
						heavy_infantry = { x = 0 y = 1 }
						heavy_infantry = { x = 0 y = 2 }
						heavy_infantry = { x = 0 y = 3 }

						heavy_infantry = { x = 1 y = 0 }
						heavy_infantry = { x = 1 y = 1 }
						heavy_infantry = { x = 1 y = 2 }

						heavy_infantry = { x = 2 y = 0 }
						heavy_infantry = { x = 2 y = 1 }
						heavy_infantry = { x = 2 y = 2 }

						artillery_brigade = { x = 3 y = 0 }
						artillery_brigade = { x = 3 y = 1 }
						artillery_brigade = { x = 3 y = 2 }
						anti_tank_brigade =  { x = 3 y = 3 }
					}

					support = {
						engineer = { x = 0 y = 0 }
						heavy_artillery = { x = 0 y = 1 }
						motorized_logistics_company = { x = 0 y = 2 }
						field_hospital = { x = 0 y = 3 }
						signal_company = { x = 0 y = 4 }

						mobile_recon = { x = 1 y = 0 }
						heavy_artillery = { x = 1 y = 1 }
						garde_imperiale_officers = { x = 1 y = 2 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Garde Impériale\" start_experience_factor = 1"
						owner = ROOT
					}
				}
			}
		}
	}
}

FRA_spanish_intervention_category = {
	FRA_invite_FROM_to_non_intervention = {
		available = {
			has_country_flag = FRA_non_intervention
		}
		target_array = global.majors

		target_trigger = {
			FROM = {
				exists = yes
				NOT = {
					has_country_flag = FRA_non_intervention_agreed
					has_country_flag = FRA_non_intervention_refused
				}
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		visible = {
			has_country_flag = FRA_non_intervention
		}
		target_root_trigger = {
			has_country_flag = FRA_non_intervention
		}
		cost = 25
		fire_only_once = yes
		ai_will_do = {
			factor = 1
			modifier = {
				not = { has_government = democratic }
				factor = 0
			}
			modifier = {
				has_stability < 0.3
				factor = 5
			}
		}
		complete_effect = {
			FROM = {
				country_event = lar_non_intervention.1
			}
		}
	}

	FRA_allow_non_military_aid = {
		available = {  }

		visible = { has_war = no not = { has_country_flag = FRA_non_military_aid_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_non_military_aid_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_non_military_aid_allowed
			clr_country_flag = FRA_non_intervention
			unlock_decision_tooltip = { decision = FRA_send_non_military_aid_to_FROM show_effect_tooltip = yes }
			unlock_decision_tooltip = FRA_ban_non_military_aid
		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.3
				factor = 0
			}
		}
		days_remove = -1
		modifier = {
			stability_factor = -0.05
		}
	}

	FRA_ban_non_military_aid = {
		available = {  }

		visible = { has_country_flag = FRA_non_military_aid_allowed }

		complete_effect = {
			clr_country_flag = FRA_non_military_aid_allowed
			set_country_flag = FRA_non_intervention
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.3
				add = 5
			}
		}
	}

	FRA_send_non_military_aid_to_FROM = {
		available = {
			has_equipment = {
				support_equipment > 99
			}
		}

		visible = { has_war = no has_country_flag = FRA_non_military_aid_allowed }
		target_root_trigger = { has_country_flag = FRA_non_military_aid_allowed }

		targets = { SPA SPR SPB SPC SPD }

		target_trigger = {
			FROM = {
				exists = yes
				has_war = yes
				NOT = { has_war_with = ROOT }
			}
		}
		days_re_enable = 30
		complete_effect = {
			send_equipment = {
				type = support_equipment
				amount = 100
				target = FROM
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				FROM = { has_government = ROOT }
				factor = 5
			}
		}
		cost = 0
	}
	FRA_allow_arms_purchases = {
		available = {  }

		visible = { has_war = no not = { has_country_flag = FRA_arms_purchases_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_arms_purchases_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_arms_purchases_allowed
			clr_country_flag = FRA_non_intervention
			custom_effect_tooltip = FRA_allow_arms_purchases_tt
			unlock_decision_tooltip = FRA_ban_arms_purchases
		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.4
				factor = 0
			}
		}
		days_remove = -1
		modifier = {
			stability_factor = -0.1
			war_support_factor = 0.05
		}

	}

	FRA_ban_arms_purchases = {
		available = {  }

		visible = { has_country_flag = FRA_arms_purchases_allowed }

		complete_effect = {
			clr_country_flag = FRA_arms_purchases_allowed
			set_country_flag = FRA_non_intervention
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.4
				add = 5
			}
		}
	}

	FRA_allow_sending_weapons = {
		available = {  }

		visible = { has_war = no not = { has_country_flag = FRA_sending_weapons_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_sending_weapons_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_sending_weapons_allowed
			clr_country_flag = FRA_non_intervention
			unlock_decision_tooltip = FRA_ban_sending_weapons
		}

		cost = 25
		days_remove = -1
		modifier = {
			stability_factor = -0.15
			war_support_factor = 0.075
			lend_lease_tension = -1
			request_lease_tension = -1
		}
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.45
				factor = 0
			}
		}
	}

	FRA_ban_sending_weapons = {
		available = {  }

		visible = { has_country_flag = FRA_sending_weapons_allowed }

		complete_effect = {
			clr_country_flag = FRA_sending_weapons_allowed
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.45
				add = 5
			}
		}
	}
	FRA_allow_volunteer_work = {
		available = {  }

		visible = { has_war = no not = { has_country_flag = FRA_volunteer_work_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_volunteer_work_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_volunteer_work_allowed
			clr_country_flag = FRA_non_intervention
			unlock_decision_tooltip = FRA_ban_volunteer_work
			every_country = {
				limit = {
					OR = {
						tag = SPA
						tag = SPD
						tag = SPB
						tag = SPC
					}
					exists = yes
					NOT = { has_country_flag = FRA_has_received_volunteers }
				}
				country_event = lar_france_volunteers.1
			}
			custom_effect_tooltip = FRA_allow_volunteer_work_tt
		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.5
				factor = 0
			}
		}
		days_remove = -1
		modifier = {
			stability_factor = -0.2
			war_support_factor = 0.1
		}
	}

	FRA_ban_volunteer_work = {
		available = {  }

		visible = { has_country_flag = FRA_volunteer_work_allowed }

		complete_effect = {
			clr_country_flag = FRA_volunteer_work_allowed
		}
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.5
				add = 5
			}
		}
		cost = 0
	}
	FRA_allow_covert_intervention = {
		available = {  }

		visible = { has_war = no not = { has_country_flag = FRA_covert_intervention_allowed } }

		cancel_trigger = {
			OR = {
				has_global_flag = scw_over
				not = { has_country_flag = FRA_covert_intervention_allowed }
			}
		}

		complete_effect = {
			set_country_flag = FRA_covert_intervention_allowed
			clr_country_flag = FRA_non_intervention
			set_rule = { can_send_volunteers = yes }
		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_stability < 0.55
				factor = 0
			}
			modifier = {
				has_stability < 0.8
				factor = 0.5
			}
		}
		days_remove = -1
		modifier = {
			stability_factor = -0.25
			war_support_factor = 0.125
			send_volunteers_tension = -0.9
		}
	}

	FRA_ban_covert_intervention = {
		available = {
			NOT = {
				any_other_country = {
					has_volunteers_amount_from = {
						tag = ROOT
						count > 0
					}
				}
			}
		}

		visible = { has_country_flag = FRA_covert_intervention_allowed }

		complete_effect = {
			clr_country_flag = FRA_covert_intervention_allowed
			#recall_volunteers_from = SPR
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				has_stability < 0.55
				add = 5
			}
		}
	}

	FRA_intervene_on_side_of_FROM = {
		available = {
			has_war_support > 0.25
			threat > 0.5
		}

		visible = { has_war = no }

		targets = { SPD SPA SPB SPR }

		target_trigger = {
			FROM = {
				original_tag = SPR
				has_government = ROOT
			}
		}

		complete_effect = {
			#This is not optimal, but it generates a beautiful tooltip
			add_stability = -0.3
			if = {
				limit = { FROM = { tag = SPD } }
				set_country_flag = supports_SPD_flag
				if = {
					limit = { country_exists = SPA }
					add_to_war = { targeted_alliance = SPD enemy = SPA hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPC }
					add_to_war = { targeted_alliance = SPD enemy = SPC hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPB }
					add_to_war = { targeted_alliance = SPD enemy = SPB hostility_reason = asked_to_join }
				}
			}
			else_if = {
				limit = { FROM = { tag = SPA } }
				set_country_flag = supports_SPA_flag
				if = {
					limit = { country_exists = SPD }
					add_to_war = { targeted_alliance = SPA enemy = SPD hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPC }
					add_to_war = { targeted_alliance = SPA enemy = SPC hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPB }
					add_to_war = { targeted_alliance = SPA enemy = SPB hostility_reason = asked_to_join }
				}
			}
			else_if = {
				limit = { FROM = { tag = SPB } }
				set_country_flag = supports_SPB_flag
				if = {
					limit = { country_exists = SPD }
					add_to_war = { targeted_alliance = SPB enemy = SPD hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPC }
					add_to_war = { targeted_alliance = SPB enemy = SPC hostility_reason = asked_to_join }
				}
				if = {
					limit = { country_exists = SPA }
					add_to_war = { targeted_alliance = SPB enemy = SPA hostility_reason = asked_to_join }
				}
			}

			effect_tooltip = {
				give_military_access = FROM
				FROM = { give_military_access = ROOT }
			}
			hidden_effect = {
				diplomatic_relation = {
					country = FROM
					relation = military_access
					active = yes
				}
				FROM = {
					diplomatic_relation = {
						country = ROOT
						relation = military_access
						active = yes
					}
				}
			}
			if = {
				limit = {
					is_faction_leader = yes
				}
				add_to_faction = FROM
			}
			clr_country_flag = FRA_non_intervention
			if = {
				limit = {
					has_country_flag = FRA_covert_intervention_allowed
				}
				clr_country_flag = FRA_covert_intervention_allowed
			}
			if = {
				limit = {
					has_country_flag = FRA_volunteer_work_allowed
				}
				clr_country_flag = FRA_volunteer_work_allowed
			}
			if = {
				limit = {
					has_country_flag = FRA_sending_weapons_allowed
				}
				clr_country_flag = FRA_sending_weapons_allowed
			}
			if = {
				limit = { has_country_flag = FRA_non_military_aid_allowed }
				clr_country_flag = FRA_non_military_aid_allowed
			}
			if = {
				limit = { has_country_flag = FRA_arms_purchases_allowed }
				clr_country_flag = FRA_arms_purchases_allowed
			}

		}

		cost = 25
		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 0
			}
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}

	}
}
economy_decisions = {

	FRA_reorganize_aviation_industry_north = {
		allowed = {
			tag = FRA
		}
		available = {  }

		visible = { has_completed_focus = FRA_reorganize_the_aviation_industry }

		remove_effect = {
			set_country_flag = FRA_SNCAN_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 29
						state = 785
						state = 15
						state = 16
					}
					is_fully_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				hidden_effect = {
					if = {
						limit = { has_variable = military_goal }
						add_to_variable = { military_goal = 2 }
					}
				}
			}
		}
		days_remove = 120
		cost = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 5
		}

	}
	FRA_reorganize_aviation_industry_west = {
		allowed = {
			tag = FRA
		}
		available = {  }

		visible = { has_completed_focus = FRA_reorganize_the_aviation_industry }

		remove_effect = {
			set_country_flag = FRA_SNCAO_formed
			random_owned_state = {
				prioritize = { 30 }
				limit = {
					OR = {
						state = 30
						state = 14
						state = 23
					}
					is_fully_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				hidden_effect = {
					if = {
						limit = { has_variable = military_goal }
						add_to_variable = { military_goal = 2 }
					}
				}
			}
		}
		days_remove = 120
		cost = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 5
		}
	}
	FRA_reorganize_aviation_industry_center = {
		allowed = {
			tag = FRA
		}
		available = {  }

		visible = { has_completed_focus = FRA_reorganize_the_aviation_industry }

		remove_effect = {
			set_country_flag = FRA_SNCAC_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 24
						state = 33
						state = 27
						state = 26
						state = 25
					}
					is_fully_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				hidden_effect = {
					if = {
						limit = { has_variable = military_goal }
						add_to_variable = { military_goal = 2 }
					}
				}
			}
		}
		days_remove = 120
		cost = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 5
		}
	}
	FRA_reorganize_aviation_industry_south_east = {
		allowed = {
			tag = FRA
		}
		available = {  }

		visible = { has_completed_focus = FRA_reorganize_the_aviation_industry }

		remove_effect = {
			set_country_flag = FRA_SNCASE_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 735
						state = 32
						state = 20
						state = 21
					}
					is_fully_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				hidden_effect = {
					if = {
						limit = { has_variable = military_goal }
						add_to_variable = { military_goal = 2 }
					}
				}
			}
		}
		days_remove = 120
		cost = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 5
		}
	}
	FRA_reorganize_aviation_industry_south_west = {
		allowed = {
			tag = FRA
		}
		available = {  }

		visible = { has_completed_focus = FRA_reorganize_the_aviation_industry }

		remove_effect = {
			set_country_flag = FRA_SNCASO_formed
			random_owned_state = {
				limit = {
					OR = {
						state = 22
						state = 31
						state = 19
						state = 25
					}
					is_fully_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				hidden_effect = {
					if = {
						limit = { has_variable = military_goal }
						add_to_variable = { military_goal = 2 }
					}
				}
			}
		}
		days_remove = 120
		cost = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 5
		}
	}
}
political_actions = {
	FRA_unify_the_war_spirit = {
		icon = generic_nationalism

		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_war_since_start_tt
				has_country_flag = {
					flag = FRA_war_since_start
					days > 359
				}
			}
			has_war_support > 0.8
			NOT = { has_global_flag = fall_of_france }
		}

		visible = {
			has_country_flag = FRA_war_since_start
			NOT = { has_global_flag = fall_of_france }
		}

		ai_will_do = {
			factor = 100
		}

		cost = 0
		fire_only_once = yes

		complete_effect = {
			custom_effect_tooltip = FRA_unify_the_war_spirit_tt
			hidden_effect = {
				add_to_variable = { var = FRA_Army_national_unity value = 1 }
				add_to_variable = { var = FRA_Airforce_national_unity value = 1 }
				add_to_variable = { var = FRA_Navy_national_unity value = 1 }
				set_country_flag = FRA_unify_the_war_spirit_flag
			}
			if = {
				limit = {
					has_country_flag = FRA_invasion_flag
				}
				add_war_support = 0.1
				add_stability = 0.3
			}
		}
	}
	FRA_professional_army_decision = {

		allowed = {
			original_tag = FRA
		}

		available = {
			original_tag = FRA
			has_war = no
			NOT = {
				has_idea = FRA_structured_doctrines
			}
		}

		visible = {
			original_tag = FRA
			has_war = no
			check_variable = { var = FRA_far_right_attitude value = 0 compare = greater_than_or_equals }
		}

		cost = 150
		fire_only_once = yes

		ai_will_do = {
			factor = 150
		}

		complete_effect = {
			add_ideas = FRA_professional_army
		}
	}

	FRA_rally_the_leagues = {
		allowed = {
			tag = FRA
		}
		available = { }

		visible = {
			has_completed_focus = FRA_utilize_the_leagues
			NOT = { has_government = fascism }
		}

		days_re_enable = 60

		complete_effect = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_stability = -0.03
		}
		ai_will_do = {
			factor = 5
			modifier = {
				has_stability < 0.3
				factor = 0
			}
		}
	}
	FRA_take_over_oversea_territories = {

		allowed = {
			tag = FRA
		}

        cost = 0
        fire_only_once = yes

        available = {
        }

        visible = {
			is_ai = no
        }

        complete_effect = {
			annex_country = { target = FRO }
			add_equipment_to_stockpile = { type = fra_inf_1 amount = 1500 producer = FRA } #recalculated
			set_country_flag = FRA_annexed_overseas
		}
		ai_will_do = {
			factor = 0
		}
	}

	FRA_smuggle_revolutionaries = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = FRA
		}

		available = {
			has_completed_focus = FRA_greek_interventionism
		}
		targets = {
			GRE
		}
		target_trigger = {
			FROM = {
				check_variable = {
					communist_support < 100
				}
				NOT = {
					has_country_flag = revolutionaries
					has_country_flag = civil_war_incited
				}
			}
		}

		cancel_trigger = {
		}

		visible = {
			has_completed_focus = FRA_greek_interventionism
		}

		fire_only_once = yes
		days_remove = 60

		complete_effect = {
		}

		modifier = {
			civilian_factory_use = 20
		}

		remove_effect = {
			FROM = {
				add_ideas = communist_revolutionaries
				add_to_variable = {
					var = communist_support
					value = 15
				}
				clamp_variable = {
					var = communist_support
					min = 0
					max = 100
				}
				set_country_flag = revolutionaries
			}
			custom_effect_tooltip = add_15_communist_tt
		}

		ai_will_do = {
			factor = 10
		}

	}

	FRA_arm_communist_militants = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = FRA
		}

		available = {
			has_completed_focus = FRA_greek_interventionism
		}
		targets = {
			GRE
		}
		target_trigger = {
			FROM = {
				check_variable = {
					communist_support < 100
				}
				has_country_flag = revolutionaries
			}
		}

		cancel_trigger = {
		}

		visible = {
			has_completed_focus = FRA_greek_interventionism
		}

		fire_only_once = no
		days_remove = 30

		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 999 }
		}
		custom_cost_text = decision_cost_ie_1000

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}

		remove_effect = {
			FROM = {
				add_to_variable = {
					var = communist_support
					value = 5
				}
				clamp_variable = {
					var = communist_support
					min = 0
					max = 100
				}
			}
			custom_effect_tooltip = add_5_communist_tt
		}

		ai_will_do = {
			factor = 10
		}

	}

	FRA_incite_the_public = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = FRA
		}

		available = {
			has_completed_focus = FRA_greek_interventionism
		}
		targets = {
			GRE
		}
		target_trigger = {
			FROM = {
				check_variable = {
					communist_support < 100
				}
				has_country_flag = revolutionaries
			}
		}

		cost = 50

		cancel_trigger = {
		}

		visible = {
			has_completed_focus = FRA_greek_interventionism
		}

		fire_only_once = no
		days_remove = 30

		complete_effect = {
		}

		modifier = {
			political_power_cost = 0.25
		}

		remove_effect = {
			FROM = {
				add_to_variable = {
					var = communist_support
					value = 7
				}
				clamp_variable = {
					var = communist_support
					min = 0
					max = 100
				}
			}
			custom_effect_tooltip = add_7_communist_tt
		}

		ai_will_do = {
			factor = 10
		}

	}

	FRA_secure_crete = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = FRA
		}

		available = {
			has_completed_focus = FRA_greek_interventionism
		}
		targets = {
			GRE
		}
		target_trigger = {
			FROM = {
				has_country_flag = revolutionaries
			}
		}

		cancel_trigger = {
		}

		visible = {
			has_completed_focus = FRA_greek_interventionism
		}

		fire_only_once = yes
		days_remove = 60

		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 1999 }
		}
		custom_cost_text = decision_cost_ie_2000

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2000
			}
		}

		modifier = {
			civilian_factory_use = 10
		}

		remove_effect = {
			FROM = {
				set_country_flag = secured_crete
				add_to_variable = {
					var = communist_support
					value = 15
				}
				clamp_variable = {
					var = communist_support
					min = 0
					max = 100
				}
			}
			custom_effect_tooltip = add_15_communist_tt
		}

		ai_will_do = {
			factor = 10
		}

	}

	FRA_incite_riots = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = FRA
		}

		available = {
			has_completed_focus = FRA_greek_interventionism
		}
		targets = {
			GRE
		}
		target_trigger = {
			FROM = {
				check_variable = {
					communist_support < 100
				}
				has_country_flag = revolutionaries
			}
		}

		cancel_trigger = {
		}

		visible = {
			has_completed_focus = FRA_greek_interventionism
		}

		fire_only_once = no
		days_remove = 30

		cost = 25

		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 999 }
		}
		custom_cost_text = decision_cost_ie_1000

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}

		remove_effect = {
			FROM = {
				add_to_variable = {
					var = communist_support
					value = 7
				}
				clamp_variable = {
					var = communist_support
					min = 0
					max = 100
				}
			}
			custom_effect_tooltip = add_7_communist_tt
		}

		ai_will_do = {
			factor = 10
		}

	}

	FRA_spark_of_revolution = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = FRA
		}

		available = {
			has_completed_focus = FRA_greek_interventionism
			FROM = {
				check_variable = {
					communist_support > 40
				}
			}
		}
		targets = {
			GRE
		}
		target_trigger = {
		}

		cancel_trigger = {
		}

		visible = {
			has_completed_focus = FRA_greek_interventionism
		}

		fire_only_once = yes
		days_remove = 7

		complete_effect = {
		}

		remove_effect = {
			FROM = {
				FRA_Greek_civil_war_effect = yes
			}
		}

		ai_will_do = {
			factor = 10
		}

	}
}

FRA_decolonization = {
	FRA_independence_for_syria_mission = {

		available = {
			country_exists = LEB
			country_exists = SYR
		}

		activation = {
			has_country_flag = FRA_syria_promised_independence
			has_war = no
			NOT = {
				country_exists = SYR
				country_exists = LEB
			}
			680 = { is_controlled_by = ROOT }
			677 = { is_controlled_by = ROOT }
			554 = { is_controlled_by = ROOT }
			553 = { is_controlled_by = ROOT }
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = LEB
						is_core_of = SYR
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_indochina_mission = {
		available = {
			country_exists = LAO
			country_exists = CAM
			country_exists = VIN
		}

		activation = {
			has_country_flag = FRA_indochina_promised_independence
			has_war = no
			NOT = {
				country_exists = CAM
				country_exists = LAO
				country_exists = VIN
			}
			671 = { is_controlled_by = ROOT }
			670 = { is_controlled_by = ROOT }
			286 = { is_controlled_by = ROOT }
			976 = { is_controlled_by = ROOT }
			1031 = { is_controlled_by = ROOT }
			741 = { is_controlled_by = ROOT }
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = LAO
						is_core_of = CAM
						is_core_of = VIN
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_madagascar_mission = {
		available = {
			country_exists = MAD
		}

		activation = {
			has_country_flag = FRA_madagascar_promised_independence
			has_war = no
			NOT = {
				country_exists = MAD
			}
			543 = { is_controlled_by = ROOT }
		}

		days_mission_timeout = 180

		timeout_effect = {
			543 = {
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_north_africa_mission = {
		available = {
			country_exists = ALG
			country_exists = MOR
			country_exists = TUN
		}

		activation = {
			has_country_flag = FRA_north_africa_promised_independence
			has_war = no
			NOT = {
				country_exists = MOR
				country_exists = ALG
				country_exists = TUN
			}
			461 = { is_controlled_by = ROOT }
			462 = { is_controlled_by = ROOT }
			459 = { is_controlled_by = ROOT }
			513 = { is_controlled_by = ROOT }
			460 = { is_controlled_by = ROOT }
			458 = { is_controlled_by = ROOT }
			665 = { is_controlled_by = ROOT }
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = ALG
						is_core_of = MOR
						is_core_of = TUN
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_west_africa_mission = {
		available = {
			country_exists = NGR
			country_exists = DAH
			country_exists = TOG
			country_exists = VOL
			country_exists = IVO
			country_exists = MLI
			country_exists = GNA
			country_exists = SEN
			country_exists = MRT

		}

		activation = {
			has_country_flag = FRA_west_africa_promised_independence
			has_war = no
			NOT = {
				country_exists = NGR
				country_exists = DAH
				country_exists = TOG
				country_exists = VOL
				country_exists = IVO
				country_exists = MLI
				country_exists = GNA
				country_exists = SEN
				country_exists = MRT
			}
			FRA_controls_west_africa = yes
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = NGR
						is_core_of = DAH
						is_core_of = TOG
						is_core_of = VOL
						is_core_of = IVO
						is_core_of = MLI
						is_core_of = GNA
						is_core_of = SEN
						is_core_of = MRT
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
	FRA_independence_for_central_africa_mission = {
		available = {
			country_exists = RCG
			country_exists = GAB
			country_exists = CAR
			country_exists = CMR
			country_exists = CHA

		}

		activation = {
			has_country_flag = FRA_central_africa_promised_independence
			has_war = no
			NOT = {
				country_exists = RCG
				country_exists = GAB
				country_exists = CAR
				country_exists = CMR
				country_exists = CHA
			}
			FRA_controls_central_africa = yes
		}

		days_mission_timeout = 180

		timeout_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = RCG
						is_core_of = GAB
						is_core_of = CAR
						is_core_of = CMR
						is_core_of = CHA
					}
				}
				add_resistance_target = {
					amount = 10
					tooltip = FRA_promised_independence_tt
				}
			}
		}
	}
}

war_measures = {
	FRA_relocate_capital_from_paris = {
		icon = generic_operation
		allowed = {
			tag = FRA
		}
		available = {
			has_war = yes
			has_civil_war = no
			NOT = { has_full_control_of_state = 855 }
			has_full_control_of_state = 33
			has_capitulated = no
		}
		visible = {
			has_war = yes
			has_capitulated = no
		}

		days_remove = 7
		is_good = yes
		cost = 0

		cancel_if_not_visible = yes

		ai_will_do = {
			factor = 150

			modifier = {
				factor = 0
				date > 1943.1.1
			}
		}

		remove_effect = {
			set_capital = { state = 33 }
		}
	}
	FRA_relocate_capital_from_chateauroux = {
		icon = generic_operation
		allowed = {
			tag = FRA
		}
		available = {
			has_war = yes
			has_civil_war = no
			NOT = { has_full_control_of_state = 24 }
			has_full_control_of_state = 19
			has_capitulated = no
		}
		visible = {
			has_war = yes
			has_capitulated = no
			NOT = { has_full_control_of_state = 855 }
		}

		days_remove = 7
		is_good = yes
		cost = 0

		cancel_if_not_visible = yes

		ai_will_do = {
			factor = 150

			modifier = {
				factor = 0
				date > 1943.1.1
			}
		}

		remove_effect = {
			set_capital = { state = 19 }
		}
	}
	FRA_relocate_capital_to_central_africa = {
		icon = generic_operation
		allowed = {
			tag = FRA
		}
		available = {
			539 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			has_war = yes
			has_focus_tree = free_french_focus
		}

		days_remove = 14
		is_good = yes
		cost = 0

		cancel_if_not_visible = yes

		ai_will_do = {
			factor = 150

			modifier = {
				factor = 0
				date > 1943.1.1
			}
		}

		remove_effect = {
			set_capital = { state = 539 }
		}
	}
	FRA_relocate_capital_to_Algeria = {
		icon = generic_operation
		allowed = {
			tag = FRA
		}
		available = {
			459 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			has_war = yes
			has_focus_tree = free_french_focus
		}

		days_remove = 14
		is_good = yes
		cost = 0

		cancel_if_not_visible = yes

		ai_will_do = {
			factor = 150

		}

		remove_effect = {
			set_capital = { state = 459 }
		}
	}

#	FRA_partial_reactiviation_of_ww1_equipment = {
#
#		icon = generic_prepare_civil_war
#
#		allowed = {
#			tag = FRA
#		}
#
#		available = {
#			tag = FRA
#			OR = {
#				has_war = yes
#				threat > 0.2
#			}
#		}
#
#		visible = {
#			OR = {
#				has_war = yes
#				threat > 0.1
#			}
#		}
#
#		cost = 0
#		fire_only_once = yes
#
#		ai_will_do = {
#			factor = 500
#		}
#
#		days_remove = 10
#		is_good = yes
#
#		modifier = {
#		}
#
#		complete_effect = {
#			hidden_effect = {
#				set_country_flag = wwi_equipment_1
#			}
#		}
#
#		remove_effect = {
#			hidden_effect = {
#				set_country_flag = wwi_equipment_1
#			}
#			add_equipment_to_stockpile = { type = fra_inf_1 amount = 30000 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_hv_inf_1 amount = 5000 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_art_0 amount = 150 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_hv_art_0 amount = 50 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_interwar_equipment_1 amount = 500 producer = FRA }
#			add_equipment_to_stockpile = { type = support_equipment_1 amount = 1500 producer = FRA }
#		}
#	}

#	FRA_total_reactiviation_of_ww1_equipment = {
#
#		icon = generic_prepare_civil_war
#
#		allowed = {
#			tag = FRA
#		}
#
#		available = {
#			tag = FRA
#			OR = {
#				has_war = yes
#				threat > 0.5
#			}
#		}
#
#		visible = {
#			OR = {
#				has_war = yes
#				threat > 0.2
#			}
#			has_country_flag = wwi_equipment_1
#		}
#
#		cost = 0
#		fire_only_once = yes
#
#		ai_will_do = {
#			factor = 500
#		}
#
#		days_remove = 10
#		is_good = yes
#
#		modifier = {
#		}
#
#		complete_effect = {
#			hidden_effect = {
#				set_country_flag = wwi_equipment_2
#			}
#		}
#
#		remove_effect = {
#			hidden_effect = {
#				set_country_flag = wwi_equipment_2
#			}
#			add_equipment_to_stockpile = { type = fra_inf_1 amount = 30000 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_hv_inf_1 amount = 5000 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_art_0 amount = 150 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_hv_art_0 amount = 50 producer = FRA }
#			add_equipment_to_stockpile = { type = fra_interwar_equipment_1 amount = 500 producer = FRA }
#			add_equipment_to_stockpile = { type = support_equipment_1 amount = 1500 producer = FRA }
#		}
#	}
}

### #  # ###  #  #  ### ### ###  #   #    ###  #### #     ##   ##   ##  ### ###  ##  #  #
#  ## # #  # #  # #     #  #  #  # #     #  # #    #    #  # #  # #  #  #   #  #  # ## #
#  # ## #  # #  #   #   #  ###    #      ###  ##   #    #  # #    ####  #   #  #  # # ##
#  #  # #  # #  #    #  #  #  #   #      #  # #    #    #  # #  # #  #  #   #  #  # #  #
### #  # ###   ##  ###   #  #  #   #      #  # #### ####  ##   ##  #  #  #  ###  ##  #  #

#Category only allowed for FRA
FRA_industry_relocation = {

	FRA_relocate_industry_from_nord_pas_de_calais_area = {

		icon = generic_construction
		allowed = {
			tag = FRA
		}
		highlight_states = { highlight_state_targets = { state = 29 } }

		available = {
			controls_state = 29
			controls_state = 23
		}

		visible = {
			has_war = yes
			owns_state = 29
			owns_state = 23
		}

		fire_only_once = yes

		cost = 25
		days_remove = 30

		modifier = {

		}

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 29
					controls_state = 23
				}
				29 = { #Nord-Pas-de-Calais

					remove_building = {
						type = arms_factory
						level = 5
					}
					remove_building = {
						type = industrial_complex
						level = 9
					}
					remove_building = {
						type = steel_refinery
						level = 1
					}
				}
				23 = { #Poitou
					add_extra_state_shared_building_slots = 15
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 9
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 1
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = steel_refinery damage = 0.3 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	FRA_relocate_industry_from_picardie_area = {

		icon = generic_construction
		allowed = {
			tag = FRA
		}
		highlight_states = { highlight_state_targets = { state = 785 } }

		available = {
			controls_state = 785
			controls_state = 33
		}

		visible = {
			has_war = yes
			owns_state = 785
			owns_state = 33
		}

		fire_only_once = yes

		cost = 10
		days_remove = 30

		modifier = {

		}

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 785
					controls_state = 33
				}
				785 = { #Picardy

					remove_building = {
						type = industrial_complex
						level = 2
					}
					remove_building = {
						type = aluminium_refinery
						level = 2
					}
				}
				33 = { #Centre-Sud
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = aluminium_refinery
						level = 2
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = aluminium_refinery damage = 0.3 }
						damage_building = { type = aluminium_refinery damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	FRA_relocate_industry_from_champagne_area = {

		icon = generic_construction
		allowed = {
			tag = FRA
		}
		highlight_states = { highlight_state_targets = { state = 18 } }

		available = {
			controls_state = 18
			controls_state = 33
		}

		visible = {
			has_war = yes
			owns_state = 33
			owns_state = 18
		}

		fire_only_once = yes

		cost = 10
		days_remove = 30

		modifier = {

		}

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 18
					controls_state = 33
				}
				18 = { #Champagne

					remove_building = {
						type = industrial_complex
						level = 2
					}
					remove_building = {
						type = steel_refinery
						level = 2
					}
				}
				33 = { #Centre-Sud
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 2
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	FRA_relocate_industry_from_franche_comte_area = {

		icon = generic_construction
		allowed = {
			tag = FRA
		}
		highlight_states = { highlight_state_targets = { state = 17 } }

		available = {
			controls_state = 17
			controls_state = 25
		}

		visible = {
			has_war = yes
			owns_state = 17
			owns_state = 25
		}

		fire_only_once = yes

		cost = 25
		days_remove = 30

		modifier = {

		}

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 17
					controls_state = 25
				}
				17 = { #Franche-comte
					remove_building = {
						type = arms_factory
						level = 3
					}
					remove_building = {
						type = industrial_complex
						level = 4
					}
					remove_building = {
						type = steel_refinery
						level = 5
					}
				}
				25 = { #Limousin
					add_extra_state_shared_building_slots = 12
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 5
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = arms_factory damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}

	FRA_relocate_industry_from_alsace_lorraine_area = {

		icon = generic_construction
		allowed = {
			tag = FRA
		}
		highlight_states = { highlight_state_targets = { state = 28 } }

		available = {
			controls_state = 28
			controls_state = 19
		}

		visible = {
			has_war = yes
			owns_state = 28
			owns_state = 19
		}

		fire_only_once = yes

		cost = 25
		days_remove = 30

		modifier = {

		}

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			if = {
				limit = {
					controls_state = 17
					controls_state = 25
				}
				28 = { #Alsace-Lorraine
					remove_building = {
						type = industrial_complex
						level = 5
					}
					remove_building = {
						type = steel_refinery
						level = 5
					}
				}
				19 = { #Aquitaine
					add_extra_state_shared_building_slots = 10
					add_building_construction = {
						type = industrial_complex
						level = 5
						instant_build = yes
					}
					add_building_construction = {
						type = steel_refinery
						level = 5
						instant_build = yes
					}

					hidden_effect = {
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = steel_refinery damage = 0.3 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
						damage_building = { type = industrial_complex damage = 0.1 }
					}
				}
				custom_effect_tooltip = relocate_industry_repair
			}
		}
	}
}

operations = {
	FRA_operation_overlord = {

		icon = generic_operation

		allowed = {
			tag = FRA
		}

        available = {
			has_completed_focus = FRA_prepare_for_our_return
            OR = {
	            divisions_in_state = { state = 29 size > 2 }
				divisions_in_state = { state = 785 size > 2 }
				divisions_in_state = { state = 15 size > 2 }
				divisions_in_state = { state = 14 size > 2 }
				divisions_in_state = { state = 30 size > 2 }
				divisions_in_state = { state = 23 size > 2 }
				divisions_in_state = { state = 19 size > 2 }
				divisions_in_state = { state = 31 size > 2 }
				divisions_in_state = { state = 22 size > 2 }
				divisions_in_state = { state = 21 size > 2 }
				divisions_in_state = { state = 735 size > 2 }
			}
        }

        visible = {
			OR = {
				29 = { CONTROLLER = { has_war_with = ROOT } }
				785 = { CONTROLLER = { has_war_with = ROOT } }
				855 = { CONTROLLER = { has_war_with = ROOT } }
				16 = { CONTROLLER = { has_war_with = ROOT } }
				24 = { CONTROLLER = { has_war_with = ROOT } }
				1016 = { CONTROLLER = { has_war_with = ROOT } }
				15 = { CONTROLLER = { has_war_with = ROOT } }
				14 = { CONTROLLER = { has_war_with = ROOT } }
				30 = { CONTROLLER = { has_war_with = ROOT } }
				23 = { CONTROLLER = { has_war_with = ROOT } }
				19 = { CONTROLLER = { has_war_with = ROOT } }
			}
        }

		cost = 0
		fire_only_once = yes
		days_remove = 360

		ai_will_do = {
			factor = 150
		}

		targeted_modifier = {
			tag = GER
			attack_bonus_against = 0.1
		}

		modifier = {
			industry_repair_factor = 0.25
			industry_free_repair_factor = 0.25
		}
	}

	FRA_operation_husky = {

        allowed = { tag = FRA }

        available = {
			has_war_with = ITA
			OR = {
				custom_trigger_tooltip = {
					tooltip = libiyan_control_tt
					NOT = {
						any_state = {
							is_core_of = LBA
							NOT = {
								OR = {
									is_controlled_by = ROOT
									CONTROLLER = {
										is_in_faction_with = ROOT
									}
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = tunisian_control_tt
					NOT = {
						any_state = {
							is_core_of = TUN
							NOT = {
								OR = {
									is_controlled_by = ROOT
									CONTROLLER = {
										is_in_faction_with = ROOT
										has_full_control_of_state = prev
									}
								}
							}
						}
					}
				}
			}
        }

        visible = {
			has_war_with = ITA
			ENG = { has_completed_focus = ENG_continental_intervention }
        }

        cost = 0
        fire_only_once = yes
		days_remove = 180

        ai_will_do = {
			factor = 500
		}

		targeted_modifier = {
			tag = ITA
			attack_bonus_against = 0.1
		}
	}

	topple_the_vichy_regime = {

		icon = generic_operation

		allowed = {
			tag = FRA
		}

		available = {
			has_government = democratic
			country_exists = VIC
			date > 1942.1.1
		}

		visible = {
			country_exists = VIC
			VIC = {
				not = {
					or = {
						has_idea = VIC_depowered_government
						FRA = {
							has_completed_focus = FRA_refus_absurde
						}
					}
				}
			}
			any_state = {
				is_core_of = FRA
				not = {
					state = 1
				}
				is_on_continent = europe
				OR = {
					is_controlled_by = FRA
					controller = {
						is_in_faction_with = FRA
					}
				}

			}
		}

		cost = 0

		fire_only_once = yes

		ai_will_do = {
			base = 0
			modifier = {
				add = 10

				date > 1942.10.1
				is_in_faction = no
			}
			modifier = {
				add = 10
				date > 1942.10.1
				118 = {
					or = {
						is_controlled_by = FRA
						controller = {
							is_in_faction_with = FRA
						}
					}
				}
			}
		}

		complete_effect = {
			FRA = {
				declare_war_on = {
					target = VIC
					type = annex_everything
				}
			}
		}
	}

	FRA_activate_dyle_breda_mission = {

		icon = generic_operation

		allowed = {
			original_tag = FRA
		}

		available = {
			has_war_with = GER
			is_in_faction_with = BEL
			GER = { has_war_with = BEL }
			has_completed_focus = FRA_prepare_war_plans
		}

		visible = {
			has_war_with = GER
			NOT = { has_global_flag = fall_of_france }
			has_completed_focus = FRA_prepare_war_plans
		}

		cost = 0
		days_remove = 14
		fire_only_once = yes

		ai_will_do = {
			factor = 4000
		}

		complete_effect = {
			35 = {
				add_dynamic_modifier = {
					modifier = FRA_dyle_breda_plan
					days = 14
					scope = FRA
				}
			}
			979 = {
				add_dynamic_modifier = {
					modifier = FRA_dyle_breda_plan
					days = 14
					scope = FRA
				}
			}
			6 = {
				add_dynamic_modifier = {
					modifier = FRA_dyle_breda_plan
					days = 14
					scope = FRA
				}
			}
			34 = {
				add_dynamic_modifier = {
					modifier = FRA_dyle_breda_plan
					days = 14
					scope = FRA
				}
			}
		}

		remove_trigger = {
			BEL = { has_capitulated = yes }
		}

		modifier = {
		}
	}

	FRA_uprising = {

		allowed = {
			original_tag = FRA
		}

		available = {

		}

		visible = {
			has_completed_focus = FRA_national_uprising
		}


		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 4000
		}

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						state = 29
						state = 785
						state = 1016
						state = 15
						state = 30
						state = 14
						state = 23
						state = 19
					}
				}
				damage_building = {
					type = rail_way
					damage = 2
				}
				add_dynamic_modifier = {
					modifier = la_sabotage
					days = 60
					scope = GER
				}
			}
		}
	}
}

special_projects = {

	FRA_build_the_mareth_line = {

		icon = generic_construction
		allowed = {
			tag = FRA
		}
		visible = {
			OR = {
				controls_state = 665
				any_other_country = {
					is_puppet_of = ROOT
					controls_state = 665
				}
			}
		}

		available = {
			OR = {
				controls_state = 665
				any_other_country = {
					is_puppet_of = ROOT
					controls_state = 665
				}
			}
		}

		cost = 50
		fire_only_once = yes

		days_remove = 40

		highlight_states = {
			highlight_state_targets = {
				state = 665
			}
		}

		modifier = {
			civilian_factory_use = 5
		}

		remove_effect = {
			665 = {
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = {
						id = 7005
						id = 10082
					}
				}
			}
		}

		ai_will_do = {
			factor = 400
		}

	}

	FRA_extend_the_maginot = {

		icon = generic_construction
		allowed = {
			tag = FRA
		}
		visible = {
			has_country_flag = extend_maginot
		}

		available = {
			controls_state = 29
			controls_state = 785
			controls_state = 18
		}

		cost = 50
		fire_only_once = yes

		days_remove = 40

		ai_will_do = {
			base = 400
		}

		highlight_states = {
			highlight_state_targets = {
				state = 665
			}
		}

		modifier = {
			civilian_factory_use = 20
		}

		remove_effect = {
			29 = {
				add_building_construction = {
					type = bunker
					level = 5
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}
			785 = {
				add_building_construction = {
					type = bunker
					level = 5
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}
			18 = {
				add_building_construction = {
					type = bunker
					level = 5
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}

		}

		ai_will_do = {
			factor = 400
		}

	}
}

colonial_managment = {

	FRA_take_over_integrated_colonies = {

		allowed = {
            original_tag = FRA
        }

        cost = 0
        fire_only_once = yes

        available = {
			hidden_trigger = {
				NOT = { has_country_flag = FRA_colonies_annexed }
			}
        }

        visible = {
			hidden_trigger = {
				NOT = { has_country_flag = FRA_colonies_annexed }
				NOT = { has_global_flag = fall_of_france }
			}
        }

        complete_effect = {
			hidden_effect = {
				set_country_flag = FRA_colonies_annexed
			}
			every_country = {
				limit = {
					is_subject_of = FRA
					OR = {
						tag = FRM
						tag = FRN
						tag = FRT
						tag = FRW
						tag = FRC
					}
				}
				every_unit_leader = {
					set_nationality = FRA
				}
			}
			annex_country = { target = FRM transfer_troops = yes }
			annex_country = { target = FRN transfer_troops = yes }
			annex_country = { target = FRT transfer_troops = yes }
			annex_country = { target = FRW transfer_troops = yes }
			annex_country = { target = FRC transfer_troops = yes }
			add_equipment_to_stockpile = { type = fra_inf_0 amount = 2900 producer = FRA }
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 20 producer = FRA }
		}
		ai_will_do = {
			factor = 0
		}
	}

	FRA_recruit_tunisian = {
		icon = GFX_decision_generic_prepare_civil_war
		allowed = {
			tag = FRA
		}
		available = {
			458 = {
				OR = {
					is_controlled_by = ROOT
					controller = {
						is_subject_of = ROOT
					}
				}
			}
		}

		visible = {
			has_completed_focus = FRA_army_of_africa
		}

		cost = 0
		ai_will_do = {
			base = 10
		}
		fire_only_once = yes

		complete_effect = {
			effect_tooltip = {
				FRT = {
					FRT_fernand_olive = {
						add_corps_commander_role = {
						}
					}
				}
			}
			custom_effect_tooltip = FRA_recruit_tunisian_tt
			hidden_effect = {
				if = {
					limit = {
						FRT = {
							exists = yes
						}
						is_ai = no
					}
					FRT = {
						FRA_Tirailleurs_effect = yes
						FRT_fernand_olive = {
							add_corps_commander_role = {
								skill = 2
								attack_skill = 2
								defense_skill = 1
								planning_skill = 1
								logistics_skill = 3
							}
						}
					}
					458 = {
						create_unit = {
							division = "name = \"Tirailleurs Tunisia 1\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRT
						}
						create_unit = {
							division = "name = \"Tirailleurs Tunisia 2\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRT
						}
					}
				}
				else_if = {
					limit = {
						is_ai = no
					}
					if = {
						limit = {
							not = { has_template = "Tirailleurs" }
						}
						FRA_Tirailleurs_effect = yes
					}
					458 = {
						create_unit = {
							division = "name = \"Tirailleurs Tunisia 1\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs Tunisia 2\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRA
						}
					}
					FRT = {
						FRT_fernand_olive = {
							set_nationality = FRA
							add_corps_commander_role = {
								skill = 2
								attack_skill = 2
								defense_skill = 1
								planning_skill = 1
								logistics_skill = 3
							}
						}
					}
				}
				else_if = {
					limit = {
						FRT = {
							exists = yes
						}
					}
					FRT = {
						FRA_Tirailleurs_effect = yes
						FRT_fernand_olive = {
							add_corps_commander_role = {
								skill = 2
								attack_skill = 2
								defense_skill = 1
								planning_skill = 1
								logistics_skill = 3
							}
						}
					}
					458 = {
						create_unit = {
							division = "name = \"Tirailleurs Tunisia 1\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRT
						}
						create_unit = {
							division = "name = \"Tirailleurs Tunisia 2\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRT
						}
						create_unit = {
							division = "name = \"Tirailleurs Tunisia 3\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRT
						}
						create_unit = {
							division = "name = \"Tirailleurs Tunisia 4\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRT
						}
					}
				}
				else = {
					if = {
						limit = {
							not = { has_template = "Tirailleurs" }
						}
						FRA_Tirailleurs_effect = yes
					}
					458 = {
						create_unit = {
							division = "name = \"Tirailleurs Tunisia 1\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs Tunisia 2\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs Tunisia 3\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs Tunisia 4\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRA
						}
					}
					FRT = {
						FRT_fernand_olive = {
							set_nationality = FRA
							add_corps_commander_role = {
								skill = 2
								attack_skill = 2
								defense_skill = 1
								planning_skill = 1
								logistics_skill = 3
							}
						}
					}
				}
			}
		}
	}

	FRA_recruit_algerian = {
		icon = GFX_decision_generic_prepare_civil_war
		allowed = {
			tag = FRA
		}
		available = {
			459 = {
				OR = {
					is_controlled_by = ROOT
					controller = {
						is_subject_of = ROOT
					}
				}
			}
		}

		visible = {
			has_completed_focus = FRA_army_of_africa
		}

		cost = 0
		fire_only_once = yes
		ai_will_do = {
			base = 10
		}

		complete_effect = {
			effect_tooltip = {
				FRN = {
					FRN_gustave_mesny = {
						add_corps_commander_role = {
						}
					}
				}
			}
			custom_effect_tooltip = FRA_recruit_algerian_tt
			hidden_effect = {
				If = {
					limit = {
						FRN = {
							exists = yes
						}
						is_ai = no
					}
					FRN = {
						FRA_Tirailleurs_effect = yes
						division_template = {
							name = "Tirailleurs Montagne"
							division_names_group = FRA_INF_01
							priority = 2
							is_locked = yes

							regiments = {
								mountaineers = { x = 0 y = 0 }
								mountaineers = { x = 0 y = 1 }
								mountaineers = { x = 0 y = 2 }
								mountaineers = { x = 0 y = 3 }

								mountaineers = { x = 1 y = 0 }
								mountaineers = { x = 1 y = 1 }
								mountaineers = { x = 1 y = 2 }

								mountaineers = { x = 2 y = 0 }
								mountaineers = { x = 2 y = 1 }
							}

							support = {
								normal_engineer = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
								horse_logistics_company = { x = 0 y = 2 }
								horse_field_hospital = { x = 0 y = 3 }
							}
						}
						FRN_gustave_mesny = {
							add_corps_commander_role = {
								skill = 2
								attack_skill = 2
								defense_skill = 1
								planning_skill = 1
								logistics_skill = 3
							}
						}
					}
					459 = {
						create_unit = {
							division = "name = \"Tirailleurs Algeria 1\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRN
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 2\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRN
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 3\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRN
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 4\" division_template = \"Tirailleurs Montagne\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRN
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 5\" division_template = \"Tirailleurs Montagne\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRN
						}
					}
				}
				else_if = {
					limit = {
						is_ai = no
					}
					if = {
						limit = {
							not = { has_template = "Tirailleurs" }
						}
						FRA_Tirailleurs_effect = yes
					}
					if = {
						limit = {
							not = { has_template = "Tirailleurs Montagne" }
						}
						division_template = {
							name = "Tirailleurs Montagne"
							division_names_group = FRA_INF_01
							priority = 2
							is_locked = yes

							regiments = {
								mountaineers = { x = 0 y = 0 }
								mountaineers = { x = 0 y = 1 }
								mountaineers = { x = 0 y = 2 }
								mountaineers = { x = 0 y = 3 }

								mountaineers = { x = 1 y = 0 }
								mountaineers = { x = 1 y = 1 }
								mountaineers = { x = 1 y = 2 }

								mountaineers = { x = 2 y = 0 }
								mountaineers = { x = 2 y = 1 }
							}

							support = {
								normal_engineer = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
								horse_logistics_company = { x = 0 y = 2 }
								horse_field_hospital = { x = 0 y = 3 }
							}
						}
					}
					458 = {
						create_unit = {
							division = "name = \"Tirailleurs Algeria 1\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 2\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 3\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 4\" division_template = \"Tirailleurs Montagne\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 5\" division_template = \"Tirailleurs Montagne\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRA
						}
					}
					FRN = {
						FRN_gustave_mesny = {
							set_nationality = FRA
							add_corps_commander_role = {
								skill = 2
								attack_skill = 2
								defense_skill = 1
								planning_skill = 1
								logistics_skill = 3
							}
						}
					}
				}
				else_if = {
					limit = {
						FRN = {
							exists = yes
						}
					}
					FRN = {
						FRA_Tirailleurs_effect = yes
						division_template = {
							name = "Tirailleurs Montagne"
							division_names_group = FRA_INF_01
							priority = 2
							is_locked = yes

							regiments = {
								mountaineers = { x = 0 y = 0 }
								mountaineers = { x = 0 y = 1 }
								mountaineers = { x = 0 y = 2 }
								mountaineers = { x = 0 y = 3 }

								mountaineers = { x = 1 y = 0 }
								mountaineers = { x = 1 y = 1 }
								mountaineers = { x = 1 y = 2 }

								mountaineers = { x = 2 y = 0 }
								mountaineers = { x = 2 y = 1 }
							}

							support = {
								normal_engineer = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
								horse_logistics_company = { x = 0 y = 2 }
								horse_field_hospital = { x = 0 y = 3 }
							}
						}
						FRN_gustave_mesny = {
							add_corps_commander_role = {
								skill = 2
								attack_skill = 2
								defense_skill = 1
								planning_skill = 1
								logistics_skill = 3
							}
						}
					}
					459 = {
						create_unit = {
							division = "name = \"Tirailleurs Algeria 1\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRN
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 2\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRN
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 3\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRN
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 4\" division_template = \"Tirailleurs Montagne\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRN
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 5\" division_template = \"Tirailleurs Montagne\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRN
						}
					}
				}
				else = {
					if = {
						limit = {
							not = { has_template = "Tirailleurs" }
						}
						FRA_Tirailleurs_effect = yes
					}
					if = {
						limit = {
							not = { has_template = "Tirailleurs Montagne" }
						}
						division_template = {
							name = "Tirailleurs Montagne"
							division_names_group = FRA_INF_01
							priority = 2
							is_locked = yes

							regiments = {
								mountaineers = { x = 0 y = 0 }
								mountaineers = { x = 0 y = 1 }
								mountaineers = { x = 0 y = 2 }
								mountaineers = { x = 0 y = 3 }

								mountaineers = { x = 1 y = 0 }
								mountaineers = { x = 1 y = 1 }
								mountaineers = { x = 1 y = 2 }

								mountaineers = { x = 2 y = 0 }
								mountaineers = { x = 2 y = 1 }
							}

							support = {
								normal_engineer = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
								horse_logistics_company = { x = 0 y = 2 }
								horse_field_hospital = { x = 0 y = 3 }
							}
						}
					}
					458 = {
						create_unit = {
							division = "name = \"Tirailleurs Algeria 1\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 2\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 3\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 4\" division_template = \"Tirailleurs Montagne\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs Algeria 5\" division_template = \"Tirailleurs Montagne\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRA
						}
					}
					FRN = {
						FRN_gustave_mesny = {
							set_nationality = FRA
							add_corps_commander_role = {
								skill = 2
								attack_skill = 2
								defense_skill = 1
								planning_skill = 1
								logistics_skill = 3
							}
						}
					}
				}
			}
		}
	}

	FRA_recruit_african = {
		icon = GFX_decision_generic_prepare_civil_war
		allowed = {
			tag = FRA
		}
		available = {
			779 = {
				OR = {
					is_controlled_by = ROOT
					controller = {
						is_subject_of = ROOT
					}
				}
			}
		}

		visible = {
			has_completed_focus = FRA_army_of_africa
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			base = 10
		}

		complete_effect = {
			effect_tooltip = {
				FRW = {
					FRW_henry_martin = {
						add_corps_commander_role = {
						}
					}
				}
			}
			custom_effect_tooltip = FRA_recruit_african_tt
			hidden_effect = {
				if = {
					limit = {
						FRW = {
							exists = yes
						}
						is_ai = no
					}
					FRW = {
						FRA_Tirailleurs_effect = yes
						FRW_henry_martin = {
							add_corps_commander_role = {
								skill = 2
								attack_skill = 2
								defense_skill = 1
								planning_skill = 1
								logistics_skill = 3
							}
						}
					}
					779 = {
						create_unit = {
							division = "name = \"Tirailleurs African 1\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRW
						}
						create_unit = {
							division = "name = \"Tirailleurs African 2\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRW
						}
						create_unit = {
							division = "name = \"Tirailleurs African 3\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRW
						}
					}
				}
				else_if = {
					limit = {
						is_ai = no
					}
					if = {
						limit = {
							not = { has_template = "Tirailleurs" }
						}
						FRA_Tirailleurs_effect = yes
					}
					779 = {
						create_unit = {
							division = "name = \"Tirailleurs African 1\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs African 2\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs African 3\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 0.2"
							owner = FRA
						}
					}
					FRW = {
						FRW_henry_martin = {
							set_nationality = FRA
							add_corps_commander_role = {
								skill = 2
								attack_skill = 2
								defense_skill = 1
								planning_skill = 1
								logistics_skill = 3
							}
						}	
					}
				}
				else_if = {
					limit = {
						FRW = {
							exists = yes
						}
					}
					FRW = {
						FRA_Tirailleurs_effect = yes
						FRW_henry_martin = {
							add_corps_commander_role = {
								skill = 2
								attack_skill = 2
								defense_skill = 1
								planning_skill = 1
								logistics_skill = 3
							}
						}
					}
					779 = {
						create_unit = {
							division = "name = \"Tirailleurs African 1\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRW
						}
						create_unit = {
							division = "name = \"Tirailleurs African 2\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRW
						}
						create_unit = {
							division = "name = \"Tirailleurs African 3\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRW
						}
					}
				}
				else = {
					if = {
						limit = {
							not = { has_template = "Tirailleurs" }
						}
						FRA_Tirailleurs_effect = yes
					}
					779 = {
						create_unit = {
							division = "name = \"Tirailleurs African 1\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs African 2\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRA
						}
						create_unit = {
							division = "name = \"Tirailleurs African 3\" division_template = \"Tirailleurs\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
							owner = FRA
						}
					}
					FRW = {
						FRW_henry_martin = {
							set_nationality = FRA
							add_corps_commander_role = {
								skill = 2
								attack_skill = 2
								defense_skill = 1
								planning_skill = 1
								logistics_skill = 3
							}
						}	
					}
				}
			}
		}
	}

	FRA_improve_camelry = {
		icon = GFX_decision_ITA_reorganize_ascari
		allowed = {
			tag = FRA
		}

		visible = {
			has_completed_focus = FRA_the_meharistes
		}

		available = {
			has_tech = tech_signal_company
		}

		ai_hint_pp_cost = 50
		ai_will_do = {
			base = 10
		}
		custom_cost_trigger = {
			command_power > 49
			has_political_power > 49
			has_army_experience > 14
		}
		custom_cost_text = decision_cost_CP_50_pp_50_ArmXP_15

		fire_only_once = yes

		days_remove = 30

		complete_effect = {
			hidden_effect = {
				add_command_power = -50
				add_political_power = -50
				army_experience = -15
			}
		}

		remove_effect = {
			custom_effect_tooltip = FRA_improve_camelry_tt
			hidden_effect = {
				if = {
					limit = {
						FRM = {
							exists = yes
							has_template = "Compagnies Méharistes Sahariennes"
						}
					}
					FRM = {
						add_units_to_division_template = {
							template_name = "Compagnies Méharistes Sahariennes"
							regiments = {
								camelry = 2
								camelry = 2
								scout_car = 3
							}
							support = {
								normal_engineer = 1
								artillery = 1
								signal_company = 1
							}
						}
					}
				}
				if = {
					limit = {
						has_template = "Compagnies Méharistes Sahariennes"
					}
					add_units_to_division_template = {
						template_name = "Compagnies Méharistes Sahariennes"
						regiments = {
							camelry = 2
							camelry = 2
							scout_car = 3
						}
						support = {
							normal_engineer = 1
							artillery = 1
							signal_company = 1
						}
					}
				}
			}
		}

		ai_will_do = {
			base = 10
		}
	}

	FRA_improve_tiralieurs_antitank = {
		icon = GFX_decision_ITA_reorganize_ascari
		allowed = {
			tag = FRA
		}

		visible = {
			NOT = {
				check_variable = { tiralieur_antitank > 2}
			}
			has_completed_focus = FRA_army_of_africa
			any_country = {
				OR = {
					tag = FRA
					tag = FRM
					tag = FRN
					tag = FRT
					tag = FRW
				}
				has_template = "Tirailleurs"
			}
		}

		available = {
			has_tech = fra_anti_tank_2
		}

		ai_hint_pp_cost = 10
		ai_will_do = {
			base = 10
		}
		custom_cost_trigger = {
			command_power > 49
			has_army_experience > 4
		}
		custom_cost_text = decision_cost_CP_50_ArmXP_5

		days_remove = 30

		complete_effect = {
			hidden_effect = {
				add_command_power = -50
				army_experience = -5
			}
		}

		remove_effect = {
			custom_effect_tooltip = FRA_add_antitank_tt
			hidden_effect = {
				if = {
					limit = {
						FRM = {
							exists = yes
							has_template = "Tirailleurs"
						}
					}
					FRM = {
						add_units_to_division_template = {
							template_name = "Tirailleurs"
							regiments = {
								anti_tank_brigade = 3
							}
						}
					}
				}
				if = {
					limit = {
						FRT = {
							exists = yes
							has_template = "Tirailleurs"
						}
					}
					FRT = {
						add_units_to_division_template = {
							template_name = "Tirailleurs"
							regiments = {
								anti_tank_brigade = 3
							}
						}
					}
				}
				if = {
					limit = {
						FRW = {
							exists = yes
							has_template = "Tirailleurs"
						}
					}
					FRW = {
						add_units_to_division_template = {
							template_name = "Tirailleurs"
							regiments = {
								anti_tank_brigade = 3
							}
						}
					}
				}
				if = {
					limit = {
						FRN = {
							exists = yes
							has_template = "Tirailleurs"
						}
					}
					FRN = {
						add_units_to_division_template = {
							template_name = "Tirailleurs"
							regiments = {
								anti_tank_brigade = 3
							}
						}
					}
				}
				if = {
					limit = {
						has_template = "Tirailleurs"
					}
					add_units_to_division_template = {
						template_name = "Tirailleurs"
						regiments = {
							anti_tank_brigade = 3
						}
					}
				}
				if = {
					limit = {
						has_variable = tiralieur_antitank
					}
					add_to_variable = { tiralieur_antitank = 1}
				}
				else = {
					set_variable = { tiralieur_antitank = 1 }
				}
			}
		}

		ai_will_do = {
			base = 10
		}
	}

	FRA_attack_central_africa = {

		allowed = {
			tag = FRA
		}

		available = {
			any_state = {
				is_owned_and_controlled_by = FRC
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = FRA_reconquer_central_africa
		}

		days_remove = 7

		fire_only_once = yes

		ai_will_do = {
			base = 1
		}

		complete_effect = {
			if = {
				limit = {
					VIC = {
						or = {
							has_idea = VIC_depowered_government
							exists = no
							has_capitulated = yes
						}
					}
				}
				VIC = {
					set_autonomy = {
						target = FRC
						autonomy_state = autonomy_free
					}
				}
				FRC = {
					leave_faction = yes
					set_rule = {
						can_join_factions = no
						can_create_factions = no
					}
				}
			}
		}

		remove_effect = {
			declare_war_on = {
				target = FRC
				type = annex_everything
			}
		}
	}

	FRA_attack_west_africa = {

		allowed = {
			tag = FRA
		}

		available = {
			any_state = {
				is_owned_and_controlled_by = FRW
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = FRA_reconquer_west_africa
		}

		days_remove = 7

		fire_only_once = yes

		ai_will_do = {
			base = 1
		}

		complete_effect = {
			if = {
				limit = {
					VIC = {
						or = {
							has_idea = VIC_depowered_government
							exists = no
							has_capitulated = yes
						}
					}
				}
				VIC = {
					set_autonomy = {
						target = FRW
						autonomy_state = autonomy_free
					}
				}
				FRW = {
					leave_faction = yes
					set_rule = {
						can_join_factions = no
						can_create_factions = no
					}
				}
			}
		}

		remove_effect = {
			declare_war_on = {
				target = FRW
				type = annex_everything
			}
		}
	}

	FRA_attack_madagascar = {

		allowed = {
			OR = {
				tag = FRA
				tag = SAF
			}
		}

		available = {
			any_state = {
				OR = {
					is_controlled_by = ROOT
					controller = {
						is_in_faction_with = root
					}
				}
				OR = {
					state = 681
					state = 1010
					state = 719
					state = 544
					state = 546
				}
			}
			country_exists = FRJ
			NOT = { is_in_faction_with = FRJ }
			NOT = { has_war_with = FRJ }
		}
		visible = {
			OR = {
				has_completed_focus = FRA_reconquer_madagascar
				has_completed_focus = SAF_intervene_in_madagascar
			}
		}

		days_remove = 7

		fire_only_once = yes

		ai_will_do = {
			base = 50
		}

		complete_effect = {
			if = {
				limit = {
					VIC = {
						has_idea = VIC_depowered_government
					}
				}
				VIC = {
					set_autonomy = {
						target = FRJ
						autonomy_state = autonomy_free
					}
				}
				FRJ = {
					leave_faction = yes
					set_rule = {
						can_join_factions = no
						can_create_factions = no
					}
				}
			}
		}

		remove_effect = {
			declare_war_on = {
				target = FRJ
				type = annex_everything
			}
		}
	}

	FRA_attack_djibouti = {

		allowed = {
			tag = FRA
		}

		available = {
			any_state = {
				is_owned_and_controlled_by = FRP
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = FRA_reconquer_madagascar
		}

		days_remove = 7

		fire_only_once = yes

		ai_will_do = {
			base = 50
		}

		complete_effect = {
			if = {
				limit = {
					VIC = {
						or = {
							has_idea = VIC_depowered_government
							exists = no
							has_capitulated = yes
						}
					}
				}
				VIC = {
					set_autonomy = {
						target = FRP
						autonomy_state = autonomy_free
					}
				}
				FRP = {
					leave_faction = yes
					set_rule = {
						can_join_factions = no
						can_create_factions = no
					}
				}
			}
		}

		remove_effect = {
			declare_war_on = {
				target = FRP
				type = annex_everything
			}
		}
	}

	FRA_attack_west_indies = {

		allowed = {
			tag = FRA
		}

		available = {
			any_state = {
				is_owned_and_controlled_by = FRI
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = FRA_reconquer_the_west_indies
		}

		days_remove = 7

		fire_only_once = yes

		ai_will_do = {
			base = 1
		}

		complete_effect = {
			if = {
				limit = {
					VIC = {
						or = {
							has_idea = VIC_depowered_government
							exists = no
							has_capitulated = yes
						}
					}
				}
				VIC = {
					set_autonomy = {
						target = FRI
						autonomy_state = autonomy_free
					}
				}
				FRI = {
					leave_faction = yes
					set_rule = {
						can_join_factions = no
						can_create_factions = no
					}
				}
			}
		}

		remove_effect = {
			declare_war_on = {
				target = FRI
				type = annex_everything
			}
		}
	}

	FRA_attack_Syria = {

		allowed = {
			tag = FRA
		}

		available = {
			any_state = {
				is_owned_and_controlled_by = FRS
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = FRA_reconquer_syria
		}

		days_remove = 7

		fire_only_once = yes

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			if = {
				limit = {
					VIC = {
						or = {
							has_idea = VIC_depowered_government
							exists = no
							has_capitulated = yes
						}
					}
				}
				VIC = {
					set_autonomy = {
						target = FRS
						autonomy_state = autonomy_free
					}
				}
				FRS = {
					leave_faction = yes
					set_rule = {
						can_join_factions = no
						can_create_factions = no
					}
				}
			}
		}

		remove_effect = {
			declare_war_on = {
				target = FRS
				type = annex_everything
			}
		}
	}

	FRA_attack_Indochina = {

		allowed = {
			tag = FRA
		}

		available = {
			any_state = {
				is_owned_and_controlled_by = FRV
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = FRA_reconquer_indochina
		}

		days_remove = 7

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				date > 1945.1.1
			}
			modifier = {
				add = 1
				GER = {
					OR = {
						exists = no
						NOT = {
							has_government = fascism
						}
						is_in_faction_with = root
					}
				}
			}
		}

		fire_only_once = yes

		complete_effect = {
			if = {
				limit = {
					VIC = {
						or = {
							has_idea = VIC_depowered_government
							exists = no
							has_capitulated = yes
						}
					}
					NOT = {
						any_state = {
							is_owned_and_controlled_by = FRV
							any_neighbor_state = {
								controller = {
									OR = {
										TAG = JAP
										is_in_faction_with = JAP
									}
								}
							}
						}
					}
				}
				VIC = {
					set_autonomy = {
						target = FRV
						autonomy_state = autonomy_free
					}
				}
				FRV = {
					leave_faction = yes
					set_rule = {
						can_join_factions = no
						can_create_factions = no
					}
				}
			}
			else = {
				annex_country = {
					target = FRV
				}
			}
		}

		remove_effect = {
			declare_war_on = {
				target = FRV
				type = annex_everything
			}
		}
	}

	FRA_attack_north_africa = {

		allowed = {
			tag = FRA
		}

		available = {
			any_state = {
				is_owned_and_controlled_by = FRT
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}
		visible = {
			has_completed_focus = FRA_reconquer_north_africa
			NOT = { has_global_flag = operation_torch }
		}

		days_remove = 7

		fire_only_once = yes

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			if = {
				limit = {
					VIC = {
						or = {
							has_idea = VIC_depowered_government
							exists = no
							has_capitulated = yes
						}
					}
				}
				VIC = {
					set_autonomy = {
						target = FRM
						autonomy_state = autonomy_free
					}
					set_autonomy = {
						target = FRN
						autonomy_state = autonomy_free
					}
					set_autonomy = {
						target = FRT
						autonomy_state = autonomy_free
					}
				}
				FRM = {
					set_rule = {
						can_create_factions = no
						can_join_factions = no
					}
					give_military_access = GER
					give_military_access = ITA
				}
				FRN = {
					set_rule = {
						can_create_factions = no
						can_join_factions = no
					}
					give_military_access = GER
					give_military_access = ITA
				}
				FRT = {
					set_rule = {
						can_create_factions = no
						can_join_factions = no
					}
					give_military_access = GER
					give_military_access = ITA
				}
			}
			hidden_effect = {
				set_global_flag = prevent_husky_ai_flag
			}
		}

		remove_effect = {
			declare_war_on = {
				target = FRT
				type = annex_everything
			}
			declare_war_on = {
				target = FRM
				type = annex_everything
			}
			declare_war_on = {
				target = FRN
				type = annex_everything
			}
		}
	}

	FRA_recruit_from_central_africa = {
		icon = generic_reorganize_irregulars

		allowed = {
			original_tag = FRA
		}

		available = {
			controls_state = 772
			controls_state = 539
			controls_state = 773
			controls_state = 660
			controls_state = 774
		}

		visible = {
			has_focus_tree = free_french_focus
		}

		days_remove = 30


		fire_only_once = yes

		complete_effect = {
			add_manpower = 80000
		}
	}

	FRA_recruit_from_west_africa = {
		icon = generic_reorganize_irregulars

		allowed = {
			original_tag = FRA
		}

		available = {
			controls_state = 557
			controls_state = 272
			controls_state = 780
			controls_state = 779
			controls_state = 777
			controls_state = 776
			controls_state = 556
			controls_state = 778
			controls_state = 781
			controls_state = 777
		}

		visible = {
			has_focus_tree = free_french_focus
		}

		days_remove = 30


		fire_only_once = yes

		complete_effect = {
			add_manpower = 100000
		}
	}

	FRA_recruit_from_madagascar = {
		icon = generic_reorganize_irregulars

		allowed = {
			original_tag = FRA
		}

		available = {
			controls_state = 543
		}

		visible = {
			has_focus_tree = free_french_focus
		}

		days_remove = 30


		fire_only_once = yes

		complete_effect = {
			add_manpower = 20000
		}
	}

	FRA_recruit_from_tunisia = {
		icon = generic_reorganize_irregulars

		allowed = {
			original_tag = FRA
		}

		available = {
			controls_state = 458
			controls_state = 665
		}

		visible = {
			has_focus_tree = free_french_focus
		}

		days_remove = 30


		fire_only_once = yes

		complete_effect = {
			add_manpower = 50000
		}
	}

	FRA_recruit_from_algeria = {
		icon = generic_reorganize_irregulars

		allowed = {
			original_tag = FRA
		}

		available = {
			controls_state = 459
			controls_state = 460
			controls_state = 513
		}

		visible = {
			has_focus_tree = free_french_focus
		}

		days_remove = 30


		fire_only_once = yes

		complete_effect = {
			add_manpower = 200000
		}
	}

	FRA_recruit_from_morocco = {
		icon = generic_reorganize_irregulars

		allowed = {
			original_tag = FRA
		}

		available = {
			controls_state = 461
			controls_state = 462
		}

		visible = {
			has_focus_tree = free_french_focus
		}

		days_remove = 30


		fire_only_once = yes

		complete_effect = {
			add_manpower = 200000
		}
	}

	FRA_recruit_from_syria = {
		icon = generic_reorganize_irregulars

		allowed = {
			original_tag = FRA
		}

		available = {
			controls_state = 901
			controls_state = 677
			controls_state = 680
			controls_state = 554
			controls_state = 553
		}

		visible = {
			has_focus_tree = free_french_focus
		}

		days_remove = 30


		fire_only_once = yes

		complete_effect = {
			add_manpower = 50000
		}
	}

	FRA_recruit_from_indochina = {
		icon = generic_reorganize_irregulars

		allowed = {
			original_tag = FRA
		}

		available = {
			controls_state = 671
			controls_state = 670
			controls_state = 976
			controls_state = 286
			controls_state = 741
			controls_state = 1031
		}

		visible = {
			has_focus_tree = free_french_focus
		}

		days_remove = 30


		fire_only_once = yes

		complete_effect = {
			add_manpower = 30000
		}
	}
}

FRA_export_equipment_dec_cat = {


	FRA_sell_to_minor_countries = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = FRA
		}
		targets = {BEL HOL LUX YUG ROM HUN CZE BUL GRE POL}

		available = {
			hidden_trigger = {
				has_country_flag = stockpiled_equipment
			}
			has_equipment = {
				light_tank_chassis > 49
			}
			has_equipment = {
				light_tank_support_chassis > 49
			}
		}

		visible = {
			has_country_flag = stockpiled_equipment
		}

		target_root_trigger = {
			has_completed_focus = FRA_scale_down_mechanization
		}

		ai_will_do = {
			base = 10
		}

		target_trigger = {
			FROM = {
				has_army_manpower = {
				size > 50000
				}
			}
		}

		fire_only_once = yes

		complete_effect = {
			FROM = {
				country_event = fra_armor.1010
			}
			custom_effect_tooltip = FRA_sell_to_minor_countries_tt
		}
	}
}

FRA_the_french_army_dec_cat = {
	FRA_stockpile_equipment_mission = {
		allowed = {
			original_tag = FRA
		}

		available = {
			has_equipment = {
				motorized_equipment > 999
			}
			has_equipment = {
				light_tank_chassis > 249
			}
			has_equipment = {
				light_tank_support_chassis > 249
			}
		}

		visible = {
			has_completed_focus = FRA_scale_down_mechanization
		}

		days_mission_timeout = 250

		fire_only_once = yes

		activation = {
			always = no
		}

		complete_effect = {
			add_political_power = 25
			add_timed_idea = {
				idea = FRA_scaled_down
				days = 365
			}
			hidden_effect = {
				set_country_flag = stockpiled_equipment
			}
			custom_effect_tooltip = FRA_stockpile_equipment_mission_tt
		}

		timeout_effect = {
			add_political_power = -50
			if = {
				limit = {
					is_ai = no
				}
				add_timed_idea = {
					idea = FRA_failed_to_scaledown_mechanization
					days = 365
				}
			}
		}
	}

	FRA_promote_tanks_mission = {
		icon = generic_tank
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_promote_tanks_mission_tt
				check_variable = { fra_cur_mt > 999 }
				check_variable = { fra_cur_hv > 999 }
			}
			has_army_size = {
				size > 9
				type = armor
			}
		}

		visible = {
			tag = FRA
			has_completed_focus = FRA_promote_tanks
		}

		activation = {
			always = no
		}

		days_mission_timeout = 1460
		is_good = no
		fire_only_once = yes

		complete_effect = {
			add_political_power = 50
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = FRA_promote_tanks
				cost_reduction = 1
				uses = 1
				category = cat_mobile_warfare
			}
		}

		timeout_effect = {
			add_political_power = -50
			custom_effect_tooltip = FRA_promote_tanks_mission_tt2
			hidden_effect = {
				subtract_from_variable = { var = FRA_industrialists_influence value = 1 }
				subtract_from_variable = { var = FRA_industrialists_attitude value = 1 }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	FRA_reform_navy_doctrines = {

		available = {
			has_navy_experience > 199
		}

		visible = {
			tag = FRA
			has_completed_focus = FRA_military_reform
		}

		fire_only_once = yes

		days_remove = 60

		ai_will_do = {
			base = 50
		}

		complete_effect = {
			navy_experience = -200
		}

		remove_effect = {
			if = {
				limit = {
					has_idea = FRA_structured_doctrines
				}
				swap_ideas = {
					remove_idea = FRA_structured_doctrines
					add_idea = FRA_structured_doctrines_naval
				}
			}
			else_if = {
				limit = {
					has_idea = FRA_structured_doctrines_air
				}
				swap_ideas = {
					remove_idea = FRA_structured_doctrines_air
					add_idea = FRA_structured_doctrines_air_naval
				}
			}
			else_if = {
				limit = {
					has_idea = FRA_structured_doctrines_land
				}
				swap_ideas = {
					remove_idea = FRA_structured_doctrines_land
					add_idea = FRA_structured_doctrines_land_naval
				}
			}
			else_if = {
				limit = {
					has_idea = FRA_structured_doctrines_air_land
				}
				remove_ideas = FRA_structured_doctrines_air_land
			}
		}

	}

	FRA_reform_army_doctrines = {

		available = {
			has_army_experience > 199
		}

		visible = {
			tag = FRA
			has_completed_focus = FRA_military_reform
		}

		fire_only_once = yes

		days_remove = 60

		ai_will_do = {
			base = 50
		}

		complete_effect = {
			army_experience = -200
		}

		remove_effect = {
			if = {
				limit = {
					has_idea = FRA_structured_doctrines
				}
				swap_ideas = {
					remove_idea = FRA_structured_doctrines
					add_idea = FRA_structured_doctrines_land
				}
			}
			else_if = {
				limit = {
					has_idea = FRA_structured_doctrines_air
				}
				swap_ideas = {
					remove_idea = FRA_structured_doctrines_air
					add_idea = FRA_structured_doctrines_air_land
				}
			}
			else_if = {
				limit = {
					has_idea = FRA_structured_doctrines_naval
				}
				swap_ideas = {
					remove_idea = FRA_structured_doctrines_naval
					add_idea = FRA_structured_doctrines_land_naval
				}
			}
			else_if = {
				limit = {
					has_idea = FRA_structured_doctrines_air_naval
				}
				remove_ideas = FRA_structured_doctrines_air_naval
			}
		}

	}

	FRA_reform_air_doctrine = {

		available = {
			has_air_experience > 199
		}

		visible = {
			tag = FRA
			has_completed_focus = FRA_military_reform
		}

		fire_only_once = yes

		days_remove = 60

		complete_effect = {
			air_experience = -200
		}

		ai_will_do = {
			base = 50
		}

		remove_effect = {
			if = {
				limit = {
					has_idea = FRA_structured_doctrines
				}
				swap_ideas = {
					remove_idea = FRA_structured_doctrines
					add_idea = FRA_structured_doctrines_air
				}
			}
			else_if = {
				limit = {
					has_idea = FRA_structured_doctrines_land
				}
				swap_ideas = {
					remove_idea = FRA_structured_doctrines_land
					add_idea = FRA_structured_doctrines_air_land
				}
			}
			else_if = {
				limit = {
					has_idea = FRA_structured_doctrines_naval
				}
				swap_ideas = {
					remove_idea = FRA_structured_doctrines_naval
					add_idea = FRA_structured_doctrines_air_naval
				}
			}
			else_if = {
				limit = {
					has_idea = FRA_structured_doctrines_land_naval
				}
				remove_ideas = FRA_structured_doctrines_land_naval
			}
		}
	}
}

FRA_procure_allied_equipment_dec_cat = {
	procure_weapons_from_USA = {
		icon = generic_prepare_civil_war

		allowed = {
			tag = FRA
		}

		available = {
			is_in_faction_with = USA
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = USA
			}
		}
		days_remove = 80
		cost = 30
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = infantry_equipment
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = heavy_infantry_equipment
						ratio > 0.90
					}
				}
				factor = 0
			}
		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					USA = { has_tech = usa_infantry_weapons_3 }
				}
				add_equipment_to_stockpile = { type = usa_inf_3 amount = 2000 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_inf_2 amount = 2000 producer = USA }
			}
			if = {
				limit = {
					USA = { has_tech = usa_heavy_infantry_weapons_3 }
				}
				add_equipment_to_stockpile = { type = usa_hv_inf_3 amount = 1000 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_hv_inf_2 amount = 1000 producer = USA }
			}
		}
	}
	procure_support_equipment_from_USA = {
		icon = generic_prepare_civil_war

		allowed = {
			tag = FRA
		}

		available = {
			is_in_faction_with = USA
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = USA
			}
		}
		days_remove = 80
		cost = 20
		ai_will_do = {
			factor = 40

			modifier = {
				stockpile_ratio = {
					archetype = support_equipment
					ratio > 0.90
				}

				factor = 0
			}
		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 800 producer = USA }
		}
	}
	procure_artillery_from_USA = {
		icon = ger_military_buildup

		allowed = {
			tag = FRA
		}

		available = {
			is_in_faction_with = USA
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = USA
			}
		}
		days_remove = 80
		cost = 40
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = artillery_equipment
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = heavy_artillery_equipment
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = anti_tank_equipment
						ratio > 0.90
					}
				}

				factor = 0
			}

		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					USA = { has_tech = usa_artillery_3 }
				}
				add_equipment_to_stockpile = { type = usa_art_3 amount = 75 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_artillery_2 }
				}
				add_equipment_to_stockpile = { type = usa_art_2 amount = 75 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_art_1 amount = 75 producer = USA }
			}
			if = {
				limit = {
					USA = { has_tech = usa_heavy_artillery_2 }
				}
				add_equipment_to_stockpile = { type = usa_hv_art_2 amount = 50 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_hv_art_1 amount = 50 producer = USA }
			}
			if = {
				limit = {
					USA = { has_tech = usa_anti_tank_3 }
				}
				add_equipment_to_stockpile = { type = usa_at_3 amount = 75 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_anti_tank_2 }
				}
				add_equipment_to_stockpile = { type = usa_at_2 amount = 75 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_at_1 amount = 75 producer = USA }
			}
		}
	}
	procure_trucks_from_USA = {
		icon = generic_tank

		allowed = {
			tag = FRA
		}

		available = {
			is_in_faction_with = USA
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = USA
			}
		}
		days_remove = 80
		cost = 40
		ai_will_do = {
			factor = 40

			modifier = {
				stockpile_ratio = {
					archetype = motorized_equipment
					ratio > 0.90
				}

				factor = 0
			}

		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			add_equipment_to_stockpile = { type = usa_motorized_equipment_1 amount = 300 producer = USA }
		}
	}
	procure_tanks_from_USA = {
		icon = generic_tank

		allowed = {
			NOT = { has_dlc = "No Step Back" }
			TAG = FRA
		}

		available = {
			is_in_faction_with = USA
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = USA
			}
		}
		days_remove = 80
		cost = 60
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = medium_tank_chassis
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = light_tank_chassis
						ratio > 0.90
					}
				}
				factor = 0
			}
		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					USA = { has_tech = usa_medium_4 }
				}
				add_equipment_to_stockpile = { type = usa_medium_equipment_4 amount = 50 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_medium_3 }
				}
				add_equipment_to_stockpile = { type = usa_medium_equipment_3 amount = 50 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_medium_2 }
				}
				add_equipment_to_stockpile = { type = usa_medium_equipment_2 amount = 50 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_medium_1 }
				}
				add_equipment_to_stockpile = { type = usa_medium_equipment_1 amount = 50 producer = USA }
			}
			if = {
				limit = {
					USA = { has_tech = usa_light_4 }
				}
				add_equipment_to_stockpile = { type = usa_light_equipment_4 amount = 75 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_light_3 }
				}
				add_equipment_to_stockpile = { type = usa_light_equipment_3 amount = 75 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_light_2 }
				}
				add_equipment_to_stockpile = { type = usa_light_equipment_2 amount = 75 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_light_equipment_1 amount = 75 producer = USA }
			}
		}
	}
	procure_tanks_from_USA_nsb = {
		icon = generic_tank

		allowed = {
			has_dlc = "No Step Back"
			tag = FRA
		}

		available = {
			is_in_faction_with = USA
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = USA
			}
		}

		days_remove = 80
		cost = 60
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = medium_tank_chassis
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = light_tank_chassis
						ratio > 0.90
					}
				}
				factor = 0
			}
		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					USA = { has_tech = usa_medium_tank_chassis_4 }
				}
				add_equipment_to_stockpile = { type = tank_usa_medium_chassis_4 amount = 50 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_medium_tank_chassis_3 }
				}
				add_equipment_to_stockpile = { type = tank_usa_medium_chassis_3 amount = 50 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_medium_tank_chassis_2 }
				}
				add_equipment_to_stockpile = { type = tank_usa_medium_chassis_2 amount = 50 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_medium_tank_chassis_1 }
				}
				add_equipment_to_stockpile = { type = tank_usa_medium_chassis_1 amount = 50 producer = USA }
			}
			if = {
				limit = {
					USA = { has_tech = usa_light_tank_chassis_4 }
				}
				add_equipment_to_stockpile = { type = tank_usa_light_chassis_4 amount = 75 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_light_tank_chassis_3 }
				}
				add_equipment_to_stockpile = { type = tank_usa_light_chassis_3 amount = 75 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_light_tank_chassis_2 }
				}
				add_equipment_to_stockpile = { type = tank_usa_light_chassis_2 amount = 75 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = tank_usa_light_chassis_1 amount = 75 producer = USA }
			}
		}
	}
	procure_fighters_from_USA = {
		icon = generic_air

		allowed = {
			tag = FRA
		}

		available = {
			is_in_faction_with = USA
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = USA
			}
		}

		days_remove = 80
		cost = 60
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = fighter_equipment
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = fighter_multirole_equipment
						ratio > 0.90
					}
				}
				factor = 0
			}

		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					USA = { has_tech = usa_fighter_multirole_3 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_multirole_equipment_3 amount = 50 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_fighter_multirole_2 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_multirole_equipment_2 amount = 50 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_fighter_multirole_1 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_multirole_equipment_1 amount = 50 producer = USA }
			}
			if = {
				limit = {
					USA = { has_tech = usa_fighter_5 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_equipment_6 amount = 50 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_fighter_4 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_equipment_5 amount = 50 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_fighter_3 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_equipment_4 amount = 50 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_fighter_2 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_equipment_3 amount = 50 producer = USA }
			}
			else_if = {
				limit = {
					USA = { has_tech = usa_fighter_1 }
				}
				add_equipment_to_stockpile = { type = usa_fighter_equipment_2 amount = 50 producer = USA }
			}
			else = {
				add_equipment_to_stockpile = { type = usa_fighter_equipment_1 amount = 50 producer = USA }
			}
		}
	}
	procure_trains_from_UK = {
		icon = generic_prepare_civil_war

		allowed = {
			tag = FRA
		}

		available = {
			is_in_faction_with = ENG
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = ENG
			}
		}
		days_remove = 30
		cost = 10
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = train_equipment
						ratio > 0.90
					}
				}
				factor = 0
			}
		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					ENG = { has_tech = wartime_train }
				}
				add_equipment_to_stockpile = { type = train_equipment_2 amount = 5 producer = ENG }
			}
			else = {
				add_equipment_to_stockpile = { type = train_equipment_1 amount = 5 producer = ENG }
			}
		}
	}
	procure_infantry_weapons_from_UK = {
		icon = generic_prepare_civil_war

		allowed = {
			tag = FRA
		}

		available = {
			is_in_faction_with = ENG
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = ENG
			}
		}
		days_remove = 20
		cost = 30
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = infantry_equipment
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = heavy_infantry_equipment
						ratio > 0.90
					}
				}
				factor = 0
			}
		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					ENG = { has_tech = eng_infantry_weapons_2 }
				}
				add_equipment_to_stockpile = { type = eng_inf_2 amount = 700 producer = ENG }
			}
			else = {
				add_equipment_to_stockpile = { type = eng_inf_1 amount = 700 producer = ENG }
			}
			if = {
				limit = {
					ENG = { has_tech = eng_heavy_infantry_weapons_3 }
				}
				add_equipment_to_stockpile = { type = eng_hv_inf_3 amount = 300 producer = ENG }
			}
			else = {
				add_equipment_to_stockpile = { type = eng_hv_inf_2 amount = 300 producer = ENG }
			}
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 200 producer = ENG }
		}
	}
	procure_artillery_from_UK = {
		icon = ger_military_buildup

		allowed = {
			tag = FRA
		}

		available = {
			is_in_faction_with = ENG
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = ENG
			}
		}
		days_remove = 20
		cost = 40
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = artillery_equipment
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = heavy_artillery_equipment
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = anti_tank_equipment
						ratio > 0.90
					}
				}

				factor = 0
			}

			modifier = {
				#num_of_civilian_factories_available_for_projects < 21
				factor = 0
			}
		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					ENG = { has_tech = eng_heavy_artillery_3 }
				}
				add_equipment_to_stockpile = { type = eng_hv_art_3 amount = 25 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_heavy_artillery_2 }
				}
				add_equipment_to_stockpile = { type = eng_hv_art_2 amount = 25 producer = ENG }
			}
			else = {
				add_equipment_to_stockpile = { type = eng_hv_art_1 amount = 25 producer = ENG }
			}
			if = {
				limit = {
					ENG = { has_tech = eng_anti_tank_2 }
				}
				add_equipment_to_stockpile = { type = eng_at_2 amount = 50 producer = ENG }
			}
			else = {
				add_equipment_to_stockpile = { type = eng_at_1 amount = 50 producer = ENG }
			}
			if = {
				limit = {
					ENG = { has_tech = eng_artillery_3 }
				}
				add_equipment_to_stockpile = { type = eng_art_3 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_artillery_2 }
				}
				add_equipment_to_stockpile = { type = eng_art_2 amount = 50 producer = ENG }
			}
			else = {
				add_equipment_to_stockpile = { type = eng_art_1 amount = 50 producer = ENG }
			}
		}
	}
	procure_tanks_from_UK = {
		icon = generic_tank

		allowed = {
			NOT = { has_dlc = "No Step Back" }
			TAG = FRA
		}

		available = {
			ENG = {
				OR = {
					has_tech = eng_medium_1
					has_tech = eng_support_1
				}
			}
			is_in_faction_with = ENG
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = ENG
			}
		}
		days_remove = 40
		cost = 60
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = medium_tank_chassis
						ratio > 0.90
					}
				}
				factor = 0
			}
		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					ENG = { has_tech = eng_medium_7 }
				}
				add_equipment_to_stockpile = { type = eng_medium_equipment_7 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_medium_6 }
				}
				add_equipment_to_stockpile = { type = eng_medium_equipment_6 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_medium_5 }
				}
				add_equipment_to_stockpile = { type = eng_medium_equipment_5 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_medium_4 }
				}
				add_equipment_to_stockpile = { type = eng_medium_equipment_4 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_medium_3 }
				}
				add_equipment_to_stockpile = { type = eng_medium_equipment_3 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_medium_2 }
				}
				add_equipment_to_stockpile = { type = eng_medium_equipment_2 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_medium_1 }
				}
				add_equipment_to_stockpile = { type = eng_medium_equipment_1 amount = 50 producer = ENG }
			}
			if = {
				limit = {
					ENG = { has_tech = eng_support_5 }
				}
				add_equipment_to_stockpile = { type = eng_support_equipment_5 amount = 25 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_support_4 }
				}
				add_equipment_to_stockpile = { type = eng_support_equipment_4 amount = 25 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_support_3 }
				}
				add_equipment_to_stockpile = { type = eng_support_equipment_3 amount = 25 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_support_2 }
				}
				add_equipment_to_stockpile = { type = eng_support_equipment_2 amount = 25 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_support_1 }
				}
				add_equipment_to_stockpile = { type = eng_support_equipment_1 amount = 25 producer = ENG }
			}
		}
	}
	procure_tanks_from_UK_nsb = {
		icon = generic_tank

		allowed = {
			has_dlc = "No Step Back"
			tag = FRA
		}

		available = {
			ENG = {
				OR = {
					has_tech = eng_medium_tank_chassis_1
					has_tech = eng_support_tank_chassis_1
				}
			}
			is_in_faction_with = ENG
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = USA
			}
		}

		days_remove = 40
		cost = 60
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = medium_tank_chassis
						ratio > 0.90
					}
					# stockpile_ratio = {
					# 	archetype = heavy_tank_infantry_support_chassis
					# 	ratio > 0.90
					# }
				}
				factor = 0
			}
		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					ENG = { has_tech = eng_medium_tank_chassis_4_2 }
				}
				add_equipment_to_stockpile = { type = tank_eng_medium_chassis_4_2 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_medium_tank_chassis_4 }
				}
				add_equipment_to_stockpile = { type = tank_eng_medium_chassis_4 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_medium_tank_chassis_3_2 }
				}
				add_equipment_to_stockpile = { type = tank_eng_medium_chassis_3_2 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_medium_tank_chassis_3 }
				}
				add_equipment_to_stockpile = { type = tank_eng_medium_chassis_3 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_medium_tank_chassis_2 }
				}
				add_equipment_to_stockpile = { type = tank_eng_medium_chassis_2 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_medium_tank_chassis_1_2 }
				}
				add_equipment_to_stockpile = { type = tank_eng_medium_chassis_1_2 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_medium_tank_chassis_1 }
				}
				add_equipment_to_stockpile = { type = tank_eng_medium_chassis_1 amount = 50 producer = ENG }
			}
			if = {
				limit = {
					ENG = { has_tech = eng_support_tank_chassis_3_3 }
				}
				add_equipment_to_stockpile = { type = tank_eng_medium_chassis_support_11_3 amount = 25 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_support_tank_chassis_3_2 }
				}
				add_equipment_to_stockpile = { type = tank_eng_medium_chassis_support_11_2 amount = 25 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_support_tank_chassis_3 }
				}
				add_equipment_to_stockpile = { type = tank_eng_medium_chassis_support_11 amount = 25 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_support_tank_chassis_2 }
				}
				add_equipment_to_stockpile = { type = tank_eng_medium_chassis_support_10_2 amount = 25 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_support_tank_chassis_1 }
				}
				add_equipment_to_stockpile = { type = tank_eng_medium_chassis_support_10 amount = 25 producer = ENG }
			}
		}
	}
	procure_heavy_tanks_from_UK = {
		icon = generic_tank

		allowed = {
			NOT = { has_dlc = "No Step Back" }
			TAG = FRA
		}

		available = {
			ENG = { has_tech = eng_heavy_1 }
			is_in_faction_with = ENG
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = ENG
			}
		}
		days_remove = 40
		cost = 80
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = heavy_tank_chassis
						ratio > 0.90
					}
				}
				factor = 0
			}
		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					ENG = { has_tech = eng_heavy_6 }
				}
				add_equipment_to_stockpile = { type = eng_heavy_equipment_6 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					USA = { has_tech = eng_heavy_5 }
				}
				add_equipment_to_stockpile = { type = eng_heavy_equipment_5 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					USA = { has_tech = eng_heavy_4 }
				}
				add_equipment_to_stockpile = { type = eng_heavy_equipment_4 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					USA = { has_tech = eng_heavy_2 }
				}
				add_equipment_to_stockpile = { type = eng_heavy_equipment_2 amount = 50 producer = ENG }
			}
			else = {
				add_equipment_to_stockpile = { type = eng_heavy_equipment_1 amount = 50 producer = ENG }
			}
		}
	}
	procure_heavy_tanks_from_UK_nsb = {
		icon = generic_tank

		allowed = {
			has_dlc = "No Step Back"
			tag = FRA
		}

		available = {
			ENG = { has_tech = eng_heavy_tank_chassis_1 }
			is_in_faction_with = ENG
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = USA
			}
		}

		days_remove = 40
		cost = 80
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = heavy_tank_chassis
						ratio > 0.90
					}
				}
				factor = 0
			}

		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					ENG = { has_tech = eng_heavy_tank_chassis_3_3 }
				}
				add_equipment_to_stockpile = { type = tank_eng_heavy_chassis_3_3 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					USA = { has_tech = eng_heavy_tank_chassis_3_2 }
				}
				add_equipment_to_stockpile = { type = tank_eng_heavy_chassis_3_2 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					USA = { has_tech = eng_heavy_tank_chassis_3 }
				}
				add_equipment_to_stockpile = { type = tank_eng_heavy_chassis_3 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					USA = { has_tech = eng_heavy_tank_chassis_2 }
				}
				add_equipment_to_stockpile = { type = tank_eng_heavy_chassis_2 amount = 50 producer = ENG }
			}
			else = {
				add_equipment_to_stockpile = { type = tank_eng_heavy_chassis_1 amount = 50 producer = ENG }
			}
		}
	}
	procure_hurricans_from_UK = {
		icon = generic_air

		allowed = {
			tag = FRA
		}

		available = {
			ENG = { has_tech = eng_fighter_multirole_1 }
			is_in_faction_with = ENG
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = ENG
			}
		}

		days_remove = 20
		cost = 60
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = fighter_multirole_equipment
						ratio > 0.90
					}
				}
				factor = 0
			}

		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					ENG = { has_tech = eng_fighter_multirole_4 }
				}
				add_equipment_to_stockpile = { type = eng_fighter_multirole_equipment_4 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_fighter_multirole_3 }
				}
				add_equipment_to_stockpile = { type = eng_fighter_multirole_equipment_3 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_fighter_multirole_2 }
				}
				add_equipment_to_stockpile = { type = eng_fighter_multirole_equipment_2 amount = 50 producer = ENG }
			}
			else = {
				add_equipment_to_stockpile = { type = eng_fighter_multirole_equipment_1 amount = 50 producer = ENG }
			}
		}
	}
	procure_spits_from_UK = {
		icon = generic_air

		allowed = {
			tag = FRA
		}

		available = {
			ENG = { has_tech = eng_fighter_3 }
			is_in_faction_with = ENG
		}
		visible = {
			has_war_with = GER
			has_capitulated = YES
			has_completed_focus = FRA_procure_allied_equipment
			NOT = {
				has_war_with = ENG
			}
		}

		days_remove = 20
		cost = 80
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = fighter_equipment
						ratio > 0.90
					}
				}
				factor = 0
			}

			modifier = {
				factor = 0
			}
		}
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			if = {
				limit = {
					ENG = { has_tech = eng_fighter_6 }
				}
				add_equipment_to_stockpile = { type = eng_fighter_equipment_6 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_fighter_5 }
				}
				add_equipment_to_stockpile = { type = eng_fighter_equipment_5 amount = 50 producer = ENG }
			}
			else_if = {
				limit = {
					ENG = { has_tech = eng_fighter_4 }
				}
				add_equipment_to_stockpile = { type = eng_fighter_equipment_4 amount = 50 producer = ENG }
			}
			else = {
				add_equipment_to_stockpile = { type = eng_fighter_equipment_3 amount = 50 producer = ENG }
			}
		}
	}
}

FRA_civil_war_dec_cat = {
	###timers

	FRA_police_discovery_timer = { ###fascist path civil war timer
		allowed = {
			tag = FRA
		}

		activation = {
			always = no
		}

		available = {
			has_civil_war = yes
		}

		visible = {

		}

		days_mission_timeout = 240

		timeout_effect = {
			complete_national_focus = FRA_coup_detat_from_la_cagoule
		}
	}
	FRA_brewing_troubles_timer = { ###communist path civil war timer
		allowed = {
			tag = FRA
		}

		activation = {
			always = no
		}

		available = {
			has_war = yes
			not = { has_completed_focus = FRA_our_comrades_to_the_south }
		}

		cancel_trigger = {
			OR = {
				has_civil_war = yes
				has_completed_focus = FRA_force_the_issue
				has_completed_focus = FRA_our_comrades_to_the_south
				has_country_flag = FRA_coup_averted_flag
			}

		}

		visible = {

		}

		days_mission_timeout = 480

		complete_effect = {
			custom_effect_tooltip = Start_civil_war_tt
			hidden_effect = {
				complete_national_focus = FRA_force_the_issue
			}
		}

		timeout_effect = {
			custom_effect_tooltip = Start_civil_war_tt
			hidden_effect = {
				complete_national_focus = FRA_force_the_issue
			}
		}
	}

	FRA_increase_preperation_timer = {
		allowed = {
			tag = FRA
		}

		activation = {
			always = no
		}

		available = {
			has_war = yes
		}

		cancel_trigger = {
			has_civil_war = yes
			has_country_flag = FRA_coup_averted_flag
		}

		visible = {

		}

		days_mission_timeout = 45

		complete_effect = {
		}

		timeout_effect = {

			if = {
				limit = {
					check_variable = {
						fra_coup_preperation = 0
					}
				}
				add_to_variable = { FRA_threat_coup_stability_var = -0.05 }
			}
			if = {
				limit = {
					check_variable = {
						fra_coup_preperation = 1
					}
				}
				add_to_variable = { FRA_threat_coup_stability_var = -0.05 }
				add_to_variable = { FRA_threat_coup_output_var = -0.05 }
			}
			if = {
				limit = {
					check_variable = {
						fra_coup_preperation = 2
					}
				}
				add_to_variable = { FRA_threat_coup_output_var = -0.05 }
				add_to_variable = { FRA_threat_coup_fuel_gain_var = -0.15 }
			}
			if = {
				limit = {
					check_variable = {
						fra_coup_preperation = 3
					}
				}
				add_to_variable = { FRA_threat_coup_manpower_var = -50 }
			}
			if = {
				limit = {
					check_variable = {
						fra_coup_preperation = 4
					}
				}
				add_to_variable = { FRA_threat_coup_output_var = -0.10 }
			}
			if = {
				limit = {
					check_variable = {
						fra_coup_preperation = 5
					}
				}
				add_to_variable = { FRA_threat_coup_manpower_var = -150 }
				add_to_variable = { FRA_threat_coup_fascidm_drift_var = 0.01 }
			}
			if = {
				limit = {
					check_variable = {
						fra_coup_preperation = 6
					}
				}
				add_to_variable = { FRA_threat_coup_fascidm_drift_var = 0.01 }
				add_to_variable = { FRA_threat_coup_stability_var = -0.05 }
			}
			if = {
				limit = {
					check_variable = {
						fra_coup_preperation = 7
					}
				}
				add_to_variable = { FRA_threat_coup_fascidm_drift_var = 0.01 }
				add_to_variable = { FRA_threat_coup_stability_var = -0.05 }
			}
			if = {
				limit = {
					check_variable = {
						fra_coup_preperation = 8
					}
				}
				add_to_variable = { FRA_threat_coup_manpower_var = -150 }
			}
			if = {
				limit = {
					check_variable = {
						fra_coup_preperation = 9
					}
				}
				add_to_variable = { FRA_threat_coup_fascidm_drift_var = 0.01 }
				add_to_variable = { FRA_threat_coup_output_var = -0.10 }
			}
			if = {
				limit = {
					check_variable = {
						fra_coup_preperation = 10
					}
				}
				add_to_variable = { FRA_threat_coup_stability_var = -0.15 }
				add_to_variable = { FRA_threat_coup_fascidm_drift_var = 0.01 }
			}
			if = {
				limit = {
					check_variable = {
						fra_coup_preperation < 10
					}
				}
				activate_mission = FRA_increase_preperation_timer
				add_to_variable = { fra_coup_preperation = 1 }
			}
		}
	}

	###fascist section

	FRA_convince_the_army_to_stand_down = {
		allowed = {
			tag = FRA
		}

		fire_only_once = yes

		visible = {
			has_completed_focus = FRA_infiltrate_the_army
			has_civil_war = no
		}

		cost = 100

		cancel_if_not_visible = yes

		days_remove = 30

		ai_will_do = {
			base = 0
		}

		remove_effect = {
			set_country_flag = FRA_military_stands_down
		}
	}

	FRA_infiltrate_more_divisions = {
		allowed = {
			tag = FRA
		}

		visible = {
			has_completed_focus = FRA_infiltrate_the_army
			has_civil_war = no
			NOT = { has_country_flag = FRA_military_stands_down }
			check_variable = {
				FRA_civil_var_army_support < 10
			}
		}

		cost = 30

		cancel_if_not_visible = yes

		days_remove = 30

		ai_will_do = {
			base = 1000
			modifier = {
				factor = 0
				has_country_flag = {
					flag = FRA_police_discovery_timer_flag
					days > 210
				}
			}
		}

		remove_effect = {
			add_to_variable = { FRA_civil_var_army_support = 1 }
		}
	}

	FRA_prepare_fascist_cell = {
		icon = {
			key = GFX_decision_fra_garrison_control_1
			trigger = {
				from = { check_variable = { var = FRA_civil_war_cells_var value = 0 compare = equals } }
			}
		}
		icon = {
			key = GFX_decision_fra_garrison_control_2
			trigger = {
				from = {
					check_variable = { var = FRA_civil_war_cells_var value = 1 compare = equals }
				}
			}
		}
		icon = {
			key = GFX_decision_fra_garrison_control_3
			trigger = {
				from = {
					check_variable = { var = FRA_civil_war_cells_var value = 2 compare = equals }
				}
			}
		}
		icon = {
			key = GFX_decision_fra_fas_garrison_control_4
			trigger = {
				from = { check_variable = { var = FRA_civil_war_cells_var value = 3 compare = greater_than_or_equals } }
			}
		}

		allowed = {
			tag = FRA
		}

		available = {
			FROM = {
				check_variable = {
					FRA_civil_war_cells_var < 3
				}
			}
		}

		state_target = yes

		on_map_mode = map_only

		target_array = FRA.core_states
    	target_trigger = {
			FROM = {
				NOT = {
					state = 1
				}
				is_controlled_by = ROOT
			}
		}

		cost = 10

		days_remove = 15

		visible = {
			has_completed_focus = FRA_prepare_the_cells
			has_civil_war = no
			not = { has_country_flag = FRA_civil_war_over_flag }
		}

		complete_effect = {

		}

		ai_will_do = {
			base = 1
			modifier = {
				has_decision = FRA_infiltrate_more_divisions
				factor = 1000
			}
			modifier = {
				factor = 0
				has_country_flag = {
					flag = FRA_police_discovery_timer_flag
					days > 230
				}
			}
		}

		remove_effect = {
			FROM = {
				add_to_variable = {
					FRA_civil_war_cells_var = 1
				}
				if = {
					limit = {
						check_variable = {
							FRA_civil_war_cells_var = 2
						}
					}
					set_state_flag = FRA_fascist_state_flag
				}
			}
		}
	}

	###communist section

	FRA_improve_living_conditions = {

		allowed = {
			tag = FRA
		}

		available = {
		}


		cost = 50

		days_remove = 60
		days_re_enable = 120

		icon = gfx_

		visible = {
			has_completed_focus = FRA_invite_communist_ministers
			not = { has_completed_focus = FRA_force_the_issue }
		}

		modifier = {
			consumer_goods_expected_value = 0.05
			stability_weekly = 0.02
		}

		complete_effect = {
			add_days_mission_timeout = {
				mission = FRA_brewing_troubles_timer
				days = -25
			}
		}
		ai_will_do = {
			base = 0
		}

		remove_effect = {
		}
	}
	FRA_ensure_army_loyalties = {

		allowed = {
			tag = FRA
		}

		available = {
		}


		cost = 50

		days_remove = 60
		days_re_enable = 80

		icon = gfx_

		visible = {
			has_completed_focus = FRA_invite_communist_ministers
			not = { has_completed_focus = FRA_force_the_issue }
		}

		modifier = {
			experience_gain_army_factor = -0.2
			experience_gain_army = -0.1
		}

		ai_will_do = {
			base = 10
		}

		complete_effect = {
		}

		remove_effect = {
			add_days_mission_timeout = {
				mission = FRA_brewing_troubles_timer
				days = 30
			}
		}
	}
	FRA_political_education = {

		allowed = {
			tag = FRA
		}

		available = {
		}


		cost = 25

		days_remove = 30

		icon = gfx_

		visible = {
			has_completed_focus = FRA_invite_communist_ministers
			not = { has_completed_focus = FRA_force_the_issue }
		}

		modifier = {
			communism_drift = 0.1
			war_support_weekly = 0.02
		}

		complete_effect = {
			add_days_mission_timeout = {
				mission = FRA_brewing_troubles_timer
				days = -15
			}
		}
		ai_will_do = {
			base = 0
		}

		remove_effect = {
		}
	}

	FRA_police_infiltration = {

		allowed = {
			tag = FRA
		}

		available = {
			has_equipment = {
				infantry_equipment > 9999
			}
			has_equipment = {
				support_equipment  > 999
			}
		}


		cost = 100

		days_remove = 300

		icon = gfx_

		visible = {
			has_completed_focus = FRA_destroy_the_enemies_of_the_revolution
			not = { has_completed_focus = FRA_force_the_issue }
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -10000
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -1000
			}
		}
		ai_will_do = {
			base = 0
		}

		remove_effect = {
			custom_effect_tooltip =  FRA_police_infiltration_tt
			remove_dynamic_modifier = {
				modifier = FRA_threat_of_coup_dynamic_modifier
			}
			hidden_effect = {
				set_country_flag = FRA_coup_averted_flag
				unlock_national_focus = FRA_force_the_issue
			}
		}
	}
	FRA_police_crackdown = {

		allowed = {
			tag = FRA
		}

		available = {
			has_equipment = {
				infantry_equipment > 1499
			}
			has_equipment = {
				support_equipment  > 199
			}
		}
		ai_will_do = {
			base = 0
		}


		cost = 50


		days_re_enable = 40

		icon = gfx_

		visible = {
			has_completed_focus = FRA_destroy_the_enemies_of_the_revolution
			not = { has_completed_focus = FRA_force_the_issue }
		}

		ai_will_do = {
			base = 0
		}

		complete_effect = {
			add_days_mission_timeout = {
				mission = FRA_brewing_troubles_timer
				days = 30
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1500
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -200
			}
		}
	}
	FRA_break_up_smuggeling = {

		allowed = {
			tag = FRA
		}

		available = {
			has_equipment = {
				infantry_equipment > 999
			}
			has_army_experience > 39
		}


		cost = 50

		days_remove = 15

		days_re_enable = 25

		icon = gfx_

		ai_will_do = {
			base = 0
		}

		visible = {
			has_completed_focus = FRA_destroy_the_enemies_of_the_revolution
			not = { has_completed_focus = FRA_force_the_issue }
		}

		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
			army_experience = -40
		}

		remove_effect = {
			add_days_mission_timeout = {
				mission = FRA_brewing_troubles_timer
				days = 30
			}
		}
	}
	### monarchist section

	FRA_unite_the_monarchists = {

		allowed = {
			tag = FRA
		}

		available = {
		}

		visible = {
			has_completed_focus = FRA_violate_the_law_of_exile
			not = {
				has_completed_focus = FRA_counter_revolution
			}
		}

		fire_only_once = yes

		cost = 50

		days_remove = 30

		icon = gfx_

		ai_will_do = {
			base = 1
		}

		complete_effect = {
			custom_effect_tooltip = FRA_unite_the_monarchists_tt
			set_country_flag = FRA_unite_monarchists_flag
		}
	}

	FRA_support_of_the_fascists = {

		allowed = {
			tag = FRA
		}

		available = {
		}

		visible = {
			has_completed_focus = FRA_violate_the_law_of_exile
			not = {
				has_completed_focus = FRA_counter_revolution
			}
		}

		fire_only_once = yes

		cost = 50

		days_remove = 30

		icon = gfx_

		ai_will_do = {
			base = 1
		}

		complete_effect = {
			 
		}
		remove_effect = {
			custom_effect_tooltip = FRA_support_of_the_fascists_tt
			set_country_flag = FRA_fascist_support_flag
			add_to_variable = { FRA_fascist_division_count = 9 }
			add_timed_idea = {
				idea = FRA_alliance_with_fascism
				days = 1200
			}
		}
	}

	FRA_fascist_divisions = {

		allowed = {
			tag = FRA
		}

		available = {
		}

		visible = {
			has_completed_focus = FRA_violate_the_law_of_exile
			not = {
				has_completed_focus = FRA_counter_revolution
			}
		}

		fire_only_once = no

		cost = 20

		days_remove = 30

		icon = gfx_

		ai_will_do = {
			base = 1
		}

		complete_effect = {
			custom_effect_tooltip = FRA_fascist_divisions_tt
			add_to_variable = { FRA_fascist_division_count = 3 }
			add_popularity = {
				ideology = fascism
				popularity = 0.025
			}
		}
	}

	FRA_heavy_siege_artillery = {

		allowed = {
			tag = FRA
		}

		available = {
			num_of_civilian_factories_available_for_projects > 19
		}

		visible = {
			has_idea = FRA_devasted_capital
		}

		fire_only_once = yes

		cost = 0

		icon = gfx_

		ai_will_do = {
			base = 1
		}

		complete_effect = {
			every_country = {
				limit = {
					has_country_flag = fra_communist_france_flag
				}
				add_ideas = FRA_heavy_siege_artillery_idea
				855 = {
					remove_building = {
						type = industrial_complex
						level = 4
					}
					remove_building = {
						type = arms_factory
						level = 4
					}
				}
				16 = {
					remove_building = {
						type = industrial_complex
						level = 2
					}
					remove_building = {
						type = arms_factory
						level = 2
					}
				}
			}
		}

		remove_effect = {
		}
	}

	FRA_repair_the_capital = {

		allowed = {
			tag = FRA
		}

		available = {
			num_of_civilian_factories_available_for_projects > 19
		}

		visible = {
			has_idea = FRA_devasted_capital
		}

		fire_only_once = yes

		cost = 0

		days_remove = 365

		icon = gfx_

		ai_will_do = {
			base = 1
		}

		modifier = {
			civilian_factory_use = 20
		}

		complete_effect = {
			remove_ideas = FRA_devasted_capital
			add_timed_idea = {
				idea = FRA_capital_rebuilding
				days = 365
			}
		}

		remove_effect = {
			set_capital = {
				state = 855
			}
			855 = {
				remove_dynamic_modifier = {
					modifier = FRA_devastated_city
				}
				add_building_construction = {
					type = infrastructure
					level = 5
					instant_build = yes
				}
			}
		}
	}

	FRA_abandon_the_capital = {

		allowed = {
			tag = FRA
		}

		available = {
		}

		visible = {
			has_idea = FRA_devasted_capital
		}

		fire_only_once = yes

		cost = 0

		icon = gfx_

		ai_will_do = {
			base = 1
		}

		complete_effect = {
			remove_ideas = FRA_devasted_capital
			add_ideas = FRA_capital_abandoned
			855 = {
				set_state_category = wasteland
			}
		}
	}
}

FRA_communist_support_dec_cat = {
	FRA_soviet_support_guns = {
		icon = generic_prepare_civil_war

		available = {
			num_of_civilian_factories_available_for_projects > 9
		}
		visible = {
		}
		days_remove = 60
		cost = 0
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = infantry_equipment
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = heavy_infantry_equipment
						ratio > 0.90
					}
				}
				factor = 0
			}

			modifier = {
				num_of_civilian_factories_available_for_projects < 21
				factor = 0
			}
		}
		modifier = {
			civilian_factory_use = 10
		}
		complete_effect = {
			SOV = {
				add_offsite_building = {
					type = industrial_complex
					level = 10
				}
			}
		}
		remove_effect = {
			SOV = {
				add_offsite_building = {
					type = industrial_complex
					level = -10
				}
			}
			add_equipment_to_stockpile = { type = sov_inf_1 amount = 3000 producer = SOV }
			add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 1000 producer = SOV }
		}
	}
	FRA_soviet_support_support = {
		icon = generic_prepare_civil_war

		available = {
			num_of_civilian_factories_available_for_projects > 9
		}
		visible = {
		}
		days_remove = 60
		cost = 0
		ai_will_do = {
			factor = 40

			modifier = {
				stockpile_ratio = {
					archetype = support_equipment
					ratio > 0.90
				}

				factor = 0
			}

			modifier = {
				num_of_civilian_factories_available_for_projects < 21
				factor = 0
			}
		}
		modifier = {
			civilian_factory_use = 10
		}
		complete_effect = {
			SOV = {
				add_offsite_building = {
					type = industrial_complex
					level = 10
				}
			}
		}
		remove_effect = {
			SOV = {
				add_offsite_building = {
					type = industrial_complex
					level = -10
				}
			}
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 1000 producer = SOV }
		}
	}
	FRA_soviet_support_artilery = {
		icon = ger_military_buildup

		available = {
			num_of_civilian_factories_available_for_projects > 9
		}
		visible = {
		}
		days_remove = 60
		cost = 0
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = artillery_equipment
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = heavy_artillery_equipment
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = anti_tank_equipment
						ratio > 0.90
					}
				}

				factor = 0
			}

			modifier = {
				num_of_civilian_factories_available_for_projects < 21
				factor = 0
			}
		}
		modifier = {
			civilian_factory_use = 10
		}
		complete_effect = {
			SOV = {
				add_offsite_building = {
					type = industrial_complex
					level = 10
				}
			}
		}
		remove_effect = {
			SOV = {
				add_offsite_building = {
					type = industrial_complex
					level = -10
				}
			}
			if = {
				limit = {
					SOV = { has_tech = sov_artillery_3 }
				}
				add_equipment_to_stockpile = { type = sov_art_3 amount = 250 producer = SOV }
			}
			else_if = {
				limit = {
					SOV = { has_tech = sov_artillery_2 }
				}
				add_equipment_to_stockpile = { type = sov_art_2 amount = 250 producer = SOV }
			}
			else = {
				add_equipment_to_stockpile = { type = sov_art_1 amount = 250 producer = SOV }
			}
			if = {
				limit = {
					SOV = { has_tech = sov_heavy_artillery_2 }
				}
				add_equipment_to_stockpile = { type = sov_hv_art_2 amount = 150 producer = SOV }
			}
			else = {
				add_equipment_to_stockpile = { type = sov_hv_art_1 amount = 150 producer = SOV }
			}
			if = {
				limit = {
					SOV = { has_tech = sov_anti_tank_3 }
				}
				add_equipment_to_stockpile = { type = sov_at_3 amount = 250 producer = SOV }
			}
			else_if = {
				limit = {
					SOV = { has_tech = sov_anti_tank_2 }
				}
				add_equipment_to_stockpile = { type = sov_at_2 amount = 250 producer = SOV }
			}
			else = {
				add_equipment_to_stockpile = { type = sov_at_1 amount = 250 producer = SOV }
			}
		}
	}
	FRA_soviet_support_trucks = {
		icon = generic_tank

		available = {
			num_of_civilian_factories_available_for_projects > 14
		}
		visible = {
		}
		days_remove = 60
		cost = 0
		ai_will_do = {
			factor = 40

			modifier = {
				stockpile_ratio = {
					archetype = motorized_equipment
					ratio > 0.90
				}

				factor = 0
			}

			modifier = {
				num_of_civilian_factories_available_for_projects < 21
				factor = 0
			}
		}
		modifier = {
			civilian_factory_use = 10
		}
		complete_effect = {
			SOV = {
				add_offsite_building = {
					type = industrial_complex
					level = 10
				}
			}
		}
		remove_effect = {
			SOV = {
				add_offsite_building = {
					type = industrial_complex
					level = -10
				}
			}
			add_equipment_to_stockpile = { type = sov_motorized_equipment_1 amount = 400 producer = SOV }
		}
	}
	FRA_soviet_support_tanks = {
		icon = generic_tank

		allowed = {
			NOT = { has_dlc = "No Step Back" }
		}

		available = {
			num_of_civilian_factories_available_for_projects > 14
		}
		visible = {
		}
		days_remove = 60
		cost = 0
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = medium_tank_chassis
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = light_tank_chassis
						ratio > 0.90
					}
				}
				factor = 0
			}

			modifier = {
				num_of_civilian_factories_available_for_projects < 21
				factor = 0
			}
		}
		modifier = {
			civilian_factory_use = 10
		}
		complete_effect = {
			SOV = {
				add_offsite_building = {
					type = industrial_complex
					level = 10
				}
			}
		}
		remove_effect = {
			SOV = {
				add_offsite_building = {
					type = industrial_complex
					level = -10
				}
			}
			if = {
				limit = {
					SOV = { has_tech = sov_medium_5 }
				}
				add_equipment_to_stockpile = { type = sov_medium_equipment_4 amount = 150 producer = SOV }
			}
			else_if = {
				limit = {
					SOV = { has_tech = sov_medium_4 }
				}
				add_equipment_to_stockpile = { type = sov_medium_equipment_3 amount = 150 producer = SOV }
			}
			else_if = {
				limit = {
					SOV = { has_tech = sov_medium_3 }
				}
				add_equipment_to_stockpile = { type = sov_medium_equipment_2 amount = 150 producer = SOV }
			}
			else_if = {
				limit = {
					SOV = { has_tech = sov_medium_2 }
				}
				add_equipment_to_stockpile = { type = sov_medium_equipment_1 amount = 150 producer = SOV }
			}
			if = {
				limit = {
					SOV = { has_tech = sov_light_3 }
				}
				add_equipment_to_stockpile = { type = sov_light_equipment_2 amount = 250 producer = SOV }
			}
			else = {
				add_equipment_to_stockpile = { type = sov_light_equipment_1 amount = 250 producer = SOV }
			}
		}
	}
	FRA_soviet_support_tanks_nsb = {
		icon = generic_tank

		allowed = {
			has_dlc = "No Step Back"
		}

		available = {
			num_of_civilian_factories_available_for_projects > 14
		}
		visible = {
		}

		days_remove = 60
		cost = 0
		ai_will_do = {
			factor = 40

			modifier = {
				AND = {
					stockpile_ratio = {
						archetype = medium_tank_chassis
						ratio > 0.90
					}
					stockpile_ratio = {
						archetype = light_tank_chassis
						ratio > 0.90
					}
				}
				factor = 0
			}

			modifier = {
				num_of_civilian_factories_available_for_projects < 21
				factor = 0
			}
		}
		modifier = {
			civilian_factory_use = 10
		}
		complete_effect = {
			SOV = {
				add_offsite_building = {
					type = industrial_complex
					level = 10
				}
			}
		}
		remove_effect = {
			SOV = {
				add_offsite_building = {
					type = industrial_complex
					level = -10
				}
			}
			if = {
				limit = {
					SOV = { has_tech = sov_medium_tank_chassis_3_3 }
				}
				add_equipment_to_stockpile = { type = tank_sov_medium_chassis_3_2 amount = 150 producer = SOV }
			}
			else_if = {
				limit = {
					SOV = { has_tech = sov_medium_tank_chassis_3_2 }
				}
				add_equipment_to_stockpile = { type = tank_sov_medium_chassis_3 amount = 150 producer = SOV }
			}
			else_if = {
				limit = {
					SOV = { has_tech = sov_medium_tank_chassis_3 }
				}
				add_equipment_to_stockpile = { type = tank_sov_medium_chassis_2_3 amount = 150 producer = SOV }
			}
			else_if = {
				limit = {
					SOV = { has_tech = sov_medium_tank_chassis_2_3 }
				}
				add_equipment_to_stockpile = { type = tank_sov_medium_chassis_2_2 amount = 150 producer = SOV }
			}
			else_if = {
				limit = {
					SOV = { has_tech = sov_medium_tank_chassis_2_2 }
				}
				add_equipment_to_stockpile = { type = tank_sov_medium_chassis_2 amount = 150 producer = SOV }
			}
			if = {
				limit = {
					SOV = { has_tech = sov_light_tank_chassis_3 }
				}
				add_equipment_to_stockpile = { type = tank_sov_light_chassis_1_2 amount = 250 producer = SOV }
			}
			else = {
				add_equipment_to_stockpile = { type = tank_sov_light_chassis_1 amount = 250 producer = SOV }
			}
		}
	}
}