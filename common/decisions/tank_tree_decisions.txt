political_actions = {

	french_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			FRA = { has_capitulated = no }
			NOT = {
				has_country_flag = french_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = FRA
				is_subject_of = FRA
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_war_with = FRA
					FRA = { has_capitulated = yes }
				}
			}
			OR = {
				is_in_faction_with = FRA
				is_subject_of = FRA
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0
		}

		complete_effect = {
			custom_effect_tooltip = FRA_unlock_technologies
			set_country_flag = french_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
			if = {
				limit = {
					date > 1938.1.1
				}
				hidden_effect = {
					set_technology = { fra_infantry_weapons_1 = 1 }
					set_technology = { fra_heavy_infantry_weapons_1 = 1 }
					set_technology = { fra_heavy_infantry_weapons_upgrade_1 = 1 }
					set_technology = { fra_heavy_infantry_weapons_upgrade_2 = 1 }
					set_technology = { fra_tech_special_forces = 1 }
					set_technology = { fra_artillery_1 = 1 }
					set_technology = { fra_heavy_artillery_0 = 1 }
					set_technology = { fra_heavy_artillery_1 = 1 }
					set_technology = { fra_anti_tank_1 = 1 }
					set_technology = { fra_anti_air_1 = 1 }
					set_technology = { fra_heavy_anti_air_1 = 1 }
					set_technology = { fra_motorised_infantry = 1 }
					set_technology = { fra_scout_car_1 = 1 }
					set_technology = { fra_light_tank_chassis_0 = 1 }
					set_technology = { fra_light_tank_chassis_1 = 1 }
					set_technology = { fra_support_tank_chassis_1 = 1 }
					set_technology = { fra_medium_tank_chassis_0 = 1 }
					set_technology = { fra_medium_tank_chassis_1 = 1 }
					set_technology = { fra_heavy_tank_chassis_1 = 1 }
					set_technology = { fra_super_heavy_tank_chassis_1 = 1 }
					set_technology = { fra_fighter_1 = 1 }
					set_technology = { fra_naval_bomber_1 = 1 }
					set_technology = { fra_cv_fighter_1 = 1 }
					set_technology = { fra_tactical_bomber_1 = 1 }
					set_technology = { fra_cas_1 = 1 }
				}
			}
			if = {
				limit = {
					date > 1938.1.1
					has_dlc = "Man the Guns"
				}
				hidden_effect = {
					set_technology = { fra_frigate_1 = 1 }
					set_technology = { fra_frigate_2 = 1 }
					set_technology = { fra_frigate_3 = 1 }
					set_technology = { fra_frigate_4 = 1 }
					set_technology = { fra_destroyer_1 = 1 }
					set_technology = { fra_destroyer_2 = 1 }
					set_technology = { fra_destroyer_3 = 1 }
					set_technology = { fra_destroyer_4 = 1 }
					set_technology = { fra_destroyer_5 = 1 }
					set_technology = { fra_light_cruiser_1 = 1 }
					set_technology = { fra_light_cruiser_2 = 1 }
					set_technology = { fra_light_cruiser_3 = 1 }
					set_technology = { fra_heavy_cruiser_1 = 1 }
					set_technology = { fra_heavy_cruiser_2 = 1 }
					set_technology = { fra_heavy_cruiser_3 = 1 }
					set_technology = { fra_battle_cruiser_1 = 1 }
					set_technology = { fra_battleship_1 = 1 }
					set_technology = { fra_battleship_2 = 1 }
					set_technology = { fra_battleship_3 = 1 }
					set_technology = { fra_carrier_1 = 1 }
					set_technology = { fra_submarine_1 = 1 }
					set_technology = { fra_submarine_2 = 1 }
					set_technology = { fra_submarine_3 = 1 }
					set_technology = { fra_submarine_4 = 1 }
					set_technology = { fra_submarine_5 = 1 }
				}
			}
		}
	}

	italian_technologies = {

		allowed = {
			NOT = {original_tag = FRA }
			NOT = {original_tag = ITA }
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV }
			NOT = {original_tag = ENG }
			NOT = {original_tag = USA }
		}

		available = {
			ITA = { has_capitulated = no }
			NOT = {
				has_country_flag = italian_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = ITA
				is_subject_of = ITA
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = ITA
					ITA = { has_capitulated = yes }
				}
			}
			OR = {
				is_in_faction_with = ITA
				is_subject_of = ITA
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0
		}

		complete_effect = {
			custom_effect_tooltip = ITA_unlock_technologies
			set_country_flag = italian_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
			if = {
				limit = {
					date > 1938.1.1
				}
				hidden_effect = {
					set_technology = { ita_infantry_weapons_1 = 1 }
					set_technology = { ita_infantry_weapons_upgrade_1 = 1 }
					set_technology = { ita_heavy_infantry_weapons_1 = 1 }
					set_technology = { ita_tech_special_forces = 1 }

					set_technology = { ita_artillery_1 = 1 }
					set_technology = { ita_heavy_artillery_1 = 1 }
					set_technology = { ita_anti_air_1 = 1 }
					set_technology = { ita_heavy_anti_air_1 = 1 }
					set_technology = { ita_anti_tank_1 = 1 }

					set_technology = { ita_light_tank_chassis_0 = 1 }
					set_technology = { ita_light_tank_chassis_1 = 1 }

					set_technology = { ita_motorised_infantry = 1 }
					set_technology = { ita_scout_car_1 = 1 }

					set_technology = { ita_fighter_1 = 1 }
					set_technology = { ita_tactical_bomber_1 = 1 }
					set_technology = { ita_cas_1 = 1 }
				}
			}
			if = {
				limit = {
					date > 1938.1.1
					has_dlc = "Man the Guns"
				}
				hidden_effect = {
					set_technology = { ita_frigate_1 = 1 }
					set_technology = { ita_frigate_2 = 1 }
					set_technology = { ita_frigate_3 = 1 }
					set_technology = { ita_frigate_4 = 1 }
					set_technology = { ita_frigate_5 = 1 }
					set_technology = { ita_frigate_6 = 1 }
					set_technology = { ita_destroyer_1 = 1 }
					set_technology = { ita_destroyer_2 = 1 }
					set_technology = { ita_destroyer_3 = 1 }
					set_technology = { ita_destroyer_4 = 1 }
					set_technology = { ita_destroyer_5 = 1 }
					set_technology = { ita_destroyer_6 = 1 }
					set_technology = { ita_destroyer_7 = 1 }
					set_technology = { ita_light_cruiser_1 = 1 }
					set_technology = { ita_light_cruiser_2 = 1 }
					set_technology = { ita_light_cruiser_3 = 1 }
					set_technology = { ita_light_cruiser_4 = 1 }
					set_technology = { ita_heavy_cruiser_1 = 1 }
					set_technology = { ita_heavy_cruiser_2 = 1 }
					set_technology = { ita_heavy_cruiser_3 = 1 }
					set_technology = { ita_heavy_cruiser_4 = 1 }
					set_technology = { ita_carrier_1 = 1 }
					set_technology = { ita_battleship_1 = 1 }
					set_technology = { ita_battleship_2 = 1 }
					set_technology = { ita_battleship_3 = 1 }
					set_technology = { ita_submarine_1 = 1 }
					set_technology = { ita_submarine_2 = 1 }
					set_technology = { ita_submarine_3 = 1 }
					set_technology = { ita_submarine_4 = 1 }
					set_technology = { ita_submarine_5 = 1 }
				}
			}
		}
	}

	japanese_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			JAP = { has_capitulated = no }
			NOT = {
				has_country_flag = japanese_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = JAP
				is_subject_of = JAP
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = JAP
					JAP = { has_capitulated = yes }
				}
			}
			OR = {
				is_in_faction_with = JAP
				is_subject_of = JAP
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0
		}

		complete_effect = {
			custom_effect_tooltip = JAP_unlock_technologies
			set_country_flag = japanese_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
			if = {
				limit = {
					date > 1938.1.1
				}
				hidden_effect = {
					set_technology = { jap_infantry_weapons_1 = 1 }
					set_technology = { jap_infantry_weapons_upgrade_1 = 1 }
					set_technology = { jap_heavy_infantry_weapons_1 = 1 }
					set_technology = { jap_heavy_infantry_weapons_upgrade_1 = 1 }
					set_technology = { jap_tech_special_forces  = 1 }

					set_technology = { jap_artillery_1 = 1 }
					set_technology = { jap_heavy_artillery_1 = 1 }
					set_technology = { jap_heavy_anti_air_1 = 1 }
					set_technology = { jap_anti_tank_1 = 1 }

					set_technology = { jap_light_tank_chassis_0 = 1 }
					set_technology = { jap_medium_tank_chassis_1 = 1 }
					set_technology = { jap_light_tank_chassis_1 = 1 }
					set_technology = { jap_heavy_tank_chassis_0 = 1 }

					set_technology = { jap_motorised_infantry = 1 }
					set_technology = { jap_scout_car_1 = 1 }

					set_technology = { jap_fighter_1 = 1 }
					set_technology = { jap_cv_fighter_1 = 1 }
					set_technology = { jap_cas_1 = 1 }
					set_technology = { jap_cv_naval_bomber_1 = 1 }
					set_technology = { jap_patrol_1 = 1 }
					set_technology = { jap_tactical_bomber_1 = 1 }
					set_technology = { jap_strategic_bomber_1 = 1 }
				}
			}
			if = {
				limit = {
					date > 1938.1.1
					has_dlc = "Man the Guns"
				}
				hidden_effect = {
					set_technology = { jap_frigate_1 = 1 }
					set_technology = { jap_frigate_2 = 1 }
					set_technology = { jap_destroyer_1 = 1 }
					set_technology = { jap_destroyer_2 = 1 }
					set_technology = { jap_destroyer_3 = 1 }
					set_technology = { jap_destroyer_4 = 1 }
					set_technology = { jap_destroyer_5 = 1 }
					set_technology = { jap_destroyer_6 = 1 }
					set_technology = { jap_light_cruiser_1 = 1 }
					set_technology = { jap_light_cruiser_2 = 1 }
					set_technology = { jap_light_cruiser_3 = 1 }
					set_technology = { jap_light_cruiser_4 = 1 }
					set_technology = { jap_heavy_cruiser_1 = 1 }
					set_technology = { jap_heavy_cruiser_2 = 1 }
					set_technology = { jap_heavy_cruiser_3 = 1 }
					set_technology = { jap_heavy_cruiser_4 = 1 }
					set_technology = { jap_heavy_cruiser_5 = 1 }
					set_technology = { jap_heavy_cruiser_6 = 1 }
					set_technology = { jap_heavy_cruiser_7 = 1 }
					set_technology = { jap_battle_cruiser_1 = 1 }
					set_technology = { jap_battle_cruiser_2 = 1 }
					set_technology = { jap_battleship_2 = 1 }
					set_technology = { jap_battleship_3 = 1 }
					set_technology = { jap_battleship_4 = 1 }
					set_technology = { jap_carrier_1 = 1 }
					set_technology = { jap_carrier_2 = 1 }
					set_technology = { jap_carrier_3 = 1 }
					set_technology = { jap_light_carrier_1 = 1 }
					set_technology = { jap_light_carrier_2 = 1 }
					set_technology = { jap_light_carrier_3 = 1 }
					set_technology = { jap_submarine_1 = 1 }
				}
			}
		}
	}

	german_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			GER = { has_capitulated = no }
			NOT = {
				has_country_flag = german_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = GER
				is_subject_of = GER
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = GER
					GER = { has_capitulated = yes }
				}
			}
			OR = {
				is_in_faction_with = GER
				is_subject_of = GER
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = ROM
			}
			modifier = {
				add = 100
				tag = SLO
			}
			modifier = {
				add = 100
				tag = BUL
			}
			modifier = {
				add = 100
				tag = BEN
			}
			modifier = {
				add = 100
				tag = SCA
			}
		}

		complete_effect = {
			custom_effect_tooltip = GER_unlock_technologies
			set_country_flag = german_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
			if = {
				limit = {
					date > 1938.1.1
				}
				hidden_effect = {
					set_technology = { ger_infantry_weapons_1 = 1 }
					set_technology = { ger_infantry_weapons_upgrade_1 = 1 }
					set_technology = { ger_heavy_infantry_weapons_1 = 1 }
					set_technology = { ger_heavy_infantry_weapons_upgrade_1 = 1 }

					set_technology = { ger_anti_air_1 = 1 }
					set_technology = { ger_heavy_anti_air_1 = 1 }
					set_technology = { ger_artillery_1 = 1 }
					set_technology = { ger_heavy_artillery_1 = 1 }

					set_technology = { ger_light_tank_chassis_1 = 1 }
					set_technology = { ger_light_tank_1_spg = 1 }
					set_technology = { ger_light_tank_1_aa = 1 }
					set_technology = { ger_medium_tank_chassis_1 = 1 }

					set_technology = { ger_motorised_infantry = 1 }
					set_technology = { ger_scout_car_1 = 1 }

					set_technology = { ger_fighter_1 = 1 }
					set_technology = { ger_tactical_bomber_1 = 1 }
				}
			}
			if = {
				limit = {
					date > 1939.1.1
				}
				hidden_effect = {
					set_technology = { ger_infantry_weapons_2 = 1 }
					set_technology = { ger_heavy_infantry_weapons_2 = 1 }
					set_technology = { ger_heavy_infantry_weapons_upgrade_2 = 1 }

					set_technology = { ger_anti_tank_1 = 1 }

					set_technology = { ger_light_tank_chassis_2 = 1 }
					set_technology = { ger_scout_car_2 = 1 }

					set_technology = { ger_fighter_2 = 1 }
					set_technology = { ger_cas_1 = 1 }
				}
			}
			if = {
				limit = {
					date > 1940.1.1
				}
				hidden_effect = {
					set_technology = { ger_artillery_upgrade_1 = 1 }
					set_technology = { ger_anti_air_upgrade_1 = 1 }
					set_technology = { ger_heavy_anti_air_2 = 1 }
					#set_technology = { ger_medium_tank_chassis_2 = 1 }
					#set_technology = { ger_support_tank_chassis_1 = 1 }

					set_technology = { ger_mechanized_infantry_1 = 1 }

					set_technology = { ger_fighter_3 = 1 }
					set_technology = { ger_tactical_bomber_2 = 1 }
				}
			}
			if = {
				limit = {
					date > 1938.1.1
					has_dlc = "Man the Guns"
				}
				hidden_effect = {
					set_technology = { ger_frigate_1 = 1 }
					set_technology = { ger_frigate_2 = 1 }
					set_technology = { ger_destroyer_1 = 1 }
					set_technology = { ger_destroyer_2 = 1 }
					set_technology = { ger_light_cruiser_1 = 1 }
					set_technology = { ger_light_cruiser_2 = 1 }
					set_technology = { ger_light_cruiser_3 = 1 }
					set_technology = { ger_light_cruiser_4 = 1 }
					set_technology = { ger_heavy_cruiser_1 = 1 }
					set_technology = { ger_heavy_cruiser_2 = 1 }
					set_technology = { ger_battleship_1 = 1 }
					set_technology = { ger_battle_cruiser_1 = 1 }
					set_technology = { ger_submarine_1 = 1 }
					set_technology = { ger_submarine_2 = 1 }
				}
			}
		}
	}

	soviet_technologies = {

		allowed = {
			NOT = {original_tag = FRA }
			NOT = {original_tag = ITA }
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV }
			NOT = {original_tag = ENG }
			NOT = {original_tag = USA }
		}

		available = {
			SOV = { has_capitulated = no }
			NOT = {
				has_country_flag = soviet_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = SOV
				is_subject_of = SOV
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = SOV
					SOV = { has_capitulated = yes }
				}
			}
			OR = {
				is_in_faction_with = SOV
				is_subject_of = SOV
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = PRC
			}

			modifier = {
				add = 50
				tag = ROM
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_unlock_technologies
			set_country_flag = soviet_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
			if = {
				limit = {
					date > 1938.1.1
				}
				hidden_effect = {
					set_technology = { sov_infantry_weapons_1 = 1 }
					set_technology = { sov_infantry_weapons_upgrade_1 = 1 }
					set_technology = { sov_heavy_infantry_weapons_1 = 1 }

					set_technology = { sov_artillery_1 = 1 }
					set_technology = { sov_heavy_artillery_1 = 1 }
					set_technology = { sov_anti_tank_1 = 1 }
					set_technology = { sov_anti_air_1 = 1 }
					set_technology = { sov_heavy_anti_air_1 = 1 }

					set_technology = { sov_light_tank_chassis_1 = 1 }
					set_technology = { sov_light_tank_spg_1 = 1 }
					set_technology = { sov_medium_tank_chassis_1 = 1 }
					set_technology = { sov_medium_tank_chassis_2 = 1 }
					set_technology = { sov_heavy_tank_chassis_1 = 1 }

					set_technology = { sov_motorised_infantry = 1 }
					set_technology = { sov_scout_car_1 = 1 }
					set_technology = { sov_armoured_car_1 = 1 }

					set_technology = { sov_fighter_1 = 1 }
					set_technology = { sov_fighter_multirole_1 = 1 }
					set_technology = { sov_cas_1 = 1 }
					set_technology = { sov_naval_bomber_1 = 1 }
					set_technology = { sov_strategic_bomber_1 = 1 }
					set_technology = { sov_strike_bomber_1 = 1 }
					set_technology = { sov_tactical_bomber_1 = 1 }
				}
			}
			if = {
				limit = {
					date > 1938.1.1
					has_dlc = "Man the Guns"
				}
				hidden_effect = {
					set_technology = { sov_frigate_1 = 1 }
					set_technology = { sov_destroyer_1 = 1 }
					set_technology = { sov_destroyer_2 = 1 }
					set_technology = { sov_destroyer_3 = 1 }
					set_technology = { sov_destroyer_4 = 1 }
					set_technology = { sov_light_cruiser_1 = 1 }
					set_technology = { sov_light_cruiser_2 = 1 }
					set_technology = { sov_light_cruiser_3 = 1 }
					set_technology = { sov_heavy_cruiser_1 = 1 }
					set_technology = { sov_battleship_1 = 1 }
					set_technology = { sov_carrier_1 = 1 }
					set_technology = { sov_submarine_1 = 1 }
					set_technology = { sov_submarine_2 = 1 }
					set_technology = { sov_submarine_3 = 1 }
				}
			}
		}
	}

	british_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			ENG = { has_capitulated = no }
			NOT = {
				has_country_flag = british_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = ENG
				is_subject_of = ENG
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = ENG
					ENG = { has_capitulated = yes }
					has_global_flag = ENG_fall_of_the_uk
				}
			}
			OR = {
				is_in_faction_with = ENG
				is_subject_of = ENG
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = YUG
			}

			modifier = {
				add = 50
				tag = BEL
			}

			modifier = {
				add = 100
				tag = HOL
			}

			modifier = {
				add = 50
				tag = LUX
			}

			modifier = {
				add = 100
				tag = GRE
			}

			modifier = {
				add = 50
				tag = NOR
			}
		}

		complete_effect = {
			custom_effect_tooltip = ENG_unlock_technologies
			set_country_flag = british_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
			if = {
				limit = {
					date > 1938.1.1
				}
				hidden_effect = {
					set_technology = { eng_infantry_weapons_1 = 1 }
					set_technology = { eng_infantry_weapons_upgrade_1 = 1 }
					set_technology = { eng_heavy_infantry_weapons_1 = 1 }

					set_technology = { eng_anti_tank_1 = 1 }
					set_technology = { eng_artillery_1 = 1 }
					set_technology = { eng_heavy_artillery_1 = 1 }
					set_technology = { eng_anti_air_1 = 1 }
					set_technology = { eng_heavy_anti_air_1 = 1 }
					set_technology = { eng_aa_tower_1 = 1 }

					set_technology = { eng_light_tank_chassis_1 = 1 }

					set_technology = { eng_motorised_infantry = 1 }
					set_technology = { eng_scout_car_0 = 1 }

					set_technology = { eng_fighter_1 = 1 }
					set_technology = { eng_cv_fighter_1 = 1 }
					set_technology = { eng_cas_1 = 1 }
					set_technology = { eng_naval_bomber_1 = 1 }
					set_technology = { eng_tactical_bomber_1 = 1 }
				}
			}
			if = {
				limit = {
					date > 1938.1.1
					has_dlc = "Man the Guns"
				}
				hidden_effect = {
					set_technology = { eng_destroyer_1 = 1 }
					set_technology = { eng_destroyer_2 = 1 }
					set_technology = { eng_destroyer_3 = 1 }
					set_technology = { eng_destroyer_4 = 1 }
					set_technology = { eng_destroyer_5 = 1 }
					set_technology = { eng_light_cruiser_1 = 1 }
					set_technology = { eng_light_cruiser_2 = 1 }
					set_technology = { eng_light_cruiser_3 = 1 }
					set_technology = { eng_light_cruiser_4 = 1 }
					set_technology = { eng_light_cruiser_5 = 1 }
					set_technology = { eng_light_cruiser_6 = 1 }
					set_technology = { eng_heavy_cruiser_1 = 1 }
					set_technology = { eng_heavy_cruiser_2 = 1 }
					set_technology = { eng_heavy_cruiser_3 = 1 }
					set_technology = { eng_heavy_cruiser_4 = 1 }
					set_technology = { eng_battle_cruiser_1 = 1 }
					set_technology = { eng_battle_cruiser_2 = 1 }
					set_technology = { eng_battle_cruiser_3 = 1 }
					set_technology = { eng_battleship_1 = 1 }
					set_technology = { eng_battleship_2 = 1 }
					set_technology = { eng_battleship_3 = 1 }
					set_technology = { eng_carrier_1 = 1 }
					set_technology = { eng_carrier_2 = 1 }
					set_technology = { eng_carrier_3 = 1 }
					set_technology = { eng_light_carrier_1 = 1 }
					set_technology = { eng_light_carrier_2 = 1 }
					set_technology = { eng_submarine_1 = 1 }
					set_technology = { eng_submarine_2 = 1 }
					set_technology = { eng_submarine_3 = 1 }
					set_technology = { eng_submarine_4 = 1 }
					set_technology = { eng_submarine_5 = 1 }
				}
			}
		}
	}

	unitedstates_technologies = {

		allowed = {
			NOT = { original_tag = FRA }
			NOT = { original_tag = ITA }
			NOT = { original_tag = JAP }
			NOT = { original_tag = GER }
			NOT = { original_tag = SOV }
			NOT = { original_tag = ENG }
			NOT = { original_tag = USA }
		}

		available = {
			USA = { has_capitulated = no }
			NOT = {
				has_country_flag = unitedstates_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			OR = {
				is_in_faction_with = USA
				is_subject_of = USA
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = USA
					USA = { has_capitulated = yes }
				}
			}
			OR = {
				is_in_faction_with = USA
				is_subject_of = USA
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = CHI
			}
		}

		complete_effect = {
			custom_effect_tooltip = USA_unlock_technologies
			set_country_flag = unitedstates_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					NOT = { has_idea = foreign_technologies }
				}
				add_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					date > 1938.1.1
				}
				hidden_effect = {
					set_technology = { usa_infantry_weapons_1 = 1 }
					set_technology = { usa_infantry_weapons_2 = 1 }
					set_technology = { usa_infantry_weapons_upgrade_1 = 1 }
					set_technology = { usa_heavy_infantry_weapons_1 = 1 }
					set_technology = { usa_heavy_infantry_weapons_2 = 1 }
					set_technology = { usa_heavy_infantry_weapons_upgrade_1 = 1 }

					set_technology = { usa_artillery_1 = 1 }
					set_technology = { usa_heavy_artillery_1 = 1 }
					set_technology = { usa_anti_air_1 = 1 }

					set_technology = { usa_light_tank_chassis_1 = 1 }

					set_technology = { usa_motorised_infantry = 1 }
					set_technology = { usa_scout_car_1 = 1 }

					set_technology = { usa_fighter_0 = 1 }
					set_technology = { usa_cv_fighter_1 = 1 }
					set_technology = { usa_cas_1 = 1 }
					set_technology = { usa_cv_cas_1 = 1 }
					set_technology = { usa_cv_naval_bomber_1 = 1 }
					set_technology = { usa_tactical_bomber_1 = 1 }
					set_technology = { usa_tactical_bomber_2 = 1 }
				}
			}
			if = {
				limit = {
					date > 1938.1.1
					has_dlc = "Man the Guns"
				}
				hidden_effect = {
					set_technology = { usa_destroyer_1 = 1 }
					set_technology = { usa_destroyer_2 = 1 }
					set_technology = { usa_destroyer_3 = 1 }
					set_technology = { usa_destroyer_4 = 1 }
					set_technology = { usa_destroyer_5 = 1 }
					set_technology = { usa_light_cruiser_1 = 1 }
					set_technology = { usa_light_cruiser_2 = 1 }
					set_technology = { usa_heavy_cruiser_1 = 1 }
					set_technology = { usa_heavy_cruiser_2 = 1 }
					set_technology = { usa_heavy_cruiser_3 = 1 }
					set_technology = { usa_heavy_cruiser_4 = 1 }
					set_technology = { usa_battleship_1 = 1 }
					set_technology = { usa_battleship_2 = 1 }
					set_technology = { usa_battleship_3 = 1 }
					set_technology = { usa_battleship_4 = 1 }
					set_technology = { usa_super_battleship_2 = 1 }
					set_technology = { usa_carrier_1 = 1 }
					set_technology = { usa_carrier_2 = 1 }
					set_technology = { usa_carrier_3 = 1 }
					set_technology = { usa_carrier_4 = 1 }
					set_technology = { usa_submarine_1 = 1 }
					set_technology = { usa_submarine_2 = 1 }
				}
			}
		}
	}

	french_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 855
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 855
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = FRA_unlock_technologies
			set_country_flag = french_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	italian_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 856
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 856
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = ITA_unlock_technologies
			set_country_flag = italian_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	japanese_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 282
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 282
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = JAP_unlock_technologies
			set_country_flag = japanese_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	german_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 810
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 810
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = GER_unlock_technologies
			set_country_flag = german_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	soviet_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 219
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 219
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = SOV_unlock_technologies
			set_country_flag = soviet_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	british_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 126
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 126
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = ENG_unlock_technologies
			set_country_flag = british_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = unitedstates_technologies_tree_flag
				}
				clr_country_flag = unitedstates_technologies_tree_flag
			}
		}
	}

	unitedstates_permanent_technologies = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			controls_state = 361
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		visible = {
			controls_state = 361
			NOT = { has_country_flag = permanent_technologies_tree_flag }
		}

		fire_only_once = no

		cost = 0

		ai_will_do = {
			base = 100
		}

		complete_effect = {
			set_country_flag = permanent_technologies_tree_flag
			custom_effect_tooltip = USA_unlock_technologies
			set_country_flag = unitedstates_technologies_tree_flag
			if = {
				limit = {
					has_idea = improvised_weapons
				}
				remove_ideas = improvised_weapons
			}
			if = {
				limit = {
					has_idea = foreign_technologies
				}
				remove_ideas = foreign_technologies
			}
			if = {
				limit = {
					has_country_flag = french_technologies_tree_flag
				}
				clr_country_flag = french_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = italian_technologies_tree_flag
				}
				clr_country_flag = italian_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = japanese_technologies_tree_flag
				}
				clr_country_flag = japanese_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = german_technologies_tree_flag
				}
				clr_country_flag = german_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = soviet_technologies_tree_flag
				}
				clr_country_flag = soviet_technologies_tree_flag
			}
			if = {
				limit = {
					has_country_flag = british_technologies_tree_flag
				}
				clr_country_flag = british_technologies_tree_flag
			}
		}
	}
	#TODO:
	Lost_our_tech_tree_partnership = {

		priority = 10

		icon = generic_break_treaty

		available = {
			OR = {
				AND = {
					has_country_flag = french_technologies_tree_flag
					OR = {
						controls_state = 855
						is_in_faction_with = FRA
						is_subject_of = FRA
						has_completed_focus = TUR_seek_a_major_sponser
						has_completed_focus = BEL_seek_a_major_sponsor
						has_completed_focus = CHI_seek_a_major_sponsor
						# has_completed_focus = HUN_seek_a_major_sponsor
						has_completed_focus = ROM_french_military_sponsor
						has_completed_focus = YUG_seek_a_major_sponsor
						has_completed_focus = BUL_seek_a_major_sponsor
						has_completed_focus = HOL_seek_a_major_sponsor
						# has_completed_focus = SPA_seek_a_major_sponsor
						# has_completed_focus = SPR_seek_a_major_sponsor
					}
					NOT = { has_war_with = FRA }
				}
				AND = {
					has_country_flag = italian_technologies_tree_flag
					OR = {
						controls_state = 856
						is_in_faction_with = ITA
						is_subject_of = ITA
						has_completed_focus = TUR_seek_a_major_sponser
						has_completed_focus = BEL_seek_a_major_sponsor
						has_completed_focus = CHI_seek_a_major_sponsor
						# has_completed_focus = HUN_seek_a_major_sponsor
						has_completed_focus = YUG_seek_a_major_sponsor
						has_completed_focus = BUL_seek_a_major_sponsor
						has_completed_focus = HOL_seek_a_major_sponsor
						# has_completed_focus = SPA_seek_a_major_sponsor
						# has_completed_focus = SPR_seek_a_major_sponsor
						has_completed_focus = IRQ_italian_technological_assistance
					}
					NOT = { has_war_with = ITA }
				}
				AND = {
					has_country_flag = japanese_technologies_tree_flag
					OR = {
						controls_state = 282
						is_in_faction_with = JAP
						is_subject_of = JAP
						has_completed_focus = TUR_seek_a_major_sponser
						has_completed_focus = BEL_seek_a_major_sponsor
						has_completed_focus = CHI_seek_a_major_sponsor
						# has_completed_focus = HUN_seek_a_major_sponsor
						has_completed_focus = YUG_seek_a_major_sponsor
						# has_completed_focus = BUL_seek_a_major_sponsor
						has_completed_focus = HOL_seek_a_major_sponsor
						# has_completed_focus = SPA_seek_a_major_sponsor
						# has_completed_focus = SPR_seek_a_major_sponsor
						has_completed_focus = SIA_seek_japanese_sponsorship
					}
					NOT = { has_war_with = JAP }
				}
				AND = {
					has_country_flag = german_technologies_tree_flag
					OR = {
						controls_state = 810
						is_in_faction_with = GER
						is_subject_of = GER
						has_completed_focus = TUR_seek_a_major_sponser
						has_completed_focus = BEL_seek_a_major_sponsor
						has_completed_focus = CHI_seek_a_major_sponsor
						# has_completed_focus = HUN_seek_a_major_sponsor
						has_completed_focus = ROM_german_military_sponsor
						has_completed_focus = YUG_seek_a_major_sponsor
						has_completed_focus = BUL_seek_a_major_sponsor
						has_completed_focus = HOL_seek_a_major_sponsor
						# has_completed_focus = SPA_seek_a_major_sponsor
						# has_completed_focus = SPR_seek_a_major_sponsor
						has_completed_focus = IRQ_german_technological_assistance
					}
					NOT = { has_war_with = GER }
				}
				AND = {
					has_country_flag = soviet_technologies_tree_flag
					OR = {
						controls_state = 219
						is_in_faction_with = SOV
						is_subject_of = SOV
						has_completed_focus = PRC_adoption_of_soviet_technology
						has_completed_focus = TUR_seek_a_major_sponser
						has_completed_focus = BEL_seek_a_major_sponsor
						has_completed_focus = CHI_seek_a_major_sponsor
						# has_completed_focus = HUN_seek_a_major_sponsor
						has_completed_focus = ROM_soviet_military_sponsor
						has_completed_focus = YUG_seek_a_major_sponsor
						has_completed_focus = BUL_seek_a_major_sponsor
						has_completed_focus = HOL_seek_a_major_sponsor
						# has_completed_focus = SPA_seek_a_major_sponsor
						# has_completed_focus = SPR_seek_a_major_sponsor
					}
					NOT = { has_war_with = SOV }
				}
				AND = {
					has_country_flag = british_technologies_tree_flag
					OR = {
						controls_state = 126
						is_in_faction_with = ENG
						is_subject_of = ENG
						has_completed_focus = TUR_seek_a_major_sponser
						has_completed_focus = BEL_seek_a_major_sponsor
						has_completed_focus = CHI_seek_a_major_sponsor
						# has_completed_focus = HUN_seek_a_major_sponsor
						has_completed_focus = YUG_seek_a_major_sponsor
						has_completed_focus = BUL_seek_a_major_sponsor
						has_completed_focus = HOL_seek_a_major_sponsor
						# has_completed_focus = SPA_seek_a_major_sponsor
						# has_completed_focus = SPR_seek_a_major_sponsor
					}
					NOT = { has_war_with = ENG }
				}
				AND = {
					has_country_flag = unitedstates_technologies_tree_flag
					OR = {
						controls_state = 361
						is_in_faction_with = USA
						is_subject_of = USA
						has_completed_focus = TUR_seek_a_major_sponser
						has_completed_focus = BEL_seek_a_major_sponsor
						has_completed_focus = CHI_seek_a_major_sponsor
						# has_completed_focus = HUN_seek_a_major_sponsor
						has_completed_focus = YUG_seek_a_major_sponsor
						# has_completed_focus = BUL_seek_a_major_sponsor
						has_completed_focus = HOL_seek_a_major_sponsor
						# has_completed_focus = SPA_seek_a_major_sponsor
						# has_completed_focus = SPR_seek_a_major_sponsor
						has_completed_focus = SIA_seek_usa_sponsorship
					}
					NOT = { has_war_with = USA }
				}
			}
		}

		days_mission_timeout = 1

		activation = {
			OR = {
				AND = {
					has_country_flag = french_technologies_tree_flag
					NOT = { controls_state = 855 }
					OR = {
						AND = {
							NOT = { is_in_faction_with = FRA}
							NOT = { is_subject_of = FRA}
							NOT = { has_completed_focus = TUR_seek_a_major_sponser }
							NOT = { has_completed_focus = BEL_seek_a_major_sponsor }
							NOT = { has_completed_focus = CHI_seek_a_major_sponsor }
							#NOT = { has_completed_focus = HUN_seek_a_major_sponsor }
							NOT = { has_completed_focus = ROM_french_military_sponsor }
							NOT = { has_completed_focus = YUG_seek_a_major_sponsor }
							NOT = { has_completed_focus = BUL_seek_a_major_sponsor }
							NOT = { has_completed_focus = HOL_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPA_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPR_seek_a_major_sponsor }
						}
						has_war_with = FRA
					}
				}
				AND = {
					has_country_flag = italian_technologies_tree_flag
					NOT = { controls_state = 856 }
					OR = {
						AND = {
							NOT = { is_in_faction_with = ITA}
							NOT = { is_subject_of = ITA}
							NOT = { has_completed_focus = TUR_seek_a_major_sponser }
							NOT = { has_completed_focus = BEL_seek_a_major_sponsor }
							NOT = { has_completed_focus = CHI_seek_a_major_sponsor }
							#NOT = { has_completed_focus = HUN_seek_a_major_sponsor }
							NOT = { has_completed_focus = YUG_seek_a_major_sponsor }
							NOT = { has_completed_focus = BUL_seek_a_major_sponsor }
							NOT = { has_completed_focus = HOL_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPA_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPR_seek_a_major_sponsor }
							NOT = { has_completed_focus = IRQ_italian_technological_assistance }
						}
						has_war_with = ITA
					}
				}
				AND = {
					has_country_flag = japanese_technologies_tree_flag
					NOT = { controls_state = 282 }
					OR = {
						AND = {
							NOT = { is_in_faction_with = JAP }
							NOT = { is_subject_of = JAP }
							NOT = { has_completed_focus = TUR_seek_a_major_sponser }
							NOT = { has_completed_focus = BEL_seek_a_major_sponsor }
							NOT = { has_completed_focus = CHI_seek_a_major_sponsor }
							#NOT = { has_completed_focus = HUN_seek_a_major_sponsor }
							NOT = { has_completed_focus = YUG_seek_a_major_sponsor }
							NOT = { has_completed_focus = BUL_seek_a_major_sponsor }
							NOT = { has_completed_focus = HOL_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPA_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPR_seek_a_major_sponsor }
							NOT = { has_completed_focus = SIA_seek_japanese_sponsorship }
						}
						has_war_with = JAP
					}
				}
				AND = {
					has_country_flag = german_technologies_tree_flag
					NOT = { controls_state = 810 }
					OR = {
						AND = {
							NOT = { is_in_faction_with = GER }
							NOT = { is_subject_of = GER }
							NOT = { has_completed_focus = TUR_seek_a_major_sponser }
							NOT = { has_completed_focus = BEL_seek_a_major_sponsor }
							NOT = { has_completed_focus = CHI_seek_a_major_sponsor }
							#NOT = { has_completed_focus = HUN_seek_a_major_sponsor }
							NOT = { has_completed_focus = ROM_german_military_sponsor }
							NOT = { has_completed_focus = YUG_seek_a_major_sponsor }
							NOT = { has_completed_focus = BUL_seek_a_major_sponsor }
							NOT = { has_completed_focus = HOL_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPA_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPR_seek_a_major_sponsor }
							NOT = { has_completed_focus = IRQ_german_technological_assistance }
						}
						has_war_with = GER
					}
				}
				AND = {
					has_country_flag = soviet_technologies_tree_flag
					NOT = { controls_state = 219 }
					OR = {
						AND = {
							NOT = { is_in_faction_with = SOV}
							NOT = { is_subject_of = SOV}
							NOT = { has_completed_focus = PRC_adoption_of_soviet_technology}
							NOT = { has_completed_focus = TUR_seek_a_major_sponser }
							NOT = { has_completed_focus = BEL_seek_a_major_sponsor }
							NOT = { has_completed_focus = CHI_seek_a_major_sponsor }
							#NOT = { has_completed_focus = HUN_seek_a_major_sponsor }
							NOT = { has_completed_focus = ROM_soviet_military_sponsor }
							NOT = { has_completed_focus = YUG_seek_a_major_sponsor }
							NOT = { has_completed_focus = BUL_seek_a_major_sponsor }
							NOT = { has_completed_focus = HOL_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPA_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPR_seek_a_major_sponsor }
						}
						has_war_with = SOV
					}
				}
				AND = {
					has_country_flag = british_technologies_tree_flag
					NOT = { controls_state = 126 }
					OR = {
						AND = {
							NOT = { is_in_faction_with = ENG}
							NOT = { is_subject_of = ENG}
							NOT = { has_completed_focus = TUR_seek_a_major_sponser }
							NOT = { has_completed_focus = BEL_seek_a_major_sponsor }
							NOT = { has_completed_focus = CHI_seek_a_major_sponsor }
							#NOT = { has_completed_focus = HUN_seek_a_major_sponsor }
							NOT = { has_completed_focus = YUG_seek_a_major_sponsor }
							NOT = { has_completed_focus = BUL_seek_a_major_sponsor }
							NOT = { has_completed_focus = HOL_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPA_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPR_seek_a_major_sponsor }
						}
						has_war_with = ENG
					}
				}
				AND = {
					has_country_flag = unitedstates_technologies_tree_flag
					NOT = { controls_state = 361 }
					OR = {
						AND = {
							NOT = { is_in_faction_with = USA}
							NOT = { is_subject_of = USA}
							NOT = { has_completed_focus = TUR_seek_a_major_sponser }
							NOT = { has_completed_focus = BEL_seek_a_major_sponsor }
							NOT = { has_completed_focus = CHI_seek_a_major_sponsor }
							#NOT = { has_completed_focus = HUN_seek_a_major_sponsor }
							NOT = { has_completed_focus = YUG_seek_a_major_sponsor }
							NOT = { has_completed_focus = BUL_seek_a_major_sponsor }
							NOT = { has_completed_focus = HOL_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPA_seek_a_major_sponsor }
							# NOT = { has_completed_focus = SPR_seek_a_major_sponsor }
							NOT = { has_completed_focus = SIA_seek_usa_sponsorship }
						}
						has_war_with = USA
					}
				}
			}
		}

		visible = {
		}

		is_good = no

		complete_effect = {

		}

		timeout_effect = {
			clr_country_flag = french_technologies_tree_flag
			clr_country_flag = italian_technologies_tree_flag
			clr_country_flag = japanese_technologies_tree_flag
			clr_country_flag = german_technologies_tree_flag
			clr_country_flag = soviet_technologies_tree_flag
			clr_country_flag = british_technologies_tree_flag
			clr_country_flag = unitedstates_technologies_tree_flag
			remove_ideas = foreign_technologies
		}
	}

	####################################################################

	french_technologies_ask = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			FRA = { has_capitulated = no }
			NOT = {
				has_country_flag = french_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			NOT = {
				is_in_faction_with = FRA
				is_subject_of = FRA
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_war_with = FRA
					FRA = { has_capitulated = yes }
				}
			}
			NOT = {
				is_in_faction_with = FRA
				is_subject_of = FRA
			}
			OR = {
				hidden_trigger = {
					has_completed_focus = TUR_seek_a_major_sponser
				}
				hidden_trigger = {
					has_completed_focus = BEL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = CHI_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = ROM_french_military_sponsor
				}
				hidden_trigger = {
					has_completed_focus = YUG_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = BUL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = HOL_seek_a_major_sponsor
				}
				#hidden_trigger = {
				#	has_completed_focus = SPA_seek_a_major_sponsor
				#}
				#hidden_trigger = {
				#	has_completed_focus = SPR_seek_a_major_sponsor
				#}
			}
			NOT = {
				has_country_flag = major_sponser_cooldown_flag
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0
		}

		complete_effect = {
			custom_effect_tooltip = FRA_unlock_technologies
			FRA = { country_event = { id = bel_armor.807 } }
		}
	}

	italian_technologies_ask = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			ITA = { has_capitulated = no }
			NOT = {
				has_country_flag = italian_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			NOT = {
				is_in_faction_with = ITA
				is_subject_of = ITA
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = ITA
					ITA = { has_capitulated = yes }
				}
			}
			NOT = {
				is_in_faction_with = ITA
				is_subject_of = ITA
			}
			OR = {
				hidden_trigger = {
					has_completed_focus = TUR_seek_a_major_sponser
				}
				hidden_trigger = {
					has_completed_focus = BEL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = CHI_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = YUG_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = BUL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = HOL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = IRQ_italian_technological_assistance
				}
				#hidden_trigger = {
				#	has_completed_focus = SPA_seek_a_major_sponsor
				#}
				#hidden_trigger = {
				#	has_completed_focus = SPR_seek_a_major_sponsor
				#}
				hidden_trigger = {
					has_completed_focus = IRQ_italian_technological_assistance
				}
			}
			NOT = {
				has_country_flag = major_sponser_cooldown_flag
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0
		}

		complete_effect = {
			custom_effect_tooltip = ITA_unlock_technologies
			ITA = { country_event = { id = bel_armor.807 } }
		}
	}

	japanese_technologies_ask = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			JAP = { has_capitulated = no }
			NOT = {
				has_country_flag = japanese_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			NOT = {
				is_in_faction_with = JAP
				is_subject_of = JAP
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = JAP
					JAP = { has_capitulated = yes }
				}
			}
			NOT = {
				is_in_faction_with = JAP
				is_subject_of = JAP
			}
			OR = {
				hidden_trigger = {
					has_completed_focus = TUR_seek_a_major_sponser
				}
				hidden_trigger = {
					has_completed_focus = BEL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = CHI_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = YUG_seek_a_major_sponsor
				}
				#hidden_trigger = {
				#	has_completed_focus = BUL_seek_a_major_sponsor
				#}
				hidden_trigger = {
					has_completed_focus = HOL_seek_a_major_sponsor
				}
				#hidden_trigger = {
				#	has_completed_focus = SPA_seek_a_major_sponsor
				#}
				#hidden_trigger = {
				#	has_completed_focus = SPR_seek_a_major_sponsor
				#}
				hidden_trigger = { 
					has_completed_focus = SIA_seek_japanese_sponsorship 
				}
			}
			NOT = {
				has_country_flag = major_sponser_cooldown_flag
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0
		}

		complete_effect = {
			custom_effect_tooltip = JAP_unlock_technologies
			JAP = { country_event = { id = bel_armor.807 } }
		}
	}

	german_technologies_ask = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			GER = { has_capitulated = no }
			NOT = {
				has_country_flag = german_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			NOT = {
				is_in_faction_with = GER
				is_subject_of = GER
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = GER
					GER = { has_capitulated = yes }
				}
			}
			NOT = {
				is_in_faction_with = GER
				is_subject_of = GER
			}
			OR = {
				hidden_trigger = {
					has_completed_focus = TUR_seek_a_major_sponser
				}
				hidden_trigger = {
					has_completed_focus = BEL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = CHI_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = ROM_german_military_sponsor
				}
				hidden_trigger = {
					has_completed_focus = YUG_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = BUL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = HOL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = IRQ_german_technological_assistance
				}
				#hidden_trigger = {
				#	has_completed_focus = SPA_seek_a_major_sponsor
				#}
				#hidden_trigger = {
				#	has_completed_focus = SPR_seek_a_major_sponsor
				#}
				hidden_trigger = {
					has_completed_focus = IRQ_german_technological_assistance
				}
			}
			NOT = {
				has_country_flag = major_sponser_cooldown_flag
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = ROM
			}
			modifier = {
				add = 100
				tag = SLO
			}
			modifier = {
				add = 100
				tag = BUL
			}
			modifier = {
				add = 100
				tag = BEN
			}
			modifier = {
				add = 100
				tag = SCA
			}
		}

		complete_effect = {
			custom_effect_tooltip = GER_unlock_technologies
			GER = { country_event = { id = bel_armor.807 } }
		}
	}

	soviet_technologies_ask = {

		allowed = {
			NOT = {original_tag = FRA }
			NOT = {original_tag = ITA }
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV }
			NOT = {original_tag = ENG }
			NOT = {original_tag = USA }
		}

		available = {
			SOV = { has_capitulated = no }
			NOT = {
				has_country_flag = soviet_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			NOT = {
				is_in_faction_with = SOV
				is_subject_of = SOV
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = SOV
					SOV = { has_capitulated = yes }
				}
			}
			NOT = {
				is_in_faction_with = SOV
				is_subject_of = SOV
			}
			OR = {
				hidden_trigger = {
					has_completed_focus = TUR_seek_a_major_sponser
				}
				hidden_trigger = {
					has_completed_focus = BEL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = CHI_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = ROM_soviet_military_sponsor
				}
				hidden_trigger = {
					has_completed_focus = PRC_adoption_of_soviet_technology
				}
				hidden_trigger = {
					has_completed_focus = YUG_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = BUL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = HOL_seek_a_major_sponsor
				}
				#hidden_trigger = {
				#	has_completed_focus = SPA_seek_a_major_sponsor
				#}
				#hidden_trigger = {
				#	has_completed_focus = SPR_seek_a_major_sponsor
				#}
			}
			NOT = {
				has_country_flag = major_sponser_cooldown_flag
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = PRC
			}

			modifier = {
				add = 50
				tag = ROM
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_unlock_technologies
			SOV = { country_event = { id = bel_armor.807 } }
		}
	}

	british_technologies_ask = {

		allowed = {
			NOT = {original_tag = FRA}
			NOT = {original_tag = ITA}
			NOT = {original_tag = JAP }
			NOT = {original_tag = GER }
			NOT = {original_tag = SOV}
			NOT = {original_tag = ENG}
			NOT = {original_tag = USA}
		}

		available = {
			ENG = { has_capitulated = no }
			NOT = {
				has_country_flag = british_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			NOT = {
				is_in_faction_with = ENG
				is_subject_of = ENG
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = ENG
					ENG = { has_capitulated = yes }
					has_global_flag = ENG_fall_of_the_uk
				}
			}
			NOT = {
				is_in_faction_with = ENG
				is_subject_of = ENG
			}
			OR = {
				hidden_trigger = {
					has_completed_focus = TUR_seek_a_major_sponser
				}
				hidden_trigger = {
					has_completed_focus = BEL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = CHI_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = YUG_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = BUL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = HOL_seek_a_major_sponsor
				}
				#hidden_trigger = {
				#	has_completed_focus = SPA_seek_a_major_sponsor
				#}
				#hidden_trigger = {
				#	has_completed_focus = SPR_seek_a_major_sponsor
				#}
			}
			NOT = {
				has_country_flag = major_sponser_cooldown_flag
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = YUG
			}

			modifier = {
				add = 50
				tag = BEL
			}

			modifier = {
				add = 100
				tag = HOL
			}

			modifier = {
				add = 50
				tag = LUX
			}

			modifier = {
				add = 100
				tag = GRE
			}

			modifier = {
				add = 50
				tag = NOR
			}
		}

		complete_effect = {
			custom_effect_tooltip = ENG_unlock_technologies
			ENG = { country_event = { id = bel_armor.807 } }
		}
	}

	unitedstates_technologies_ask = {

		allowed = {
			NOT = { original_tag = FRA }
			NOT = { original_tag = ITA }
			NOT = { original_tag = JAP }
			NOT = { original_tag = GER }
			NOT = { original_tag = SOV}
			NOT = { original_tag = ENG }
			NOT = { original_tag = USA }
		}

		available = {
			USA = { has_capitulated = no }
			NOT = {
				has_country_flag = unitedstates_technologies_tree_flag
			}
			NOT = {
				has_country_flag = permanent_technologies_tree_flag
			}
			NOT = {
				is_in_faction_with = USA
				is_subject_of = USA
			}
		}

		visible = {
			NOT = {
				OR = {
					has_country_flag = french_technologies_tree_flag
					has_country_flag = italian_technologies_tree_flag
					has_country_flag = japanese_technologies_tree_flag
					has_country_flag = german_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = british_technologies_tree_flag
					has_country_flag = soviet_technologies_tree_flag
					has_country_flag = unitedstates_technologies_tree_flag
					has_country_flag = permanent_technologies_tree_flag
					has_war_with = USA
					USA = { has_capitulated = yes }
				}
			}
			NOT = {
				is_in_faction_with = USA
				is_subject_of = USA
			}
			OR = {
				hidden_trigger = {
					has_completed_focus = TUR_seek_a_major_sponser
				}
				hidden_trigger = {
					has_completed_focus = BEL_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = CHI_seek_a_major_sponsor
				}
				hidden_trigger = {
					has_completed_focus = YUG_seek_a_major_sponsor
				}
				#hidden_trigger = {
				#	has_completed_focus = BUL_seek_a_major_sponsor
				#}
				hidden_trigger = {
					has_completed_focus = HOL_seek_a_major_sponsor
				}
				#hidden_trigger = {
				#	has_completed_focus = SPA_seek_a_major_sponsor
				#}
				#hidden_trigger = {
				#	has_completed_focus = SPR_seek_a_major_sponsor
				#}
				hidden_trigger = { 
					has_completed_focus = SIA_seek_usa_sponsorship 
				}
			}
			NOT = {
				has_country_flag = major_sponser_cooldown_flag
			}
		}

		fire_only_once = no

		cost = 150

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = CHI
			}
		}

		complete_effect = {
			custom_effect_tooltip = USA_unlock_technologies
			USA = { country_event = { id = bel_armor.807 } }
		}
	}
}