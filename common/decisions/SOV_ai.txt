political_actions = {

	SOV_niki = {
		icon = generic_operation
		allowed = {
			original_tag = SOV
		}
		available = {
			date > 1937.1.1
		}
		visible = {
			is_ai = yes
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			activate_advisor = nikita_khrushchyov
		}
	}

	SOV_field_marshal_fix = {
		icon = generic_construction
		allowed = {
			original_tag = SOV
		}
		available = {
			any_army_leader = {
				is_field_marshal = yes
				NOT = {
					is_character = SOV_georgy_zhukov
				}
				NOT = {
					is_character = SOV_aleksandr_vasilevsky
				}
				NOT = {
					is_character = SOV_konstantin_rokossovsky
				}
				NOT = {
					is_character = SOV_nikolay_vatutin
				}
				NOT = {
					is_character = SOV_vasily_kuznetsov
				}
				NOT = {
					is_character = SOV_semyon_timoshenko
				}
				NOT = {
					is_character = SOV_andrey_yeryomenko
				}
				NOT = {
					is_character = SOV_mikhail_tukhachevsky
				}
				NOT = {
					is_character = SOV_mikhail_tukhachevsky_ai
				}
				NOT = {
					is_character = SOV_konstantin_rokossovsky_ai
				}
				NOT = {
					is_character = SOV_georgy_zhukov_ai
				}
			}
		}
		visible = {
			is_ai = yes
		}

		cancel_if_not_visible = yes

		fire_only_once = no
		days_re_enable = 5

		cost = 0

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			every_army_leader = {
				limit = {
					is_field_marshal = yes
					NOT = {
						is_character = SOV_georgy_zhukov
					}
					NOT = {
						is_character = SOV_aleksandr_vasilevsky
					}
					NOT = {
						is_character = SOV_konstantin_rokossovsky
					}
					NOT = {
						is_character = SOV_nikolay_vatutin
					}
					NOT = {
						is_character = SOV_vasily_kuznetsov
					}
					NOT = {
						is_character = SOV_semyon_timoshenko
					}
					NOT = {
						is_character = SOV_vasily_chuykov
					}
					NOT = {
						is_character = SOV_andrey_yeryomenko
					}
					NOT = {
						is_character = SOV_mikhail_tukhachevsky
					}
					NOT = {
						is_character = SOV_mikhail_tukhachevsky_ai
					}
					NOT = {
						is_character = SOV_konstantin_rokossovsky_ai
					}
					NOT = {
						is_character = SOV_georgy_zhukov_ai
					}
				}
				demote_leader = yes
			}
		}
	}

	SOV_guarantee_failsafe = {
		icon = generic_operation
		available = {
			tag = SOV
			date > 1941.4.1
		}
		visible = {
			is_ai = yes
			tag = SOV
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 4000
		}

		complete_effect = {
			diplomatic_relation = {
				country = ENG
				relation = guarantee
				active = no
			}
		}
	}

	SOV_beria = {
		icon = generic_operation
		allowed = {
			original_tag = SOV
		}
		available = {
		}
		visible = {
			has_completed_focus = SOV_the_bloc_of_rights_and_trotskyites
			is_ai = yes
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 80
		}

		complete_effect = {
			activate_advisor = SOV_lavrenty_beriya
		}
	}
	
	SOV_ai_training_fix = {

		icon = generic_operation

        allowed = {
			tag = SOV
        }

        available = {
	        date > 1940.1.1
			has_war_with_major = no
        }

        visible = {
        	is_ai = yes
        }

        cost = 0
        days_remove = 500
        fire_only_once = yes

        remove_trigger = {
			OR = {
				is_ai = no
				has_war_with_major = yes
			}
        }

        modifier = {
        	training_time_army_factor = -0.85
        }

        ai_will_do = {
			factor = 1000
		}

		complete_effect = {
        }
	}
	
	SOV_ai_training_fix_2 = {

		icon = generic_operation

        allowed = {
			tag = SOV
        }

        available = {
			is_ai = yes
        }

        visible = {
        	is_ai = yes
			has_game_rule = {
				rule = SOV_ai_behavior
				option = LEFT_OPPOSITION
			}
			has_idea = mandatory_army_service
        }

        fire_only_once = yes

        ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			remove_ideas = mandatory_army_service
        }
	}
	
	SOV_ai_civil_war_repair = {

		icon = generic_operation

        allowed = {
			tag = SOV
        }

        available = {
			has_global_flag = SOV_soviet_civil_war_over
        }

        visible = {
        	is_ai = yes
        }

        cost = 0
        days_remove = 120
        fire_only_once = yes

        modifier = {
        	industry_free_repair_factor = 0.5
        }

        ai_will_do = {
			factor = 1000
		}

		complete_effect = {
        }
	}
	
	SOV_ai_capital_fix = {

		icon = generic_operation

        allowed = {
			tag = SOV
        }

        available = {
			is_ai = yes
        }

        visible = {
        	is_ai = yes
			has_game_rule = {
				rule = SOV_ai_behavior
				option = LEFT_OPPOSITION
			}
			219 = { is_capital = no }
			has_full_control_of_state = 219
			surrender_progress < 0.15
        }

        fire_only_once = no

        ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			set_capital = { state = 219 }
        }
	}
}

war_measures = {
	SOV_aivsai_winter_war_failsafe = { ###AI vs AI
		icon = generic_operation
		allowed = {
			original_tag = SOV
		}
		available = {
			has_war_with = FIN
		}
		visible = {
			is_ai = yes
			FIN = {
				is_ai = yes
			}
			NOT = {
				has_war_with = GER
			}
			date > 1940.1.15
			date < 1941.1.1
		}

		cost = 0
		fire_only_once = yes
		days_remove = 60
		targeted_modifier = {
			tag = FIN
			attack_bonus_against = 1.25
		}
		modifier = {
			combat_width_factor = -0.33
		}
		complete_effect = {
		}

		ai_will_do = {
			factor = 1000
		}
	}

	SOV_reverse_barbarossa = {
		icon = generic_operation
		allowed = {
			original_tag = SOV
		}
		available = {
			OR = {
				GER = {
					divisions_in_state = {
						type = infantry
						size < 7
						state = 88
					}
				}
				GER = {
					divisions_in_state = {
						type = infantry
						size < 13
						state = 92
					}
				}
				GER = {
					divisions_in_state = {
						type = infantry
						size < 7
						state = 892
					}
				}
				GER = {
					divisions_in_state = {
						type = infantry
						size < 4
						state = 98
					}
				}
				GER = {
					divisions_in_state = {
						type = infantry
						size < 7
						state = 5
					}
				}
			}
			OR = {
				120 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				121 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				122 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				123 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				125 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				126 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				127 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				128 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				129 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				130 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				131 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				132 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				133 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				136 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				338 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				857 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				858 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				859 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				860 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				961 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
			}
			NOT = {
				AND = {
					120 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					121 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					122 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					123 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					125 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					126 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					127 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					128 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					129 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					130 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					131 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					132 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					133 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					136 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					338 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					857 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					858 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					859 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					860 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
					961 = {
						CONTROLLER = {
							OR = {
								tag = GER
								is_subject_of = GER
								is_in_faction_with = GER
							}
						}
					}
				}
			}
		}
		visible = {
			is_ai = yes
			NOT = {
				has_war_with = GER
			}
			date > 1942.3.1
			has_global_flag = fall_of_france
		}

		cost = 0

		fire_only_once = yes

		ai_will_do = {
			factor = 4000
		}

		complete_effect = {
			if = {
				limit = {
					NOT = {
						GER = {
							is_in_faction_with = SOV
						}
					}
				}
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = ROM
					}
				}
				declare_war_on = {
					target = ROM
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = HUN
					}
				}
				declare_war_on = {
					target = HUN
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = RPO
					}
				}
				declare_war_on = {
					target = RPO
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = SLO
					}
				}
				declare_war_on = {
					target = SLO
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = BUL
					}
				}
				declare_war_on = {
					target = BUL
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = CRO
					}
				}
				declare_war_on = {
					target = CRO
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = RCZ
					}
				}
				declare_war_on = {
					target = RCZ
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = RNO
					}
				}
				declare_war_on = {
					target = RNO
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = FIN
					}
				}
				declare_war_on = {
					target = FIN
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = RSW
					}
				}
				declare_war_on = {
					target = RSW
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = VIC
					}
				}
				declare_war_on = {
					target = VIC
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = RSE
					}
				}
				declare_war_on = {
					target = RSE
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = RTU
					}
				}
				declare_war_on = {
					target = RTU
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = RDE
					}
				}
				declare_war_on = {
					target = RDE
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = RHO
					}
				}
				declare_war_on = {
					target = RHO
					type = annex_everything
				}
			}
			if = {
				limit = {
					GER = {
						is_in_faction_with = RBL
					}
				}
				declare_war_on = {
					target = RBL
					type = annex_everything
				}
			}
		}
	}

	SOV_trash_template_fix = {
		icon = generic_prepare_civil_war

		allowed = {
			tag = SOV
		}

		available = {
			has_war = yes
		}
		visible = {
			is_ai = yes
			OR = {
				has_template = "Motostrelkovaya Diviziya"
				has_template = "Kazachya Kavaleryskaya Diviziya"
				has_template = "Vozdushno-Desantnaya Brigada"
				has_template = "Soviet Motorized Division"
			}
		}
		cost = 0

		fire_only_once = no
		days_re_enable = 30

		ai_will_do = {
			factor = 4000
		}

		complete_effect = {
			delete_unit_template_and_units = { division_template = "Motostrelkovaya Diviziya" disband = yes}
			delete_unit_template_and_units = { division_template = "Kazachya Kavaleryskaya Diviziya" disband = yes}
			delete_unit_template_and_units = { division_template = "Vozdushno-Desantnaya Brigada" disband = yes}
			delete_unit_template_and_units = { division_template = "Soviet Motorized Division" disband = yes}
		}
	}

	SOV_AI_armyspirit = { #army has been reformed
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
		}
		visible = {
			has_tech = converging_sheaf
			is_ai = yes
		}
		cost = 0

		fire_only_once = yes

		ai_will_do = {
			factor = 320
		}

		complete_effect = {
			set_country_flag = army_is_reformed
			add_ideas = bold_attack_spirit
			if = {
				limit = {
					AND = {
						NOT = {
							has_idea = officers_purged
						}
						NOT = {
							has_idea = officers_purged_2
						}
						NOT = {
							has_idea = officers_purged_3
						}
						NOT = {
							has_idea = officers_purged_4
						}
						NOT = {
							has_idea = officers_purged_5
						}
						NOT = {
							has_idea = officers_purged_6
						}
						NOT = {
							has_idea = officers_purged_7
						}
						NOT = {
							has_idea = officers_purged_8
						}
						NOT = {
							has_idea = officers_purged_9
						}
						NOT = {
							has_idea = officers_purged_10
						}
					}
				}
				add_ideas = quick_improvisation_spirit
			}
			add_ideas = operational_reserve_spirit
			if = {
				limit = {
					has_completed_focus = SOV_approach_tukhachevsky
				}	
				add_ideas = strategic_reserve_spirit
			}
			activate_advisor = konstantin_rokossovsky
		}
	}
	SOV_relocate_capital_from_moscow_ai = {
		icon = generic_operation
		allowed = {
			original_tag = SOV
		}
		available = {
			has_civil_war = no
			NOT = { SOV = { has_full_control_of_state = 219 } }
			SOV = { has_full_control_of_state = 252 }
		}
		visible = {
			is_ai = yes
			has_war = yes
			NOT = { SOV = { has_full_control_of_state = 219 } }
		}

		days_re_enable = 30
		days_remove = 1
		cost = 0

		cancel_if_not_visible = yes

		ai_will_do = {
			factor = 8000
		}

		remove_effect = {
			set_capital = { state = 252 }
		}
	}

	SOV_relocate_capital_from_gorki_ai = {
		icon = generic_operation
		allowed = {
			original_tag = SOV
		}
		available = {
			has_war = yes
			NOT = { SOV = { has_full_control_of_state = 252 } }
			SOV = { has_full_control_of_state = 249 }
		}
		visible = {
			is_ai = yes
			has_war = yes
			NOT = { SOV = { has_full_control_of_state = 252 } }
		}

		days_re_enable = 30
		days_remove = 1
		cost = 0

		cancel_if_not_visible = yes

		ai_will_do = {
			factor = 8000
		}

		remove_effect = {
			set_capital = { state = 249 }
		}
	}

	SOV_relocate_capital_from_kazan_ai = {
		icon = generic_operation
		available = {
			SOV = { has_full_control_of_state = 572 }
		}
		visible = {
			is_ai = yes
			original_tag = SOV
			has_war = yes
			NOT = { SOV = { has_full_control_of_state = 249 } }
		}

		days_re_enable = 30
		days_remove = 1
		cost = 0

		cancel_if_not_visible = yes

		ai_will_do = {
			factor = 4000
		}

		remove_effect = {
			set_capital = { state = 572 }
		}
	}

	SOV_trotsky_fix = {
		icon = generic_operation
		available = {
			has_completed_focus = SOV_behead_the_snake
			OR = {
				has_global_flag = trotsky_exile_mexico
				has_global_flag = flag_mexico_invited_trotsky_to_government
			}
			NOT = { has_global_flag = flag_trotsky_dead }
			NOT = { has_global_flag = flag_trotsky_has_returned_to_ussr_from_mexico }
			MEX = {
				controls_state = 277
			}
		}
		visible = {
			is_ai = yes
			tag = SOV
			has_completed_focus = SOV_behead_the_snake
			OR = {
				has_global_flag = trotsky_exile_mexico
				has_global_flag = flag_mexico_invited_trotsky_to_government
			}
			NOT = { has_global_flag = flag_trotsky_dead }
			NOT = { has_global_flag = flag_trotsky_has_returned_to_ussr_from_mexico }
			MEX = {
				controls_state = 277
			}
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 80
		}

		complete_effect = {
			ROOT = { news_event = { id = nsb_news.100 } }
		}
	}

	SOV_sergy = {
		icon = generic_operation
		available = {
			has_completed_focus = SOV_patriarch_of_all_russia
		}
		visible = {
			is_ai = yes
			tag = SOV
			has_completed_focus = SOV_patriarch_of_all_russia
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 80
		}

		complete_effect = {
			activate_advisor = SOV_patriarch_sergy
			add_political_power = -50
		}
	}

	SOV_zhukov = {
		icon = generic_operation

		available = {
			has_idea = SOV_iosif_stalin
		}
		visible = {
			has_idea = SOV_iosif_stalin
			is_ai = yes
			has_completed_focus = SOV_positive_heroism
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 800
		}

		complete_effect = {
			remove_ideas = { SOV_iosif_stalin }
			add_ideas = { georgy_zhukov }
		}
	}

	SOV_designers = {
		icon = generic_operation

		available = {
			date > 1940.1.1
		}
		visible = {
			tag = SOV
			date > 1940.1.1
			is_ai = yes
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 800
		}

		complete_effect = {
			add_political_power = -150
			add_ideas = { SOV_tula_arms_plant }
			add_ideas = { SOV_morozov_design_bureau }
		}
	}

	SOV_AI_needs_convoys = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}

		available = {
			has_war = yes
		}
		visible = {
			tag = SOV
			is_ai = yes
			has_equipment = {
				convoy_1 < 1000
			}
		}
		cost = 0

		fire_only_once = no

		days_re_enable = 45

		ai_will_do = {
			factor = 320
		}

		complete_effect = {
			add_equipment_to_stockpile = { type = convoy_1 amount = 35 producer = SOV }
		}
	}
}

SOV_aid_china = {

	SOV_provide_smolguns_ai_china = {

		icon = ger_military_buildup

		allowed = {
			original_tag = SOV
		}

		visible = {
			CHI = {
				is_ai = yes
			}
			is_ai = yes
			CHI = { has_war_with = JAP }
		}

		available = {
			date > 1938.1.1
			CHI = {
				has_equipment = { infantry_equipment < 1000 }
			}
			has_equipment = { infantry_equipment > 9999 }
			NOT = { CHI = { has_war_with = SOV } }
			NOT = { has_war_with = GER }
		}

		cost = 0
		days_remove = 15

		ai_will_do = {
			factor = 400
		}

		complete_effect = {
		}

		remove_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				producer = SOV
				amount = -1000
			}
			CHI = {
				add_equipment_to_stockpile = { type = sov_inf_1 amount = 1000 producer = SOV }
			}
		}
	}

	SOV_provide_heavyguns_ai_china = {

		icon = ger_military_buildup

		allowed = {
			original_tag = SOV
		}

		visible = {
			CHI = {
				is_ai = yes
			}
			is_ai = yes
			CHI = { has_war_with = JAP }
		}

		available = {
			date > 1938.1.1
			CHI = {
				has_equipment = { heavy_infantry_equipment < 1000 }
			}
			has_equipment = { heavy_infantry_equipment > 4999 }
			NOT = { CHI = { has_war_with = SOV } }
			NOT = { has_war_with = GER }
		}

		cost = 0
		days_remove = 15

		ai_will_do = {
			factor = 400
		}

		complete_effect = {
		}

		remove_effect = {
			add_equipment_to_stockpile = {
				type = heavy_infantry_equipment
				producer = SOV
				amount = -500
			}
			CHI = {
				add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 500 producer = SOV }
			}
		}
	}
}

SOV_industry_relocation_ai = {

	SOV_relocate_industry_from_moscow_area_ai = {

		icon = generic_construction

		allowed = {
			original_tag = SOV
		}
		available = {
			219 = { #Moscow
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			653 = { is_owned_and_controlled_by = SOV } #Sverdlovsk
			572 = { is_owned_and_controlled_by = SOV } #Chelyabinsk
		}
		highlight_states = {
			highlight_state_targets = {
				state = 219
			}
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 10000
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_moscow_area_ai
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_5 = yes
		}
	}
	SOV_relocating_industry_from_moscow_area_ai = {
		icon = generic_construction

		allowed = {
			tag = SOV
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 219
			}
		}
		available = {
			OR = {
				NOT = {
					219 = { is_owned_and_controlled_by = SOV }
				}
				AND = {
					219 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
				}
			}
		}

		days_mission_timeout = 7
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {	#Moscow
				prioritize = { 219 }
				limit = {
					region = 271
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						synthetic_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 570 40 403 653 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {	#Smolinsk
				prioritize = { 242 }
				limit = {
					region = 271
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						synthetic_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 570 40 403 653 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {	#Rezhev
				prioritize = { 246 }
				limit = {
					region = 271
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						synthetic_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 570 40 403 653 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {	#Tula
				prioritize = { 223 }
				limit = {
					region = 271
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						synthetic_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 570 40 403 653 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_moscow_area_ai
			}
		}
	}

	SOV_relocate_industry_from_leningrad_area_ai = {
		icon = generic_construction
		allowed = {
			original_tag = SOV
		}

		available = {
			195 = { #Leningrad
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			653 = { is_owned_and_controlled_by = SOV } #Sverdlovsk
			572 = { is_owned_and_controlled_by = SOV } #Chelyabinsk
		}

		highlight_states = {
			highlight_state_targets = {
				state = 195
			}
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 10000
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_leningrad_area_ai
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_2 = yes
		}
	}
	SOV_relocating_industry_from_leningrad_area_ai = {
		icon = generic_construction

		allowed = {
			tag = SOV
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 195
			}
		}
		available = {
			OR = {
				NOT = {
					195 = { is_owned_and_controlled_by = SOV }
					244 = { is_owned_and_controlled_by = SOV }
				}
				AND = {
					195 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
				}
			}
		}

		days_mission_timeout = 7
		is_good = yes
		fire_only_once = no


		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				prioritize = { 195 }
				limit = {
					region = 132
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 403 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 403 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 209 210 208 }
				limit = {
					region = 132
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 403 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 403 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_leningrad_area_ai
			}
		}
	}
	SOV_relocate_industry_from_voronezh_area_ai = {
		icon = generic_construction
		allowed = {
			original_tag = SOV
		}

		available = {
			260 = { #Voronezh
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			653 = { is_owned_and_controlled_by = SOV } #Sverdlovsk
			572 = { is_owned_and_controlled_by = SOV } #Chelyabinsk
		}

		highlight_states = {
			highlight_state_targets = {
				state = 260 #Voronezh
			}
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 10000
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_voronezh_area_ai
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_2 = yes
		}
	}
	SOV_relocating_industry_from_voronezh_area_ai = {
		icon = generic_construction

		allowed = {
			tag = SOV
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 260
			}
		}
		available = {
			OR = {
				NOT = {
					260 = { is_owned_and_controlled_by = SOV }
					258 = { is_owned_and_controlled_by = SOV }
				}
				AND = {
					260 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
					220 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
				}
			}
		}

		days_mission_timeout = 7
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				prioritize = { 220 }
				limit = {
					region = 272
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 403 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 403 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					region = 272
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 403 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 403 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_voronezh_area_ai
			}
		}
	}
	SOV_relocate_industry_from_stalingrad_area_ai = {
		icon = generic_construction
		allowed = {
			original_tag = SOV
		}

		available = {
			217 = { #Stalingrad
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			653 = { is_owned_and_controlled_by = SOV } #Sverdlovsk
			572 = { is_owned_and_controlled_by = SOV } #Chelyabinsk
		}
		highlight_states = {
			highlight_state_targets = {
				state = 217
			}
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 10000
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_stalingrad_area_ai
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_5 = yes
		}
	}
	SOV_relocating_industry_from_stalingrad_area_ai = {
		icon = generic_construction

		allowed = {
			tag = SOV
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 217
			}
		}
		available = {
			OR = {
				NOT = {
					217 = { is_owned_and_controlled_by = SOV }
					218 = { is_owned_and_controlled_by = SOV }
				}
				AND = {
					217 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
					218 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
				}
			}
		}

		days_mission_timeout = 7
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				prioritize = { 218 }
				limit = {
					region = 257
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 245 }
				limit = {
					region = 257
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 217 }
				limit = {
					region = 257
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_stalingrad_area_ai
			}
		}
	}

	SOV_relocate_industry_from_kharkov_area_ai = {

		icon = generic_construction

		highlight_states = {
			highlight_state_targets = {
				state = 221
			}
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			221 = { #Kharkov
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			653 = { is_owned_and_controlled_by = SOV } #Sverdlovsk
			572 = { is_owned_and_controlled_by = SOV } #Chelyabinsk
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 10000
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_kharkov_area_ai
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_4 = yes
		}
	}
	SOV_relocating_industry_from_kharkov_area_ai = {
		icon = generic_construction

		allowed = {
			tag = SOV
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 221
			}
		}
		available = {
			OR = {
				NOT = {
					221 = { is_owned_and_controlled_by = SOV }
					227 = { is_owned_and_controlled_by = SOV }
				}
				AND = {
					221 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
					227 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
				}
			}
		}

		days_mission_timeout = 7
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				prioritize = { 226 }
				limit = {
					region = 270
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 408 564 563 561 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 200 }
				limit = {
					region = 270
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 408 564 563 561 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 227 }
				limit = {
					region = 270
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 408 564 563 561 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 221 }
				limit = {
					region = 270
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 408 564 563 561 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 259 }
				limit = {
					region = 270
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 408 564 563 561 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_kharkov_area_ai
			}
		}
	}

	SOV_relocate_industry_from_kiev_area_ai = {
		icon = generic_construction
		allowed = {
			original_tag = SOV
		}

		available = {
			202 = { #Leningrad
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			400 = { is_owned_and_controlled_by = SOV } #Zlatoust
			399 = { is_owned_and_controlled_by = SOV } #Magnitogorsk
			250 = { is_owned_and_controlled_by = SOV } #Kuibyshev
		}

		highlight_states = {
			highlight_state_targets = {
				state = 202
			}
		}

		fire_only_once = yes
		cost = 0

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_kiev_area_ai
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_3 = yes
		}

		ai_will_do = {
			factor = 10000
		}
	}
	SOV_relocating_industry_from_kiev_area_ai = {
		icon = generic_construction

		allowed = {
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 202
			}
		}
		available = {
			OR = {
				NOT = {
					202 = { is_owned_and_controlled_by = SOV }
					193 = { is_owned_and_controlled_by = SOV }
				}
				AND = {
					202 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
				}
			}
		}

		days_mission_timeout = 7
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				prioritize = { 202 }
				limit = {
					region = 130
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 192 }
				limit = {
					region = 130
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 203 }
				limit = {
					region = 130
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 197 }
				limit = {
					region = 130
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_kiev_area_ai
			}
		}
	}

	SOV_relocate_industry_from_minsk_area_ai = {
		icon = generic_construction

		allowed = {
			original_tag = SOV
		}
		available = {
			206 = { #Leningrad
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			398 = { is_owned_and_controlled_by = SOV }
			651 = { is_owned_and_controlled_by = SOV }
		}

		highlight_states = {
			highlight_state_targets = {
				state = 206
			}
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 10000
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_minsk_area_ai
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_1 = yes
		}
	}
	SOV_relocating_industry_from_minsk_area_ai = {
		icon = generic_construction
		allowed = {
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 206
			}
		}
		available = {
			OR = {
				NOT = {
					206 = { is_owned_and_controlled_by = SOV }
					224 = { is_owned_and_controlled_by = SOV }
				}
				AND = {
					206 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
					224 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
				}
			}
		}

		days_mission_timeout = 7
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				prioritize = { 206 }
				limit = {
					region = 131
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 207 }
				limit = {
					region = 131
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 224 }
				limit = {
					region = 131
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 241 }
				limit = {
					region = 131
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_minsk_area_ai
			}
		}
	}

	SOV_relocate_industry_from_ural_area_ai = {
		icon = generic_construction

		highlight_states = {
			highlight_state_targets = {
				state = 651
			}
		}
		allowed = {
			original_tag = SOV
		}
		available = {
			OR = {
				406 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				407= {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				401 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				251 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				249 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				399 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				400 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				397 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
			}
			OR = {
				651 = { is_owned_and_controlled_by = SOV } #Ufa
				398 = { is_owned_and_controlled_by = SOV } #Perm
				652 = { is_owned_and_controlled_by = SOV } #Orenburg
			}
			num_of_civilian_factories_available_for_projects > 39
		}

		visible = {
			NOT = {
				219 = { is_owned_and_controlled_by = SOV }
			}
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 4000

			modifier = {
				factor = 0
				NOT = {
					OR = {
						NOT = { has_full_control_of_state = 217 }
						NOT = { has_full_control_of_state = 351 }
						NOT = { has_full_control_of_state = 253 }
						NOT = { has_full_control_of_state = 265 }
						NOT = { has_full_control_of_state = 257 }
						NOT = { has_full_control_of_state = 255 }
						NOT = { has_full_control_of_state = 239 }
					}
				}
			}
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_ural_area_ai
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
		}
	}
	SOV_relocating_industry_from_ural_area_ai = {
		icon = generic_construction
		allowed = {
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 249
			}
		}
		available = {
			OR = {
				NOT = {
					651 = { is_owned_and_controlled_by = SOV }
					398 = { is_owned_and_controlled_by = SOV }
				}
				all_core_state = {
					OR = {
						region = 133
						region = 275
						region = 40
						region = 137
					}
					arms_factory < 1
				}
				AND = {
					651 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
					398 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
					249 = {
						arms_factory < 1
						steel_refinery < 1
						aluminium_refinery < 1
						industrial_complex < 1
						synthetic_refinery < 1
					}
				}
			}
		}

		days_mission_timeout = 7
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				limit = {
					region = 133
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					region = 275
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					region = 40
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					region = 137
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				else_if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_ural_area_ai
			}
		}
	}
}