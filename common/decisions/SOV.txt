####### NO STEP BACK! #######
@DAYS_DETERMINED = 180 #Used for propaganda campaign SOV_heroes_forward -> Value should be the same as SOV_default_propaganda_campaign_duration


########     ###    ########     ###    ##    ##  #######  ####    ###
##     ##   ## ##   ##     ##   ## ##   ###   ## ##     ##  ##    ## ##
##     ##  ##   ##  ##     ##  ##   ##  ####  ## ##     ##  ##   ##   ##
########  ##     ## ########  ##     ## ## ## ## ##     ##  ##  ##     ##
##        ######### ##   ##   ######### ##  #### ##     ##  ##  #########
##        ##     ## ##    ##  ##     ## ##   ### ##     ##  ##  ##     ##
##        ##     ## ##     ## ##     ## ##    ##  #######  #### ##     ##

SOV_paranoia_system = {

	SOV_forge_production_reports = { #Repeatable decision to reduce Paranoia
		priority = 310

		icon = GFX_decision_eng_trade_unions_support

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { SOV_paranoia > 35 }
			}
			modifier = {
				add = 100
				check_variable = { SOV_paranoia > 75 }
			}
			modifier = {
				factor = 2
				SOV_is_opposition = yes
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
		}

		cost = 15

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		remove_effect = {
			SOV_paranoia_high_decrease_effect = yes

			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_inspection_in_the_academy = { #Repeatable decision to reduce Paranoia // Target Academy
		priority = 309

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			factor = 0

			modifier = {
				factor = 4000
				OR = {
					SOV_paranoia_is_high_level = yes
					SOV_paranoia_is_medium_level = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_idea = SOV_academy_purged
			SOV_is_stalinist = yes
		}

		cost = 20

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			custom_effect_tooltip = SOV_paranoia_cooldown_tt
			set_country_flag = { flag = academy_purge_grace_flag days = 120 }

			SOV_paranoia_low_decrease_effect = yes

			remove_ideas = SOV_academy_purged

			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_inspection_in_the_administration = { #Repeatable decision to reduce Paranoia // Target Administration
		priority = 309

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			factor = 0

			modifier = {
				factor = 4000
				OR = {
					SOV_paranoia_is_high_level = yes
					SOV_paranoia_is_medium_level = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_idea = SOV_administration_purged
			SOV_is_stalinist = yes
		}

		cost = 20

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			custom_effect_tooltip = SOV_paranoia_cooldown_tt
			set_country_flag = { flag = administration_purge_grace_flag days = 120 }

			SOV_paranoia_low_decrease_effect = yes

			remove_ideas = SOV_administration_purged

			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_inspection_in_the_army = { #Repeatable decision to reduce Paranoia // Target Army
		priority = 308

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			factor = 0

			modifier = {
				factor = 4000
				OR = {
					SOV_paranoia_is_high_level = yes
					SOV_paranoia_is_medium_level = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_idea = SOV_young_army_officers_purged
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_idea = SOV_young_army_officers_purged
			SOV_is_stalinist = yes
		}

		cost = 20

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			custom_effect_tooltip = SOV_paranoia_cooldown_tt
			hidden_effect = {
				set_country_flag = { flag = army_young_officers_grace_flag days = 120 }
			}

			SOV_paranoia_medium_decrease_effect = yes
			IF = {
				limit = { SOV_is_opposition = yes }
				SOV_decrease_all_opposition_army = yes
			}
			remove_ideas = SOV_young_army_officers_purged

			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_inspection_in_the_navy = { #Repeatable decision to reduce Paranoia // Target Navy
		priority = 307

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			factor = 0

			modifier = {
				factor = 800
				OR = {
					SOV_paranoia_is_high_level = yes
					SOV_paranoia_is_medium_level = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_idea = SOV_young_navy_officers_purged
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_idea = SOV_young_navy_officers_purged
			SOV_is_stalinist = yes
		}

		cost = 10

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			custom_effect_tooltip = SOV_paranoia_cooldown_tt
			hidden_effect = {
				set_country_flag = { flag = navy_young_officers_grace_flag days = 120 }
			}

			SOV_paranoia_low_decrease_effect = yes
			IF = {
				limit = { SOV_is_opposition = yes }
				SOV_decrease_all_opposition_navy = yes
			}
			remove_ideas = SOV_young_navy_officers_purged

			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_inspection_in_the_airforce = { #Repeatable decision to reduce Paranoia // Target Airforce
		priority = 306

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			factor = 0

			modifier = {
				factor = 800
				OR = {
					SOV_paranoia_is_high_level = yes
					SOV_paranoia_is_medium_level = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_idea = SOV_young_air_officers_purged
			NOT = { has_country_flag = SOV_paranoia_conducting_inspection_flag }
		}

		visible = {
			has_country_flag = SOV_paranoia_system_active_flag
			has_idea = SOV_young_air_officers_purged
			SOV_is_stalinist = yes
		}

		cost = 10

		days_remove = SOV_paranoia_inspection_remove_days

		days_re_enable = SOV_paranoia_inspection_re_enable_days

		complete_effect = {
			set_country_flag = SOV_paranoia_conducting_inspection_flag #Used to prevent random purges from popping up while this is active
		}

		remove_effect = {
			clr_country_flag = SOV_paranoia_conducting_inspection_flag
			custom_effect_tooltip = SOV_paranoia_cooldown_tt
			hidden_effect = {
				set_country_flag = { flag = air_young_officers_grace_flag days = 120 }
			}

			SOV_paranoia_low_decrease_effect = yes
			IF = {
				limit = { SOV_is_opposition = yes }
				SOV_decrease_all_opposition_air = yes
			}
			remove_ideas = SOV_young_air_officers_purged

			custom_effect_tooltip = SOV_paranoia_inspection_cd_tt
		}
	}

	SOV_reinstate_tupolev_design_bureau = {
		priority = 283

		icon = generic_air

		ai_will_do = {
			base = 2
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = {
				flag = SOV_tupolev_design_bureau_dissolved_flag
				days > 365
			}
			num_of_civilian_factories_available_for_projects > 1
		}

		visible = {
			has_country_flag = SOV_tupolev_design_bureau_dissolved_flag
		}

		days_remove = SOV_reinstate_aircraft_designer_days

		days_re_enable = 1

		cost = 0

		modifier = {
			political_power_gain = -0.25
			civilian_factory_use = 2
		}

		remove_effect = {
			clr_country_flag = SOV_tupolev_design_bureau_dissolved_flag
		}
	}
}

########  #######  ########  ######## ####  ######   ##    ##    ########   #######  ##       #### ######## ####  ######   ######
##       ##     ## ##     ## ##        ##  ##    ##  ###   ##    ##     ## ##     ## ##        ##     ##     ##  ##    ## ##    ##
##       ##     ## ##     ## ##        ##  ##        ####  ##    ##     ## ##     ## ##        ##     ##     ##  ##       ##
######   ##     ## ########  ######    ##  ##   #### ## ## ##    ########  ##     ## ##        ##     ##     ##  ##        ######
##       ##     ## ##   ##   ##        ##  ##    ##  ##  ####    ##        ##     ## ##        ##     ##     ##  ##             ##
##       ##     ## ##    ##  ##        ##  ##    ##  ##   ###    ##        ##     ## ##        ##     ##     ##  ##    ## ##    ##
##        #######  ##     ## ######## ####  ######   ##    ##    ##         #######  ######## ####    ##    ####  ######   ######


###############################
### COVERT SUPPORT FOR POUM ###
###############################

SOV_soviet_aid_to_poum_decision_category = {
	SOV_organize_covert_depots_poum = { #DECISION AVAILABLE PRIOR TO THE POUM SPLIT
		priority = 50

		icon = ger_military_buildup

		ai_will_do = {
			base = 30
			modifier = {
				factor = 0.01
				has_war = yes
				command_power < 50
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_global_flag = spanish_civil_war
		}

		visible = {
			NOT = { has_global_flag = SPR_anarchist_uprising_flag }
			NOT = { has_global_flag = scw_over }
			is_subject = no
		}

		cancel_if_not_visible = yes

		fire_only_once = yes

		days_remove = SOV_default_poum_days

		custom_cost_trigger = {
			command_power > 74
		}
		custom_cost_text = decision_cost_CP_75

		complete_effect = {
			hidden_effect = {
				add_command_power = -75
			}
		}

		remove_effect = {
			set_global_flag = SOV_poum_has_covert_depots_from_soviets_flag
			effect_tooltip = {
				custom_effect_tooltip = SOV_organize_covert_depots_poum_tt
				SPC = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 6000
						producer = ROOT
					}
					add_equipment_to_stockpile = {
						type = support_equipment
						amount = 600
						producer = ROOT
					}
					add_equipment_to_stockpile = {
						type = artillery_equipment
						amount = 120
						producer = ROOT
					}
					add_equipment_to_stockpile = {
						type = motorized_equipment
						amount = 60
						producer = ROOT
					}
					add_equipment_to_stockpile = {
						type = train_equipment
						amount = 6
						producer = ROOT
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = SOV_sent_us_weapons
					}
				}
			}
			custom_effect_tooltip = decision_only_once_tt
		}
	}

	SOV_send_infantry_equipment_poum = {
		priority = 50

		icon = generic_industry

		ai_will_do = {
			base = 1.2
			modifier = {
				factor = 0.1
				has_war = yes
				has_equipment = { infantry_equipment < 10000 }
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			SPR_scw_in_progress = yes
			country_exists = SPC
			SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
			NOT = { has_war_with = SPC }
		}

		days_remove = SOV_default_poum_days

		days_re_enable = SOV_default_poum_cd

		custom_cost_trigger = {
			command_power > 24
		}
		custom_cost_text = decision_cost_CP_25

		complete_effect = {
			hidden_effect = {
				add_command_power = -25
			}
		}

		remove_effect = {
			effect_tooltip = {
				SPC = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 6000
						producer = FROM
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = SOV_sent_us_weapons
					}
				}
			}
			hidden_effect = {
				SPC = {
					country_event = { id = NSB_soviet_foreign_politics_events.250 hours = 2 }
					add_ai_strategy = {
						type = befriend
						id = SOV
						value = 5
					}
				}
			}
			custom_effect_tooltip = SOV_default_poum_cd_tt
		}
	}

	SOV_organize_popular_brigades_poum = {
		priority = 50

		icon = generic_nationalism

		ai_will_do = {
			base = 1.2
		}

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			SPR_scw_in_progress = yes
			country_exists = SPC
			SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
			NOT = { has_war_with = SPC }
		}

		days_remove = SOV_default_poum_days

		days_re_enable = SOV_default_poum_cd

		custom_cost_trigger = {
			command_power > 24
			has_political_power > 24
		}
		custom_cost_text = decision_cost_CP_25_pp_25

		complete_effect = {
			hidden_effect = {
				add_command_power = -25
				add_political_power = -25
			}
		}

		remove_effect = {
			effect_tooltip = {
				SPC = {
					division_template = {
						name = "International Marxist Brigades"
						is_locked = yes
						priority = 1
						template_counter = 14
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
						}
					}
					capital_scope = {
						create_unit = {
							division = "name = \"International Marxist Brigade\" division_template = \"International Marxist Brigades\" start_experience_factor = 0.1 start_equipment_factor = 1.0" owner = SPC count = 6
						}
					}
				}
			}
			hidden_effect = {
				SPC = {
					country_event = { id = NSB_soviet_spanish_civil_war.2 hours = 1 }
					add_ai_strategy = {
						type = befriend
						id = SOV
						value = 5
					}
				}
			}
			custom_effect_tooltip = SOV_default_poum_cd_tt
		}
	}

	SOV_send_elite_commandos_poum = {
		priority = 50

		icon = generic_military

		ai_will_do = {
			base = 1.2
		}

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			SPR_scw_in_progress = yes
			country_exists = SPC
			SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
			NOT = { has_war_with = SPC }
		}

		days_remove = SOV_default_poum_days

		days_re_enable = SOV_long_poum_cd

		custom_cost_trigger = {
			command_power > 49
		}
		custom_cost_text = decision_cost_CP_50

		complete_effect = {
			hidden_effect = {
				add_command_power = -50
			}
		}

		remove_effect = {
			effect_tooltip = {
				SPC = {
					add_timed_idea = {
						idea = SOV_soviet_commandos_poum
						days = 180
					}
					division_template = {
						name = "Soviet Special Brigades"
						is_locked = yes
						priority = 1
						template_counter = 02
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							recon = { x = 0 y = 1 }
							artillery = { x = 0 y = 2 }
							anti_tank = { x = 0 y = 3 }
						}
					}
					capital_scope = {
						create_unit = {
							division = "name = \"Soviet Special Brigade\" division_template = \"Soviet Special Brigades\" start_experience_factor = 0.7 start_equipment_factor = 1.0" owner = SPC count = 2
						}
					}
				}
			}
			hidden_effect = {
				SPC = {
					country_event = { id = NSB_soviet_spanish_civil_war.3 hours = 1 }
					add_ai_strategy = {
						type = befriend
						id = SOV
						value = 5
					}
				}
				if = {
					limit = {
						NOT = { has_country_flag = SOV_send_elite_commandos_poum_flag }
					}
					set_country_flag = SOV_send_elite_commandos_poum_flag
				}
			}
			custom_effect_tooltip = SOV_long_poum_cd_tt
		}
	}

	SOV_organize_popular_speeches_poum = {
		priority = 50

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1.2
		}

		allowed = {
			original_tag = SOV
		}

		available = {
		}

		visible = {
			SPR_scw_in_progress = yes
			country_exists = SPC
			SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
			NOT = { has_war_with = SPC }
		}

		days_remove = SOV_default_poum_days

		days_re_enable = SOV_default_poum_cd

		cost = 25

		remove_effect = {
			effect_tooltip = {
				SPC = {
					add_timed_idea = {
						idea = SOV_popular_speeches_poum
						days = 180
					}
					division_template = {
						name = "International Marxist Brigades"
						is_locked = yes
						priority = 1
						template_counter = 14
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
						}
					}
					capital_scope = {
						create_unit = {
							division = "name = \"International Marxist Brigade\" division_template = \"International Marxist Brigades\" start_experience_factor = 0.1 start_equipment_factor = 1.0" owner = SPC count = 2
						}
					}
				}
			}
			hidden_effect = {
				SPC = {
					country_event = { id = NSB_soviet_spanish_civil_war.4 hours = 1 }
					add_ai_strategy = {
						type = befriend
						id = SOV
						value = 5
					}
				}
			}
			custom_effect_tooltip = SOV_default_poum_cd_tt
		}
	}

	SOV_infiltrate_stalinist_plans_in_spain_poum = {
		priority = 50

		icon = eng_propaganda_campaigns

		ai_will_do = {
			base = 1.2
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_completed_focus = SOV_send_military_advisors_to_spain
			NOT = { has_completed_focus = SOV_coup_detat }
			has_country_flag = SOV_send_elite_commandos_poum_flag
		}

		visible = {
			SPR_scw_in_progress = yes
			country_exists = SPC
			country_exists = SPD
			NOT = { has_completed_focus = SOV_coup_detat }
			SPC = { has_completed_focus = SPR_the_anti_fascist_workers_revolution }
			NOT = { has_war_with = SPC }
			NOT = { is_in_faction_with = SPD }
		}

		cancel_if_not_visible = yes

		days_remove = SOV_default_poum_days

		fire_only_once = yes

		custom_cost_trigger = {
			command_power > 49
			has_political_power > 14
		}
		custom_cost_text = decision_cost_CP_50_pp_15

		remove_effect = {
			effect_tooltip = {
				SPC = {
					add_timed_idea = {
						idea = SOV_agents_in_the_stalinist_command_poum
						days = 365
					}
				}
			}
			hidden_effect = {
				SPC = {
					country_event = { id = NSB_soviet_spanish_civil_war.5 hours = 1 }
					add_ai_strategy = {
						type = befriend
						id = SOV
						value = 5
					}
				}
			}
			custom_effect_tooltip = decision_only_once_tt
		}
	}
}

#########################
### Spanish Civil War ###
#########################

foreign_politics = {
	SOV_equipment_shipments_air = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}
		visible = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					OR = {
						has_government = communism
						has_government = democratic
					}
					has_civil_war = yes
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				AND = {
					any_country_with_original_tag = {
						original_tag_to_check = SPR
						exists = yes
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
				}
			}
			NOT = { has_global_flag = scw_over }
			has_completed_focus = SOV_send_military_advisors_to_spain
		}

		days_remove = 400	#80 XP
		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		modifier = {
			experience_gain_air = 0.2
		}

		remove_effect = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				random_country_with_original_tag = {
					original_tag_to_check = SPR
					limit = {
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
					add_equipment_to_stockpile = {
						type = sov_fighter_equipment_1
						amount = 200
						producer = SOV
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
					add_equipment_to_stockpile = {
						type = sov_fighter_equipment_1
						amount = 200
						producer = SOV
					}
				}
			}
		}
	}
	SOV_equipment_shipments_tank = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}
		visible = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					OR = {
						has_government = communism
						has_government = democratic
					}
					has_civil_war = yes
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				AND = {
					any_country_with_original_tag = {
						original_tag_to_check = SPR
						exists = yes
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
				}
			}
			NOT = { has_global_flag = scw_over }
			has_completed_focus = SOV_send_military_advisors_to_spain
		}

		days_remove = 375	#75 XP
		cost = 0
		fire_only_once = yes

		modifier = {
			experience_gain_army = 0.2
		}

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				random_country_with_original_tag = {
					original_tag_to_check = SPR
					limit = {
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
					add_equipment_to_stockpile = {
						type = tank_sov_light_chassis_1
						amount = 300
						producer = SOV
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
					add_equipment_to_stockpile = {
						type = tank_sov_light_chassis_1
						amount = 300
						producer = SOV
					}
				}
			}
		}
	}
	SOV_equipment_shipments_inf = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = SOV
		}
		visible = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					OR = {
						has_government = communism
						has_government = democratic
					}
					has_civil_war = yes
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				AND = {
					any_country_with_original_tag = {
						original_tag_to_check = SPR
						exists = yes
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
				}
			}
			NOT = { has_global_flag = scw_over }
			has_completed_focus = SOV_send_military_advisors_to_spain
		}

		days_remove = 125	#25 XP
		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		modifier = {
			experience_gain_army = 0.2
		}

		remove_effect = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				random_country_with_original_tag = {
					original_tag_to_check = SPR
					limit = {
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
					add_equipment_to_stockpile = {
						type = sov_art_1
						amount = 250
						producer = SOV
					}
					add_equipment_to_stockpile = {
						type = sov_inf_1
						amount = 10000
						producer = SOV
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
					add_equipment_to_stockpile = {
						type = sov_art_1
						amount = 250
						producer = SOV
					}
					add_equipment_to_stockpile = {
						type = sov_inf_1
						amount = 10000
						producer = SOV
					}
				}
			}
		}
	}
}

##############
### BALTIC ###
##############

SOV_diplomacy_baltic_decision_category = {
	SOV_pressure_country_government_baltic = {
		priority = 50

		icon = generic_political_discourse

		ai_will_do = {
			base = 0.8
			modifier = {
				factor = 2
				has_political_power > 160
			}
			modifier = { #If ideological rallies happened, then it's better
				factor = 4
				FROM = { has_country_flag = SOV_ideological_rallies_promoted_flag }
			}
			modifier = { #Do it only once, don't spam
				factor = 0
				FROM = { has_country_flag = SOV_government_pressured_flag }
			}
		}

		targets = {	EST LAT LIT	}

		target_trigger = {
			SOV_basic_pressure_government_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SOV_respect_baltic_self_determination
			is_subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			is_faction_leader = yes
			FROM = {
				has_opinion = {
					target = ROOT
					value > 49
				}
				#SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;) # -> THE USSR does indeed not care about their petty overlord, for now.
				NOT = { has_war_with = ROOT }
			}
			NOT = { has_country_flag = SOV_pressure_government_active_flag }
		}

		visible = {
		}

		days_remove = SOV_pressure_government_days

		days_re_enable = SOV_pressure_government_cd

		cost = SOV_pressure_country_government_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_pressure_government_active_flag
		}

		remove_effect = {
			FROM = {
				country_event = { id = NSB_soviet_foreign_politics_events.1 hours = 4 random_hours = 2 }
				set_country_flag = SOV_government_pressured_flag #For AI weights - don't spam
			}
			clr_country_flag = SOV_pressure_government_active_flag
			custom_effect_tooltip = SOV_pressure_government_effects_tt
			custom_effect_tooltip = SOV_pressure_government_cd_tt
		}
	}

	SOV_promote_ideology_rallies_baltic = {
		priority = 50

		icon = generic_political_rally

		ai_will_do = {
			base = 1
			modifier = {
				factor = 2
				has_political_power > 160
			}
		}

		targets = { EST LAT LIT }

		target_trigger = {
			SOV_basic_promote_rallies_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SOV_respect_baltic_self_determination
			is_subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			FROM = {
				#SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;) # -> THE USSR does indeed not care about their petty overlord, for now.
				NOT = { has_war_with = ROOT }
			}
		}

		visible = {
		}

		days_remove = SOV_ideological_rallies_days

		fire_only_once = yes

		cost = SOV_promote_ideology_rallies_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
		}

		remove_effect = {
			FROM = {
				country_event = { id = NSB_soviet_foreign_politics_events.2 hours = 4 random_hours = 2 }
			}
			custom_effect_tooltip = SOV_promote_rallies_effects_tt
			custom_effect_tooltip = SOV_promote_ideological_rallies_cd_tt
		}
	}

	SOV_fight_alongside_country_comrades_baltic = {
		priority = 100

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0
			modifier = {
				add = 0.01
				has_stability > 0.4
				NOT = { #Join if it will not lead to a new war against a major
					any_country = {
						is_major = yes
						has_war_with = FROM
						NOT = { has_war_with = ROOT }
					}
				}
			}
			modifier = {
				factor = 2
				has_war = no
			}
			modifier = {
				factor = 1.5
				has_manpower > 100000
			}
			modifier = {
				factor = 10
				FROM = { is_neighbor_of = ROOT }
			}
		}

		targets = { EST LAT LIT }

		target_trigger = {
			SOV_basic_fight_alongside_comrades_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SOV_baltic_security
			is_subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_war_support > 0.15
			has_stability > 0.25
			NOT = { has_war_with = FROM }
		}

		visible = {
		}

		complete_effect = {
			hidden_effect = {
				random_country = {
					limit = {
						original_tag = FROM
						has_civil_war = yes
						NOT = { has_government = ROOT }
					}
					ROOT = { add_to_war = { targeted_alliance = FROM enemy = PREV hostility_reason = asked_to_join } }
				}
			}
			custom_effect_tooltip = BUL_fight_alongside_country_comrades_join_cw_tt #This tt works just fine :)

			effect_tooltip = {
				give_military_access = FROM
				FROM = { give_military_access = ROOT }
			}
			hidden_effect = {
				diplomatic_relation = {
					country = FROM
					relation = military_access
					active = yes
				}
				FROM = {
					diplomatic_relation = {
						country = ROOT
						relation = military_access
						active = yes
					}
				}
			}
		}
	}
}

##############
### NORDIC ###
##############

SOV_diplomacy_nordic_decision_category = {
	SOV_pressure_country_government_nordic = {
		priority = 50

		icon = generic_political_discourse

		ai_will_do = {
			base = 0.8
			modifier = {
				factor = 2
				has_political_power > 160
			}
			modifier = { #If ideological rallies happened, then it's better
				factor = 4
				FROM = { has_country_flag = SOV_ideological_rallies_promoted_flag }
			}
			modifier = { #Do it only once, don't spam
				factor = 0
				FROM = { has_country_flag = SOV_government_pressured_flag }
			}
		}

		targets = { FIN SWE NOR DEN KAR } #All Continental Nordic Countries

		target_trigger = {
			SOV_basic_pressure_government_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SOV_control_scandinavia
			is_subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			is_faction_leader = yes
			FROM = {
				has_opinion = {
					target = ROOT
					value > 49
				}
				#SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;) # -> THE USSR does indeed not care about their petty overlord, for now.
				NOT = { has_war_with = ROOT }
			}
			NOT = { has_country_flag = SOV_pressure_government_active_flag }
		}

		visible = {
		}

		days_remove = SOV_pressure_government_days

		days_re_enable = SOV_pressure_government_cd

		cost = SOV_pressure_country_government_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_pressure_government_active_flag
		}

		remove_effect = {
			FROM = {
				country_event = { id = NSB_soviet_foreign_politics_events.1 hours = 4 random_hours = 2 }
				set_country_flag = SOV_government_pressured_flag #For AI weights - don't spam
			}
			clr_country_flag = SOV_pressure_government_active_flag
			custom_effect_tooltip = SOV_pressure_government_effects_tt
			custom_effect_tooltip = SOV_pressure_government_cd_tt
		}
	}

	SOV_promote_ideology_rallies_nordic = {
		priority = 50

		icon = generic_political_rally

		ai_will_do = {
			base = 1
			modifier = {
				factor = 2
				has_political_power > 160
			}
		}

		targets = { FIN SWE NOR DEN KAR } #All Continental Nordic Countries

		target_trigger = {
			SOV_basic_promote_rallies_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SOV_control_scandinavia
			is_subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			FROM = {
				#SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;) # -> THE USSR does indeed not care about their petty overlord, for now.
				NOT = { has_war_with = ROOT }
			}
		}

		visible = {
		}

		days_remove = SOV_ideological_rallies_days

		fire_only_once = yes

		cost = SOV_promote_ideology_rallies_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
		}

		remove_effect = {
			FROM = {
				country_event = { id = NSB_soviet_foreign_politics_events.2 hours = 4 random_hours = 2 }
			}
			custom_effect_tooltip = SOV_promote_rallies_effects_tt
			custom_effect_tooltip = SOV_promote_ideological_rallies_cd_tt
		}
	}

	SOV_fight_alongside_country_comrades_nordic = {
		priority = 100

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0
			modifier = {
				add = 0.01
				has_stability > 0.4
				NOT = { #Join if it will not lead to a new war against a major
					any_country = {
						is_major = yes
						has_war_with = FROM
						NOT = { has_war_with = ROOT }
					}
				}
			}
			modifier = {
				factor = 2
				has_war = no
			}
			modifier = {
				factor = 1.5
				has_manpower > 100000
			}
			modifier = {
				factor = 10
				FROM = { is_neighbor_of = ROOT }
			}
		}

		targets = { FIN SWE NOR DEN }

		target_trigger = {
			SOV_basic_fight_alongside_comrades_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SOV_control_scandinavia
			is_subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_war_support > 0.15
			has_stability > 0.25
			NOT = { has_war_with = FROM }
		}

		visible = {
		}

		complete_effect = {
			hidden_effect = {
				random_country = {
					limit = {
						original_tag = FROM
						has_civil_war = yes
						NOT = { has_government = ROOT }
					}
					ROOT = { add_to_war = { targeted_alliance = FROM enemy = PREV hostility_reason = asked_to_join } }
				}
			}
			custom_effect_tooltip = BUL_fight_alongside_country_comrades_join_cw_tt #This tt works just fine :)

			effect_tooltip = {
				give_military_access = FROM
				FROM = { give_military_access = ROOT }
			}
			hidden_effect = {
				diplomatic_relation = {
					country = FROM
					relation = military_access
					active = yes
				}
				FROM = {
					diplomatic_relation = {
						country = ROOT
						relation = military_access
						active = yes
					}
				}
			}
		}
	}
}

##############
### BALKAN ###
##############

SOV_diplomacy_balkan_decision_category = {
	SOV_pressure_country_government_balkan = {
		priority = 50

		icon = generic_political_discourse

		ai_will_do = {
			base = 0.8
			modifier = {
				factor = 2
				has_political_power > 160
			}
			modifier = { #If ideological rallies happened, then it's better
				factor = 4
				FROM = { has_country_flag = SOV_ideological_rallies_promoted_flag }
			}
			modifier = { #Do it only once, don't spam
				factor = 0
				FROM = { has_country_flag = SOV_government_pressured_flag }
			}
		}

		targets = { BUL GRE YUG ALB ROM TUR SLV BOS HRZ MAC SER CRO KOS MNT TRA } #These are all tags included in scripted trigger "BUL_is_balkan_nation = yes"

		target_trigger = {
			SOV_basic_pressure_government_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SOV_seek_balkan_cooperation
			is_subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			is_faction_leader = yes
			FROM = {
				has_opinion = {
					target = ROOT
					value > 49
				}
				SOV_is_valid_subject = yes# The Soviet Union might not give a sh*t about their petty overlord ;)
				NOT = { has_war_with = ROOT }
			}
			NOT = { has_country_flag = SOV_pressure_government_active_flag }
		}

		visible = {
		}

		days_remove = SOV_pressure_government_days

		days_re_enable = SOV_pressure_government_cd

		cost = SOV_pressure_country_government_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_pressure_government_active_flag
		}

		remove_effect = {
			FROM = {
				country_event = { id = NSB_soviet_foreign_politics_events.1 hours = 4 random_hours = 2 }
				set_country_flag = SOV_government_pressured_flag #For AI weights - don't spam
			}
			clr_country_flag = SOV_pressure_government_active_flag
			custom_effect_tooltip = SOV_pressure_government_effects_tt
			custom_effect_tooltip = SOV_pressure_government_cd_tt
		}
	}

	SOV_promote_ideology_rallies_balkan = {
		priority = 50

		icon = generic_political_rally

		ai_will_do = {
			base = 1
			modifier = {
				factor = 2
				has_political_power > 160
			}
		}

		targets = { BUL GRE YUG ALB ROM TUR SLV BOS HRZ MAC SER CRO KOS MNT TRA } #These are all tags included in scripted trigger "BUL_is_balkan_nation = yes"

		target_trigger = {
			SOV_basic_promote_rallies_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SOV_seek_balkan_cooperation
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			FROM = {
				SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;)
				NOT = { has_war_with = ROOT }
			}
		}

		visible = {
		}

		days_remove = SOV_ideological_rallies_days

		fire_only_once = yes

		cost = SOV_promote_ideology_rallies_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
		}

		remove_effect = {
			FROM = {
				country_event = { id = NSB_soviet_foreign_politics_events.2 hours = 4 random_hours = 2 }
			}
			custom_effect_tooltip = SOV_promote_rallies_effects_tt
			custom_effect_tooltip = SOV_promote_ideological_rallies_cd_tt
		}
	}

	SOV_send_ultimatum_to_country_balkan = {
		priority = 50

		icon = eng_trade_unions_demand

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

		targets = { BUL GRE YUG ALB ROM TUR SLV BOS HRZ MAC SER CRO KOS MNT TRA } #These are all tags included in scripted trigger "BUL_is_balkan_nation = yes"

		target_trigger = {
			SOV_basic_ultimatum_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SOV_demand_balkan_submission
			is_Subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			FROM = {
				NOT = { has_war_with = ROOT }
			}
		}

		visible = {
			if = {
				limit = {
					is_ai = yes
				}
				is_historical_focus_on = no
			}
		}

		cancel_if_not_visible = yes

		cost = SOV_send_ultimatum_to_country_cost

		days_remove = SOV_ultimatum_days

		remove_effect = {
			FROM = {
				set_country_flag = SOV_ultimatum_sent_flag
				country_event = { id = NSB_soviet_foreign_politics_events.200 hours = 16 random_hours = 8 }
			}
			custom_effect_tooltip = SOV_ultimatum_generic_effects_tt
			custom_effect_tooltip = SOV_decision_will_be_locked_tt
		}
	}

	SOV_fight_alongside_country_comrades_balkan = {
		priority = 100

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0
			modifier = {
				add = 0.01
				has_stability > 0.4
				NOT = { #Join if it will not lead to a new war against a major
					any_country = {
						is_major = yes
						has_war_with = FROM
						NOT = { has_war_with = ROOT }
					}
				}
			}
			modifier = {
				factor = 2
				has_war = no
			}
			modifier = {
				factor = 1.5
				has_manpower > 100000
			}
			modifier = {
				factor = 10
				FROM = { is_neighbor_of = ROOT }
			}
		}

		targets = { BUL GRE YUG ALB ROM TUR SLV BOS HRZ MAC SER CRO KOS MNT TRA } #These are all tags included in scripted trigger "BUL_is_balkan_nation = yes"

		target_trigger = {
			SOV_basic_fight_alongside_comrades_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SOV_seek_balkan_cooperation
			is_subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_war_support > 0.15
			has_stability > 0.25
			NOT = { has_war_with = FROM }
		}

		visible = {
		}

		complete_effect = {
			hidden_effect = {
				random_country = {
					limit = {
						original_tag = FROM
						has_civil_war = yes
						NOT = { has_government = ROOT }
					}
					ROOT = { add_to_war = { targeted_alliance = FROM enemy = PREV hostility_reason = asked_to_join } }
				}
			}
			custom_effect_tooltip = BUL_fight_alongside_country_comrades_join_cw_tt #This tt works just fine :)

			effect_tooltip = {
				give_military_access = FROM
				FROM = { give_military_access = ROOT }
			}
			hidden_effect = {
				diplomatic_relation = {
					country = FROM
					relation = military_access
					active = yes
				}
				FROM = {
					diplomatic_relation = {
						country = ROOT
						relation = military_access
						active = yes
					}
				}
			}
		}
	}
}

###################
### MIDDLE EAST ###
###################

SOV_diplomacy_middle_east_decision_category = {
	SOV_pressure_country_government_middle_east = {
		priority = 50

		icon = hol_attract_foreign_investors

		ai_will_do = {
			base = 0.8
			modifier = {
				factor = 2
				has_political_power > 160
			}
			modifier = { #If ideological rallies happened, then it's better
				factor = 4
				FROM = { has_country_flag = SOV_ideological_rallies_promoted_flag }
			}
			modifier = { #Do it only once, don't spam
				factor = 0
				FROM = { has_country_flag = SOV_government_pressured_flag }
			}
		}

		targets = { AFG SAU }

		target_trigger = {
			SOV_basic_pressure_government_triggers = yes
			OR = {
				AND = { #AFG
					FROM = { tag = AFG }
					has_completed_focus = SOV_support_afghan_ideology
				}
				AND = { #SAU
					FROM = { tag = SAU }
					has_completed_focus = SOV_the_khakimov_proposal
				}
			}
		}

		target_root_trigger = {
			OR = {
				has_completed_focus = SOV_support_afghan_ideology
				has_completed_focus = SOV_the_khakimov_proposal
			}
			is_subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			is_faction_leader = yes
			FROM = {
				has_opinion = {
					target = ROOT
					value > 49
				}
				#SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;) # -> THE USSR does indeed not care about their petty overlord, for now.
				NOT = { has_war_with = ROOT }
			}
			NOT = { has_country_flag = SOV_pressure_government_active_flag }
		}

		visible = {
		}

		days_remove = SOV_pressure_government_days

		days_re_enable = SOV_pressure_government_cd

		cost = SOV_pressure_country_government_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_pressure_government_active_flag
		}

		remove_effect = {
			FROM = {
				country_event = { id = NSB_soviet_foreign_politics_events.1 hours = 4 random_hours = 2 }
				set_country_flag = SOV_government_pressured_flag #For AI weights - don't spam
			}
			clr_country_flag = SOV_pressure_government_active_flag
			custom_effect_tooltip = SOV_pressure_government_effects_tt
			custom_effect_tooltip = SOV_pressure_government_cd_tt
		}
	}

	SOV_promote_ideology_rallies_middle_east = {
		priority = 50

		icon = hol_attract_foreign_investors

		ai_will_do = {
			base = 1
			modifier = {
				factor = 2
				has_political_power > 160
			}
		}

		targets = { AFG SAU }

		target_trigger = {
			SOV_basic_promote_rallies_triggers = yes
			OR = {
				AND = { #AFG
					FROM = { tag = AFG }
					has_completed_focus = SOV_support_afghan_ideology
				}
				AND = { #SAU
					FROM = { tag = SAU }
					has_completed_focus = SOV_the_khakimov_proposal
				}
			}
		}

		target_root_trigger = {
			OR = {
				has_completed_focus = SOV_support_afghan_ideology
				has_completed_focus = SOV_the_khakimov_proposal
			}
			is_subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			FROM = {
				#SOV_is_valid_subject = yes # The Soviet Union might not give a sh*t about their petty overlord ;) # -> THE USSR does indeed not care about their petty overlord, for now.
				NOT = { has_war_with = ROOT }
			}
		}

		visible = {
		}

		days_remove = SOV_ideological_rallies_days

		fire_only_once = yes

		cost = SOV_promote_ideology_rallies_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
		}

		remove_effect = {
			FROM = {
				country_event = { id = NSB_soviet_foreign_politics_events.2 hours = 4 random_hours = 2 }
			}
			custom_effect_tooltip = SOV_promote_rallies_effects_tt
			custom_effect_tooltip = SOV_promote_ideological_rallies_cd_tt
		}
	}

	SOV_send_ultimatum_to_country_middle_east = {
		priority = 50

		icon = hol_attract_foreign_investors

		ai_will_do = {
			base = 20
			modifier = {
				factor = 10
				has_political_power > 160
			}
			modifier = {
				factor = 10
				date > 1940.6.1
			}
			modifier = {
				factor = 0
				is_in_faction_with = FROM
			}
		}

		targets = { PER }

		target_trigger = {
			SOV_basic_ultimatum_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SOV_preemptive_invasion_of_iran
			is_Subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			FROM = {
				NOT = { has_war_with = ROOT }
			}
		}

		visible = {
		}

		days_remove = SOV_ultimatum_days

		cost = SOV_send_ultimatum_to_country_cost

		remove_effect = {
			FROM = {
				set_country_flag = SOV_ultimatum_sent_flag
				country_event = { id = NSB_soviet_foreign_politics_events.210 hours = 16 random_hours = 8 }
			}
			custom_effect_tooltip = SOV_ultimatum_generic_effects_tt
			custom_effect_tooltip = SOV_decision_will_be_locked_tt
		}
	}

	SOV_fight_alongside_country_comrades_middle_east = {
		priority = 100

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0
			modifier = {
				add = 0.01
				has_stability > 0.4
				NOT = { #Join if it will not lead to a new war against a major
					any_country = {
						is_major = yes
						has_war_with = FROM
						NOT = { has_war_with = ROOT }
					}
				}
			}
			modifier = {
				factor = 2
				has_war = no
			}
			modifier = {
				factor = 1.5
				has_manpower > 100000
			}
			modifier = {
				factor = 10
				FROM = { is_neighbor_of = ROOT }
			}
		}

		targets = { IRQ PER AFG SAU }

		target_trigger = {
			SOV_basic_fight_alongside_comrades_triggers = yes
		}

		target_root_trigger = {
			has_completed_focus = SOV_middle_east_diplomacy
			is_subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_war_support > 0.15
			has_stability > 0.25
			NOT = { has_war_with = FROM }
		}

		visible = {
		}

		complete_effect = {
			hidden_effect = {
				random_country = {
					limit = {
						original_tag = FROM
						has_civil_war = yes
						NOT = { has_government = ROOT }
					}
					ROOT = { add_to_war = { targeted_alliance = FROM enemy = PREV hostility_reason = asked_to_join } }
				}
			}
			custom_effect_tooltip = BUL_fight_alongside_country_comrades_join_cw_tt #This tt works just fine :)

			effect_tooltip = {
				give_military_access = FROM
				FROM = { give_military_access = ROOT }
			}
			hidden_effect = {
				diplomatic_relation = {
					country = FROM
					relation = military_access
					active = yes
				}
				FROM = {
					diplomatic_relation = {
						country = ROOT
						relation = military_access
						active = yes
					}
				}
			}
		}
	}

	SOV_preparations_for_operation_countenance = { # Mission for SOV (or SOV + ENG) to prepare the invasion of Iran
		priority = 50

		icon = hol_draw_up_staff_plans

		allowed = {
			OR = {
				original_tag = SOV
				original_tag = ENG
			}
		}

		available =  {
			hidden_trigger = { always = no }
		}

		activation = {
			always = no
		}

		cancel_trigger = {
			OR = {
				has_global_flag = soviet_union_defeated
				is_subject = yes
				NOT = { country_exists = PER }
				is_in_faction_with = PER
				has_war_with = PER
				has_guaranteed = PER
				has_non_aggression_pact_with = PER
				AND = {
					has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag
					SOV = { has_war_with = ENG }
				}
			}
		}

		is_good = yes

		days_mission_timeout = SOV.SOV_operation_countenance_preparation_days

		timeout_effect = {
			if = { #SOV invading alone
				limit = {
					NOT = { has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag }
				}
				declare_war_on = {
					target = PER
					type = puppet_wargoal_focus
				}
			}
			else = { #SOV + ENG invading together
				if = { #SOV triggers the actual effects
					limit = {
						original_tag = SOV
					}
					declare_war_on = {
						target = PER
						type = puppet_wargoal_focus
					}
					ENG = {
						add_to_war = { targeted_alliance = SOV enemy = PER hostility_reason = asked_to_join }
					}
				}
				else = { #ENG only sees a fake
					effect_tooltip = {
						SOV = {
							declare_war_on = {
								target = PER
								type = puppet_wargoal_focus
							}
						}
						add_to_war = { targeted_alliance = SOV enemy = PER hostility_reason = asked_to_join }
					}

					hidden_effect = { news_event = { id = nsb_news.104 days = 4 random_days = 2 } } #Only ENG sends the news event.
				}
			}
			activate_mission = SOV_operation_countenance
			if = { #Activate mission for ENG if joint operation
				limit = {
					has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag
				}
				ENG = {
					activate_mission = SOV_operation_countenance
				}
			}
			custom_effect_tooltip = SOV_preparations_for_operation_countenance_mission_tt

			hidden_effect = { #Add all AI strategies
				SOV_anglo_soviet_invasion_add_ai_strategies_effect = yes
			}
		}
	}

	SOV_operation_countenance = { # Mission for SOV (or SOV + ENG) to capitulate Iran in time, before they seek foreign help
		priority = 50

		icon = generic_operation

		allowed = {
			OR = {
				original_tag = SOV
				original_tag = ENG
			}
		}

		available =  {
			PER = { has_capitulated = yes }
			all_of_scopes = {
				array = SOV_iranian_initial_states
				OR = {
					is_controlled_by = SOV
					any_allied_country = {
						controls_state = PREV
					}
					AND = {
						has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag
						OR = {
							is_controlled_by = ENG
							ENG = {
								any_allied_country = {
									controls_state = PREV
								}
							}
						}
					}
				}
			}
		}

		activation = {
			always = no
		}

		days_mission_timeout = SOV.SOV_operation_countenance_mission_days

		timeout_effect = { #FAIL -> Lose some stuff and Iran wants to enter an alliance
			add_political_power = -25
			add_command_power = -25
			add_war_support = -0.05

			hidden_effect = { #AI strategies
				if = {
					limit = {
						OR = {
							original_tag = SOV
							AND = {
								original_tag = ENG
								has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag
								NOT = { country_exists = SOV }
							}
						}
					}
					SOV_failed_anglo_soviet_invasion_ai_strategies_effect = yes
				}
			}
		}

		complete_effect = {
			add_command_power = 50
			add_war_support = 0.1

			effect_tooltip = {
				if = { #Soviets alone (or joint but ENG died)
					limit = {
						OR = {
							has_global_flag = SOV_soviet_invasion_of_iran_flag
							AND = {
								has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag
								NOT = { country_exists = ENG }
							}
						}
					}
					FROM = {
						puppet = ROOT #SOV puppet Iran
						transfer_state = 419 #Tibriz (AZB)
						transfer_state = 420 #Gilan (AZB)
						transfer_state = 416 #Khorasan
					}
					give_resource_rights = { receiver = SOV state = 411 }
					give_resource_rights = { receiver = SOV state = 412 }
					give_resource_rights = { receiver = SOV state = 413 }
				}
				else_if = {
					limit = {
						has_global_flag = SOV_agreed_anglo_soviet_invasion_of_iran_flag
					}
					ENG = {
						puppet = ROOT #ENG gets to puppet Iran
					}
					SOV = {
						transfer_state = 419 #Tibriz (AZB)
						transfer_state = 420 #Gilan (AZB)
						transfer_state = 416 #Khorasan
					}
					FROM = {
						give_resource_rights = { receiver = SOV state = 411 }
						give_resource_rights = { receiver = SOV state = 412 }
						give_resource_rights = { receiver = ENG state = 413 }
						give_military_access = ROOT
					}
				}
			}
		}
	}
}

############
### ASIA ###
############

SOV_diplomacy_asia_decision_category = {
	SOV_send_infantry_equipment_asia = {
		priority = 50

		icon = generic_industry

		ai_will_do = {
			base = 1.2
			modifier = {
				factor = 0.1
				has_war = yes
				OR = {
					has_equipment = { infantry_equipment < 3000 }
					has_equipment = { support_equipment < 600 }
				}
			}
		}

		targets = { PRC CHI }

		target_trigger = {

		}

		target_root_trigger = {
			is_subject = no
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			FROM = {
				SOV_is_valid_subject = yes
				NOT = { has_war_with = ROOT }
			}
			has_equipment = { infantry_equipment > 999 }
			has_equipment = { support_equipment > 199 }
		}

		visible = {
			country_exists = FROM
			NOT = { has_war_with = FROM }
			FROM = {
				SOV_is_valid_subject = yes
			}
			OR = {
				AND = {
					has_completed_focus = SOV_two_red_flags
					FROM = { tag = PRC }
				}
				AND = {
					has_completed_focus = SOV_operation_zet
					FROM = { tag = CHI }
				}
			}
		}

		days_re_enable = SOV_send_infantry_equipment_cd

		cost = SOV_send_infantry_equipment_cost

		complete_effect = {
			send_equipment = {
				type = infantry_equipment
				amount = 1000
				target = FROM
			}
			send_equipment = {
				type = support_equipment
				amount = 200
				target = FROM
			}
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_sent_us_weapons
				}
			}
			hidden_effect = {
				FROM = {
					country_event = { id = NSB_soviet_foreign_politics_events.250 hours = 2 }
					add_ai_strategy = {
						type = befriend
						id = SOV
						value = 5
					}
				}
			}
			custom_effect_tooltip = SOV_send_equipment_cd_tt
		}
	}

	SOV_peace_deal_for_south_sakhalin_and_kuril_islands = {
		priority = 999

		icon = eng_trade_unions_support

		ai_will_do = {
			base = 2
			modifier = {
				factor = 0
				controls_state = 282
			}
		}

		targets = { JAP }

		target_trigger = {
			FROM = { tag = JAP }
		}

		target_root_trigger = {
			has_completed_focus = SOV_recover_the_kuril_islands
			country_exists = JAP
			has_war_with = JAP
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			controls_state = 537
			JAP = { owns_state = 537 }
			controls_state = 555
			JAP = { owns_state = 555 }
			surrender_progress < 0.01
		}

		visible = {
		}

		fire_only_once = yes

		cost = SOV_peace_deal_cost

		complete_effect = {
			JAP = { country_event = { id = NSB_soviet_foreign_politics_events.260 hours = 4 random_hours = 2 } }
			custom_effect_tooltip = if_they_accept
			effect_tooltip = {
				JAP = {
					white_peace = FROM
				}
				537 = {
					add_core_of = ROOT
				}
				555 = {
					add_core_of = ROOT
				}
				transfer_state = 537
				transfer_state = 555
			}
		}
	}

	SOV_peace_deal_for_hokkaido = {
		priority = 999

		icon = eng_trade_unions_support

		ai_will_do = {
			base = 4
			modifier = {
				factor = 0
				controls_state = 282
			}
		}

		targets = { JAP }

		target_trigger = {
			FROM = { tag = JAP }
		}

		target_root_trigger = {
			has_completed_focus = SOV_recover_the_kuril_islands
			country_exists = JAP
			has_war_with = JAP
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			controls_state = 537
			JAP = { owns_state = 537 }
			controls_state = 555
			JAP = { owns_state = 555 }
			controls_state = 536
			JAP = { owns_state = 536 }
			surrender_progress < 0.01
		}

		visible = {
		}

		fire_only_once = yes

		cost = SOV_peace_deal_cost

		complete_effect = {
			JAP = { country_event = { id = NSB_soviet_foreign_politics_events.261 hours = 4 random_hours = 2 } }
			custom_effect_tooltip = if_they_accept
			effect_tooltip = {
				JAP = {
					white_peace = FROM
				}
				537 = {
					add_core_of = ROOT
				}
				555 = {
					add_core_of = ROOT
				}
				536 = {
					add_core_of = ROOT
				}
				transfer_state = 537
				transfer_state = 555
				transfer_state = 536
			}
		}
	}

	SOV_sinkiang_mineral_prospection_sik = {
		priority = 50

		icon = generic_construction

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SIK = {
				SOV_is_valid_subject = yes
				NOT = { has_war_with = ROOT }
				has_full_control_of_state = 617 #URUMQI
				has_full_control_of_state = 619 #YARKAND
			}
			num_of_civilian_factories_available_for_projects > 0
			NOT = { has_country_flag = SOV_sinkiang_investment_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_the_gobi_gambit
			SIK = { #Relevant states under Sinkiang control
				SOV_is_valid_subject = yes
				NOT = { has_war_with = ROOT }
				has_full_control_of_state = 617 #URUMQI
				has_full_control_of_state = 619 #YARKAND
			}
			is_subject = no
			has_capitulated = no
			NOT = { has_country_flag = SOV_sinkiang_prospection_rejected_flag }
			NOT = { has_country_flag = SOV_sinkiang_prospection_flag } #Do not do this twice, one with SIK one without SIK
		}

		cancel_trigger = {
			OR = {
				SIK = { #Relevant states under Sinkiang control
					OR = {
						SOV_is_valid_subject = no
						has_war_with = ROOT
						NOT = { has_full_control_of_state = 617 } #URUMQI
						NOT = { has_full_control_of_state = 619 } #YARKAND
					}
				}
				is_subject = yes
				has_capitulated = yes
				has_country_flag = SOV_sinkiang_prospection_rejected_flag
			}
		}

		cancel_effect = {
			clr_country_flag = SOV_sinkiang_investment_ongoing_flag
			hidden_effect = {
				SIK = {
					remove_mission = SOV_sinkiang_mineral_prospection_mission_dummy
				}
			}
		}

		days_remove = SOV_sinkiang_mineral_prospection_days

		cost = SOV_sinkiang_proposal_cost

		modifier = {
			civilian_factory_use = 1
		}

		complete_effect = {
			set_country_flag = SOV_sinkiang_investment_ongoing_flag
			SIK = {
				country_event = { id = NSB_soviet_foreign_politics_events.273 hours = 2 }
			}
			# IF THEY ACCEPT
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_opinion_modifier = {
					target = SIK
					modifier = SOV_complied_with_our_demands
				}
				SIK = {
					give_resource_rights = {
						receiver = SOV
						state = 619
					}
				}
				#custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov
			}
			# IF THEY REFUSE
			custom_effect_tooltip = if_they_refuse_tt
			effect_tooltip = {
				add_opinion_modifier = {
					target = SIK
					modifier = SOV_rejected_our_demands
				}
				custom_effect_tooltip = SOV_sinikiang_influence_refuse_tt
			}
		}

		remove_effect = {
			hidden_effect = { #Decrease SIK's desire to join Chinese faction (and other AI strategies)
				SOV_approach_sinkiang_diplomacy_effect = yes
				SIK = {
					add_ai_strategy = { #This is added in Gobi Gambit + all 3 investment decisions
						type = alliance
						id = SOV
						value = 4
					}
				}
			}
			619 = { #YARKAND - Minerals and Infra
				add_resource = {
					type = bauxite
					amount = 3
				}
				add_resource = {
					type = chromium
					amount = 3
				}
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			617 = { #URUMQI
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			# Urumqi - Kashgar
			build_railway = {
				path = { 4709 4770 7702 4682 7949 2015 }
			}

			#Supply Hub in Kashgar
			619 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 2015
					instant_build = yes
				}
			}
			SIK = {
				give_resource_rights = {
					receiver = SOV
					state = 619
				}
			}
			clr_country_flag = SOV_sinkiang_investment_ongoing_flag
			set_country_flag = SOV_sinkiang_prospection_flag
		}
	}

	SOV_sinkiang_oil_prospection_sik = {
		priority = 50

		icon = generic_construction

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SIK = {
				SOV_is_valid_subject = yes
				NOT = { has_war_with = ROOT }
				has_full_control_of_state = 617 #URUMQI
				has_full_control_of_state = 618 #DZUNGARIA
			}
			num_of_civilian_factories_available_for_projects > 1
			NOT = { has_country_flag = SOV_sinkiang_investment_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_the_gobi_gambit
			SIK = { #Relevant states under Sinkiang control
				SOV_is_valid_subject = yes
				NOT = { has_war_with = ROOT }
				has_full_control_of_state = 617 #URUMQI
				has_full_control_of_state = 618 #DZUNGARIA
			}
			is_subject = no
			has_capitulated = no
			NOT = { has_country_flag = SOV_sinkiang_oil_prospection_rejected_flag }
			NOT = { has_country_flag = SOV_sinkiang_oil_prospection_flag } #Do not do this twice, one with SIK one without SIK
		}

		cancel_trigger = {
			OR = {
				SIK = { #Relevant states under Sinkiang control
					OR = {
						SOV_is_valid_subject = no
						has_war_with = ROOT
						NOT = { has_full_control_of_state = 617 } #URUMQI
						NOT = { has_full_control_of_state = 618 } #DZUNGARIA
					}
				}
				is_subject = yes
				has_capitulated = yes
				has_country_flag = SOV_sinkiang_oil_prospection_rejected_flag
			}
		}

		cancel_effect = {
			clr_country_flag = SOV_sinkiang_investment_ongoing_flag
			hidden_effect = {
				SIK = {
					remove_mission = SOV_sinkiang_oil_prospection_mission_dummy
				}
			}
		}

		days_remove = SOV_sinkiang_oil_prospection_days

		fire_only_once = yes

		cost = SOV_sinkiang_proposal_cost

		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			set_country_flag = SOV_sinkiang_investment_ongoing_flag
			SIK = {
				country_event = { id = NSB_soviet_foreign_politics_events.276 hours = 2 }
			}
			# IF THEY ACCEPT
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_opinion_modifier = {
					target = SIK
					modifier = SOV_complied_with_our_demands
				}
				SIK = {
					give_resource_rights = {
						receiver = SOV
						state = 618
					}
				}
				#custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov
			}
			# IF THEY REFUSE
			custom_effect_tooltip = if_they_refuse_tt
			effect_tooltip = {
				add_opinion_modifier = {
					target = SIK
					modifier = SOV_rejected_our_demands
				}
				custom_effect_tooltip = SOV_sinikiang_influence_refuse_tt
			}
		}

		remove_effect = {
			hidden_effect = { #Decrease SIK's desire to join Chinese faction (and other AI strategies)
				SOV_approach_sinkiang_diplomacy_effect = yes
				SIK = {
					add_ai_strategy = { #This is added in Gobi Gambit + all 3 investment decisions
						type = alliance
						id = SOV
						value = 4
					}
				}
			}
			618 = { #DZUNGARIA - Minerals, oil and Infra
				add_resource = {
					type = bauxite
					amount = 3
				}
				add_resource = {
					type = tungsten
					amount = 3
				}
				add_resource = {
					type = oil
					amount = 6
				}
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			SIK = { give_resource_rights = { receiver = SOV state = 618 } } # Grant Resource rights to SOV
			617 = { #URUMQI - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			# Urumqi - Altay
			build_railway = {
				path = { 4709 10674 1783 1844 12737 4823 }
			}
			#Supply Hub in Altay
			618 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 4823
					instant_build = yes
				}
			}

			SIK = { add_ideas = SOV_expanded_exploitation_of_gold_mines }

			clr_country_flag = SOV_sinkiang_investment_ongoing_flag
			set_country_flag = SOV_sinkiang_oil_prospection_flag
		}
	}

	SOV_sinkiang_military_aid_sik = {
		priority = 50

		icon = generic_military

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SIK = {
				SOV_is_valid_subject = yes
				NOT = { has_war_with = ROOT }
				has_full_control_of_state = 617 #URUMQI
				has_full_control_of_state = 618 #DZUNGARIA
			}
			num_of_civilian_factories_available_for_projects > 0
			has_equipment = { fighter_equipment > 39 }
			has_equipment = { infantry_equipment > 499 }
			NOT = { has_country_flag = SOV_sinkiang_investment_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_the_gobi_gambit
			SIK = { #Relevant states under Sinkiang control
				SOV_is_valid_subject = yes
				NOT = { has_war_with = ROOT }
				has_full_control_of_state = 617 #URUMQI
				has_full_control_of_state = 759 #KUNLUN SHAN
			}
			is_subject = no
			has_capitulated = no
			NOT = { has_country_flag = SOV_sinkiang_military_aid_rejected_flag }
			NOT = { has_country_flag = SOV_sinkiang_military_aid_flag } #Do not do this twice, one with SIK one without SIK
		}

		cancel_trigger = {
			OR = {
				SIK = { #Relevant states under Sinkiang control
					OR = {
						SOV_is_valid_subject = no
						has_war_with = ROOT
						NOT = { has_full_control_of_state = 617 } #URUMQI
						NOT = { has_full_control_of_state = 759 } #KUNLUN SHAN
					}
				}
				is_subject = yes
				has_capitulated = yes
				has_country_flag = SOV_sinkiang_military_aid_rejected_flag
			}
		}

		cancel_effect = {
			clr_country_flag = SOV_sinkiang_investment_ongoing_flag
			hidden_effect = {
				SIK = {
					remove_mission = SOV_sinkiang_military_aid_mission_dummy
				}
			}
		}

		days_remove = SOV_sinkiang_military_aid_days

		fire_only_once = yes

		cost = SOV_sinkiang_proposal_cost

		modifier = {
			civilian_factory_use = 1
		}

		complete_effect = {
			set_country_flag = SOV_sinkiang_investment_ongoing_flag
			SIK = {
				country_event = { id = NSB_soviet_foreign_politics_events.278 hours = 2 }
			}
			# IF THEY ACCEPT
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_opinion_modifier = {
					target = SIK
					modifier = SOV_complied_with_our_demands
				}
				#custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov

				send_equipment = {
					type = fighter_equipment
					amount = 40
					target = SIK
				}
				send_equipment = {
					type = infantry_equipment
					amount = 500
					target = SIK
				}
			}
			# IF THEY REFUSE
			custom_effect_tooltip = if_they_refuse_tt
			effect_tooltip = {
				add_opinion_modifier = {
					target = SIK
					modifier = SOV_rejected_our_demands
				}
				custom_effect_tooltip = SOV_sinikiang_influence_refuse_tt
			}
		}

		remove_effect = {
			hidden_effect = { #Decrease SIK's desire to join Chinese faction (and other AI strategies)
				SOV_approach_sinkiang_diplomacy_effect = yes
				SIK = {
					add_ai_strategy = { #This is added in Gobi Gambit + all 3 investment decisions
						type = alliance
						id = SOV
						value = 4
					}
				}
			}
			617 = { #URUMQI - Mil
				if = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			759 = { #KUNLUN SHAN - Infra + Air base + Forts
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				if = {
					limit = {
						air_base < 9
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						air_base < 10
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 10315
						id = 2074
						id = 1698
						id = 4947
					}
					instant_build = yes
				}
			}
			if = {  #DABANCHENG - Forts
				limit = {
					SIK = { has_full_control_of_state = 760 }
				}
				760 = {
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 1838
							id = 4843
						}
						instant_build = yes
					}
				}
			}

			SIK = {
				add_tech_bonus = {
					name = NSB_soviet_foreign_politics_events.278.t
					bonus = 1
					uses = 2
					category = air_equipment
				}
				air_experience = 50
				army_experience = 50
			}

			clr_country_flag = SOV_sinkiang_investment_ongoing_flag
			set_country_flag = SOV_sinkiang_military_aid_flag
		}
	}

	SOV_sinkiang_support_expansion_sik = {
		priority = 50

		icon = infiltrate_state

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			SIK = {
				SOV_is_valid_subject = yes
				is_in_faction_with = ROOT
				has_full_control_of_state = 604 #QINGHAI
				has_full_control_of_state = 755 #HAIXI
				has_full_control_of_state = 756 #JIUQUAN
				has_full_control_of_state = 754 #GOLOG
				has_full_control_of_state = 753 #GANNAN
				has_full_control_of_state = 283 #GANSU
				has_full_control_of_state = 616 #NINGXIA
			}
			num_of_civilian_factories_available_for_projects > 2
			has_equipment = { motorized_equipment > 299 }
			NOT = { has_country_flag = SOV_sinkiang_investment_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_the_gobi_gambit
			SIK = { #Relevant states under Sinkiang control
				SOV_is_valid_subject = yes
				NOT = { has_war_with = ROOT }
				has_full_control_of_state = 617 #URUMQI
				has_full_control_of_state = 759 #KUNLUN SHAN
			}
			is_subject = no
			has_capitulated = no
			NOT = { has_country_flag = SOV_sinkiang_support_expansion_rejected_flag }
			NOT = { has_country_flag = SOV_sinkiang_support_expansion_flag } #Do not do this twice, one with SIK one without SIK
		}

		cancel_trigger = {
			OR = {
				SIK = { #Relevant states under Sinkiang control
					OR = {
						SOV_is_valid_subject = no
						has_war_with = ROOT
						NOT = { is_in_faction_with = ROOT }
						NOT = { has_full_control_of_state = 604 } #QINGHAI
						NOT = { has_full_control_of_state = 755 } #HAIXI
						NOT = { has_full_control_of_state = 756 } #JIUQUAN
						NOT = { has_full_control_of_state = 754 } #GOLOG
						NOT = { has_full_control_of_state = 753 } #GANNAN
						NOT = { has_full_control_of_state = 283 } #GANSU
						NOT = { has_full_control_of_state = 616 } #NINGXIA
					}
				}
				is_subject = yes
				has_capitulated = yes
				has_country_flag = SOV_sinkiang_support_expansion_rejected_flag
			}
		}

		cancel_effect = {
			clr_country_flag = SOV_sinkiang_investment_ongoing_flag
			hidden_effect = {
				SIK = {
					remove_mission = SOV_sinkiang_support_expansion_mission_dummy
				}
			}
		}

		days_remove = SOV_sinkiang_support_expansion_days

		fire_only_once = yes

		cost = SOV_sinkiang_proposal_cost

		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			set_country_flag = SOV_sinkiang_investment_ongoing_flag
			SIK = {
				country_event = { id = NSB_soviet_foreign_politics_events.280 hours = 2 }
			}
			# IF THEY ACCEPT
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				add_opinion_modifier = {
					target = SIK
					modifier = SOV_complied_with_our_demands
				}
				send_equipment = {
					type = motorized_equipment
					amount = 300
					target = SIK
				}
				#custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov
			}
			# IF THEY REFUSE
			custom_effect_tooltip = if_they_refuse_tt
			effect_tooltip = {
				add_opinion_modifier = {
					target = SIK
					modifier = SOV_rejected_our_demands
				}
				custom_effect_tooltip = SOV_sinikiang_influence_refuse_tt
			}
		}

		remove_effect = {
			hidden_effect = { #Decrease SIK's desire to join Chinese faction (and other AI strategies)
				SOV_approach_sinkiang_diplomacy_effect = yes
				SIK = {
					add_ai_strategy = { #This is added in Gobi Gambit + all 3 investment decisions
						type = alliance
						id = SOV
						value = 4
					}
				}
			}
			755 = { #HAIXI - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			756 = { #JIUQUAN - Infra + Oil
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_resource = {
					type = oil
					amount = 12
				}
			}
			604 = { #QINGHAI (Golmud) - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 7940
					}
					instant_build = yes
				}
			}
			754 = { #GOLOG (Lanzhou) - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 12732
					}
					instant_build = yes
				}
			}
			283 = { #GANSU - Infra + Air Base + Fort
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				if = {
					limit = {
						air_base < 9
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						air_base < 10
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 531
					}
					instant_build = yes
				}
			}

			clr_country_flag = SOV_sinkiang_investment_ongoing_flag
			set_country_flag = SOV_sinkiang_support_expansion_flag
		}
	}

	SOV_formalize_of_the_soviet_republic_of_sinkiang = {
		priority = 20

		icon = generic_nationalism

		ai_will_do = {
			base = 0.8
		}

		fire_only_once = yes

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = SOV_sinkiang_prospection_flag
			has_country_flag = SOV_sinkiang_oil_prospection_flag
			has_country_flag = SOV_sinkiang_military_aid_flag
			SIK = {
				is_in_faction_with = ROOT
				has_opinion = {
					target = ROOT
					value > 80
				}
				has_government = communism
			}
			has_country_flag = { flag = SOV_sinkiang_joined_comintern_counter_flag days > 730 }
			custom_trigger_tooltip = {
				tooltip = SOV_sinkiang_joined_comintern_days_tt
				has_country_flag = {
					flag = SOV_sinkiang_joined_comintern_counter_flag
					days > 730
				}
			}
			strength_ratio = {
			    tag = SIK
			    ratio > 2
			}
		}

		visible = {
			has_completed_focus = SOV_the_gobi_gambit
			country_exists = SIK
			SIK = {
				is_subject = no
			}
			NOT = { has_war_with = FROM }
		}

		cost = 100

		complete_effect = {
			SIK = {
				country_event = { id = NSB_soviet_foreign_politics_events.282 hours = 2 }
			}
			# IF THEY ACCEPT
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				puppet = SIK
				add_opinion_modifier = {
					target = SIK
					modifier = SOV_complied_with_our_demands
				}
			}

			# IF THEY REFUSE
			custom_effect_tooltip = if_they_refuse_tt
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_rejected_our_demands
			}

			custom_effect_tooltip = SOV_formalize_of_the_soviet_republic_of_sinkiang_only_once_tt
		}
	}
}

 ######  #### ##    ## ##    ## ####    ###    ##    ##  ######   ####  ######     ########  ##     ## ##     ## ##     ## #### ########  ######
##    ##  ##  ###   ## ##   ##   ##    ## ##   ###   ## ##    ##  #### ##    ##    ##     ## ##     ## ###   ### ###   ###  ##  ##       ##    ##
##        ##  ####  ## ##  ##    ##   ##   ##  ####  ## ##         ##  ##          ##     ## ##     ## #### #### #### ####  ##  ##       ##
 ######   ##  ## ## ## #####     ##  ##     ## ## ## ## ##   #### ##    ######     ##     ## ##     ## ## ### ## ## ### ##  ##  ######    ######
      ##  ##  ##  #### ##  ##    ##  ######### ##  #### ##    ##             ##    ##     ## ##     ## ##     ## ##     ##  ##  ##             ##
##    ##  ##  ##   ### ##   ##   ##  ##     ## ##   ### ##    ##       ##    ##    ##     ## ##     ## ##     ## ##     ##  ##  ##       ##    ##
 ######  #### ##    ## ##    ## #### ##     ## ##    ##  ######         ######     ########   #######  ##     ## ##     ## #### ########  ######

SOV_soviet_aid_decision_category = {
	SOV_sinkiang_mineral_prospection_mission_dummy = { # Fake "Mission" for Sinkiang so that they can see Soviet progress on this
		priority = 50

		icon = generic_construction

		allowed = {
			original_tag = SOV
		}

		available =  {
			hidden_trigger = { always = no }
		}

		activation = {
			always = no
		}

		cancel_trigger = {
			OR = {
				SOV_is_valid_subject = no
				has_war_with = SOV
				NOT = { has_full_control_of_state = 617 } #URUMQI
				NOT = { has_full_control_of_state = 619 } #YARKAND
				SOV = { is_subject = yes }
				SOV = { has_capitulated = yes }
			}
		}

		is_good = yes

		days_mission_timeout = SOV.SOV_sinkiang_mineral_prospection_days

		timeout_effect = {
			effect_tooltip = {
				619 = { #YARKAND - Minerals and Infra
					add_resource = {
						type = bauxite
						amount = 3
					}
					add_resource = {
						type = chromium
						amount = 3
					}
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				617 = { #URUMQI
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				# Urumqi - Kashgar
				build_railway = {
					path = { 4709 4770 7702 4682 7949 2015 }
				}

				#Supply Hub in Kashgar
				619 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 2015
						instant_build = yes
					}
				}
			}
		}
	}

	SOV_sinkiang_oil_prospection_mission_dummy = { # Fake "Mission" for Sinkiang so that they can see Soviet progress on this
		priority = 50

		icon = generic_construction

		allowed = {
			original_tag = SOV
		}

		available =  {
			hidden_trigger = { always = no }
		}

		activation = {
			always = no
		}

		cancel_trigger = {
			OR = {
				SOV_is_valid_subject = no
				has_war_with = SOV
				NOT = { has_full_control_of_state = 617 } #URUMQI
				NOT = { has_full_control_of_state = 618 } #DZUNGARIA
				SOV = { is_subject = yes }
				SOV = { has_capitulated = yes }
			}
		}

		is_good = yes

		days_mission_timeout = SOV.SOV_sinkiang_oil_prospection_days

		timeout_effect = {
			effect_tooltip = {
				618 = { #DZUNGARIA - Minerals, oil and Infra
					add_resource = {
						type = bauxite
						amount = 3
					}
					add_resource = {
						type = tungsten
						amount = 3
					}
					add_resource = {
						type = oil
						amount = 6
					}
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				give_resource_rights = { receiver = SOV state = 618 } # Grant Resource rights to SOV
				617 = { #URUMQI - Infra
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				# Urumqi - Altay
				build_railway = {
					path = { 4709 10674 1783 1844 12737 4823 }
				}
				#Supply Hub in Altay
				618 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 4823
						instant_build = yes
					}
				}

				add_ideas = SOV_expanded_exploitation_of_gold_mines
			}
		}
	}

	SOV_sinkiang_military_aid_mission_dummy = { # Fake "Mission" for Sinkiang so that they can see Soviet progress on this
		priority = 50

		icon = generic_military

		allowed = {
			original_tag = SOV
		}

		available =  {
			hidden_trigger = { always = no }
		}

		activation = {
			always = no
		}

		cancel_trigger = {
			OR = {
				SOV_is_valid_subject = no
				has_war_with = SOV
				NOT = { has_full_control_of_state = 617 } #URUMQI
				NOT = { has_full_control_of_state = 759 } #KUNLUN SHAN
				SOV = { is_subject = yes }
				SOV = { has_capitulated = yes }
			}
		}

		is_good = yes

		days_mission_timeout = SOV.SOV_sinkiang_military_aid_days

		timeout_effect = {
			effect_tooltip = {
				617 = { #URUMQI - Mil
					if = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
				759 = { #KUNLUN SHAN - Infra + Air base + Forts
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					if = {
						limit = {
							air_base < 9
						}
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
					else_if = {
						limit = {
							air_base < 10
						}
						add_building_construction = {
							type = air_base
							level = 1
							instant_build = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 10315
							id = 2074
							id = 1698
							id = 4947
						}
						instant_build = yes
					}
				}
				if = {  #DABANCHENG - Forts
					limit = {
						has_full_control_of_state = 760
					}
					760 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 1838
								id = 4843
							}
							instant_build = yes
						}
					}
				}
				add_tech_bonus = {
					name = NSB_soviet_foreign_politics_events.278.t
					bonus = 1
					uses = 2
					category = air_equipment
				}
				air_experience = 50
				army_experience = 50
			}
		}
	}

	SOV_sinkiang_support_expansion_mission_dummy = { # Fake "Mission" for Sinkiang so that they can see Soviet progress on this
		priority = 50

		icon = infiltrate_state

		allowed = {
			original_tag = SOV
		}

		available =  {
			hidden_trigger = { always = no }
		}

		activation = {
			always = no
		}

		cancel_trigger = {
			OR = { #Relevant states under Sinkiang control
				SOV_is_valid_subject = no
				has_war_with = ROOT
				NOT = { is_in_faction_with = ROOT }
				NOT = { has_full_control_of_state = 604 } #QINGHAI
				NOT = { has_full_control_of_state = 755 } #HAIXI
				NOT = { has_full_control_of_state = 756 } #JIUQUAN
				NOT = { has_full_control_of_state = 754 } #GOLOG
				NOT = { has_full_control_of_state = 753 } #GANNAN
				NOT = { has_full_control_of_state = 283 } #GANSU
				NOT = { has_full_control_of_state = 616 } #NINGXIA
			}
			SOV = {
				OR = {
					is_subject = yes
					has_capitulated = yes
					has_country_flag = SOV_sinkiang_support_expansion_rejected_flag
				}
			}
		}

		is_good = yes

		days_mission_timeout = SOV.SOV_sinkiang_support_expansion_days

		timeout_effect = {
			effect_tooltip = {
				755 = { #HAIXI - Infra
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				756 = { #JIUQUAN - Infra + Oil
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_resource = {
						type = oil
						amount = 12
					}
				}
				604 = { #QINGHAI (Golmud) - Infra
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 7940
						}
						instant_build = yes
					}
				}
				754 = { #GOLOG (Lanzhou) - Infra
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 12732
						}
						instant_build = yes
					}
				}
				283 = { #GANSU - Infra + Air Base + Fort
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					if = {
						limit = {
							air_base < 9
						}
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
					else_if = {
						limit = {
							air_base < 10
						}
						add_building_construction = {
							type = air_base
							level = 1
							instant_build = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 531
						}
						instant_build = yes
					}
				}
			}
		}
	}
}

########  ########  ######   #######  ##     ## ########   ######  ########    ########  ########   #######   ######  ########  ########  ######  ######## ####  #######  ##    ##
##     ## ##       ##    ## ##     ## ##     ## ##     ## ##    ## ##          ##     ## ##     ## ##     ## ##    ## ##     ## ##       ##    ##    ##     ##  ##     ## ###   ##
##     ## ##       ##       ##     ## ##     ## ##     ## ##       ##          ##     ## ##     ## ##     ## ##       ##     ## ##       ##          ##     ##  ##     ## ####  ##
########  ######    ######  ##     ## ##     ## ########  ##       ######      ########  ########  ##     ##  ######  ########  ######   ##          ##     ##  ##     ## ## ## ##
##   ##   ##             ## ##     ## ##     ## ##   ##   ##       ##          ##        ##   ##   ##     ##       ## ##        ##       ##          ##     ##  ##     ## ##  ####
##    ##  ##       ##    ## ##     ## ##     ## ##    ##  ##    ## ##          ##        ##    ##  ##     ## ##    ## ##        ##       ##    ##    ##     ##  ##     ## ##   ###
##     ## ########  ######   #######   #######  ##     ##  ######  ########    ##        ##     ##  #######   ######  ##        ########  ######     ##    ####  #######  ##    ##

prospect_for_resources = {
	SOV_sinkiang_mineral_prospection = { #Development in Sinkiang but without Sinkiang
		priority = 50

		icon = generic_construction

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_completed_focus = SOV_the_gobi_gambit
			has_full_control_of_state = 617 #URUMQI
			has_full_control_of_state = 619 #YARKAND
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			NOT = { has_country_flag = SOV_sinkiang_prospection_flag } #Do not do this twice, one with SIK one without SIK
			has_full_control_of_state = 617 #URUMQI
			has_full_control_of_state = 619 #YARKAND
		}

		cancel_if_not_visible = yes

		days_remove = SOV_sinkiang_mineral_prospection_days

		cost = SOV_sinkiang_proposal_cost

		modifier = {
			civilian_factory_use = 1
		}

		remove_effect = {
			619 = { #YARKAND - Minerals and Infra
				add_resource = {
					type = bauxite
					amount = 3
				}
				add_resource = {
					type = chromium
					amount = 3
				}
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			617 = { #URUMQI
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			# Urumqi - Kashgar
			build_railway = {
				path = { 4709 4770 7702 4682 7949 2015 }
			}

			#Supply Hub in Kashgar
			619 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 2015
					instant_build = yes
				}
			}

			set_country_flag = SOV_sinkiang_prospection_flag
		}
	}

	SOV_sinkiang_oil_prospection = { #Development in Sinkiang but without Sinkiang
		priority = 50

		icon = generic_construction

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_completed_focus = SOV_the_gobi_gambit
			has_full_control_of_state = 617 #URUMQI
			has_full_control_of_state = 618 #DZUNGARIA
			num_of_civilian_factories_available_for_projects > 1
		}

		visible = {
			NOT = { has_country_flag = SOV_sinkiang_oil_prospection_flag } #Do not do this twice, one with SIK one without SIK
			has_full_control_of_state = 617 #URUMQI
			has_full_control_of_state = 618 #DZUNGARIA
		}

		cancel_if_not_visible = yes

		days_remove = SOV_sinkiang_mineral_prospection_days

		cost = SOV_sinkiang_proposal_cost

		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			618 = { #DZUNGARIA - Minerals, oil and Infra
				add_resource = {
					type = bauxite
					amount = 3
				}
				add_resource = {
					type = tungsten
					amount = 3
				}
				add_resource = {
					type = oil
					amount = 6
				}
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			617 = { #URUMQI - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			# Urumqi - Altay
			build_railway = {
				path = { 4709 10674 1783 1844 12737 4823 }
			}
			#Supply Hub in Altay
			618 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 4823
					instant_build = yes
				}
			}

			set_country_flag = SOV_sinkiang_oil_prospection_flag
		}
	}

	SOV_jiuquan_oil_prospection = { #Development in Jiuquan but without Sinkiang or XSM
		priority = 50

		icon = generic_construction

		ai_will_do = {
			base = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_completed_focus = SOV_the_gobi_gambit
			has_full_control_of_state = 604 #QINGHAI
			has_full_control_of_state = 755 #HAIXI
			has_full_control_of_state = 756 #JIUQUAN
			has_full_control_of_state = 754 #GOLOG
			has_full_control_of_state = 753 #GANNAN
			has_full_control_of_state = 283 #GANSU
			has_full_control_of_state = 616 #NINGXIA
			num_of_civilian_factories_available_for_projects > 1
		}

		visible = {
			NOT = { has_country_flag = SOV_sinkiang_support_expansion_flag } #Do not do this twice, one with SIK one without SIK
			has_full_control_of_state = 604 #QINGHAI
			has_full_control_of_state = 755 #HAIXI
			has_full_control_of_state = 756 #JIUQUAN
			has_full_control_of_state = 754 #GOLOG
			has_full_control_of_state = 753 #GANNAN
			has_full_control_of_state = 283 #GANSU
			has_full_control_of_state = 616 #NINGXIA
		}

		cancel_if_not_visible = yes

		days_remove = SOV_sinkiang_support_expansion_days

		cost = SOV_sinkiang_proposal_cost

		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			755 = { #HAIXI - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			756 = { #JIUQUAN - Infra + Oil
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_resource = {
					type = oil
					amount = 12
				}
			}
			604 = { #QINGHAI (Golmud) - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 7940
					}
					instant_build = yes
				}
			}
			754 = { #GOLOG (Lanzhou) - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 12732
					}
					instant_build = yes
				}
			}
			283 = { #GANSU - Infra + Air Base + Fort
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				if = {
					limit = {
						air_base < 9
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						air_base < 10
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 531
					}
					instant_build = yes
				}
			}
			set_country_flag = SOV_sinkiang_support_expansion_flag
		}
	}
}

##     ## ######## ########   ######   ########    ########  ########  ######  ####  ######   ##    ## ######## ########   ######
###   ### ##       ##     ## ##    ##  ##          ##     ## ##       ##    ##  ##  ##    ##  ###   ## ##       ##     ## ##    ##
#### #### ##       ##     ## ##        ##          ##     ## ##       ##        ##  ##        ####  ## ##       ##     ## ##
## ### ## ######   ########  ##   #### ######      ##     ## ######    ######   ##  ##   #### ## ## ## ######   ########   ######
##     ## ##       ##   ##   ##    ##  ##          ##     ## ##             ##  ##  ##    ##  ##  #### ##       ##   ##         ##
##     ## ##       ##    ##  ##    ##  ##          ##     ## ##       ##    ##  ##  ##    ##  ##   ### ##       ##    ##  ##    ##
##     ## ######## ##     ##  ######   ########    ########  ########  ######  ####  ######   ##    ## ######## ##     ##  ######

SOV_merge_designers_dec_cat = {

	SOV_debug_merge_designers_FASTER_AND_FREE = {
		priority = 999

		icon = eng_ally_imperialist_coup

		ai_will_do = {
			base = 0
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			OR = {
				has_completed_focus = SOV_merge_evacuated_plants
				#has_completed_focus = SOV_merge_naval_plants
				#hhas_completed_focus = SOV_merge_aircraft_plants
			}
			NOT = {
				has_country_flag = SOV_debug_fast_merge_desingers_flag
			}
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			set_country_flag = SOV_debug_fast_merge_desingers_flag
			set_variable = { SOV_merge_designers_cost = 0 }
			set_variable = { SOV_merge_designers_time = 3 }
		}
	}

	SOV_debug_merge_designers_BACK_TO_REGULAR_STUFF = {
		priority = 999

		icon = eng_ally_imperialist_coup

		ai_will_do = {
			base = 0
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			OR = {
				has_completed_focus = SOV_merge_evacuated_plants
				#has_completed_focus = SOV_merge_naval_plants
				#hhas_completed_focus = SOV_merge_aircraft_plants
			}
			has_country_flag = SOV_debug_fast_merge_desingers_flag
			is_debug = yes
		}

		cost = 0

		complete_effect = {
			clr_country_flag = SOV_debug_fast_merge_desingers_flag
			set_variable = { SOV_merge_designers_cost = 25 }
			set_variable = { SOV_merge_designers_time = 90 }
		}
	}

	#####################
	### TANK DESIGNER ###
	#####################
	SOV_merge_tank_plant = {
		priority = 53

		icon = GFX_decision_generic_merge_plant_tank

		ai_will_do = {
			base = 20
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 195 #LENINGRAD
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_tank_designer_any = yes
			NOT = { has_country_flag = SOV_merge_tank_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			SOV_has_tank_merged_1 = no
		}


		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			production_factory_efficiency_gain_factor = -0.05
		}

		complete_effect = {
			set_country_flag = SOV_merge_tank_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_tank_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_infantry_plant_efficiency_tt
			custom_effect_tooltip = SOV_merge_tank_plant_tt
			hidden_effect = {
				add_to_variable = { SOV_fyp_production_factory_efficiency_gain_factor = 0.05 }
				SOV_upgrade_appropriate_tank_designer_1_effect = yes
			}
		}
	}

	SOV_merge_tank_plant_2 = {
		priority = 52

		icon = GFX_decision_generic_merge_plant_tank

		ai_will_do = {
			base = 20
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 252 #GORKY
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_tank_designer_any = yes
			NOT = { has_country_flag = SOV_merge_tank_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			SOV_has_tank_merged_2 = no
		}


		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			production_factory_efficiency_gain_factor = -0.05
		}

		complete_effect = {
			set_country_flag = SOV_merge_tank_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_tank_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_infantry_plant_efficiency_tt
			custom_effect_tooltip = SOV_merge_tank_plant_tt
			hidden_effect = {
				add_to_variable = { SOV_fyp_production_factory_efficiency_gain_factor = 0.05 }
				SOV_upgrade_appropriate_tank_designer_2_effect = yes
			}
		}
	}

	SOV_merge_tank_plant_3 = {
		priority = 51

		icon = GFX_decision_generic_merge_plant_tank

		ai_will_do = {
			base = 20
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 653 #SVERDLOVSK
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_tank_designer_any = yes
			NOT = { has_country_flag = SOV_merge_tank_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			SOV_has_tank_merged_3 = no
		}


		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			production_factory_efficiency_gain_factor = -0.05
		}

		complete_effect = {
			set_country_flag = SOV_merge_tank_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_tank_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_infantry_plant_efficiency_tt
			custom_effect_tooltip = SOV_merge_tank_plant_tt
			hidden_effect = {
				add_to_variable = { SOV_fyp_production_factory_efficiency_gain_factor = 0.05 }
				SOV_upgrade_appropriate_tank_designer_3_effect = yes
			}
		}
	}


	######################
	### NAVAL DESIGNER ###
	######################

	SOV_merge_ship_plant_1_baltic = {
		priority = 24

		icon = GFX_decision_generic_merge_plant_ship

		ai_will_do = {
			base = 0.5
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 195 #LENINGRAD
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_ship_designer_any_baltic = yes
			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
		}

		visible = {
			has_dlc = "Man the Guns" #Coastal Defense Ships
			has_completed_focus = SOV_merge_evacuated_plants
			has_completed_focus = SOV_new_shipyards
			SOV_has_ship_merged_1_baltic = no
			SOV_has_active_ship_designer_any_black_sea = no
		}



		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			industrial_capacity_dockyard = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_merge_ship_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_ship_plant_capital_attack_tt
			hidden_effect = {
				add_to_variable = { SOV_red_fleet_navy_capital_ship_attack_factor = 0.1 }
			}
		}
	}

	SOV_merge_ship_plant_2_baltic = {
		priority = 23

		icon = GFX_decision_generic_merge_plant_ship

		ai_will_do = {
			base = 0.5
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 195 #LENINGRAD
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_ship_designer_any_baltic = yes
			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			has_completed_focus = SOV_new_shipyards
			SOV_has_ship_merged_2_baltic = no
			SOV_has_active_ship_designer_any_black_sea = no
		}


		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			industrial_capacity_dockyard = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_merge_ship_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_ship_plant_screen_attack_tt
			hidden_effect = {
				add_to_variable = { SOV_red_fleet_navy_screen_attack_factor = 0.1 }
			}
		}
	}

	SOV_merge_ship_plant_3_baltic = {
		priority = 22

		icon = GFX_decision_generic_merge_plant_ship

		ai_will_do = {
			base = 0.5
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 195 #LENINGRAD
			has_completed_focus = SOV_submarine_warfare
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_ship_designer_any_baltic = yes
			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			has_completed_focus = SOV_new_shipyards
			SOV_has_ship_merged_3_baltic = no
			SOV_has_active_ship_designer_any_black_sea = no
		}


		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			industrial_capacity_dockyard = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_merge_ship_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_ship_plant_submarine_attack_tt
			hidden_effect = {
				add_to_variable = { SOV_red_fleet_navy_submarine_attack_factor = 0.1 }
			}
		}
	}

	SOV_merge_ship_plant_4_baltic = {
		priority = 21

		icon = GFX_decision_generic_merge_plant_ship

		ai_will_do = {
			base = 0.5
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 195 #LENINGRAD
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_ship_designer_any_baltic = yes
			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			has_completed_focus = SOV_new_shipyards
			SOV_has_ship_merged_4_baltic = no
			SOV_has_active_ship_designer_any_black_sea = no
		}

		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			industrial_capacity_dockyard = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_merge_ship_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_ship_plant_carrier_attack_tt
			hidden_effect = {
				add_to_variable = { SOV_red_fleet_navy_carrier_air_attack_factor = 0.1 }
			}
		}
	}

	SOV_merge_ship_plant_1_black_sea = {
		priority = 14

		icon = GFX_decision_generic_merge_plant_ship

		ai_will_do = {
			base = 0.5
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 197 #MYKOLAIV
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_ship_designer_any_black_sea = yes
			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
		}

		visible = {
			has_dlc = "Man the Guns" #Coastal Defense Ships
			has_completed_focus = SOV_merge_evacuated_plants
			has_completed_focus = SOV_new_shipyards
			SOV_has_ship_merged_1_black_sea = no
			SOV_has_active_ship_designer_any_baltic = no
		}

		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			industrial_capacity_dockyard = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_merge_ship_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_ship_plant_capital_defence_tt
			hidden_effect = {
				add_to_variable = { SOV_red_fleet_navy_capital_ship_defence_factor = 0.1 }
			}
		}
	}

	SOV_merge_ship_plant_2_black_sea = {
		priority = 13

		icon = GFX_decision_generic_merge_plant_ship

		ai_will_do = {
			base = 0.5
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 202 #KIEV
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_ship_designer_any_black_sea = yes
			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			has_completed_focus = SOV_new_shipyards
			SOV_has_ship_merged_2_black_sea = no
			SOV_has_active_ship_designer_any_baltic = no
		}

		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			industrial_capacity_dockyard = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_merge_ship_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_ship_plant_screen_defence_tt
			hidden_effect = {
				add_to_variable = { SOV_red_fleet_navy_screen_defence_factor = 0.1 }
			}
		}
	}

	SOV_merge_ship_plant_3_black_sea = {
		priority = 12

		icon = GFX_decision_generic_merge_plant_ship

		ai_will_do = {
			base = 0.5
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 227 #STALINO
			has_completed_focus = SOV_submarine_warfare
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_ship_designer_any_black_sea = yes
			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			has_completed_focus = SOV_new_shipyards
			SOV_has_ship_merged_3_black_sea = no
			SOV_has_active_ship_designer_any_baltic = no
		}

		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			industrial_capacity_dockyard = -0.25
		}

		complete_effect = {
			set_country_flag = SOV_merge_ship_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_ship_plant_submarine_defence_tt
			hidden_effect = {
				add_to_variable = { SOV_red_fleet_navy_submarine_defence_factor = 0.1 }
			}
		}
	}

	SOV_merge_ship_plant_4_black_sea = {
		priority = 11

		icon = GFX_decision_generic_merge_plant_ship

		ai_will_do = {
			base = 0.5
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 195 #LENINGRAD
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_ship_designer_any_black_sea = yes
			NOT = { has_country_flag = SOV_merge_ship_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			has_completed_focus = SOV_new_shipyards
			SOV_has_ship_merged_4_black_sea = no
			SOV_has_active_ship_designer_any_baltic = no
		}

		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			production_factory_efficiency_gain_factor = -0.05
		}

		complete_effect = {
			set_country_flag = SOV_merge_ship_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_ship_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_ship_plant_4_tt
			hidden_effect = {
				SOV_upgrade_appropriate_ship_designer_4_black_sea_effect = yes
			}
		}
	}


	#########################
	### AIRCRAFT DESIGNER ###
	#########################
	SOV_merge_aircraft_plant_1 = {
		priority = 33

		icon = GFX_decision_generic_merge_plant_aircraft

		ai_will_do = {
			base = 20
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 251 #KUYBYSHEV
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_aircraft_designer_any = yes
			NOT = { has_country_flag = SOV_merge_aircraft_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			SOV_has_aircraft_merged_1 = no
		}

		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			production_factory_efficiency_gain_factor = -0.05
		}

		complete_effect = {
			set_country_flag = SOV_merge_aircraft_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_aircraft_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_aircraft_plant_1_tt
			hidden_effect = {
				SOV_upgrade_appropriate_aircraft_designer_1_effect = yes
			}
		}
	}

	SOV_merge_aircraft_plant_2 = {
		priority = 32

		icon = GFX_decision_generic_merge_plant_aircraft

		ai_will_do = {
			base = 20
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 219 #MOSCOW
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_aircraft_designer_any = yes
			NOT = { has_country_flag = SOV_merge_aircraft_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			SOV_has_aircraft_merged_2 = no
		}


		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			production_factory_efficiency_gain_factor = -0.05
		}

		complete_effect = {
			set_country_flag = SOV_merge_aircraft_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_aircraft_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_aircraft_plant_2_tt
			hidden_effect = {
				SOV_upgrade_appropriate_aircraft_designer_2_effect = yes
			}

			add_resource = {
				type = bauxite
				amount = 3
				state = 219
			}
		}
	}

	SOV_merge_aircraft_plant_3 = {
		priority = 31

		icon = GFX_decision_generic_merge_plant_aircraft

		ai_will_do = {
			base = 20
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 966 #RIGA
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_aircraft_designer_any = yes
			NOT = { has_country_flag = SOV_merge_aircraft_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			SOV_has_aircraft_merged_3 = no
		}

		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			production_factory_efficiency_gain_factor = -0.05
		}

		complete_effect = {
			set_country_flag = SOV_merge_aircraft_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_aircraft_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_aircraft_plant_defence_tt
			custom_effect_tooltip = SOV_merge_aircraft_plant_3_tt
			hidden_effect = {
				SOV_upgrade_appropriate_aircraft_designer_3_effect = yes
				add_to_variable = { SOV_soviet_airforce_air_defence_factor = 0.1 }
			}
		}
	}


	#########################
	### MATERIEL DESIGNER ###
	#########################
	SOV_merge_materiel_plant_1_artillery = {
		priority = 45

		icon = GFX_decision_generic_merge_plant_materiel

		ai_will_do = {
			base = 20
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 398 #PERM
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_materiel_designer_any = yes
			NOT = { has_country_flag = SOV_merge_materiel_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			SOV_has_materiel_merged_1_artillery = no
		}

		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			production_factory_efficiency_gain_factor = -0.05
		}

		complete_effect = {
			set_country_flag = SOV_merge_materiel_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_materiel_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_infantry_plant_efficiency_tt
			hidden_effect = {
				add_to_variable = { SOV_fyp_production_factory_efficiency_gain_factor = 0.05 }
			}
		}
	}

	SOV_merge_materiel_plant_1_infantry = {
		priority = 44

		icon = GFX_decision_generic_merge_plant_materiel

		ai_will_do = {
			base = 20
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 399 #IZHEVSK
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_materiel_designer_any = yes
			NOT = { has_country_flag = SOV_merge_materiel_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			SOV_has_materiel_merged_1_infantry = no
		}

		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			production_factory_efficiency_gain_factor = -0.05
		}

		complete_effect = {
			set_country_flag = SOV_merge_materiel_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_materiel_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_infantry_plant_efficiency_tt
			hidden_effect = {
				add_to_variable = { SOV_fyp_production_factory_efficiency_gain_factor = 0.05 }
			}
		}
	}

	SOV_merge_materiel_plant_1_motorized = {
		priority = 43

		icon = GFX_decision_generic_merge_plant_materiel

		ai_will_do = {
			base = 20
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 252 #GORKY
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_materiel_designer_any = yes
			NOT = { has_country_flag = SOV_merge_materiel_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			SOV_has_materiel_merged_1_motorized = no
		}

		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			production_factory_efficiency_gain_factor = -0.05
		}

		complete_effect = {
			set_country_flag = SOV_merge_materiel_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_materiel_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_infantry_plant_motorized_tt
			hidden_effect = {
				SOV_upgrade_appropriate_materiel_designer_1_motorized_effect = yes
			}
		}
	}

	SOV_merge_materiel_plant_2 = {
		priority = 42

		icon = GFX_decision_generic_merge_plant_materiel

		ai_will_do = {
			base = 20
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 227 #STALINO
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_materiel_designer_any = yes
			NOT = { has_country_flag = SOV_merge_materiel_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			SOV_has_materiel_merged_2 = no
		}

		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			production_factory_efficiency_gain_factor = -0.05
		}

		complete_effect = {
			set_country_flag = SOV_merge_materiel_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_materiel_decision_ongoing_flag

			custom_effect_tooltip = SOV_merge_infantry_plant_speed_tt
			hidden_effect = {
				add_to_variable = { SOV_the_red_army_army_infantry_speed_factor = 0.05 }
			}
		}
	}

	SOV_merge_materiel_plant_3 = {
		priority = 41

		icon = GFX_decision_generic_merge_plant_materiel

		ai_will_do = {
			base = 20
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			#has_full_control_of_state = 582 #MAGNITOGORSK
			num_of_civilian_factories_available_for_projects > 0
			SOV_has_active_materiel_designer_any = yes
			NOT = { has_country_flag = SOV_merge_materiel_decision_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_merge_evacuated_plants
			SOV_has_materiel_merged_3 = no
		}

		cost = SOV_merge_designers_cost

		days_remove = SOV_merge_designers_time

		fire_only_once = yes

		modifier = {
			civilian_factory_use = 2
			production_factory_efficiency_gain_factor = -0.05
		}

		complete_effect = {
			set_country_flag = SOV_merge_materiel_decision_ongoing_flag
		}

		remove_effect = {
			clr_country_flag = SOV_merge_materiel_decision_ongoing_flag

			modify_building_resources = {
				building = steel_refinery
				resource = steel
				amount = 1
			}
			custom_effect_tooltip = SOV_merge_materiel_plant_3_tt
			hidden_effect = {
				SOV_upgrade_appropriate_materiel_designer_3_effect = yes
			}
		}
	}
}

   ###     ######     ###    ########  ######## ##     ## ##    ##     #######  ########     ######   ######  #### ######## ##    ##  ######  ########  ######
  ## ##   ##    ##   ## ##   ##     ## ##       ###   ###  ##  ##     ##     ## ##          ##    ## ##    ##  ##  ##       ###   ## ##    ## ##       ##    ##
 ##   ##  ##        ##   ##  ##     ## ##       #### ####   ####      ##     ## ##          ##       ##        ##  ##       ####  ## ##       ##       ##
##     ## ##       ##     ## ##     ## ######   ## ### ##    ##       ##     ## ######       ######  ##        ##  ######   ## ## ## ##       ######    ######
######### ##       ######### ##     ## ##       ##     ##    ##       ##     ## ##                ## ##        ##  ##       ##  #### ##       ##             ##
##     ## ##    ## ##     ## ##     ## ##       ##     ##    ##       ##     ## ##          ##    ## ##    ##  ##  ##       ##   ### ##    ## ##       ##    ##
##     ##  ######  ##     ## ########  ######## ##     ##    ##        #######  ##           ######   ######  #### ######## ##    ##  ######  ########  ######

SOV_national_academy_of_sciences_dec_cat = {
	SOV_debug_FASTER_AND_FREE = {
		priority = 51

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			is_debug = yes
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = {
				has_country_flag = SOV_debug_fast_national_academy_of_sicences_flag
			}
		}

		cost = 0

		complete_effect = {
			set_country_flag = SOV_debug_fast_national_academy_of_sicences_flag
			set_variable = { SOV_national_academy_of_sciences_construction_cost = 0 }
			set_variable = { SOV_national_academy_of_sciences_construction_time = 3 }
		}
	}

	SOV_debug_BACK_TO_REGULAR_STUFF = {
		priority = 51

		icon = eng_ally_imperialist_coup

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}

		visible = {
			is_debug = yes
			has_completed_focus = SOV_national_academies_of_sciences
			has_country_flag = SOV_debug_fast_national_academy_of_sicences_flag
		}

		cost = 0

		complete_effect = {
			clr_country_flag = SOV_debug_fast_national_academy_of_sicences_flag
			set_variable = { SOV_national_academy_of_sciences_construction_cost = 50 }
			set_variable = { SOV_national_academy_of_sciences_construction_time = 90 }
		}
	}

	SOV_build_national_academy_of_sciences_independent_republic = {
		priority = 2

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Puppets get prio so that they receive bonus too
			base = 0.9
		}

		target_trigger = {
			FROM = {
				SOV_is_valid_academy_of_sciences_target = yes
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			country_exists = FROM
			FROM = {
				SOV_is_valid_academy_of_sciences_target = yes
			}
			SOV_has_already_built_national_academy_of_sciences = no
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 5
		}

		remove_effect = {
			custom_effect_tooltip = SOV_build_national_academy_of_sciences_independent_republic_tt
			hidden_effect = {
				add_to_variable = { var = SOV_Army_research_speed value = 1 }
				SOV_political_instability_update_effect = yes
			}
			SOV_set_appropriate_national_academy_of_sciences_flag_effect = yes #Set Appropriate flag to avoid duplicates with the other set of decisions for non-existing countries
			FROM = {
				country_event = NSB_soviet_academy_of_sciences.1
				effect_tooltip = {
					add_ideas = SOV_national_academy_of_sciences_puppet
				}
			}
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_BLR = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = BLR
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_BLR_flag }
			NOT = { country_exists = BLR }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 5
		}

		remove_effect = {
			BLR = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_BLR_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_UKR = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = UKR
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_UKR_flag }
			NOT = { country_exists = UKR }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 5
		}

		remove_effect = {
			UKR = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_UKR_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_KAZ = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = KAZ
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_KAZ_flag }
			NOT = { country_exists = KAZ }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 5
		}

		remove_effect = {
			KAZ = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_KAZ_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_GEO = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
	 		base = 0.5
	 	}

		cosmetic_tag = GEO
	 	cosmetic_ideology = communism

	 	allowed = {
	 		original_tag = SOV
	 	}

	 	available = {
	 		num_of_civilian_factories_available_for_projects > 0
	 	}

	 	visible = {
	 		has_completed_focus = SOV_national_academies_of_sciences
	 		NOT = { has_country_flag = SOV_national_academy_of_sciences_built_GEO_flag }
			NOT = { country_exists = GEO }
		}

		fire_only_once = yes

	 	cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 5
		}

		remove_effect = {
			GEO = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_GEO_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_ARM = {
	 	priority = 1

	 	icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = ARM
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_ARM_flag }
			NOT = { country_exists = ARM }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 5
		}

		remove_effect = {
	 		ARM = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_ARM_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_AZR = {
		priority = 1

	 	icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
	 	}

		cosmetic_tag = AZR
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_AZR_flag }
			NOT = { country_exists = AZR }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 5
		}

		remove_effect = {
			AZR = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_AZR_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_POL = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = POL
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_POL_flag }
			NOT = { country_exists = POL }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 5
		}

		remove_effect = {
			POL = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_POL_flag
		}
	}

	SOV_build_national_academy_of_sciences_integrated_republic_FIN = {
		priority = 1

		icon = GFX_decision_SOV_academy_of_sciences

		ai_will_do = { #Integrated republics go after puppets
			base = 0.5
		}

		cosmetic_tag = FIN
		cosmetic_ideology = communism

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
		}

		visible = {
			has_completed_focus = SOV_national_academies_of_sciences
			NOT = { has_country_flag = SOV_national_academy_of_sciences_built_FIN_flag }
			NOT = { country_exists = FIN }
		}

		fire_only_once = yes

		cost = SOV_national_academy_of_sciences_construction_cost

		days_remove = SOV_national_academy_of_sciences_construction_time

		modifier = {
			civilian_factory_use = 5
		}

		remove_effect = {
			FIN = { SOV_build_national_academy_of_sciences_effect = yes } #Tooltip + increase research speed in dynamic modifier
			set_country_flag = SOV_national_academy_of_sciences_built_FIN_flag
		}
	}
}


##    ## #### ##       ##          ######## ########   #######  ########  ######  ##    ## ##    ##               ##    ##  #######     ##          ###    ########
##   ##   ##  ##       ##             ##    ##     ## ##     ##    ##    ##    ## ##   ##   ##  ##                ###   ## ##     ##    ##         ## ##   ##     ##
##  ##    ##  ##       ##             ##    ##     ## ##     ##    ##    ##       ##  ##     ####                 ####  ## ##     ##    ##        ##   ##  ##     ##
#####     ##  ##       ##             ##    ########  ##     ##    ##     ######  #####       ##       #######    ## ## ## ##     ##    ##       ##     ## ########
##  ##    ##  ##       ##             ##    ##   ##   ##     ##    ##          ## ##  ##      ##                  ##  #### ##     ##    ##       ######### ##   ##
##   ##   ##  ##       ##             ##    ##    ##  ##     ##    ##    ##    ## ##   ##     ##                  ##   ### ##     ##    ##       ##     ## ##    ##
##    ## #### ######## ########       ##    ##     ##  #######     ##     ######  ##    ##    ##                  ##    ##  #######     ######## ##     ## ##     ##


SOV_kill_trotsky_dec_cat = {
	SOV_raid_trotskys_villa = {
		priority = 2

		icon = generic_prepare_civil_war

		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				date > 1940.2.1 #Historical 24/05/1940
				NOT = { has_country_flag = SOV_raided_trotskys_villa_flag }
			}
		}

		target_trigger = {
			FROM = {
				owns_state = 277
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_equipment = { infantry_equipment > 49 }
			has_equipment = { support_equipment > 49 }
			NOT = { has_country_flag = SOV_attempting_to_kill_trotsky_flag }
		}

		visible = {
			has_completed_focus = SOV_behead_the_snake
			OR = {
				has_global_flag = trotsky_exile_mexico
				has_global_flag = flag_mexico_invited_trotsky_to_government
			}
			NOT = { has_global_flag = flag_trotsky_dead }
			NOT = { has_global_flag = flag_trotsky_has_returned_to_ussr_from_mexico }
		}

		cost = 75

		days_remove = 60

		modifier = {
			political_power_factor = -0.1
		}

		complete_effect = {
			set_country_flag = SOV_attempting_to_kill_trotsky_flag
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -50
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -50
				producer = SOV
			}
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = SOV_attempting_to_kill_trotsky_flag
				set_country_flag = SOV_raided_trotskys_villa_flag
				random_list = {
					50 = {
						modifier = {
							factor = 2
							FROM = {
								communism > 0.5
							}
						}
						modifier = {
							factor = 5
							FROM = {
								is_in_faction_with = ROOT
							}
						}
						ROOT = { news_event = { id = nsb_news.100 } } #SUCCESS - Kill Trotsky and swap Trotskyite Plot NS
					}
					50 = {
						modifier = {
							factor = 0
							FROM = {
								is_subject_of = ROOT
							}
						}
						ROOT = { news_event = { id = nsb_news.101 } } #FAILURE - Trotsky still alive
					}
				}
			}
			custom_effect_tooltip = SOV_raid_trotskys_villa_tt
		}
	}

	SOV_carefully_planned_assassination = {
		priority = 1

		icon = GFX_decision_generic_assassination

		ai_will_do = {
			base = 0
			modifier = {
				add = 200
				date > 1940.6.1 #Historical 20/08/1940
				has_country_flag = SOV_raided_trotskys_villa_flag
			}
		}

		target_trigger = {
			FROM = {
				OR = {
					owns_state = 277
					owns_state = 110
				}
			}
		}

		target_root_trigger = {
			original_tag = SOV
			has_completed_focus = SOV_behead_the_snake
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = { has_country_flag = SOV_attempting_to_kill_trotsky_flag }
		}

		visible = {
			NOT = { has_global_flag = flag_trotsky_dead }
			NOT = { has_global_flag = flag_trotsky_has_returned_to_ussr_from_mexico }
			OR = {
				AND = {
					FROM = {
						controls_state = 277 #MEXICO CITY
					}
					OR = {
						has_global_flag = trotsky_exile_mexico
						has_global_flag = flag_mexico_invited_trotsky_to_government
					}
				}
				AND = {
					FROM = {
						controls_state = 110 #OSTLANDET (Oslo) -> Trotsky not accepted in Mexico (or Soviets being super fast to kill him, which should be impossible btw)
					}
					NOT = {
						has_global_flag = trotsky_exile_mexico
						has_global_flag = flag_mexico_invited_trotsky_to_government
					}
				}
			}
		}

		cost = 100

		fire_only_once = yes

		days_remove = 270

		modifier = {
			political_power_factor = -0.1
		}

		complete_effect = {
			set_country_flag = SOV_attempting_to_kill_trotsky_flag
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = SOV_attempting_to_kill_trotsky_flag
				random_list = {
					50 = {
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.25
							}
						}
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.5
							}
						}
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.75
							}
						}
						modifier = {
							factor = 2
							FROM = {
								has_opinion = {
									target = ROOT
									value > 50
								}
							}
						}
						modifier = {
							factor = 2.5
							FROM = {
								is_in_faction_with = ROOT
							}
						}
						modifier = {
							factor = 2
							has_country_flag = SOV_raided_trotskys_villa_flag
						}
						ROOT = { news_event = { id = news.37 } } #SUCCESS - Kill Trotsky and swap Trotskyite Plot NS
					}
					50 = {
						modifier = {
							factor = 0.5
							FROM = {
								is_subject_of = ROOT
							}
						}
						ROOT = { news_event = { id = news.38 } } #FAILURE - Trotsky still alive
					}
				}
			}
			custom_effect_tooltip = SOV_carefully_planned_assassination_tt
		}
	}
}


   ###    ########  #######  ##     ## ####  ######     ########  ########   #######        ## ########  ######  ########
  ## ##      ##    ##     ## ###   ###  ##  ##    ##    ##     ## ##     ## ##     ##       ## ##       ##    ##    ##
 ##   ##     ##    ##     ## #### ####  ##  ##          ##     ## ##     ## ##     ##       ## ##       ##          ##
##     ##    ##    ##     ## ## ### ##  ##  ##          ########  ########  ##     ##       ## ######   ##          ##
#########    ##    ##     ## ##     ##  ##  ##          ##        ##   ##   ##     ## ##    ## ##       ##          ##
##     ##    ##    ##     ## ##     ##  ##  ##    ##    ##        ##    ##  ##     ## ##    ## ##       ##    ##    ##
##     ##    ##     #######  ##     ## ####  ######     ##        ##     ##  #######   ######  ########  ######     ##

SOV_infiltrate_foreign_atomic_programs_dec_cat = {
	SOV_infiltrate_atomic_program = {
		priority = 1

		icon = GFX_decision_generic_political_discourse

		ai_will_do = {
			base = 0.2
			modifier = {
				factor = 20
				FROM = { original_tag = USA }
			}
			modifier = {
				factor = 0.5
				OR = {
					has_tech = nukes
					is_researching_technology = nukes
				}
			}
		}

		target_trigger = {
			FROM = {
				is_major = yes
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = { has_country_flag = SOV_nuclear_espionage_ongoing_flag }
			FROM = { has_tech = atomic_research }
		}

		visible = {
			has_completed_focus = SOV_kurnatovs_experiments
			FROM = {
				NOT = { has_country_flag = SOV_nuclear_espionage_flag }
				NOT = { has_war_with = ROOT }
			}
		}

		cost = 100

		days_remove = 90

		modifier = {
			political_power_factor = -0.1
		}

		complete_effect = {
			set_country_flag = SOV_nuclear_espionage_ongoing_flag
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = SOV_nuclear_espionage_ongoing_flag
				FROM = { set_country_flag = SOV_nuclear_espionage_flag }
				random_list = {
					50 = {
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.15
							}
						}
						modifier = {
							factor = 1.5
							FROM = {
								communism > 0.25
							}
						}
						modifier = {
							factor = 2
							FROM = {
								communism > 0.5
							}
						}
						ROOT = { country_event = NSB_soviet_atomic_bomb_project.1 } #SUCCESS - Get the bonus
					}
					50 = {
						ROOT = {
							country_event = NSB_soviet_atomic_bomb_project.2  #FAILURE - Get some penalties
							set_variable = { SOV_aggrieved_country_atomic_spies = FROM }
						}
						FROM = {
							country_event = NSB_soviet_atomic_bomb_project.3
						}
					}
				}
			}
			custom_effect_tooltip = SOV_infiltrate_atomic_program_tt
		}
	}
}

 ######   #######  ##     ## ########  ######   #######  ##    ##
##    ## ##     ## ###   ### ##       ##    ## ##     ## ###   ##
##       ##     ## #### #### ##       ##       ##     ## ####  ##
##       ##     ## ## ### ## ######   ##       ##     ## ## ## ##
##       ##     ## ##     ## ##       ##       ##     ## ##  ####
##    ## ##     ## ##     ## ##       ##    ## ##     ## ##   ###
 ######   #######  ##     ## ########  ######   #######  ##    ##


SOV_comecon_dec_cat = {

	Soviet_provide_economic_aid = {

		icon = generic_construction

		days_remove = 365

		available = {
			has_war = no

			FROM = {
				has_idea = SOV_comecon_member
			}
		}

		visible = {
			has_war = no
			has_idea = SOV_comecon_leader

			FROM = {
				has_idea = SOV_comecon_member
			}
		}

		target_trigger = {
			FROM = {
				is_in_faction_with = SOV
				exists = yes
				has_war = no
				has_government = communism
				is_puppet_of = ROOT
			}
		}

		complete_effect = {
			FROM = {
				add_timed_idea = { idea = comecon_economic_aid days = 365 }
				economy_fatigue_level_down_10 = yes
			}
		}

		modifier = {
			consumer_goods_factor = 0.03
		}

		ai_will_do = {
			factor = 10

			modifier = {
				factor = 0
				date > 1949.1.1
			}
		}
	}

	SOV_invite_faction_members = {
		available = {
			has_war = no

			FROM = {
				NOT = { has_idea = SOV_comecon_member }
				NOT = { has_country_flag = refused_comecon }
				num_of_naval_factories > 20
			}
		}
		visible = {
			has_completed_focus = SOV_found_the_comecon
			has_war = no

			FROM = {
				NOT = { has_idea = SOV_comecon_member }
				NOT = { has_country_flag = refused_comecon }
			}
		}
		target_trigger = {
			FROM = {
				is_in_faction_with = SOV
				exists = yes
				has_war = no
				has_government = communism
				is_puppet_of = ROOT
			}
		}

		cost = 50

		ai_will_do = {
			factor = 1
		}

		complete_effect = {
			FROM = { country_event = { days = 1 id = sov_armor.805 } }
			custom_effect_tooltip = SOV_comecon_decision
			effect_tooltip = {
				FROM = {
					add_ideas = SOV_comecon_member
				}
				if = {
					limit = {
						SOV = {
							NOT = {
								has_idea = SOV_comecon_leader
								has_idea = SOV_comecon_leader_2
								has_idea = SOV_comecon_leader_3
								has_idea = SOV_comecon_leader_4
								has_idea = SOV_comecon_leader_5
								has_idea = SOV_comecon_leader_6
								has_idea = SOV_comecon_leader_7
								has_idea = SOV_comecon_leader_8
								has_idea = SOV_comecon_leader_9
								has_idea = SOV_comecon_leader_10
							}
						}
					}
					SOV = {
						add_ideas = SOV_comecon_leader
					}
				}
				else_if = {
					limit = {
						SOV = {
							has_idea = SOV_comecon_leader
						}
					}
					SOV = {
						swap_ideas = {
							remove_idea = SOV_comecon_leader
							add_idea = SOV_comecon_leader_2
						}
					}
				}
				else_if = {
					limit = {
						SOV = {
							has_idea = SOV_comecon_leader_2
						}
					}
					SOV = {
						swap_ideas = {
							remove_idea = SOV_comecon_leader
							add_idea = SOV_comecon_leader_3
						}
					}
				}
				else_if = {
					limit = {
						SOV = {
							has_idea = SOV_comecon_leader_3
						}
					}
					SOV = {
						swap_ideas = {
							remove_idea = SOV_comecon_leader
							add_idea = SOV_comecon_leader_4
						}
					}
				}
				else_if = {
					limit = {
						SOV = {
							has_idea = SOV_comecon_leader_4
						}
					}
					SOV = {
						swap_ideas = {
							remove_idea = SOV_comecon_leader
							add_idea = SOV_comecon_leader_5
						}
					}
				}
				else_if = {
					limit = {
						SOV = {
							has_idea = SOV_comecon_leader_5
						}
					}
					SOV = {
						swap_ideas = {
							remove_idea = SOV_comecon_leader
							add_idea = SOV_comecon_leader_6
						}
					}
				}
				else_if = {
					limit = {
						SOV = {
							has_idea = SOV_comecon_leader_6
						}
					}
					SOV = {
						swap_ideas = {
							remove_idea = SOV_comecon_leader
							add_idea = SOV_comecon_leader_7
						}
					}
				}
				else_if = {
					limit = {
						SOV = {
							has_idea = SOV_comecon_leader_7
						}
					}
					SOV = {
						swap_ideas = {
							remove_idea = SOV_comecon_leader
							add_idea = SOV_comecon_leader_8
						}
					}
				}
				else_if = {
					limit = {
						SOV = {
							has_idea = SOV_comecon_leader_8
						}
					}
					SOV = {
						swap_ideas = {
							remove_idea = SOV_comecon_leader
							add_idea = SOV_comecon_leader_9
						}
					}
				}
				else_if = {
					limit = {
						SOV = {
							has_idea = SOV_comecon_leader_9
						}
					}
					SOV = {
						swap_ideas = {
							remove_idea = SOV_comecon_leader
							add_idea = SOV_comecon_leader_10
						}
					}
				}
			}
		}
	}

	SOV_comecon_industrialization_program = {
		priority = 2

		icon = GFX_decision_generic_construction

		ai_will_do = {
			base = 0.5
			modifier = {
				factor = 4
				has_war = no
			}
		}

		target_array = subjects

		target_trigger = {
			FROM = {
				is_subject_of = ROOT
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
			FROM = { communism > 0.5 }
			NOT = { has_country_flag = SOV_comecon_joint_military_program_ongoing_flag }
			NOT = { has_country_flag = SOV_comecon_industrialization_program_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_found_the_comecon
			FROM = { is_puppet_of = ROOT }
		}

		cost = 100

		days_remove = 180

		cancel_trigger = {
			NOT = { FROM = { is_puppet_of = ROOT } }
		}

		cancel_effect = {
			hidden_effect = {
				clr_country_flag = SOV_comecon_industrialization_program_ongoing_flag
				swap_ideas = {
					remove_idea = SOV_comecon_sov_industrialization
					add_idea = SOV_comecon_sov_default
				}

				FROM = {
					swap_ideas = {
						remove_idea = SOV_comecon_puppet_industrialization
						add_idea = SOV_comecon_puppet_default
					}
				}
			}
		}

		modifier = {
			civilian_factory_use = 1
			custom_modifier_tooltip = SOV_comecon_industrialization_program_modifier_tt
		}

		complete_effect = {
			hidden_effect = {
				FROM = { country_event = { id = NSB_soviet_comecon.1 hours = 1 } }
				set_country_flag = SOV_comecon_industrialization_program_ongoing_flag
				swap_ideas = {
					remove_idea = SOV_comecon_sov_default
					add_idea = SOV_comecon_sov_industrialization
				}

				FROM = {
					swap_ideas = {
						remove_idea = SOV_comecon_puppet_default
						add_idea = SOV_comecon_puppet_industrialization
					}
				}
			}
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = SOV_comecon_industrialization_program_ongoing_flag
				swap_ideas = {
					remove_idea = SOV_comecon_sov_industrialization
					add_idea = SOV_comecon_sov_default
				}

				FROM = {
					swap_ideas = {
						remove_idea = SOV_comecon_puppet_industrialization
						add_idea = SOV_comecon_puppet_default
					}
				}
			}
		}
	}

	SOV_comecon_joint_military_program = {
		priority = 1

		icon = GFX_decision_generic_construction

		ai_will_do = {
			base = 0.5
			modifier = {
				factor = 4
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			num_of_civilian_factories_available_for_projects > 0
			NOT = { has_country_flag = SOV_comecon_industrialization_program_ongoing_flag }
		}

		visible = {
			has_completed_focus = SOV_found_the_comecon
			num_subjects > 0
		}

		cost = 100

		days_remove = 180

		modifier = {
			custom_modifier_tooltip = SOV_comecon_joint_military_program_modifier_tt
		}

		cancel_trigger = {
			num_subjects < 1
		}

		cancel_effect = {
			hidden_effect = {
				clr_country_flag = SOV_comecon_joint_military_program_ongoing_flag
				swap_ideas = {
					remove_idea = SOV_comecon_sov_military
					add_idea = SOV_comecon_sov_default
				}

				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					swap_ideas = {
						remove_idea = SOV_comecon_puppet_military
						add_idea = SOV_comecon_puppet_default
					}
				}
			}
		}

		complete_effect = {
			hidden_effect = {
				set_country_flag = SOV_comecon_joint_military_program_ongoing_flag
				swap_ideas = {
					remove_idea = SOV_comecon_sov_default
					add_idea = SOV_comecon_sov_military
				}

				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					country_event = { id = NSB_soviet_comecon.2 hours = 1 }
					swap_ideas = {
						remove_idea = SOV_comecon_puppet_default
						add_idea = SOV_comecon_puppet_military
					}
				}
			}
		}

		remove_effect = {
			hidden_effect = {
				clr_country_flag = SOV_comecon_joint_military_program_ongoing_flag
				swap_ideas = {
					remove_idea = SOV_comecon_sov_military
					add_idea = SOV_comecon_sov_default
				}

				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					swap_ideas = {
						remove_idea = SOV_comecon_puppet_military
						add_idea = SOV_comecon_puppet_default
					}
				}
			}
		}
	}
}


 ######   ########  ########    ###    ########    ########     ###    ######## ########  ####  #######  ######## ####  ######     ##      ##    ###    ########
##    ##  ##     ## ##         ## ##      ##       ##     ##   ## ##      ##    ##     ##  ##  ##     ##    ##     ##  ##    ##    ##  ##  ##   ## ##   ##     ##
##        ##     ## ##        ##   ##     ##       ##     ##  ##   ##     ##    ##     ##  ##  ##     ##    ##     ##  ##          ##  ##  ##  ##   ##  ##     ##
##   #### ########  ######   ##     ##    ##       ########  ##     ##    ##    ########   ##  ##     ##    ##     ##  ##          ##  ##  ## ##     ## ########
##    ##  ##   ##   ##       #########    ##       ##        #########    ##    ##   ##    ##  ##     ##    ##     ##  ##          ##  ##  ## ######### ##   ##
##    ##  ##    ##  ##       ##     ##    ##       ##        ##     ##    ##    ##    ##   ##  ##     ##    ##     ##  ##    ##    ##  ##  ## ##     ## ##    ##
 ######   ##     ## ######## ##     ##    ##       ##        ##     ##    ##    ##     ## ####  #######     ##    ####  ######      ###  ###  ##     ## ##     ##

SOV_great_patriotic_war = {
	SOV_scorched_earth_aukstaitija = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 969
			}
		}

		available = {
			has_war = yes
			divisions_in_state = { state = 969 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 969
			OR = {
				189 = { CONTROLLER = { has_war_with = SOV } }
				11 = { CONTROLLER = { has_war_with = SOV } }
				784 = { CONTROLLER = { has_war_with = SOV } }
				965 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 969
				}
				969 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_suduva = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 968
			}
		}

		available = {
			has_war = yes
			divisions_in_state = { state = 968 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 968

			OR = {
				763 = { CONTROLLER = { has_war_with = SOV } }
				189 = { CONTROLLER = { has_war_with = SOV } }
				784 = { CONTROLLER = { has_war_with = SOV } }
				95 = { CONTROLLER = { has_war_with = SOV } }
				97 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 968
				}
				968 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_latgale = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 967
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 967 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 967

			OR = {
				12 = { CONTROLLER = { has_war_with = SOV } }
				966 = { CONTROLLER = { has_war_with = SOV } }
				965 = { CONTROLLER = { has_war_with = SOV } }
				96 = { CONTROLLER = { has_war_with = SOV } }
				969 = { CONTROLLER = { has_war_with = SOV } }
				784 = { CONTROLLER = { has_war_with = SOV } }
				191 = { CONTROLLER = { has_war_with = SOV } }
				207 = { CONTROLLER = { has_war_with = SOV } }
				210 = { CONTROLLER = { has_war_with = SOV } }
				209 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 967
				}
				967 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_riga = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 966
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 966 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 966

			OR = {
				965 = { CONTROLLER = { has_war_with = SOV } }
				969 = { CONTROLLER = { has_war_with = SOV } }
				967 = { CONTROLLER = { has_war_with = SOV } }
				12 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 966
				}
				966 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_zemgale = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 965
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 965 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 965

			OR = {
				190 = { CONTROLLER = { has_war_with = SOV } }
				189 = { CONTROLLER = { has_war_with = SOV } }
				969 = { CONTROLLER = { has_war_with = SOV } }
				11 = { CONTROLLER = { has_war_with = SOV } }
				784 = { CONTROLLER = { has_war_with = SOV } }
				96 = { CONTROLLER = { has_war_with = SOV } }
				967 = { CONTROLLER = { has_war_with = SOV } }
				966 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 965
				}
				965 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_virumaa = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 964
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 964 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 964

			OR = {
				13 = { CONTROLLER = { has_war_with = SOV } }
				963 = { CONTROLLER = { has_war_with = SOV } }
				191 = { CONTROLLER = { has_war_with = SOV } }
				209 = { CONTROLLER = { has_war_with = SOV } }
				208 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 964
				}
				964 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_parnu = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 963
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 963 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 963

			OR = {
				966 = { CONTROLLER = { has_war_with = SOV } }
				12 = { CONTROLLER = { has_war_with = SOV } }
				191 = { CONTROLLER = { has_war_with = SOV } }
				964 = { CONTROLLER = { has_war_with = SOV } }
				13 = { CONTROLLER = { has_war_with = SOV } }
				962 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 963
				}
				963 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_saaremaa = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 962
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 962 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 962

			OR = {
				963 = { CONTROLLER = { has_war_with = SOV } }
				13 = { CONTROLLER = { has_war_with = SOV } }
				12 = { CONTROLLER = { has_war_with = SOV } }
				191 = { CONTROLLER = { has_war_with = SOV } }
				964 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 962
				}
				962 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_kaunas = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 11
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 11 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 11

			OR = {
				763 = { CONTROLLER = { has_war_with = SOV } }
				189 = { CONTROLLER = { has_war_with = SOV } }
				784 = { CONTROLLER = { has_war_with = SOV } }
				97 = { CONTROLLER = { has_war_with = SOV } }
				968 = { CONTROLLER = { has_war_with = SOV } }
				969 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 11
				}
				11 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_siauliai = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 189
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 189 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 189

			OR = {
				188 = { CONTROLLER = { has_war_with = SOV } }
				11 = { CONTROLLER = { has_war_with = SOV } }
				968 = { CONTROLLER = { has_war_with = SOV } }
				969 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 189
				}
				189 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_kurzeme = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 190
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 190 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 190

			OR = {
				189 = { CONTROLLER = { has_war_with = SOV } }
				11 = { CONTROLLER = { has_war_with = SOV } }
				965 = { CONTROLLER = { has_war_with = SOV } }
				969 = { CONTROLLER = { has_war_with = SOV } }
				188 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 190
				}
				190 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_vidzeme = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 12
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 12 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 12

			OR = {
				96 = { CONTROLLER = { has_war_with = SOV } }
				190 = { CONTROLLER = { has_war_with = SOV } }
				11 = { CONTROLLER = { has_war_with = SOV } }
				784 = { CONTROLLER = { has_war_with = SOV } }
				207 = { CONTROLLER = { has_war_with = SOV } }
				966 = { CONTROLLER = { has_war_with = SOV } }
				967 = { CONTROLLER = { has_war_with = SOV } }
				963 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 12
				}
				12 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_harju = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 13
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 13 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 13

			OR = {
				191 = { CONTROLLER = { has_war_with = SOV } }
				12 = { CONTROLLER = { has_war_with = SOV } }
				962 = { CONTROLLER = { has_war_with = SOV } }
				963 = { CONTROLLER = { has_war_with = SOV } }
				964 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 13
				}
				13 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_tartu = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 191
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 191 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 191

			OR = {
				12 = { CONTROLLER = { has_war_with = SOV } }
				13 = { CONTROLLER = { has_war_with = SOV } }
				209 = { CONTROLLER = { has_war_with = SOV } }
				964 = { CONTROLLER = { has_war_with = SOV } }
				966 = { CONTROLLER = { has_war_with = SOV } }
				967 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 191
				}
				191 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_leningrad = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 195
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 195 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 195

			OR = {
				146 = { CONTROLLER = { has_war_with = SOV } }
				208 = { CONTROLLER = { has_war_with = SOV } }
				244 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 195
				}
				195 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	SOV_scorched_earth_luga = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 208
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 208 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 208

			OR = {
				191 = { CONTROLLER = { has_war_with = SOV } }
				209 = { CONTROLLER = { has_war_with = SOV } }
				263 = { CONTROLLER = { has_war_with = SOV } }
				964 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 208
				}
				208 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_volkhov = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 244
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 244 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 244

			OR = {
				195 = { CONTROLLER = { has_war_with = SOV } }
				208 = { CONTROLLER = { has_war_with = SOV } }
				263 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 244
				}
				244 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_tikhvin = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 264
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 264 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 264

			OR = {
				244 = { CONTROLLER = { has_war_with = SOV } }
				263 = { CONTROLLER = { has_war_with = SOV } }
				246 = { CONTROLLER = { has_war_with = SOV } }
				247 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 264
				}
				264 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_pskov = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 209
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 209 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 209

			OR = {
				191 = { CONTROLLER = { has_war_with = SOV } }
				12 = { CONTROLLER = { has_war_with = SOV } }
				210 = { CONTROLLER = { has_war_with = SOV } }
				964 = { CONTROLLER = { has_war_with = SOV } }
				967 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 209
				}
				209 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_novgorod = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 263
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 263 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 263

			OR = {
				208 = { CONTROLLER = { has_war_with = SOV } }
				209 = { CONTROLLER = { has_war_with = SOV } }
				210 = { CONTROLLER = { has_war_with = SOV } }
				246 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 263
				}
				263 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_nevel = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 210
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 210 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 210

			OR = {
				12 = { CONTROLLER = { has_war_with = SOV } }
				207 = { CONTROLLER = { has_war_with = SOV } }
				242 = { CONTROLLER = { has_war_with = SOV } }
				967 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 210
				}
				210 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_rzhev = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 246
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 246 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 246

			OR = {
				264 = { CONTROLLER = { has_war_with = SOV } }
				263 = { CONTROLLER = { has_war_with = SOV } }
				210 = { CONTROLLER = { has_war_with = SOV } }
				242 = { CONTROLLER = { has_war_with = SOV } }
				219 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 246
				}
				246 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_kalinin = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 247
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 247 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 247

			OR = {
				264 = { CONTROLLER = { has_war_with = SOV } }
				246 = { CONTROLLER = { has_war_with = SOV } }
				219 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 247
				}
				247 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	SOV_scorched_earth_wilno = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 784
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 784 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 784

			OR = {
				11 = { CONTROLLER = { has_war_with = SOV } }
				97 = { CONTROLLER = { has_war_with = SOV } }
				95 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 784
				}
				784 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_wilejka = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 96
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 96 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 96

			OR = {
				11 = { CONTROLLER = { has_war_with = SOV } }
				784 = { CONTROLLER = { has_war_with = SOV } }
				95 = { CONTROLLER = { has_war_with = SOV } }
				206 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 96
				}
				96 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_vitebsk = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 207
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 207 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 207

			OR = {
				12 = { CONTROLLER = { has_war_with = SOV } }
				96 = { CONTROLLER = { has_war_with = SOV } }
				206 = { CONTROLLER = { has_war_with = SOV } }
				241 = { CONTROLLER = { has_war_with = SOV } }
				967 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 207
				}
				207 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_smolensk = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 242
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 242 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 242

			OR = {
				246 = { CONTROLLER = { has_war_with = SOV } }
				210 = { CONTROLLER = { has_war_with = SOV } }
				207 = { CONTROLLER = { has_war_with = SOV } }
				243 = { CONTROLLER = { has_war_with = SOV } }
				205 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 242
				}
				242 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_moscow = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 219
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 219 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 219

			OR = {
				247 = { CONTROLLER = { has_war_with = SOV } }
				246 = { CONTROLLER = { has_war_with = SOV } }
				242 = { CONTROLLER = { has_war_with = SOV } }
				205 = { CONTROLLER = { has_war_with = SOV } }
				223 = { CONTROLLER = { has_war_with = SOV } }
				254 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 219
				}
				219 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	SOV_scorched_earth_bialystok = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 97
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 97 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 97

			OR = {
				5 = { CONTROLLER = { has_war_with = SOV } }
				98 = { CONTROLLER = { has_war_with = SOV } }
				10 = { CONTROLLER = { has_war_with = SOV } }
				92 = { CONTROLLER = { has_war_with = SOV } }
				94 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 97
				}
				97 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_nowogrodek = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 95
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 95 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 95

			OR = {
				11 = { CONTROLLER = { has_war_with = SOV } }
				97 = { CONTROLLER = { has_war_with = SOV } }
				94 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 95
				}
				95 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_minsk = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 206
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 206 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 206

			OR = {
				96 = { CONTROLLER = { has_war_with = SOV } }
				95 = { CONTROLLER = { has_war_with = SOV } }
				204 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 206
				}
				206 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_gomel = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 241
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 241 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 241

			OR = {
				207 = { CONTROLLER = { has_war_with = SOV } }
				206 = { CONTROLLER = { has_war_with = SOV } }
				204 = { CONTROLLER = { has_war_with = SOV } }
				194 = { CONTROLLER = { has_war_with = SOV } }
				193 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 241
				}
				241 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_roslavl = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 243
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 243 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 243

			OR = {
				207 = { CONTROLLER = { has_war_with = SOV } }
				241 = { CONTROLLER = { has_war_with = SOV } }
				224 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 243
				}
				243 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_kaluga = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 205
			}
		}

		available = {
			has_war = yes
			divisions_in_state = { state = 205 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 205

			OR = {
				242 = { CONTROLLER = { has_war_with = SOV } }
				243 = { CONTROLLER = { has_war_with = SOV } }
				224 = { CONTROLLER = { has_war_with = SOV } }
				222 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 205
				}
				205 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_tula = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 223
			}
		}

		available = {
			has_war = yes
			divisions_in_state = { state = 223 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 223
			OR = {
				205 = { CONTROLLER = { has_war_with = SOV } }
				222 = { CONTROLLER = { has_war_with = SOV } }
				258 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 223
				}
				223 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_ryazan = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 254
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 254 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 254
			OR = {
				219 = { CONTROLLER = { has_war_with = SOV } }
				223 = { CONTROLLER = { has_war_with = SOV } }
				258 = { CONTROLLER = { has_war_with = SOV } }
				257 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 254
				}
				254 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_polesie = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 94
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 94 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 94

			OR = {
				95 = { CONTROLLER = { has_war_with = SOV } }
				97 = { CONTROLLER = { has_war_with = SOV } }
				92 = { CONTROLLER = { has_war_with = SOV } }
				93 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 94
				}
				94 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_bobruysk = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 204
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 204 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 204

			OR = {
				206 = { CONTROLLER = { has_war_with = SOV } }
				95 = { CONTROLLER = { has_war_with = SOV } }
				94 = { CONTROLLER = { has_war_with = SOV } }
				194 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 204
				}
				204 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_mozyr = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 194
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 194 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 194

			OR = {
				204 = { CONTROLLER = { has_war_with = SOV } }
				94 = { CONTROLLER = { has_war_with = SOV } }
				93 = { CONTROLLER = { has_war_with = SOV } }
				201 = { CONTROLLER = { has_war_with = SOV } }
				202 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 194
				}
				194 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_bryansk = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 224
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 224 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 224

			OR = {
				243 = { CONTROLLER = { has_war_with = SOV } }
				241 = { CONTROLLER = { has_war_with = SOV } }
				193 = { CONTROLLER = { has_war_with = SOV } }
				225 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 224
				}
				224 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_orel = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 222
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 222 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 222

			OR = {
				205 = { CONTROLLER = { has_war_with = SOV } }
				224 = { CONTROLLER = { has_war_with = SOV } }
				220 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 222
				}
				222 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_lipetsk = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 258
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 258 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 258

			OR = {
				223 = { CONTROLLER = { has_war_with = SOV } }
				222 = { CONTROLLER = { has_war_with = SOV } }
				220 = { CONTROLLER = { has_war_with = SOV } }
				260 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 258
				}
				258 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_tambov = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 257
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 257 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 257

			OR = {
				254 = { CONTROLLER = { has_war_with = SOV } }
				258 = { CONTROLLER = { has_war_with = SOV } }
				260 = { CONTROLLER = { has_war_with = SOV } }
				265 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 257
				}
				257 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_saratov = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 239
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 239 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 239

			OR = {
				257 = { CONTROLLER = { has_war_with = SOV } }
				265 = { CONTROLLER = { has_war_with = SOV } }
				217 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 239
				}
				239 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	SOV_scorched_earth_lublin = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 92
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 92 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 92

			OR = {
				97 = { CONTROLLER = { has_war_with = SOV } }
				10 = { CONTROLLER = { has_war_with = SOV } }
				90 = { CONTROLLER = { has_war_with = SOV } }
				88 = { CONTROLLER = { has_war_with = SOV } }
				91 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 92
				}
				92 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_wolyn = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 93
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 93 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 93

			OR = {
				94 = { CONTROLLER = { has_war_with = SOV } }
				92 = { CONTROLLER = { has_war_with = SOV } }
				91 = { CONTROLLER = { has_war_with = SOV } }
				199 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 93
				}
				93 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_zhytomyr = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 201
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 201 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 201

			OR = {
				194 = { CONTROLLER = { has_war_with = SOV } }
				94 = { CONTROLLER = { has_war_with = SOV } }
				93 = { CONTROLLER = { has_war_with = SOV } }
				199 = { CONTROLLER = { has_war_with = SOV } }
				198 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 201
				}
				201 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_kiev = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 202
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 202 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 202

			OR = {
				194 = { CONTROLLER = { has_war_with = SOV } }
				201 = { CONTROLLER = { has_war_with = SOV } }
				198 = { CONTROLLER = { has_war_with = SOV } }
				203 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 202
				}
				202 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_chernigov = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 193
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 193 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 193

			OR = {
				241 = { CONTROLLER = { has_war_with = SOV } }
				194 = { CONTROLLER = { has_war_with = SOV } }
				202 = { CONTROLLER = { has_war_with = SOV } }
				203 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 193
				}
				193 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_sumy = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 225
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 225 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 225

			OR = {
				224 = { CONTROLLER = { has_war_with = SOV } }
				193 = { CONTROLLER = { has_war_with = SOV } }
				259 = { CONTROLLER = { has_war_with = SOV } }
				221 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 225
				}
				225 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_kursk = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 220
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 220 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 220

			OR = {
				222 = { CONTROLLER = { has_war_with = SOV } }
				224 = { CONTROLLER = { has_war_with = SOV } }
				225 = { CONTROLLER = { has_war_with = SOV } }
				240 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 220
				}
				220 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_belgorod = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 240
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 240 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 240

			OR = {
				220 = { CONTROLLER = { has_war_with = SOV } }
				225 = { CONTROLLER = { has_war_with = SOV } }
				259 = { CONTROLLER = { has_war_with = SOV } }
				221 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 240
				}
				240 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_voronezh = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 260
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 260 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 260

			OR = {
				258 = { CONTROLLER = { has_war_with = SOV } }
				220 = { CONTROLLER = { has_war_with = SOV } }
				240 = { CONTROLLER = { has_war_with = SOV } }
				228 = { CONTROLLER = { has_war_with = SOV } }
				245 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 260
				}
				260 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_mikhaylovka = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 265
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 265 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 265

			OR = {
				257 = { CONTROLLER = { has_war_with = SOV } }
				260 = { CONTROLLER = { has_war_with = SOV } }
				245 = { CONTROLLER = { has_war_with = SOV } }
				217 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 265
				}
				265 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_lwow = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 91
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 91 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 91

			OR = {
				92 = { CONTROLLER = { has_war_with = SOV } }
				88 = { CONTROLLER = { has_war_with = SOV } }
				89 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 91
				}
				91 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_khmelnytskyi = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 199
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 199 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 199

			OR = {
				93 = { CONTROLLER = { has_war_with = SOV } }
				91 = { CONTROLLER = { has_war_with = SOV } }
				80 = { CONTROLLER = { has_war_with = SOV } }
				78 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 199
				}
				199 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_vinnytsia = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 198
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 198 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 198

			OR = {
				201 = { CONTROLLER = { has_war_with = SOV } }
				199 = { CONTROLLER = { has_war_with = SOV } }
				78 = { CONTROLLER = { has_war_with = SOV } }
				192 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 198
				}
				198 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_cherkasy = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 203
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 203 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 203

			OR = {
				202 = { CONTROLLER = { has_war_with = SOV } }
				198 = { CONTROLLER = { has_war_with = SOV } }
				192 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 203
				}
				203 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_poltava = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 259
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 259 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 259

			OR = {
				225 = { CONTROLLER = { has_war_with = SOV } }
				193 = { CONTROLLER = { has_war_with = SOV } }
				202 = { CONTROLLER = { has_war_with = SOV } }
				203 = { CONTROLLER = { has_war_with = SOV } }
				226 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 259
				}
				259 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_kharkov = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 221
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 221 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 221

			OR = {
				240 = { CONTROLLER = { has_war_with = SOV } }
				225 = { CONTROLLER = { has_war_with = SOV } }
				259 = { CONTROLLER = { has_war_with = SOV } }
				226 = { CONTROLLER = { has_war_with = SOV } }
				227 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 221
				}
				221 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_voroshilovgrad = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 228
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 228 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 228

			OR = {
				240 = { CONTROLLER = { has_war_with = SOV } }
				221 = { CONTROLLER = { has_war_with = SOV } }
				227 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 228
				}
				228 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_millerovo = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 245
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 245 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 245

			OR = {
				260 = { CONTROLLER = { has_war_with = SOV } }
				228 = { CONTROLLER = { has_war_with = SOV } }
				218 = { CONTROLLER = { has_war_with = SOV } }
				238 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 245
				}
				245 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_stalingrad = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 217
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 217 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 217

			OR = {
				265 = { CONTROLLER = { has_war_with = SOV } }
				245 = { CONTROLLER = { has_war_with = SOV } }
				238 = { CONTROLLER = { has_war_with = SOV } }
				237 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 217
				}
				217 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_stanislawow = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 89
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 89 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 89

			OR = {
				91 = { CONTROLLER = { has_war_with = SOV } }
				88 = { CONTROLLER = { has_war_with = SOV } }
				73 = { CONTROLLER = { has_war_with = SOV } }
				76 = { CONTROLLER = { has_war_with = SOV } }
				79 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 89
				}
				89 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_bucovina = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 80
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 80 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 80

			OR = {
				91 = { CONTROLLER = { has_war_with = SOV } }
				89 = { CONTROLLER = { has_war_with = SOV } }
				76 = { CONTROLLER = { has_war_with = SOV } }
				79 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 80
				}
				80 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_bessarabia = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 78
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 78 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 78

			OR = {
				199 = { CONTROLLER = { has_war_with = SOV } }
				80 = { CONTROLLER = { has_war_with = SOV } }
				79 = { CONTROLLER = { has_war_with = SOV } }
				766 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 78
				}
				78 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_southern_bessarabia = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 766
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 766 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 766

			OR = {
				78 = { CONTROLLER = { has_war_with = SOV } }
				79 = { CONTROLLER = { has_war_with = SOV } }
				46 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 766
				}
				766 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_odessa = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 192
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 192 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 192

			OR = {
				198 = { CONTROLLER = { has_war_with = SOV } }
				78 = { CONTROLLER = { has_war_with = SOV } }
				766 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 192
				}
				192 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_mykolaiv = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 197
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 197 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 197

			OR = {
				203 = { CONTROLLER = { has_war_with = SOV } }
				192 = { CONTROLLER = { has_war_with = SOV } }
				196 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 197
				}
				197 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_kherson = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 196
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 196 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 196

			OR = {
				226 = { CONTROLLER = { has_war_with = SOV } }
				197 = { CONTROLLER = { has_war_with = SOV } }
				192 = { CONTROLLER = { has_war_with = SOV } }
				137 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 196
				}
				196 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_zaporozhe = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 200
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 200 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 200

			OR = {
				226 = { CONTROLLER = { has_war_with = SOV } }
				196 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 200
				}
				200 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_dnipropetrovsk = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 226
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 226 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 226

			OR = {
				259 = { CONTROLLER = { has_war_with = SOV } }
				203 = { CONTROLLER = { has_war_with = SOV } }
				197 = { CONTROLLER = { has_war_with = SOV } }
				196 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 226
				}
				226 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_stalino = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 227
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 227 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 227

			OR = {
				221 = { CONTROLLER = { has_war_with = SOV } }
				226 = { CONTROLLER = { has_war_with = SOV } }
				200 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 227
				}
				227 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_rostov = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 218
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 218 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 218

			OR = {
				228 = { CONTROLLER = { has_war_with = SOV } }
				227 = { CONTROLLER = { has_war_with = SOV } }
				234 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 218
				}
				218 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_volgodonsk = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 238
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 238 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 238

			OR = {
				245 = { CONTROLLER = { has_war_with = SOV } }
				218 = { CONTROLLER = { has_war_with = SOV } }
				234 = { CONTROLLER = { has_war_with = SOV } }
				235 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 238
				}
				238 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_elista = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 237
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 237 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 237

			OR = {
				217 = { CONTROLLER = { has_war_with = SOV } }
				238 = { CONTROLLER = { has_war_with = SOV } }
				235 = { CONTROLLER = { has_war_with = SOV } }
				232 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 237
				}
				237 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_astrakhan = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 236
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 236 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 236

			OR = {
				217 = { CONTROLLER = { has_war_with = SOV } }
				237 = { CONTROLLER = { has_war_with = SOV } }
				232 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 236
				}
				236 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_crimea = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 137
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 137 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 137

			OR = {
				196 = { CONTROLLER = { has_war_with = SOV } }
				200 = { CONTROLLER = { has_war_with = SOV } }
				234 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 137
				}
				137 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_krasnodar = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 234
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 234 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 234

			OR = {
				218 = { CONTROLLER = { has_war_with = SOV } }
				137 = { CONTROLLER = { has_war_with = SOV } }
				233 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 234
				}
				234 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_stavropol = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 235
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 235 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 235

			OR = {
				238 = { CONTROLLER = { has_war_with = SOV } }
				234 = { CONTROLLER = { has_war_with = SOV } }
				233 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 235
				}
				235 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_caucasus_mountains = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 233
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 233 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 233

			OR = {
				234 = { CONTROLLER = { has_war_with = SOV } }
				235 = { CONTROLLER = { has_war_with = SOV } }
				231 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 233
				}
				233 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_grozny = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 232
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 232 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 232

			OR = {
				237 = { CONTROLLER = { has_war_with = SOV } }
				235 = { CONTROLLER = { has_war_with = SOV } }
				233 = { CONTROLLER = { has_war_with = SOV } }
				231 = { CONTROLLER = { has_war_with = SOV } }
				229 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 232
				}
				232 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_georgia = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 231
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 231 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 231

			OR = {
				233 = { CONTROLLER = { has_war_with = SOV } }
				234 = { CONTROLLER = { has_war_with = SOV } }
				354 = { CONTROLLER = { has_war_with = SOV } }
				230 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 231
				}
				231 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_armenia = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 230
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 230 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 230

			OR = {
				231 = { CONTROLLER = { has_war_with = SOV } }
				354 = { CONTROLLER = { has_war_with = SOV } }
				353 = { CONTROLLER = { has_war_with = SOV } }
				419 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 230
				}
				230 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}
	SOV_scorched_earth_azerbaijan = {

		icon = generic_scorched_earth

		highlight_states = {
			highlight_state_targets = {
				state = 229
			}
		}

		available = {
			has_war = yes

			divisions_in_state = { state = 229 size > 1 }
		}

		cost = 0
		fire_only_once = yes
		visible = {
			has_war = yes
			controls_state = 229

			OR = {
				232 = { CONTROLLER = { has_war_with = SOV } }
				233 = { CONTROLLER = { has_war_with = SOV } }
				231 = { CONTROLLER = { has_war_with = SOV } }
				230 = { CONTROLLER = { has_war_with = SOV } }
				419 = { CONTROLLER = { has_war_with = SOV } }
				420 = { CONTROLLER = { has_war_with = SOV } }
			}
		}

		days_remove = 5

		remove_effect = {
			if = {
				limit = {
					controls_state = 229
				}
				229 = {
					damage_building = {
						type = rail_way
						damage = 5
					}
					damage_building = {
						type = supply_node
						damage = 0.7
					}
					damage_building = {
						type = air_base
						damage = 10
					}
				}
			}
		}

		ai_will_do = {
			factor = 500
		}
	}

	SOV_fortify_donbas = {
		icon = generic_bunker_advanced
		highlight_states = { highlight_state_targets = { state = 227 } }
		on_map_mode = map_only
		allowed = {
			original_tag = SOV
	    }
		available = {
			always = yes
		}
		fire_only_once = yes
		cost = 20
		visible = {
			has_completed_focus = SOV_defense_of_the_motherland
			any_country = {
				OR = {
					tag = SOV
					is_in_faction_with = SOV
				}
				controls_state = 227
			}
		}
		ai_will_do = {
			factor = 100
		}
		days_remove = 7
		modifier = {
			civilian_factory_use = 2
		}
		remove_effect = {
			227 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 13592
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 3479
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 13590
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 6474
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 9461
					instant_build = yes
				}
			}
		}
	}
	SOV_fortify_stalingrad = {
		icon = generic_bunker_advanced
		highlight_states = { highlight_state_targets = { state = 217 } }
		on_map_mode = map_only
		allowed = {
			original_tag = SOV
	    }
		available = {
			always = yes
		}
		fire_only_once = yes
		cost = 20
		visible = {
			has_completed_focus = SOV_defense_of_the_motherland
			any_country = {
				OR = {
					tag = SOV
					is_in_faction_with = SOV
				}
				controls_state = 217
			}
		}
		ai_will_do = {
			factor = 100
		}
		days_remove = 7
		modifier = {
			civilian_factory_use = 4
		}
		remove_effect = {
			217 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 9504
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 6527
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 498
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 3555
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 13234
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 13232
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 13235
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 3529
					instant_build = yes
				}
			}
		}
	}
	SOV_fortify_caucasus = {
		icon = generic_bunker_advanced
		highlight_states = { highlight_state_targets = { state = 233 } }
		on_map_mode = map_only
		allowed = {
			original_tag = SOV
	    }
		available = {
			always = yes
		}
		fire_only_once = yes
		cost = 20
		visible = {
			has_completed_focus = SOV_defense_of_the_motherland
			any_country = {
				OR = {
					tag = SOV
					is_in_faction_with = SOV
				}
				controls_state = 233
			}
		}
		ai_will_do = {
			factor = 100
		}
		days_remove = 7
		modifier = {
			civilian_factory_use = 4
		}
		remove_effect = {
			233 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 9663
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 9674
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 6674
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 11609
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 3667
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 1455
					instant_build = yes
				}
			}
			232 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 7554
					instant_build = yes
				}
			}
			229 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 4458
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 7661
					instant_build = yes
				}
			}
		}
	}
	SOV_fortify_zaporozhe = {
		icon = generic_bunker_advanced
		highlight_states = { highlight_state_targets = { state = 200 } }
		on_map_mode = map_only
		allowed = {
			original_tag = SOV
	    }
		available = {
			always = yes
		}
		fire_only_once = yes
		cost = 10
		visible = {
			has_completed_focus = SOV_defense_of_the_motherland
			any_country = {
				OR = {
					tag = SOV
					is_in_faction_with = SOV
				}
				controls_state = 200
			}
		}
		ai_will_do = {
			factor = 100
		}
		days_remove = 7
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect = {
			200 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 588
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 11405
					instant_build = yes
				}
			}
		}
	}
	SOV_fortify_kalinin = {
		icon = generic_bunker_advanced
		highlight_states = { highlight_state_targets = { state = 247 } }
		on_map_mode = map_only
		allowed = {
			original_tag = SOV
	    }
		available = {
			always = yes
		}
		fire_only_once = yes
		cost = 20
		visible = {
			has_completed_focus = SOV_defense_of_the_motherland
			any_country = {
				OR = {
					tag = SOV
					is_in_faction_with = SOV
				}
				controls_state = 247
			}
		}
		ai_will_do = {
			factor = 100
		}
		days_remove = 7
		modifier = {
			civilian_factory_use = 2
		}
		remove_effect = {
			247 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 11250
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 6245
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 6022
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 3176
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 11154
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 9256
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 344
					instant_build = yes
				}
			}
		}
	}
	SOV_fortify_kazan = {
		icon = generic_bunker_advanced
		highlight_states = { highlight_state_targets = { state = 249 } }
		on_map_mode = map_only
		allowed = {
			original_tag = SOV
	    }
		available = {
			always = yes
		}
		fire_only_once = yes
		cost = 20
		visible = {
			has_completed_focus = SOV_defense_of_the_motherland
			any_country = {
				OR = {
					tag = SOV
					is_in_faction_with = SOV
				}
				controls_state = 249
			}
		}
		ai_will_do = {
			factor = 100
		}
		days_remove = 7
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect = {
			249 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 6338
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 372
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 11339
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 3
					instant_build = yes
				}
			}
		}
	}
	SOV_fortify_gorky = {
		icon = generic_bunker_advanced
		highlight_states = { highlight_state_targets = { state = 252 } }
		on_map_mode = map_only
		allowed = {
			original_tag = SOV
	    }
		available = {
			always = yes
		}
		fire_only_once = yes
		cost = 20
		visible = {
			has_completed_focus = SOV_defense_of_the_motherland
			any_country = {
				OR = {
					tag = SOV
					is_in_faction_with = SOV
				}
				controls_state = 252
			}
		}
		ai_will_do = {
			factor = 100
		}
		days_remove = 7
		modifier = {
			civilian_factory_use = 4
		}
		remove_effect = {
			252 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 9358
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 9291
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 9368
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 11275
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 368
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 11375
					instant_build = yes
				}
				add_building_construction = {
					type = supply_node
					level = 1
					province = 270
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 3
					instant_build = yes
				}
			}
		}
	}
	SOV_fortify_tula = {
		icon = generic_bunker_advanced
		highlight_states = { highlight_state_targets = { state = 223 } }
		on_map_mode = map_only
		allowed = {
			original_tag = SOV
	    }
		available = {
			always = yes
		}
		fire_only_once = yes
		cost = 20
		visible = {
			has_completed_focus = SOV_defense_of_the_motherland
			any_country = {
				OR = {
					tag = SOV
					is_in_faction_with = SOV
				}
				controls_state = 223
			}
		}
		ai_will_do = {
			factor = 100
		}
		days_remove = 7
		modifier = {
			civilian_factory_use = 4
		}
		remove_effect = {
			223 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 3236
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 9366
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 11242
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 11347
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 6262
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 261
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 3
					instant_build = yes
				}
			}
		}
	}
	SOV_fortify_voronezh = {
		icon = generic_bunker_advanced
		highlight_states = { highlight_state_targets = { state = 260 } }
		on_map_mode = map_only
		allowed = {
			original_tag = SOV
	    }
		available = {
			always = yes
		}
		fire_only_once = yes
		cost = 20
		visible = {
			has_completed_focus = SOV_defense_of_the_motherland
			any_country = {
				OR = {
					tag = SOV
					is_in_faction_with = SOV
				}
				controls_state = 260
			}
		}
		ai_will_do = {
			factor = 100
		}
		days_remove = 7
		modifier = {
			civilian_factory_use = 4
		}
		remove_effect = {
			260 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 413
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 3527
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 510
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 6494
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 437
					instant_build = yes
				}
				add_building_construction = {
					type = supply_node
					level = 1
					province = 3566
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 3
					instant_build = yes
				}
			}
		}
	}

	SOV_raise_penal_units = {
		priority = 22

		icon = GFX_decision_generic_arrest

		ai_will_do = {
			base = 5
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			has_country_flag = { flag = SOV_penal_units_raised_flag days > 365 }
			custom_trigger_tooltip = {
				tooltip = SOV_raise_penal_units_days_tt
				has_country_flag = {
					flag = SOV_penal_units_raised_flag
					days > 365
				}
			}
			any_enemy_country = { SOV_is_major_not_original_sov = yes }
		}

		visible = {
			has_completed_focus = SOV_penal_battalions
			any_enemy_country = { SOV_is_major_not_original_sov = yes }
		}

		cost = 50

		days_remove = 35

		complete_effect = {
		}

		remove_effect = {
			clr_country_flag = SOV_penal_units_raised_flag
			SOV_spawn_penal_divisions_effect = yes
		}
	}
	SOV_disband_penal_units = {
		icon = GFX_decision_generic_arrest

		ai_will_do = {
			base = 0
			modifier = {
				has_war = no
				add = 400
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			original_tag = SOV
		}

		visible = {
			original_tag = SOV
			has_completed_focus = SOV_penal_battalions
			has_template = "Shtrafnaya Chast"
		}

		days_remove = 90
		cost = 50

		fire_only_once = no

		remove_effect = {
			custom_effect_tooltip = SOV_penal_units_disbanded_tt
			delete_unit_template_and_units = { division_template = "Shtrafnaya Chast" }
		}
	}

	SOV_order_227 = {
		icon = generic_army_support
		allowed = {
			original_tag = SOV
		}
		available = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
			OR = {
				surrender_progress > 0.34
				NOT = { controls_state = 219 }
				NOT = { controls_state = 217 }
				NOT = { has_full_control_of_state = 247 }
				NOT = { has_full_control_of_state = 219 }
				NOT = { has_full_control_of_state = 254 }
				NOT = { has_full_control_of_state = 257 }
				NOT = { has_full_control_of_state = 239 }
				AND = {
					NOT = { has_full_control_of_state = 237 }
					218 = { CONTROLLER = { has_war_with = SOV } }
				}
				AND = {
					NOT = { has_full_control_of_state = 235 }
					218 = { CONTROLLER = { has_war_with = SOV } }
				}
				AND = {
					NOT = { has_full_control_of_state = 233 }
					218 = { CONTROLLER = { has_war_with = SOV } }
				}
				AND = {
					NOT = { has_full_control_of_state = 231 }
					218 = { CONTROLLER = { has_war_with = SOV } }
				}
			}
		}
		visible = {
			has_completed_focus = SOV_barrier_troops
		}

		cost = 50
		fire_only_once = yes

		complete_effect = {
			set_country_flag = SOV_order_227_flag
			swap_ideas = {
				remove_idea = order_227_1
				add_idea = order_227
			}
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				custom_effect_tooltip = cost_reduced_last_stand
			}

			if = {
				limit = {
					has_idea = cavalry_army_clique
				}
				swap_ideas = {
					remove_idea = cavalry_army_clique
					add_idea = cavalry_army_clique_2
				}
			}
			else_if = {
				limit = {
					has_idea = cavalry_army_clique_2
				}
				swap_ideas = {
					remove_idea = cavalry_army_clique_2
					add_idea = cavalry_army_clique_3
				}
			}
		}

		ai_will_do = {
			factor = 4000
		}
	}

	SOV_peoples_militia_leningrad = {

		icon = category_generic_communism

		available = {
			195 = { is_controlled_by = SOV }
		}

		cost = 40
		days_remove = -1
		fire_only_once = yes
		visible = {
			has_war = yes
			has_completed_focus = SOV_peoples_militia
		}

		complete_effect = {
			custom_effect_tooltip = SOV_peoples_militias
			add_war_support = 0.05
			hidden_effect = {
				load_oob = "SOV_peoples_militia_1"
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
	SOV_peoples_militia_moscow = {

		icon = category_generic_communism

		available = {
			219 = { is_controlled_by = SOV }
		}

		cost = 40
		days_remove = -1
		fire_only_once = yes
		visible = {
			has_war = yes
			has_completed_focus = SOV_peoples_militia
		}

		complete_effect = {
			add_war_support = 0.05
			hidden_effect = {
				load_oob = "SOV_peoples_militia_2"
			}
			custom_effect_tooltip = SOV_peoples_militias
		}

		ai_will_do = {
			factor = 100
		}
	}
	SOV_peoples_militia_stalingrad = {

		icon = category_generic_communism

		available = {
			217 = { is_controlled_by = SOV }
		}

		cost = 40
		days_remove = -1
		fire_only_once = yes
		visible = {
			has_war = yes
			has_completed_focus = SOV_peoples_militia
		}

		complete_effect = {
			add_war_support = 0.05
			hidden_effect = {
				load_oob = "SOV_peoples_militia_3"
			}
			custom_effect_tooltip = SOV_peoples_militias
		}

		ai_will_do = {
			factor = 100
		}
	}

	#217 "Stalingrad"
	SOV_hold_stalingrad = {

		icon = generic_civil_support

		allowed = {
			original_tag = SOV
		}

		#Fail trigger
		available = {
			NOT = { controls_state = 217 }
		}

		days_mission_timeout = 180

		fire_only_once = yes

		is_good = yes

		activation = {
			has_war = yes
			has_civil_war = no
			NOT = { has_war_with = STA }
			any_enemy_country = {
				is_major = yes
			}
			OR = {
				NOT = {	SOV = { has_full_control_of_state = 218 }}
				NOT = {	SOV = { has_full_control_of_state = 228 }}
				NOT = {	SOV = { has_full_control_of_state = 260 }}
				NOT = {	SOV = { has_full_control_of_state = 238 }}
				NOT = {	SOV = { has_full_control_of_state = 237 }}
			}
		}

		#Success
		timeout_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			217 = { save_event_target_as = state }
			country_event = wtt_soviet_hold_city.1
		}
		#Fail
		complete_effect = {
			217 = { save_event_target_as = state }
			country_event = wtt_soviet_hold_city.2
			add_stability = -0.05
		}
	}
	#195 "Leningrad"
	SOV_hold_leningrad = {

		icon = generic_civil_support

		allowed = {
			original_tag = SOV
		}

		#Fail trigger
		available = {
			NOT = { controls_state = 195 }
		}

		days_mission_timeout = 180

		fire_only_once = yes

		is_good = yes

		activation = {
			has_war = yes
			has_civil_war = no
			NOT = { has_war_with = STA }
			any_enemy_country = {
				is_major = yes
			}
			OR = {
				AND = {
					NOT = {	SOV = { has_full_control_of_state = 191 }}
					191 = { is_owned_by = SOV }
				}
				NOT = {	SOV = { has_full_control_of_state = 209 }}
				NOT = {	SOV = { has_full_control_of_state = 263 }}
			}
		}

		#Success
		timeout_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			195 = { save_event_target_as = state }
			country_event = wtt_soviet_hold_city.3
		}
		#Fail
		complete_effect = {
			195 = { save_event_target_as = state }
			country_event = wtt_soviet_hold_city.4
			add_stability = -0.05
		}
	}
	#219 "Moscow"
	SOV_hold_moscow = {

		icon = generic_civil_support

		allowed = {
			original_tag = SOV
		}

		#Fail trigger
		available = {
			NOT = { controls_state = 219 }
		}

		days_mission_timeout = 180

		fire_only_once = yes

		is_good = yes

		activation = {
			has_war = yes
			has_civil_war = no
			NOT = { has_war_with = STA }
			any_enemy_country = {
				is_major = yes
			}
			OR = {
				NOT = {	SOV = { has_full_control_of_state = 242 }}
				NOT = {	SOV = { has_full_control_of_state = 246 }}
				NOT = {	SOV = { has_full_control_of_state = 205 }}
				NOT = {	SOV = { has_full_control_of_state = 222 }}
				NOT = {	SOV = { has_full_control_of_state = 258 }}
			}
		}

		#Success
		timeout_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			219 = { save_event_target_as = state }
			country_event = wtt_soviet_hold_city.5
		}
		#Fail
		complete_effect = {
			219 = { save_event_target_as = state }
			country_event = wtt_soviet_hold_city.6
			add_stability = -0.05
		}
	}
	#206 "Minsk"
	SOV_hold_minsk = {

		icon = generic_civil_support

		allowed = {
			original_tag = SOV
		}

		#Fail trigger
		available = {
			NOT = { controls_state = 206 }
		}

		days_mission_timeout = 180

		fire_only_once = yes

		is_good = yes

		activation = {
			has_war = yes
			has_civil_war = no
			NOT = { has_war_with = STA }
			any_enemy_country = {
				is_major = yes
			}
			97 = { is_owned_by = SOV }
			OR = {
				NOT = {	SOV = { has_full_control_of_state = 95 }}
				NOT = {	SOV = { has_full_control_of_state = 94 }}
				NOT = {	SOV = { has_full_control_of_state = 784 }}
				NOT = {	SOV = { has_full_control_of_state = 194 }}
			}
		}

		#Success
		timeout_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			206 = { save_event_target_as = state }
			country_event = wtt_soviet_hold_city.7
		}
		#Fail
		complete_effect = {
			206 = { save_event_target_as = state }
			country_event = wtt_soviet_hold_city.8
			add_stability = -0.05
		}
	}
	#202 "Kiev"
	SOV_hold_kiev = {

		icon = generic_civil_support

		allowed = {
			original_tag = SOV
		}

		#Fail trigger
		available = {
			NOT = { controls_state = 202 }
		}

		days_mission_timeout = 180

		fire_only_once = yes

		is_good = yes

		activation = {
			has_war = yes
			has_civil_war = no
			NOT = { has_war_with = STA }
			any_enemy_country = {
				is_major = yes
			}
			OR = {
				NOT = {	SOV = { has_full_control_of_state = 192 }}
				NOT = {	SOV = { has_full_control_of_state = 198 }}
				NOT = {	SOV = { has_full_control_of_state = 199 }}
				NOT = {	SOV = { has_full_control_of_state = 194 }}
				NOT = {	SOV = { has_full_control_of_state = 201 }}
			}
		}

		#Success
		timeout_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			202 = { save_event_target_as = state }
			country_event = wtt_soviet_hold_city.9
		}
		#Fail
		complete_effect = {
			202 = { save_event_target_as = state }
			country_event = wtt_soviet_hold_city.10
			add_stability = -0.05
		}
	}
	#137 "Sevastapol"
	SOV_hold_sevastapol = {

		icon = generic_civil_support

		allowed = {
			original_tag = SOV
		}

		#Fail trigger
		available = {
			NOT = { controls_state = 137 }
		}

		days_mission_timeout = 180

		fire_only_once = yes

		is_good = yes

		activation = {
			has_war = yes
			has_civil_war = no
			NOT = { has_war_with = STA }
			any_enemy_country = {
				is_major = yes
			}
			OR = {
				NOT = {	SOV = { has_full_control_of_state = 197 }}
				NOT = {	SOV = { has_full_control_of_state = 203 }}
				NOT = {	SOV = { has_full_control_of_state = 196 }}
				NOT = {	SOV = { has_full_control_of_state = 259 }}
			}
		}

		#Success
		timeout_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			137 = { save_event_target_as = state }
			country_event = wtt_soviet_hold_city.11
		}
		#Fail
		complete_effect = {
			137 = { save_event_target_as = state }
			country_event = wtt_soviet_hold_city.12
			add_stability = -0.05
		}
	}

	SOV_military_offensive_ongoing = {

		icon = hol_draw_up_staff_plans

		allowed = {
			original_tag = SOV
		}

		fire_only_once = yes

		days_mission_timeout = 30

		is_good = no

		activation = {
			always = no
		}

		cancel_trigger = {
			hidden_trigger = {
				has_war = no
			}
		}

		cancel_effect = {
			#log = "Mission cancelled"
			hidden_effect = {
				SOV_clean_military_offensive_effect = yes
			}
		}

		visible = {
			has_country_flag = SOV_order_227_flag
			has_war = yes
			has_country_flag = SOV_military_offensive_in_progress_flag
		}

		available = { #Conditions to succeed in the offensive
			custom_trigger_tooltip = {
				tooltip = SOV_military_offensive_ongoing_trigger_tt
				all_of_scopes = {
					array = SOV_military_offensive_states
					is_controlled_by = ROOT
				}
			}
		}

		timeout_effect = { #FAIL
			#log = "Var = [?SOV_offensive_main_objective.GetName] // Array = [?SOV_military_offensive_states^0.GetName]" #Debug
			if = {
				limit = {
					#var:SOV.SOV_military_offensive_states^0 = {
					var:SOV_offensive_main_objective = {
						is_controlled_by = ROOT
					}
				}
				custom_effect_tooltip = SOV_military_offensive_ongoing_holding_main_objective_tt
			}
			else = {
				custom_effect_tooltip = SOV_military_offensive_ongoing_not_holding_main_objective_tt
				hidden_effect = {
					add_war_support = -0.1
					add_political_power = -75
				}
			}

			custom_effect_tooltip = SOV_military_offensive_ongoing_failing_main_objective_tt
			effect_tooltip = {
				add_war_support = -0.1
				add_political_power = -75
			}

			SOV_clean_military_offensive_effect = yes
		}

		complete_effect = { #SUCCESS
			SOV_clean_military_offensive_effect = yes

			add_war_support = 0.1
			add_political_power = 50
		}
	}
	SOV_military_offensive = {
		priority = 30

		icon = GFX_decision_generic_operation

		ai_will_do = {
			base = 0.5
		}

		state_target = yes

		target_trigger = {
			FROM = {
				SOV_is_military_offensive_main_objective = yes
			}
		}

		target_root_trigger = {
			has_war = yes
			has_country_flag = SOV_order_227_flag
		}

		on_map_mode = map_and_decisions_view

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = { has_country_flag = SOV_military_offensive_in_progress_flag }
			command_power > 49
		}

		visible = {
			 FROM = {
			 	controller = {
			 		has_war_with = ROOT
			 	}
			 	any_neighbor_state = {
			 		is_controlled_by = ROOT
			 	}
			 }
		}

		cancel_if_not_visible = yes

		cancel_effect = {
			#log = "Preparations cancelled"
			hidden_effect = {
				SOV_clean_military_offensive_effect = yes
			}
		}

		custom_cost_trigger = {
			command_power > 49
			has_political_power > 14
		}
		custom_cost_text = decision_cost_CP_50_pp_15

		days_remove = 14

		modifier = {
			command_power_gain_mult = -0.5
		}

		complete_effect = {
			set_country_flag = SOV_military_offensive_in_progress_flag
		}

		remove_effect = {
			custom_effect_tooltip = SOV_military_offensive_scope_tt
			custom_effect_tooltip = SOV_military_offensive_current_scope_main_objective_tt
			effect_tooltip = {
				FROM = { #RZHEV
					custom_effect_tooltip = SOV_military_offensive_current_scope_negihbors_tt
					every_neighbor_state = { #NEIGHBOR STATES
						limit = {
							controller = { has_war_with = ROOT }
						}
					}
				}
			}

			hidden_effect = {
				set_variable = { SOV_offensive_main_objective = FROM } #This variable exists because trying to scope to the element 0 of an array causes an error :D (!)
				FROM = {
					ROOT = { add_to_array = { SOV_military_offensive_states = PREV } }
					every_neighbor_state = { #NEIGHBOR STATES
						limit = {
							controller = { has_war_with = ROOT }
						}
						ROOT = { add_to_array = { SOV_military_offensive_states = PREV } }
					}
				}
				SOV_set_military_offensive_effect = yes

				activate_mission = SOV_military_offensive_ongoing
			}
			custom_effect_tooltip = SOV_military_offensive_activate_decision_tt
		}
	}
	SOV_operation_iskra_ongoing = {

		icon = hol_draw_up_staff_plans

		allowed = {
			original_tag = SOV
		}

		fire_only_once = yes

		days_mission_timeout = 30

		is_good = no

		activation = {
			always = no
		}

		cancel_trigger = {
			hidden_trigger = {
				has_war = no
			}
		}

		cancel_effect = {
			hidden_effect = {
				SOV_clean_military_offensive_effect = yes
			}
		}

		visible = {
			has_country_flag = SOV_order_227_flag
			has_war = yes
			has_country_flag = SOV_military_offensive_in_progress_flag
		}

		available = { #You succeed by having Leningrad being connected to the rest of the country at the end of the mission
			custom_trigger_tooltip = {
				tooltip = SOV_operation_iskra_ongoing_objective_tt
				195 = { is_in_home_area = yes }
			}
		}

		timeout_effect = {  #FAIL
			custom_effect_tooltip = SOV_operation_iskra_ongoing_success_effects_tt
			effect_tooltip = {
				add_war_support = 0.1
				add_political_power = 50
			}
			custom_effect_tooltip = SOV_operation_iskra_ongoing_failure_effects_tt
			effect_tooltip = {
				add_war_support = -0.1
				add_political_power = -75
			}

			if = {
				limit = {
					195 = { is_in_home_area = yes }
				}
				custom_effect_tooltip = SOV_operation_iskra_ongoing_success_tt
				hidden_effect = {
					add_war_support = 0.1
					add_political_power = 50
				}
			}
			else = {
				custom_effect_tooltip = SOV_operation_iskra_ongoing_failure_tt
				hidden_effect = {
					add_war_support = -0.1
					add_political_power = -75
				}
			}
			SOV_clean_military_offensive_effect = yes
		}

		complete_effect = {
			SOV_clean_military_offensive_effect = yes
		}
	}
	SOV_operation_iskra = { #SPECIAL OFFENSIVE - LENINGRAD HAS NOT FALLEN BUT IT IS SURROUNDED
		priority = 30

		icon = GFX_decision_generic_operation

		ai_will_do = {
			base = 1
		}

		highlight_states = {
			highlight_state_targets = {
				state = 208 #LUGA
				state = 244 #VOLKHOV
			}
		}

		on_map_mode = map_and_decisions_view

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = { has_country_flag = SOV_military_offensive_in_progress_flag }
			command_power > 49
			OR = {
				controls_state = 263 #NOVGOROD
				controls_state = 264 #TIKHVIN
			}
		}

		visible = {
			has_war = yes
			has_country_flag = SOV_order_227_flag
			244 = {
				controller = { has_war_with = ROOT }
			}
			208 = {
				controller = { has_war_with = ROOT }
			}
			195 = { is_controlled_by = ROOT }
		}

		custom_cost_trigger = {
			command_power > 49
			has_political_power > 14
		}
		custom_cost_text = decision_cost_CP_50_pp_15

		fire_only_once = yes

		days_remove = 14

		modifier = {
			command_power_gain_mult = -0.5
		}

		complete_effect = {
			set_country_flag = SOV_military_offensive_in_progress_flag
		}

		remove_effect = {
			custom_effect_tooltip = SOV_operation_iskra_tt
			hidden_effect = {
				195 = {
					ROOT = { add_to_array = { SOV_military_offensive_states = PREV } }
				}
				208 = {
					ROOT = { add_to_array = { SOV_military_offensive_states = PREV } }
				}
				244 = {
					ROOT = { add_to_array = { SOV_military_offensive_states = PREV } }
				}
				SOV_set_military_offensive_effect = yes

				activate_mission = SOV_operation_iskra_ongoing
			}
			custom_effect_tooltip = SOV_operation_iskra_activate_decision_tt
		}
	}
	SOV_the_rush_for_berlin = {
		priority = 100

		icon = GFX_decision_generic_nationalism

		ai_will_do = {
			factor = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			any_controlled_state = {
				is_core_of = GER
				NOT = { state = 763 }
				NOT = { state = 5 }
				NOT = { state = 85 }
			}
			any_other_country = {
				is_major = yes
				NOT = { is_in_faction_with = ROOT }
				has_war_with = GER
				any_controlled_state = {
					is_core_of = GER
				}
			}
			has_completed_focus = SOV_lessons_of_war
			has_country_flag = SOV_great_patriotic_war_flag
		}

		visible = {
			has_war_with = GER
			any_controlled_state = {
				is_core_of = GER
			}
			any_other_country = {
				is_major = yes
				NOT = { is_in_faction_with = ROOT }
				has_war_with = GER
			}
		}

		fire_only_once = yes

		custom_cost_trigger = {
			command_power > 49
			has_political_power > 49
		}
		custom_cost_text = decision_cost_CP_50_pp_50

		complete_effect = {
			add_timed_idea = {
				idea = SOV_the_rush_for_berlin
				days = 60
			}
		}
	}

	SOV_support_minsk_partisans = {
		priority = 100

		icon = generic_civil_support

		ai_will_do = {
			factor = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			204 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			206 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			96 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			241 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			has_equipment = {
				infantry_equipment > 2499
			}
			has_equipment = {
				support_equipment > 499
			}
		}

		cost = 0

		visible = {
			has_completed_focus = SOV_great_patriotic_war
		}

		fire_only_once = no

		days_re_enable = 200

		complete_effect = {
			206 = {
				add_resistance = 15
			}
			204 = {
				add_resistance = 15
			}
			96 = {
				add_resistance = 15
			}
			241 = {
				add_resistance = 15
			}

			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2500
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -500
				producer = SOV
			}
		}
	}
	SOV_support_voroshilovgrad_partisans = {
		priority = 100

		icon = generic_civil_support

		ai_will_do = {
			factor = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			228 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			has_equipment = {
				infantry_equipment > 2499
			}
			has_equipment = {
				support_equipment > 499
			}
		}

		cost = 0

		visible = {
			has_completed_focus = SOV_great_patriotic_war
		}

		fire_only_once = no
		days_re_enable = 200

		complete_effect = {
			228 = {
				add_resistance = 15
			}

			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2500
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -500
				producer = SOV
			}
		}
	}
	SOV_support_mozyr_partisans = {
		priority = 100

		icon = generic_civil_support

		ai_will_do = {
			factor = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			194 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			94 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			has_equipment = {
				infantry_equipment > 2499
			}
			has_equipment = {
				support_equipment > 499
			}
		}

		cost = 0

		visible = {
			has_completed_focus = SOV_great_patriotic_war
		}

		fire_only_once = no
		days_re_enable = 200

		complete_effect = {
			194 = {
				add_resistance = 15
			}
			94 = {
				add_resistance = 15
			}

			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2500
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -500
				producer = SOV
			}
		}
	}
	SOV_support_moscow_partisans = {
		priority = 100

		icon = generic_civil_support

		ai_will_do = {
			factor = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			247 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			248 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			253 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			has_equipment = {
				infantry_equipment > 2499
			}
			has_equipment = {
				support_equipment > 499
			}
		}

		cost = 0

		visible = {
			has_completed_focus = SOV_great_patriotic_war
		}

		fire_only_once = no
		days_re_enable = 200

		complete_effect = {
			247 = {
				add_resistance = 15
			}
			248 = {
				add_resistance = 15
			}
			253 = {
				add_resistance = 15
			}

			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2500
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -500
				producer = SOV
			}
		}
	}
	SOV_support_leningrad_partisans = {
		priority = 100

		icon = generic_civil_support

		ai_will_do = {
			factor = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			244 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			264 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			146 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			has_equipment = {
				infantry_equipment > 2499
			}
			has_equipment = {
				support_equipment > 499
			}
		}

		cost = 0

		visible = {
			has_completed_focus = SOV_great_patriotic_war
		}

		fire_only_once = no
		days_re_enable = 200

		complete_effect = {
			244 = {
				add_resistance = 15
			}
			264 = {
				add_resistance = 15
			}
			146 = {
				add_resistance = 15
			}

			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2500
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -500
				producer = SOV
			}
		}
	}
	SOV_support_arkhangelsk_partisans = {
		priority = 100

		icon = generic_civil_support

		ai_will_do = {
			factor = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			214 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			351 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			400 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			has_equipment = {
				infantry_equipment > 2499
			}
			has_equipment = {
				support_equipment > 499
			}
		}

		cost = 0

		visible = {
			has_completed_focus = SOV_great_patriotic_war
		}

		fire_only_once = no
		days_re_enable = 200

		complete_effect = {
			214 = {
				add_resistance = 15
			}
			351 = {
				add_resistance = 15
			}
			400 = {
				add_resistance = 15
			}

			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2500
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -500
				producer = SOV
			}
		}
	}
	SOV_support_stalingrad_partisans = {
		priority = 100

		icon = generic_civil_support

		ai_will_do = {
			factor = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			238 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			245 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			236 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			has_equipment = {
				infantry_equipment > 2499
			}
			has_equipment = {
				support_equipment > 499
			}
		}

		cost = 0

		visible = {
			has_completed_focus = SOV_great_patriotic_war
		}

		fire_only_once = no
		days_re_enable = 200

		complete_effect = {
			238 = {
				add_resistance = 15
			}
			245 = {
				add_resistance = 15
			}
			236 = {
				add_resistance = 15
			}

			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2500
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -500
				producer = SOV
			}
		}
	}
	SOV_support_caucasus_partisans = {
		priority = 100

		icon = generic_civil_support

		ai_will_do = {
			factor = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			233 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			has_equipment = {
				infantry_equipment > 2499
			}
			has_equipment = {
				support_equipment > 499
			}
		}

		cost = 0

		visible = {
			has_completed_focus = SOV_great_patriotic_war
		}

		fire_only_once = no
		days_re_enable = 200

		complete_effect = {
			233 = {
				add_resistance = 15
			}

			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2500
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -500
				producer = SOV
			}
		}
	}
	SOV_support_kazan_partisans = {
		priority = 100

		icon = generic_civil_support

		ai_will_do = {
			factor = 1
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			250 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			251 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
			has_equipment = {
				infantry_equipment > 2499
			}
			has_equipment = {
				support_equipment > 499
			}
		}

		cost = 0

		visible = {
			has_completed_focus = SOV_great_patriotic_war
		}

		fire_only_once = no
		days_re_enable = 200

		complete_effect = {
			250 = {
				add_resistance = 15
			}
			251 = {
				add_resistance = 15
			}

			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2500
				producer = SOV
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -500
				producer = SOV
			}
		}
	}
}

economy_decisions = {
	western_ukraine_transformation = {

		icon = hol_draw_up_staff_plans

		highlight_states = {
			SOV_transform_western_ukraine = yes
		}

		available = {
			tag = SOV
			has_war = no
			has_full_control_of_state = 201
			has_full_control_of_state = 202
			has_full_control_of_state = 198
			has_full_control_of_state = 203
			has_full_control_of_state = 192
			has_full_control_of_state = 197
			has_full_control_of_state = 196
			has_full_control_of_state = 137
			num_of_civilian_factories_available_for_projects > 17
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		visible = {
			tag = SOV
			has_completed_focus = SOV_transformation_of_nature
			has_war = no
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		cancel_trigger = {
			NOT = {
				has_full_control_of_state = 201
				has_full_control_of_state = 202
				has_full_control_of_state = 198
				has_full_control_of_state = 203
				has_full_control_of_state = 192
				has_full_control_of_state = 197
				has_full_control_of_state = 196
				has_full_control_of_state = 137
			}
		}

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0

				date < 1942.12.1
			}
		}

		cost = 25
		days_remove = 270
        fire_only_once = yes

		modifier = {
			civilian_factory_use = 18
		}

		remove_effect = {
			economy_fatigue_level_up_2 = yes
			201 = {
				add_extra_state_shared_building_slots = 2
			}
			202 = {
				add_extra_state_shared_building_slots = 2
			}
			198 = {
				add_extra_state_shared_building_slots = 2
			}
			203 = {
				add_extra_state_shared_building_slots = 2
			}
			192 = {
				add_extra_state_shared_building_slots = 2
			}
			197 = {
				add_extra_state_shared_building_slots = 2
			}
			196 = {
				add_extra_state_shared_building_slots = 2
			}
			137 = {
				add_extra_state_shared_building_slots = 2
			}
			hidden_effect = {
				set_country_flag = western_ukraine_transformed
			}
		}
	}
	western_ukraine_agricultural_construction = {

		icon = generic_industry

		highlight_states = {
			SOV_transform_western_ukraine = yes
		}

		available = {
			tag = SOV
			has_war = no
			has_full_control_of_state = 201
			has_full_control_of_state = 202
			has_full_control_of_state = 198
			has_full_control_of_state = 203
			has_full_control_of_state = 192
			has_full_control_of_state = 197
			has_full_control_of_state = 196
			has_full_control_of_state = 137
			num_of_civilian_factories_available_for_projects > 26
			has_country_flag = western_ukraine_transformed
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		visible = {
			tag = SOV
			has_completed_focus = SOV_transformation_of_nature
			has_war = no
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		cancel_trigger = {
			NOT = {
				has_full_control_of_state = 201
				has_full_control_of_state = 202
				has_full_control_of_state = 198
				has_full_control_of_state = 203
				has_full_control_of_state = 192
				has_full_control_of_state = 197
				has_full_control_of_state = 196
				has_full_control_of_state = 137
			}
		}

		ai_will_do = {
			factor = 100
		}

		cost = 0
		days_remove = 30
        fire_only_once = yes

		modifier = {
			civilian_factory_use = 30
		}

		remove_effect = {
			economy_fatigue_level_up_4 = yes
			201 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			202 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			198 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			203 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			192 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			197 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			196 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			137 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	eastern_ukraine_transformation = {

		icon = hol_draw_up_staff_plans

		highlight_states = {
			SOV_transform_eastern_ukraine = yes
		}

		available = {
			tag = SOV
			has_war = no
			has_full_control_of_state = 193
			has_full_control_of_state = 225
			has_full_control_of_state = 259
			has_full_control_of_state = 221
			has_full_control_of_state = 226
			has_full_control_of_state = 200
			has_full_control_of_state = 227
			num_of_civilian_factories_available_for_projects > 14
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		visible = {
			tag = SOV
			has_completed_focus = SOV_transformation_of_nature
			has_war = no
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		cancel_trigger = {
			NOT = {
				has_full_control_of_state = 193
				has_full_control_of_state = 225
				has_full_control_of_state = 259
				has_full_control_of_state = 221
				has_full_control_of_state = 226
				has_full_control_of_state = 200
				has_full_control_of_state = 227
			}
		}

		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0

				date < 1942.12.1
			}
		}

		cost = 25
		days_remove = 270
        fire_only_once = yes

		modifier = {
			civilian_factory_use = 15
		}

		remove_effect = {
			economy_fatigue_level_up_2 = yes
			193 = {
				add_extra_state_shared_building_slots = 2
			}
			225 = {
				add_extra_state_shared_building_slots = 2
			}
			259 = {
				add_extra_state_shared_building_slots = 2
			}
			221 = {
				add_extra_state_shared_building_slots = 2
			}
			226 = {
				add_extra_state_shared_building_slots = 2
			}
			200 = {
				add_extra_state_shared_building_slots = 2
			}
			227 = {
				add_extra_state_shared_building_slots = 2
			}
			hidden_effect = {
				set_country_flag = eastern_ukraine_transformed
			}
		}
	}
	eastern_ukraine_agricultural_construction = {

		icon = generic_industry

		highlight_states = {
			SOV_transform_eastern_ukraine = yes
		}

		available = {
			tag = SOV
			has_war = no
			has_full_control_of_state = 193
			has_full_control_of_state = 225
			has_full_control_of_state = 259
			has_full_control_of_state = 221
			has_full_control_of_state = 226
			has_full_control_of_state = 200
			has_full_control_of_state = 227
			num_of_civilian_factories_available_for_projects > 24
			has_country_flag = eastern_ukraine_transformed
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		visible = {
			tag = SOV
			has_completed_focus = SOV_transformation_of_nature
			has_war = no
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		cancel_trigger = {
			NOT = {
				has_full_control_of_state = 193
				has_full_control_of_state = 225
				has_full_control_of_state = 259
				has_full_control_of_state = 221
				has_full_control_of_state = 226
				has_full_control_of_state = 200
				has_full_control_of_state = 227
			}
		}

		ai_will_do = {
			factor = 100
		}

		cost = 0
		days_remove = 30
        fire_only_once = yes

		modifier = {
			civilian_factory_use = 25
		}

		remove_effect = {
			economy_fatigue_level_up_4 = yes
			193 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			225 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			259 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			221 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			226 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			200 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			227 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	western_forest_steppe_transformation = {

		icon = hol_draw_up_staff_plans

		highlight_states = {
			SOV_transform_western_forest_steppe = yes
		}

		available = {
			tag = SOV
			has_war = no
			has_full_control_of_state = 254
			has_full_control_of_state = 258
			has_full_control_of_state = 239
			has_full_control_of_state = 260
			has_full_control_of_state = 265
			has_full_control_of_state = 217
			num_of_civilian_factories_available_for_projects > 9
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		visible = {
			tag = SOV
			has_completed_focus = SOV_transformation_of_nature
			has_war = no
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		cancel_trigger = {
			NOT = {
				has_full_control_of_state = 254
				has_full_control_of_state = 258
				has_full_control_of_state = 239
				has_full_control_of_state = 260
				has_full_control_of_state = 265
				has_full_control_of_state = 217
			}
		}

		ai_will_do = {
			factor = 100
		}

		cost = 25
		days_remove = 270
        fire_only_once = yes

		modifier = {
			civilian_factory_use = 10
		}

		remove_effect = {
			economy_fatigue_level_up_2 = yes
			254 = {
				add_extra_state_shared_building_slots = 2
			}
			258 = {
				add_extra_state_shared_building_slots = 2
			}
			239 = {
				add_extra_state_shared_building_slots = 2
			}
			260 = {
				add_extra_state_shared_building_slots = 2
			}
			265 = {
				add_extra_state_shared_building_slots = 2
			}
			217 = {
				add_extra_state_shared_building_slots = 2
			}
			hidden_effect = {
				set_country_flag = western_forest_steppe_transformed
			}
		}
	}
	western_forest_steppe_agricultural_construction = {

		icon = generic_industry

		highlight_states = {
			SOV_transform_western_forest_steppe = yes
		}

		available = {
			tag = SOV
			has_war = no
			has_full_control_of_state = 254
			has_full_control_of_state = 258
			has_full_control_of_state = 239
			has_full_control_of_state = 260
			has_full_control_of_state = 265
			has_full_control_of_state = 217
			num_of_civilian_factories_available_for_projects > 13
			has_country_flag = western_forest_steppe_transformed
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		visible = {
			tag = SOV
			has_completed_focus = SOV_transformation_of_nature
			has_war = no
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		cancel_trigger = {
			NOT = {
				has_full_control_of_state = 254
				has_full_control_of_state = 258
				has_full_control_of_state = 239
				has_full_control_of_state = 260
				has_full_control_of_state = 265
				has_full_control_of_state = 217
			}
		}

		ai_will_do = {
			factor = 100
		}

		cost = 0
		days_remove = 30
        fire_only_once = yes

		modifier = {
			civilian_factory_use = 15
		}

		remove_effect = {
			economy_fatigue_level_up_4 = yes
			254 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			258 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			239 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			260 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			265 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			217 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	eastern_forest_steppe_transformation = {

		icon = hol_draw_up_staff_plans

		highlight_states = {
			SOV_transform_eastern_forest_steppe = yes
		}

		available = {
			tag = SOV
			has_war = no
			has_full_control_of_state = 249
			has_full_control_of_state = 651
			has_full_control_of_state = 251
			has_full_control_of_state = 652
			has_full_control_of_state = 401
			num_of_civilian_factories_available_for_projects > 9
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		visible = {
			tag = SOV
			has_completed_focus = SOV_transformation_of_nature
			has_war = no
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		cancel_trigger = {
			NOT = {
				has_full_control_of_state = 249
				has_full_control_of_state = 651
				has_full_control_of_state = 251
				has_full_control_of_state = 652
				has_full_control_of_state = 401
			}
		}

		ai_will_do = {
			factor = 100
		}

		cost = 25
		days_remove = 270
        fire_only_once = yes

		modifier = {
			civilian_factory_use = 10
		}

		remove_effect = {
			economy_fatigue_level_up_2 = yes
			249 = {
				add_extra_state_shared_building_slots = 2
			}
			651 = {
				add_extra_state_shared_building_slots = 2
			}
			251 = {
				add_extra_state_shared_building_slots = 2
			}
			652 = {
				add_extra_state_shared_building_slots = 2
			}
			401 = {
				add_extra_state_shared_building_slots = 2
			}
			hidden_effect = {
				set_country_flag = eastern_forest_steppe_transformed
			}
		}
	}
	eastern_forest_steppe_agricultural_construction = {

		icon = generic_industry

		highlight_states = {
			SOV_transform_eastern_forest_steppe = yes
		}

		available = {
			tag = SOV
			has_war = no
			has_full_control_of_state = 249
			has_full_control_of_state = 651
			has_full_control_of_state = 251
			has_full_control_of_state = 652
			has_full_control_of_state = 401
			num_of_civilian_factories_available_for_projects > 14
			has_country_flag = eastern_forest_steppe_transformed
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		visible = {
			tag = SOV
			has_completed_focus = SOV_transformation_of_nature
			has_war = no
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		cancel_trigger = {
			NOT = {
				has_full_control_of_state = 249
				has_full_control_of_state = 651
				has_full_control_of_state = 251
				has_full_control_of_state = 652
				has_full_control_of_state = 401
			}
		}

		ai_will_do = {
			factor = 100
		}

		cost = 0
		days_remove = 30
        fire_only_once = yes

		modifier = {
			civilian_factory_use = 15
		}

		remove_effect = {
			economy_fatigue_level_up_4 = yes
			249 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			651 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			251 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			652 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			401 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	kuban_transformation = {

		icon = hol_draw_up_staff_plans

		highlight_states = {
			SOV_transform_kuban = yes
		}

		available = {
			tag = SOV
			has_war = no
			has_full_control_of_state = 234
			has_full_control_of_state = 238
			has_full_control_of_state = 237
			has_full_control_of_state = 235
			num_of_civilian_factories_available_for_projects > 7
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		visible = {
			tag = SOV
			has_completed_focus = SOV_transformation_of_nature
			has_war = no
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		cancel_trigger = {
			NOT = {
				has_full_control_of_state = 234
				has_full_control_of_state = 238
				has_full_control_of_state = 237
				has_full_control_of_state = 235
			}
		}

		ai_will_do = {
			factor = 100
		}

		cost = 25
		days_remove = 270
        fire_only_once = yes

		modifier = {
			civilian_factory_use = 8
		}

		remove_effect = {
			economy_fatigue_level_up_2 = yes
			234 = {
				add_extra_state_shared_building_slots = 2
			}
			238 = {
				add_extra_state_shared_building_slots = 2
			}
			237 = {
				add_extra_state_shared_building_slots = 2
			}
			235 = {
				add_extra_state_shared_building_slots = 2
			}
			hidden_effect = {
				set_country_flag = kuban_transformed
			}
		}
	}
	kuban_agricultural_construction = {

		icon = generic_industry

		highlight_states = {
			SOV_transform_kuban = yes
		}

		available = {
			tag = SOV
			has_war = no
			has_full_control_of_state = 234
			has_full_control_of_state = 238
			has_full_control_of_state = 237
			has_full_control_of_state = 235
			num_of_civilian_factories_available_for_projects > 11
			has_country_flag = kuban_transformed
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		visible = {
			tag = SOV
			has_completed_focus = SOV_transformation_of_nature
			has_war = no
			#has_country_leader = { ruling_only = yes name = "Joseph Stalin" }
		}

		cancel_trigger = {
			NOT = {
				has_full_control_of_state = 234
				has_full_control_of_state = 238
				has_full_control_of_state = 237
				has_full_control_of_state = 235
			}
		}

		ai_will_do = {
			factor = 100
		}

		cost = 0
		days_remove = 30
        fire_only_once = yes

		modifier = {
			civilian_factory_use = 12
		}

		remove_effect = {
			economy_fatigue_level_up_4 = yes
			234 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			238 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			237 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			235 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
}

#### ##    ## ########  ##     ##  ######  ######## ########  ##    ##    ########  ######## ##        #######   ######     ###    ######## ####  #######  ##    ##
 ##  ###   ## ##     ## ##     ## ##    ##    ##    ##     ##  ##  ##     ##     ## ##       ##       ##     ## ##    ##   ## ##      ##     ##  ##     ## ###   ##
 ##  ####  ## ##     ## ##     ## ##          ##    ##     ##   ####      ##     ## ##       ##       ##     ## ##        ##   ##     ##     ##  ##     ## ####  ##
 ##  ## ## ## ##     ## ##     ##  ######     ##    ########     ##       ########  ######   ##       ##     ## ##       ##     ##    ##     ##  ##     ## ## ## ##
 ##  ##  #### ##     ## ##     ##       ##    ##    ##   ##      ##       ##   ##   ##       ##       ##     ## ##       #########    ##     ##  ##     ## ##  ####
 ##  ##   ### ##     ## ##     ## ##    ##    ##    ##    ##     ##       ##    ##  ##       ##       ##     ## ##    ## ##     ##    ##     ##  ##     ## ##   ###
#### ##    ## ########   #######   ######     ##    ##     ##    ##       ##     ## ######## ########  #######   ######  ##     ##    ##    ####  #######  ##    ##

#Category only allowed for SOV
SOV_industry_relocation = {

	SOV_relocate_industry_from_moscow_area = {

		icon = generic_construction

		allowed = {
			tag = SOV
		}
		available = {
			219 = { #Moscow
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			653 = { is_owned_and_controlled_by = SOV } #Sverdlovsk
			572 = { is_owned_and_controlled_by = SOV } #Chelyabinsk
		}
		highlight_states = {
			highlight_state_targets = {
				state = 219
			}
		}

		fire_only_once = yes
		#cost = 25

		ai_will_do = {
			base = 1

			modifier = {
				factor = 4000
				surrender_progress > 0.15
			}
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_moscow_area
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_5 = yes
		}
	}
	SOV_relocating_industry_from_moscow_area = {
		icon = generic_construction

		allowed = {
			tag = SOV
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 219
			}
		}
		available = {
			OR = {
				NOT = {
					219 = { is_owned_and_controlled_by = SOV }
				}
				219 = { #moscow
					arms_factory < 1
				}
			}
		}

		days_mission_timeout = 4
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {	#Moscow
				prioritize = { 219 }
				limit = {
					region = 271
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						synthetic_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 570 40 403 653 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {	#Smolinsk
				prioritize = { 242 }
				limit = {
					region = 271
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						synthetic_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 570 40 403 653 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {	#Rezhev
				prioritize = { 246 }
				limit = {
					region = 271
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						synthetic_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 570 40 403 653 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {	#Tula
				prioritize = { 223 }
				limit = {
					region = 271
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						synthetic_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 405 586 40 570 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 570 40 403 653 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 570 40 403 405 571 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_moscow_area
			}
		}
	}

	SOV_relocate_industry_from_leningrad_area = {
		icon = generic_construction
		allowed = {
			tag = SOV
		}

		available = {
			195 = { #Leningrad
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			653 = { is_owned_and_controlled_by = SOV } #Sverdlovsk
			572 = { is_owned_and_controlled_by = SOV } #Chelyabinsk
		}

		highlight_states = {
			highlight_state_targets = {
				state = 195
			}
		}

		fire_only_once = yes
		#cost = 25

		ai_will_do = {
			factor = 5000
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_leningrad_area
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_2 = yes
		}
	}
	SOV_relocating_industry_from_leningrad_area = {
		icon = generic_construction

		allowed = {
			tag = SOV
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 195
			}
		}
		available = {
			OR = {
				NOT = {
					195 = { is_owned_and_controlled_by = SOV }
				}
				195 = { #Leningrad
					arms_factory < 1
				}
			}
		}

		days_mission_timeout = 4
		is_good = yes
		fire_only_once = no

		modifier = {
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				prioritize = { 195 }
				limit = {
					region = 132
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 403 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 403 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 209 210 208 }
				limit = {
					region = 132
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 403 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 403 653 573 876 398 651 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_leningrad_area
			}
		}
	}

	SOV_relocate_industry_from_stalingrad_area = {
		icon = generic_construction
		allowed = {
			tag = SOV
		}

		available = {
			217 = { #Stalingrad
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			653 = { is_owned_and_controlled_by = SOV } #Sverdlovsk
			572 = { is_owned_and_controlled_by = SOV } #Chelyabinsk
		}
		highlight_states = {
			highlight_state_targets = {
				state = 217
			}
		}

		fire_only_once = yes
		#cost = 25

		ai_will_do = {
			base = 1

			modifier = {
				factor = 4000
				surrender_progress > 0.2
			}
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_stalingrad_area
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_5 = yes
		}
	}
	SOV_relocating_industry_from_stalingrad_area = {
		icon = generic_construction

		allowed = {
			tag = SOV
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 217
			}
		}
		available = {
			OR = {
				NOT = {
					217 = { is_owned_and_controlled_by = SOV }
					218 = { is_owned_and_controlled_by = SOV }
				}
				AND = {
					217 = { #Stalingrad
						arms_factory < 1
					}
					218 = {	#Rostov
						arms_factory < 1
					}
				}
			}
		}

		days_mission_timeout = 4
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				prioritize = { 218 }
				limit = {
					region = 257
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 245 }
				limit = {
					region = 257
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 217 }
				limit = {
					region = 257
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 40 570 405 572 876 653 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_stalingrad_area
			}
		}
	}

	SOV_relocate_industry_from_kharkov_area = {

		icon = generic_construction

		highlight_states = {
			highlight_state_targets = {
				state = 221
			}
		}
		allowed = {
			tag = SOV
		}
		available = {
			221 = { #Kharkov
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			653 = { is_owned_and_controlled_by = SOV } #Sverdlovsk
			572 = { is_owned_and_controlled_by = SOV } #Chelyabinsk
		}

		fire_only_once = yes
		#cost = 25

		ai_will_do = {
			factor = 4000
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_kharkov_area
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_4 = yes
		}
	}
	SOV_relocating_industry_from_kharkov_area = {
		icon = generic_construction

		allowed = {
			tag = SOV
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 221
			}
		}
		available = {
			OR = {
				NOT = {
					221 = { is_owned_and_controlled_by = SOV }
					227 = { is_owned_and_controlled_by = SOV }
				}
				AND = {
					221 = { #Kharkov
						arms_factory < 1
					}
					227 = {
						arms_factory < 1
						steel_refinery < 1
					}
				}
			}
		}
		visible = {

		}
		days_mission_timeout = 4
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				prioritize = { 226 }
				limit = {
					region = 270
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 408 564 563 561 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 200 }
				limit = {
					region = 270
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 408 564 563 561 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 227 }
				limit = {
					region = 270
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 408 564 563 561 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 221 }
				limit = {
					region = 270
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 408 564 563 561 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 259 }
				limit = {
					region = 270
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 408 564 563 561 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_kharkov_area
			}
		}
	}

	SOV_relocate_industry_from_kiev_area = {
		icon = generic_construction
		allowed = {
			tag = SOV
		}

		available = {
			202 = { #Leningrad
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			400 = { is_owned_and_controlled_by = SOV } #Zlatoust
			399 = { is_owned_and_controlled_by = SOV } #Magnitogorsk
			250 = { is_owned_and_controlled_by = SOV } #Kuibyshev
		}

		highlight_states = {
			highlight_state_targets = {
				state = 202
			}
		}

		fire_only_once = yes
		#cost = 25

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_kiev_area
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_3 = yes
		}

		ai_will_do = {
			factor = 5000
		}
	}
	SOV_relocating_industry_from_kiev_area = {
		icon = generic_construction

		allowed = {
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 202
			}
		}
		available = {
			OR = {
				NOT = {
					202 = { is_owned_and_controlled_by = SOV }
				}
				202 = { #Kiev
					arms_factory < 1
				}
			}
		}

		days_mission_timeout = 4
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				prioritize = { 202 }
				limit = {
					region = 130
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 192 }
				limit = {
					region = 130
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 203 }
				limit = {
					region = 130
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 197 }
				limit = {
					region = 130
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 252 400 399 250 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_kiev_area
			}
		}
	}

	SOV_relocate_industry_from_minsk_area = {
		icon = generic_construction

		allowed = {
			tag = SOV
		}
		available = {
			206 = { #Leningrad
				is_owned_and_controlled_by = SOV
				arms_factory > 0
			}
			398 = { is_owned_and_controlled_by = SOV }
			651 = { is_owned_and_controlled_by = SOV }
		}

		highlight_states = {
			highlight_state_targets = {
				state = 206
			}
		}

		fire_only_once = yes
		#cost = 25

		ai_will_do = {
			factor = 5000
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_minsk_area
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
			economy_fatigue_level_up_1 = yes
		}
	}
	SOV_relocating_industry_from_minsk_area = {
		icon = generic_construction
		allowed = {
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 206
			}
		}
		available = {
			OR = {
				NOT = {
					206 = { is_owned_and_controlled_by = SOV }
					224 = { is_owned_and_controlled_by = SOV }
				}
				AND = {
					206 = {
						arms_factory < 1
					}
					224 = {
						arms_factory < 1
					}
				}
			}
		}

		days_mission_timeout = 4
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				prioritize = { 206 }
				limit = {
					region = 131
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 207 }
				limit = {
					region = 131
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 224 }
				limit = {
					region = 131
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = { 241 }
				limit = {
					region = 131
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
						synthetic_refinery > 0
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 398 651 250 876 586 405 653 572 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								is_on_continent = asia
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								arms_factory < 21
								industrial_complex < 11
								infrastructure > 2
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_minsk_area
			}
		}
	}

	SOV_relocate_industry_from_ural_area = {
		icon = generic_construction

		highlight_states = {
			highlight_state_targets = {
				state = 651
			}
		}
		allowed = {
			tag = SOV
		}
		available = {
			OR = {
				406 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				407= {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				401 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				251 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				249 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				399 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				400 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
				397 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
			}
			OR = {
				651 = { is_owned_and_controlled_by = SOV } #Ufa
				398 = { is_owned_and_controlled_by = SOV } #Perm
				652 = { is_owned_and_controlled_by = SOV } #Orenburg
			}
			num_of_civilian_factories_available_for_projects > 39
		}

		visible = {
			NOT = {
				219 = { is_owned_and_controlled_by = SOV }
			}
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 0

			modifier = {
				factor = 4000
				OR = {
					NOT = { has_full_control_of_state = 217 }
					NOT = { has_full_control_of_state = 351 }
					NOT = { has_full_control_of_state = 253 }
					NOT = { has_full_control_of_state = 265 }
					NOT = { has_full_control_of_state = 257 }
					NOT = { has_full_control_of_state = 255 }
					NOT = { has_full_control_of_state = 239 }
				}
			}
		}

		complete_effect = {
			activate_mission = SOV_relocating_industry_from_ural_area
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision_negative
					producer = SOV
				}
			}
			custom_effect_tooltip = SOV_industry_relocation_trains_tt
		}
	}
	SOV_relocating_industry_from_ural_area = {
		icon = generic_construction
		allowed = {
			always = no
		}

		highlight_states = {
			highlight_state_targets = {
				state = 249
			}
		}
		available = {
			OR = {
				NOT = {
					651 = { is_owned_and_controlled_by = SOV }
					398 = { is_owned_and_controlled_by = SOV }
				}
				all_core_state = {
					OR = {
						region = 133
						region = 275
						region = 40
						region = 137
					}
					arms_factory < 1
				}
				AND = {
					651 = {
						arms_factory < 1
					}
					398 = {
						arms_factory < 1
					}
					249 = {
						arms_factory < 1
					}
				}
			}
		}

		days_mission_timeout = 4
		is_good = yes
		fire_only_once = no

		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = SOV_industrial_relocation_trains_decision
					producer = SOV
				}
			}
		}
		timeout_effect = {
			random_owned_controlled_state = {
				limit = {
					region = 133
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					region = 275
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					region = 40
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					region = 137
					is_controlled_by = SOV
					OR = {
						arms_factory > 0
						steel_refinery > 0
						aluminium_refinery > 0
						industrial_complex > 0
					}
				}
				if = {	#synth
					limit = { synthetic_refinery > 0 }
					remove_building = {
						type = synthetic_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = synthetic_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = synthetic_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = synthetic_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Mils
					limit = { arms_factory > 0 }
					remove_building = {
						type = arms_factory
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 14
									region = 136
									region = 151
									region = 208
								}
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = arms_factory
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = arms_factory damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Steel
					limit = { steel_refinery > 0 }
					remove_building = {
						type = steel_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = steel_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = steel_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = steel_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Aluminium
					limit = { aluminium_refinery > 0 }
					remove_building = {
						type = aluminium_refinery
						level = 1
					}
					PREV = {
						random_core_state = {
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = aluminium_refinery
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = aluminium_refinery
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = aluminium_refinery damage = 0.8 }
								}
							}
						}
					}
				}
				if = {	#Civs
					limit = { industrial_complex > 0 }
					remove_building = {
						type = industrial_complex
						level = 1
					}
					PREV = {
						random_core_state = {
							prioritize = { 653 572 876 405 586 40 }
							limit = {
								OR = {
									region = 284
									region = 136
									region = 151
									region = 208
									region = 148
								}
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								infrastructure > 1
								all_neighbor_state = {
									OR = {
										controller = {
											NOT = { has_war_with = SOV }
										}
										is_controlled_by = SOV
									}
								}
							}
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							hidden_effect = {
								if = {
									limit = { ROOT = { is_ai = no } }
									damage_building = { type = industrial_complex damage = 0.4 }
								}
							}
						}
					}
				}
			}
			custom_effect_tooltip = relocate_industry_repair
			hidden_effect = {
				activate_mission = SOV_relocating_industry_from_ural_area
			}
		}
	}
}

SOV_military_buildup = {

	SOV_big_fleet_program_light_cruiser_4 = {
		icon = generic_naval

		allowed = {
            tag = SOV
        }

        cost = 0
        fire_only_once = yes

        available = {
            has_tech = sov_light_cruiser_4
        }

        visible = {
			has_completed_focus = SOV_big_fleet_program
        }

        complete_effect = {
			add_equipment_production = {
				equipment = {
					type = sov_light_cruiser_hull_4
					creator = "SOV"
				}
				name = "Chapayev"
				requested_factories = 1
				progress = 0.25
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_light_cruiser_hull_4
					creator = "SOV"
				}
				name = "Zheleznyakov"
				requested_factories = 1
				progress = 0.25
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_light_cruiser_hull_4
					creator = "SOV"
				}
				name = "Kuybyshev"
				requested_factories = 1
				progress = 0.25
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_light_cruiser_hull_4
					creator = "SOV"
				}
				name = "Chkalov"
				requested_factories = 1
				progress = 0.25
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_light_cruiser_hull_4
					creator = "SOV"
				}
				name = "Frunze"
				requested_factories = 1
				progress = 0.25
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_light_cruiser_hull_4
					creator = "SOV"
				}
				name = "Ordzhinikidze"
				requested_factories = 1
				progress = 0.25
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_light_cruiser_hull_4
					creator = "SOV"
				}
				name = "Sverdlov"
				requested_factories = 1
				progress = 0.25
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_light_cruiser_hull_4
					creator = "SOV"
				}
				name = "Lenin"
				requested_factories = 1
				progress = 0.1
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_light_cruiser_hull_4
					creator = "SOV"
				}
				name = "Dzerzhinsky"
				requested_factories = 1
				progress = 0.1
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_light_cruiser_hull_4
					creator = "SOV"
				}
				name = "Avrora"
				requested_factories = 1
				progress = 0.1
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_light_cruiser_hull_4
					creator = "SOV"
				}
				name = "Lazo"
				requested_factories = 1
				progress = 0.1
				amount = 1
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	SOV_big_fleet_program_battleship_2 = {
		icon = generic_naval

		allowed = {
            tag = SOV
        }

        cost = 0
        fire_only_once = yes

        available = {
            has_tech = sov_battleship_2
        }

        visible = {
			has_completed_focus = SOV_big_fleet_program
        }

        complete_effect = {
			add_equipment_production = {
				equipment = {
					type = sov_battleship_hull_2
					creator = "SOV"
					version_name = "Sovetsky Soyuz Class"
				}
				name = "Sovetsky Soyuz"
				requested_factories = 1
				progress = 0.2
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_battleship_hull_2
					creator = "SOV"
					version_name = "Sovetsky Soyuz Class"
				}
				name = "Sovetskaya Ukraina"
				requested_factories = 1
				progress = 0.19
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_battleship_hull_2
					creator = "SOV"
					version_name = "Sovetsky Soyuz Class"
				}
				name = "Sovetskaya Rossiya"
				requested_factories = 1
				progress = 0.01
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_battleship_hull_2
					creator = "SOV"
					version_name = "Sovetsky Soyuz Class"
				}
				name = "Sovetskaya Belorussiyaa"
				requested_factories = 1
				progress = 0
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_battleship_hull_2
					creator = "SOV"
					version_name = "Sovetsky Soyuz Class"
				}
				name = "Sovetskaya Gruziya"
				requested_factories = 1
				progress = 0
				amount = 1
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	SOV_big_fleet_program_battle_cruiser_1 = {
		icon = generic_naval

		allowed = {
            tag = SOV
        }

        cost = 0
        fire_only_once = yes

        available = {
            has_tech = sov_battle_cruiser_1
        }

        visible = {
			has_completed_focus = SOV_big_fleet_program
        }

        complete_effect = {
			add_equipment_production = {
				equipment = {
					type = sov_battle_cruiser_hull_1
					creator = "SOV"
					version_name = "Kronshtadt Class"
				}
				name = "Kronshtadt"
				requested_factories = 1
				progress = 0.1
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_battle_cruiser_hull_1
					creator = "SOV"
					version_name = "Kronshtadt Class"
				}
				name = "Sevastopol"
				requested_factories = 1
				progress = 0.11
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_battle_cruiser_hull_1
					creator = "SOV"
					version_name = "Kronshtadt Class"
				}
				name = "Stalingrad"
				requested_factories = 1
				progress = 0
				amount = 1
			}
		}

		ai_will_do = {
			factor = 0
		}
	}

	SOV_big_fleet_program_carrier_1 = {
		icon = generic_naval

		allowed = {
            tag = SOV
        }

        cost = 0
        fire_only_once = yes

        available = {
            has_tech = sov_carrier_1
        }

        visible = {
			has_completed_focus = SOV_big_fleet_program
        }

        complete_effect = {
			add_equipment_production = {
				equipment = {
					type = sov_carrier_hull_1
					creator = "SOV"
				}
				name = "Izmail"
				requested_factories = 1
				progress = 0.2
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = sov_carrier_hull_1
					creator = "SOV"
				}
				name = "Ulyanovsk"
				requested_factories = 1
				progress = 0.15
				amount = 1
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
}

war_measures = {
	SOV_relocate_capital_from_moscow = {
		icon = generic_operation
		allowed = {
			tag = SOV
		}
		available = {
			is_ai = no
			has_war = yes
			has_civil_war = no
			OR = {
				NOT = { SOV = { has_full_control_of_state = 219 } }
				NOT = { SOV = { has_full_control_of_state = 217 } }
			}
			SOV = { has_full_control_of_state = 249 }
		}
		visible = {
			is_ai = no
			has_war = yes
			NOT = { SOV = { has_full_control_of_state = 219 } }
		}

		days_remove = 14
		cost = 25

		cancel_if_not_visible = yes

		remove_effect = {
			set_capital = { state = 249 }
		}
	}

	SOV_relocate_capital_from_kazan = {
		icon = generic_operation
		allowed = {
			tag = SOV
		}
		available = {
			is_ai = no
			has_war = yes
			NOT = { SOV = { has_full_control_of_state = 249 } }
			SOV = { has_full_control_of_state = 572 }
		}
		visible = {
			is_ai = no
			has_war = yes
			NOT = { SOV = { has_full_control_of_state = 249 } }
		}

		days_remove = 14
		cost = 25

		cancel_if_not_visible = yes

		remove_effect = {
			set_capital = { state = 572 }
		}
	}
}

operations = {

	SOV_danger_of_border_friction = {
		icon = border_war
		allowed = {
			original_tag = SOV
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 408
			}
		}
		war_with_target_on_timeout = yes
		days_mission_timeout = 400
		fire_only_once = yes
		is_good = no
		activation = {
			always = no
		}
		timeout_effect = {
			custom_effect_tooltip = escalation_possible_tooltip_for_defender
			custom_effect_tooltip = effects_if_border_conflict_is_lost
			effect_tooltip = {
				JAP = {
					army_experience = 15
					add_political_power = 25
				}
			}
			846 = {
				save_event_target_as = JAP_SOV_attacker_state
				set_state_flag = border_incident_active
			}
			408 = {
				save_event_target_as = JAP_SOV_defender_state
				set_state_flag = border_incident_active
			}
			hidden_effect = {
				country_event = {
					id = japan_border_conflict.1
					days = 1
				}
				if = {
					limit = {
						JAP = { is_ai = yes }
					}
					JAP = {
						846 = {
							create_unit = {
								division = "division_template = \"Japanese Infantry Division\" start_experience_factor = 0.3"
								owner = JAP
								count = 1
								prioritize_location = 6944
							}
						}
					}
				}
				if = {
					limit = {
						SOV = { is_ai = yes }
					}
					SOV = {
						408 = {
							create_unit = {
								division = "division_template = \"Soviet Rifle Division\" start_experience_factor = 0.3"
								owner = SOV
								count = 2
								prioritize_location = 11879
							}
						}
					}
				}
				event_target:JAP_SOV_attacker_state = {
					CONTROLLER = {
						start_border_war = {
							change_state_after_war = no
							attacker = {
								state = event_target:JAP_SOV_attacker_state
								num_provinces = 1
								on_win = japan_border_conflict.7
								on_lose = japan_border_conflict.8
								on_cancel = japan_border_conflict.4
								modifier = -0.15
							}
							defender = {
								state = event_target:JAP_SOV_defender_state
								num_provinces = 1
								on_win = japan_border_conflict.8
								on_lose = japan_border_conflict.7
								on_cancel = japan_border_conflict.4
							}
						}
					}
				}
				set_border_war_data = {
					attacker = 846
					defender = 408
					combat_width = 60
				}
			}
		}
	}
	SOV_border_conflict_warning_JAP = {
		icon = border_war
		allowed = {
			always = no
		}
		highlight_states = {
			highlight_state_targets = {
				state = 846
			}
		}
		#Activated from effect
		available = {
			hidden_trigger = {
				always = no
			}
		}
		war_with_target_on_timeout = yes
		days_mission_timeout = 400
		fire_only_once = yes
		is_good = no
		timeout_effect = {
			custom_effect_tooltip = escalation_possible_tooltip_for_defender
			custom_effect_tooltip = effects_if_border_conflict_is_lost
			effect_tooltip = {
				SOV = {
					add_tech_bonus = {
						name = sov_jap_border_conflict_won
						category = support_tech
						bonus = 0.5
					}
					army_experience = 15
				}
			}
			hidden_effect = {
				remove_targeted_decision = {
					target = JAP
					decision = SOV_border_conflict_warning_JAP
				}
			}
		}
	}

	SOV_operation_mars = {
		icon = decision_category_military_operation

		allowed = {
			original_tag = SOV
		}
		highlight_states = {
			highlight_state_targets = {
				state = 219
			}
		}
		visible = {
			has_completed_focus = SOV_the_red_storm
			has_war_with_major = yes
		}

		available = {
			all_core_state = {
				region = 271
				NOT = { is_fully_controlled_by = SOV }
			}
		}

		days_remove = 30

		cost = 25

		fire_only_once = yes

		complete_effect = {
			every_core_state = {
				limit = {
					region = 271
				}
				add_dynamic_modifier = { modifier = SOV_offensive_operation scope = SOV }
			}
		}

		remove_effect = {
			hidden_effect = {
				every_core_state = {
					limit = {
						region = 271
						has_dynamic_modifier = { modifier = SOV_offensive_operation }
					}
					remove_dynamic_modifier = { modifier = SOV_offensive_operation }
				}
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
	SOV_operation_uranus = {

		icon = decision_category_military_operation

		allowed = {
			original_tag = SOV
		}
		highlight_states = {
			highlight_state_targets = {
				state = 217
			}
		}
		visible = {
			has_completed_focus = SOV_the_red_storm
			has_war_with_major = yes
		}

		available = {
			all_core_state = {
				region = 257
				region = 134
				NOT = { is_fully_controlled_by = SOV }
			}
		}

		days_remove = 30

		cost = 25

		fire_only_once = yes

		complete_effect = {
			every_core_state = {
				limit = {
					region = 257
				}
				add_dynamic_modifier = { modifier = SOV_offensive_operation scope = SOV }
			}
			every_core_state = {
				limit = {
					region = 134
				}
				add_dynamic_modifier = { modifier = SOV_offensive_operation scope = SOV }
			}
			every_core_state = {
				limit = {
					region = 135
				}
				add_dynamic_modifier = { modifier = SOV_offensive_operation scope = SOV }
			}
		}

		remove_effect = {
			hidden_effect = {
				every_core_state = {
					limit = {
						region = 257
						has_dynamic_modifier = { modifier = SOV_offensive_operation }
					}
					remove_dynamic_modifier = { modifier = SOV_offensive_operation }
				}
				every_core_state = {
					limit = {
						region = 134
						has_dynamic_modifier = { modifier = SOV_offensive_operation }
					}
					remove_dynamic_modifier = { modifier = SOV_offensive_operation }
				}
				every_core_state = {
					limit = {
						region = 135
						has_dynamic_modifier = { modifier = SOV_offensive_operation }
					}
					remove_dynamic_modifier = { modifier = SOV_offensive_operation }
				}
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
	SOV_operation_saturn = {

		icon = decision_category_military_operation

		allowed = {
			original_tag = SOV
		}
		highlight_states = {
			highlight_state_targets = {
				state = 260
			}
		}
		visible = {
			has_completed_focus = SOV_the_red_storm
			has_war_with_major = yes
		}

		available = {
			all_core_state = {
				region = 272
				region = 270
				NOT = { is_fully_controlled_by = SOV }
			}
		}

		days_remove = 30

		cost = 25

		fire_only_once = yes

		complete_effect = {
			every_core_state = {
				limit = {
					region = 272
					region = 270
				}
				add_dynamic_modifier = { modifier = SOV_offensive_operation scope = SOV }
			}
		}

		remove_effect = {
			hidden_effect = {
				every_core_state = {
					limit = {
						region = 272
						region = 270
						has_dynamic_modifier = { modifier = SOV_offensive_operation }
					}
					remove_dynamic_modifier = { modifier = SOV_offensive_operation }
				}
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
	SOV_operation_pluto = {
		icon = decision_category_military_operation

		allowed = {
			original_tag = SOV
		}
		highlight_states = {
			highlight_state_targets = {
				state = 252
			}
		}
		visible = {
			has_completed_focus = SOV_the_red_storm
			has_war_with_major = yes
			NOT = {
				all_core_state = {
					region = 133
					is_fully_controlled_by = SOV
				}
			}
		}

		available = {
			all_core_state = {
				region = 133
				NOT = { is_fully_controlled_by = SOV }
			}
		}

		days_remove = 30

		cost = 25

		fire_only_once = yes

		complete_effect = {
			every_core_state = {
				limit = {
					region = 133
				}
				add_dynamic_modifier = { modifier = SOV_offensive_operation scope = SOV }
			}
		}

		remove_effect = {
			hidden_effect = {
				every_core_state = {
					limit = {
						region = 133
						has_dynamic_modifier = { modifier = SOV_offensive_operation }
					}
					remove_dynamic_modifier = { modifier = SOV_offensive_operation }
				}
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
	SOV_operation_bagration = {
		icon = decision_category_military_operation

		allowed = {
			original_tag = SOV
		}
		visible = {
			has_completed_focus = SOV_our_motherland_our_people_our_blood
			has_war_with_major = yes
		}

		available = {
			always = yes
		}

		days_remove = 60

		cost = 25

		fire_only_once = yes
		targeted_modifier = {
			tag = GER
			attack_bonus_against = 0.1
		}
		modifier = {
			supply_consumption_factor = -0.2
			org_loss_when_moving = -0.05
			political_power_factor = -0.15
		}

		remove_effect = {
			add_timed_idea = {
				idea = GER_army_exhausted
				days = 90
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

	SOV_ww3 = {
		icon = generic_operation
		allowed = {
			tag = SOV
		}

		available = {
			has_global_flag = ww2_has_ended
			has_war = no
		}

		visible = {
			219 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_in_faction_with = SOV
					}
				}
			}
			original_tag = SOV
			has_global_flag = ww2_has_ended
			has_war = no
		}

		cost = 200
		days_remove = 7
		fire_only_once = yes

		targeted_modifier = {
			tag = USA
			attack_bonus_against = 0.25
		}
		targeted_modifier = {
			tag = ITA
			attack_bonus_against = 0.25
		}
		targeted_modifier = {
			tag = ENG
			attack_bonus_against = 0.25
		}
		targeted_modifier = {
			tag = FRA
			attack_bonus_against = 0.25
		}
		targeted_modifier = {
			tag = WGR
			attack_bonus_against = 0.25
		}
		modifier = {
			supply_consumption_factor = -0.4
			army_speed_factor = 0.5
		}

		ai_will_do = {
			factor = 0
		}

		remove_effect = {
		}

		complete_effect = {
			custom_effect_tooltip = SOV_ww3_tt
			hidden_effect = {
				declare_war_on = {
					target = USA
					type = annex_everything
				}
				declare_war_on = {
					target = HOL
					type = annex_everything
				}
				declare_war_on = {
					target = BEL
					type = annex_everything
				}
				declare_war_on = {
					target = DEN
					type = annex_everything
				}
				declare_war_on = {
					target = ENG
					type = annex_everything
				}
				declare_war_on = {
					target = FRA
					type = annex_everything
				}
				declare_war_on = {
					target = ITA
					type = annex_everything
				}
				declare_war_on = {
					target = WGR
					type = annex_everything
				}
				if = {
					limit = {
						is_in_faction_with = DDR
					}
					DDR = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = WGR
							hostility_reason = asked_to_join
						}
					}
					DDR = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = DEN
							hostility_reason = asked_to_join
						}
					}
					DDR = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = BEL
							hostility_reason = asked_to_join
						}
					}
					DDR = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = HOL
							hostility_reason = asked_to_join
						}
					}
					DDR = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = USA
							hostility_reason = asked_to_join
						}
					}
					DDR = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = ENG
							hostility_reason = asked_to_join
						}
					}
					DDR = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = FRA
							hostility_reason = asked_to_join
						}
					}
				}
				if = {
					limit = {
						is_in_faction_with = HUN
					}
					HUN = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = WGR
							hostility_reason = asked_to_join
						}
					}
					HUN = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = USA
							hostility_reason = asked_to_join
						}
					}
					HUN = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = AUS
							hostility_reason = asked_to_join
						}
					}
					HUN = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = ENG
							hostility_reason = asked_to_join
						}
					}
					HUN = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = FRA
							hostility_reason = asked_to_join
						}
					}
				}
				if = {
					limit = {
						is_in_faction_with = CZE
					}
					CZE = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = WGR
							hostility_reason = asked_to_join
						}
					}
					CZE = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = USA
							hostility_reason = asked_to_join
						}
					}
					CZE = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = AUS
							hostility_reason = asked_to_join
						}
					}
					CZE = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = ENG
							hostility_reason = asked_to_join
						}
					}
					CZE = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = FRA
							hostility_reason = asked_to_join
						}
					}
				}
				if = {
					limit = {
						is_in_faction_with = POL
					}
					POL = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = WGR
							hostility_reason = asked_to_join
						}
					}
					POL = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = USA
							hostility_reason = asked_to_join
						}
					}
					POL = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = AUS
							hostility_reason = asked_to_join
						}
					}
					POL = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = ENG
							hostility_reason = asked_to_join
						}
					}
					POL = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = FRA
							hostility_reason = asked_to_join
						}
					}
				}
				if = {
					limit = {
						is_in_faction_with = ROM
					}
					ROM = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = WGR
							hostility_reason = asked_to_join
						}
					}
					ROM = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = USA
							hostility_reason = asked_to_join
						}
					}
					ROM = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = AUS
							hostility_reason = asked_to_join
						}
					}
					ROM = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = ENG
							hostility_reason = asked_to_join
						}
					}
					ROM = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = FRA
							hostility_reason = asked_to_join
						}
					}
				}
			}
		}
	}

	SOV_tehran_treaty_mission = {

		icon = generic_civil_support

		allowed = {
			original_tag = SOV
		}

		#Fail trigger
		available = {
			has_war_With = JAP
		}

		days_mission_timeout = 90

		fire_only_once = yes

		is_good = yes

		activation = {
			tag = SOV
			NOT = { has_war_with = GER }
			NOT = { has_war_with = JAP }
			is_faction_leader = yes
			has_government = communism
			NOT = { has_country_flag = defeated_by_ger }
			NOT = { is_puppet_of = GER }
			NOT = {
				has_war_with = ENG
			}
			NOT = {
				has_war_with = USA
			}
			JAP = {
				OR = {
					has_war_with = ENG
					has_war_with = USA
				}
			}
			has_country_flag = agreed_to_tehran_conference
		}

		#Success
		timeout_effect = {
			if = {
				limit = {
					527 = { is_controlled_by = JAP }
				}
				declare_war_on = {
					target = JAP
					type = take_state_focus
					generator = { 527 845 846 537 555 }
				}
			}
			else = {
				declare_war_on = {
					target = JAP
					type = take_state_focus
					generator = { 537 555 }
				}
			}
		}
		#Fail
		complete_effect = {
		}
	}

	SOV_saturn = {

		icon = generic_operation

		allowed = {
			tag = SOV
		}

        available = {
			SOV = { has_war_with = GER }
        }

        visible = {
        	is_ai = yes
        	GER = { is_ai = no }
            SOV = { has_war_with = GER }
            original_tag = SOV
			date > 1942.11.19
        }

        cost = 0
        days_remove = 30
        fire_only_once = yes

        remove_trigger = {
            NOT = { SOV = { has_war_with = GER }}
        }

		targeted_modifier = {
			tag = ger
			attack_bonus_against = 0.1
		}

        modifier = {
            supply_consumption_factor = -0.3
            planning_speed = 0.5
        }

        ai_will_do = {
			factor = 150
		}

		complete_effect = {
        }
	}
	SOV_bagration_1 = {

		icon = generic_operation

		allowed = {
			tag = SOV
		}

        available = {
			OR = {
				controls_state = 217
				controls_state = 219
				controls_state = 195
			}
        }

        visible = {
        	is_ai = yes
            SOV = { has_war_with = GER }
            original_tag = SOV
            date > 1943.12.1
        }

        cost = 0
        days_remove = 270
        fire_only_once = yes

        remove_trigger = {
            NOT = { SOV = { has_war_with = GER }}
        }

		targeted_modifier = {
			tag = ger
			attack_bonus_against = 0.05
		}

        modifier = {
            supply_consumption_factor = -0.1
			#army_morale_factor = 0.25
            planning_speed = 0.5
        }

        ai_will_do = {
			factor = 150
		}

		complete_effect = {
			set_country_flag = {
				flag = bagration_1_active
				days = 270
				value = 1
			}
        }
	}

	SOV_bagration_2 = {

		icon = generic_operation

		allowed = {
			tag = SOV
		}

        available = {
			OR = {
				controls_state = 217
				controls_state = 219
				controls_state = 195
			}
			NOT = { has_country_flag = bagration_1_active }
        }

        visible = {
        	is_ai = yes
            SOV = { has_war_with = GER }
            original_tag = SOV
            date > 1944.8.1
        }

        cost = 0
        days_remove = 90
        fire_only_once = yes

        remove_trigger = {
            NOT = { SOV = { has_war_with = GER }}
        }

		targeted_modifier = {
			tag = ger
			attack_bonus_against = 0.05
		}

        modifier = {
            supply_consumption_factor = -0.1
			#army_morale_factor = 0.25
            planning_speed = 0.5
        }

        ai_will_do = {
			factor = 150
		}

		complete_effect = {
        }

	}

	SOV_puppet_ROM = {

		icon = category_generic_communism
		allowed = {
			tag = SOV
		}
		available = {
			has_completed_focus = SOV_european_buffer_zone
			NOT = { country_exists = ROM }
			has_government = communism
			controls_state = 79
			controls_state = 46
			controls_state = 77
			controls_state = 76
			controls_state = 84
			controls_state = 81
			controls_state = 82
			controls_state = 83
		}

		cost = 0
		ai_will_do = {
			factor = 50
		}

		visible = {
			has_completed_focus = SOV_european_buffer_zone
			NOT = { country_exists = ROM }
			has_government = communism
		}

		complete_effect = {
			ROM = {
				transfer_state = 79
				transfer_state = 46
				transfer_state = 77
				transfer_state = 76
				transfer_state = 84
				transfer_state = 81
				transfer_state = 82
				transfer_state = 83
				SOV = {
					puppet = ROM
					set_autonomy = { target = ROM autonomy_state = autonomy_puppet }
				}
			}
		}
	}

	SOV_puppet_HUN = {
		allowed = {
			tag = SOV
		}
		icon = category_generic_communism

		available = {
			has_completed_focus = SOV_european_buffer_zone
			NOT = { country_exists = HUN }
			has_government = communism
			controls_state = 155
			controls_state = 154
			controls_state = 43
			controls_state = 644
		}

		cost = 0
		ai_will_do = {
			factor = 50
		}

		visible = {
			has_completed_focus = SOV_european_buffer_zone
			NOT = { country_exists = HUN }
			has_government = communism
		}

		complete_effect = {
			HUN = {
				transfer_state = 155
				transfer_state = 154
				transfer_state = 43
				transfer_state = 644
				SOV = {
					puppet = HUN
					set_autonomy = { target = HUN autonomy_state = autonomy_puppet }
				}
			}
		}
	}

	SOV_puppet_YUG = {

		icon = category_generic_communism
		allowed = {
			tag = SOV
		}
		available = {
			has_completed_focus = SOV_european_buffer_zone
			NOT = { country_exists = YUG }
			has_government = communism
			controls_state = 102
			controls_state = 103
			controls_state = 908
			controls_state = 104
			controls_state = 105
			controls_state = 106
			controls_state = 107
			controls_state = 907
			controls_state = 108
			controls_state = 109
		}

		cost = 0
		ai_will_do = {
			factor = 50
		}

		visible = {
			has_completed_focus = SOV_european_buffer_zone
			NOT = { country_exists = YUG }
			has_government = communism
		}

		complete_effect = {
			YUG = {
				transfer_state = 102
				transfer_state = 103
				transfer_state = 908
				transfer_state = 104
				transfer_state = 105
				transfer_state = 106
				transfer_state = 107
				transfer_state = 907
				transfer_state = 108
				transfer_state = 109
				SOV = {
					puppet = YUG
					set_autonomy = { target = YUG autonomy_state = autonomy_puppet }
				}
			}
		}
	}

	SOV_puppet_CZE = {

		icon = category_generic_communism
		allowed = {
			tag = SOV
		}
		available = {
			has_completed_focus = SOV_european_buffer_zone
			NOT = { country_exists = CZE }
			has_government = communism
			controls_state = 70
			controls_state = 71
			controls_state = 72
			controls_state = 73
			controls_state = 74
			controls_state = 75
			controls_state = 69
			controls_state = 880
			controls_state = 881
			controls_state = 9
		}

		cost = 0
		ai_will_do = {
			factor = 50
		}

		visible = {
			has_completed_focus = SOV_european_buffer_zone
			NOT = { country_exists = CZE }
			has_government = communism
		}

		complete_effect = {
			CZE = {
				transfer_state = 70
				transfer_state = 71
				transfer_state = 72
				transfer_state = 73
				transfer_state = 74
				transfer_state = 75
				transfer_state = 69
				transfer_state = 880
				transfer_state = 881
				transfer_state = 9
				SOV = {
					puppet = CZE
					set_autonomy = { target = CZE autonomy_state = autonomy_puppet }
				}
			}
		}
	}

	SOV_puppet_BUL = {

		icon = category_generic_communism
		allowed = {
			tag = SOV
		}
		available = {
			has_completed_focus = SOV_european_buffer_zone
			NOT = { country_exists = BUL }
			has_government = communism
			controls_state = 211
			controls_state = 212
			controls_state = 875
			controls_state = 905
			controls_state = 48
		}

		cost = 0
		ai_will_do = {
			factor = 50
		}

		visible = {
			has_completed_focus = SOV_european_buffer_zone
			NOT = { country_exists = BUL }
			has_government = communism
		}

		complete_effect = {
			BUL = {
				transfer_state = 211
				transfer_state = 212
				transfer_state = 875
				transfer_state = 905
				transfer_state = 48
				SOV = {
					puppet = BUL
					set_autonomy = { target = BUL autonomy_state = autonomy_puppet }
				}
			}
		}
	}

	SOV_seize_manchuria = {

		icon = generic_operation

		allowed = {
			original_tag = SOV
		}

		available = {
			MAN = { is_subject = no }
			NOT = {
				has_war_with = MAN
			}
		}

		cost = 25
		fire_only_once = yes
		visible = {
			has_completed_focus = SOV_prepare_a_war_with_japan
			MAN = { exists = yes }
		}

		complete_effect = {
			create_wargoal = {
				target = MAN
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				MAN = {
					is_ai = no
				}
				factor = 0 #we're mean but not that mean
			}
			modifier = {
				threat < 0.25
				factor = 0
			}
		}
	}
}

SOV_military_reform = {
	SOV_army_reform = {

		icon = generic_prepare_civil_war
		allowed = {
			tag = SOV
		}
		available = {
			if = {
				limit = {
					NOT = { has_country_flag = SOV_army_reform_1 }
				}
				if = {
					limit = { is_ai = yes }
					date > 1940.1.1
				}
				else = {
					has_army_experience > 199
				}
				OR = {
					has_completed_focus = SOV_lessons_of_war
					AND = {
						custom_trigger_tooltip = {
							tooltip = SOV_has_not_officers_purged_tt
							NOT = { has_idea = officers_purged }
							NOT = { has_idea = officers_purged_2 }
							NOT = { has_idea = officers_purged_3 }
							NOT = { has_idea = officers_purged_4 }
							NOT = { has_idea = officers_purged_5 }
							NOT = { has_idea = officers_purged_6 }
							NOT = { has_idea = officers_purged_7 }
							NOT = { has_idea = officers_purged_8 }
							NOT = { has_idea = officers_purged_9 }
							NOT = { has_idea = officers_purged_10 }
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_country_flag = SOV_army_reform_2 }
				}
				if = {
					limit = { is_ai = yes }
					OR = {
						casualties_k > 5000
						date > 1942.4.1
					}
				}
				else = {
					has_army_experience > 149
				}
				OR = {
					has_completed_focus = SOV_rebuild_the_army
					AND = {
						custom_trigger_tooltip = {
							tooltip = SOV_has_not_officers_purged_tt
							NOT = { has_idea = officers_purged }
							NOT = { has_idea = officers_purged_2 }
							NOT = { has_idea = officers_purged_3 }
							NOT = { has_idea = officers_purged_4 }
							NOT = { has_idea = officers_purged_5 }
							NOT = { has_idea = officers_purged_6 }
							NOT = { has_idea = officers_purged_7 }
							NOT = { has_idea = officers_purged_8 }
							NOT = { has_idea = officers_purged_9 }
							NOT = { has_idea = officers_purged_10 }
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_country_flag = SOV_army_reform_3 }
				}
				if = {
					limit = { is_ai = no }
					has_army_experience > 149
				}
				else = {
					if = {
						limit = {
							is_ai = no
						}
						casualties_k > 6000
					}
					if = {
						limit = {
							is_ai = yes
						}
						OR = {
							casualties_k > 6000
							date > 1943.4.1
						}
					}
				}
			}
		}

		visible = {
			NOT = { has_country_flag = SOV_army_reform_3 }
		}

		cost = 0
		ai_will_do = {
			factor = 5000
		}
		days_remove = 30

		remove_effect = {
			if = {
				limit = {
					NOT = { has_country_flag = SOV_army_reform_1 }
				}
				hidden_effect = {
					set_country_flag = SOV_army_reform_1
				}
				add_to_variable = { SOV_the_red_army_army_infantry_attack_factor = 0.15 }
				add_to_variable = { SOV_the_red_army_army_org_factor = 0.25 }
				add_to_variable = { SOV_the_red_army_army_speed_factor = 0.2 }
				add_to_variable = { SOV_the_red_army_army_attack_factor = 0.1 }
				add_to_variable = { SOV_the_red_army_experience_loss_factor = -0.25 }
				add_to_variable = { SOV_the_red_army_land_doctrine_cost_factor = -0.3 }
				custom_effect_tooltip = SOV_army_reform_1_tt
			}
			else_if = {
				limit = {
					NOT = { has_country_flag = SOV_army_reform_2 }
				}
				hidden_effect = {
					set_country_flag = SOV_army_reform_2
				}
				add_to_variable = { SOV_the_red_army_army_artillery_defence_factor = 0.10 }
				add_to_variable = { SOV_the_red_army_army_speed_factor = 0.05 }
				add_to_variable = { SOV_the_red_army_land_reinforce_rate = 0.05 }
				add_to_variable = { SOV_the_red_army_land_doctrine_cost_factor = -0.3 }
				custom_effect_tooltip = SOV_army_reform_2_tt
				every_unit_leader = {
					limit = {
						OR = {
							has_trait = trait_SOV_cowed_by_stalin_army
							has_trait = trait_SOV_cowed_by_stalin_navy
						}
					}
					remove_trait = {
						trait = trait_SOV_cowed_by_stalin_army
					}
					remove_trait = {
						trait = trait_SOV_cowed_by_stalin_navy
					}
				}
			}
			else = {
				hidden_effect = {
					set_country_flag = SOV_army_reform_3
				}
				add_to_variable = { SOV_the_red_army_army_attack_factor = 0.05 }
				add_to_variable = { SOV_the_red_army_breakthrough_factor = 0.1 }
				add_to_variable = { SOV_the_red_army_land_doctrine_cost_factor = -0.4 }
				custom_effect_tooltip = SOV_army_reform_3_tt
			}
			if = {
				limit = {
					has_idea = cavalry_army_clique
				}
				swap_ideas = {
					remove_idea = cavalry_army_clique
					add_idea = cavalry_army_clique_2
				}
			}
			else_if = {
				limit = {
					has_idea = cavalry_army_clique_2
				}
				swap_ideas = {
					remove_idea = cavalry_army_clique_2
					add_idea = cavalry_army_clique_3
				}
			}
		}
		complete_effect = {
			if = {
				limit = {
					is_ai = no
					NOT = { has_country_flag = SOV_army_reform_1 }
				}
				army_experience = -200
			}
			else_if = {
				limit = {
					is_ai = no
					NOT = { has_country_flag = SOV_army_reform_2 }
				}
				army_experience = -150
			}
			else_if = {
				limit = {
					is_ai = no
					NOT = { has_country_flag = SOV_army_reform_3 }
				}
				army_experience = -100
			}
		}
	}

	SOV_air_reform = {

		icon = generic_prepare_civil_war
		allowed = {
			tag = SOV
		}
		available = {
			if = {
				limit = { is_ai = no }
				has_air_experience > 149
			}
			has_completed_focus = SOV_reform_the_airforce
			OR = {
				NOT = { has_country_flag = SOV_air_reform_1 }
				AND = {
					has_country_flag = SOV_air_reform_1
					custom_trigger_tooltip = {
						tooltip = SOV_has_not_officers_purged_tt
						NOT = { has_idea = officers_purged }
						NOT = { has_idea = officers_purged_2 }
						NOT = { has_idea = officers_purged_3 }
						NOT = { has_idea = officers_purged_4 }
						NOT = { has_idea = officers_purged_5 }
						NOT = { has_idea = officers_purged_6 }
						NOT = { has_idea = officers_purged_7 }
						NOT = { has_idea = officers_purged_8 }
						NOT = { has_idea = officers_purged_9 }
						NOT = { has_idea = officers_purged_10 }
					}
				}
			}
		}

		visible = {
			NOT = { has_country_flag = SOV_air_reform_3 }
		}

		ai_will_do = {
			factor = 5000
		}
		days_remove = 30

		remove_effect = {
			if = {
				limit = {
					NOT = { has_country_flag = SOV_air_reform_1 }
				}
				set_country_flag = SOV_air_reform_1
				add_to_variable = { SOV_soviet_airforce_air_mission_xp_gain_factor = 0.3 }
				add_to_variable = { SOV_soviet_airforce_air_doctrine_cost_factor = -0.5 }
				add_to_variable = { SOV_soviet_airforce_air_agility_factor = 0.1 }
				add_to_variable = { SOV_soviet_airforce_air_attack_factor = 0.1 }
				add_to_variable = { SOV_soviet_airforce_air_cas_present_factor = 0.1 }
				add_to_variable = { SOV_soviet_airforce_air_accidents_factor = -0.15 }
				add_to_variable = { SOV_soviet_airforce_air_ace_generation_chance_factor = 0.1 }
				add_to_variable = { SOV_soviet_airforce_air_night_penalty = -0.2 }
				add_to_variable = { SOV_soviet_airforce_air_weather_penalty = -0.05 }
				add_to_variable = { SOV_soviet_airforce_air_wing_xp_loss_when_killed_factor = -0.1 }
				add_to_variable = { SOV_soviet_airforce_air_training_xp_gain_factor = 0.3 }
				custom_effect_tooltip = SOV_air_reform_1_tt
			}
			else_if = {
				limit = {
					NOT = { has_country_flag = SOV_air_reform_2 }
				}
				set_country_flag = SOV_air_reform_2
				add_to_variable = { SOV_soviet_airforce_air_mission_xp_gain_factor = 0.4 }
				add_to_variable = { SOV_soviet_airforce_air_doctrine_cost_factor = -0.25 }
				add_to_variable = { SOV_soviet_airforce_air_defence_factor = 0.2 }
				add_to_variable = { SOV_soviet_airforce_air_accidents_factor = -0.1 }
				add_to_variable = { SOV_soviet_airforce_air_ace_generation_chance_factor = 0.15 }
				add_to_variable = { SOV_soviet_airforce_air_night_penalty = -0.1 }
				add_to_variable = { SOV_soviet_airforce_air_weather_penalty = -0.15 }
				add_to_variable = { SOV_soviet_airforce_air_wing_xp_loss_when_killed_factor = -0.1 }
				add_to_variable = { SOV_soviet_airforce_air_training_xp_gain_factor = 0.35 }
				add_to_variable = { SOV_soviet_airforce_air_cas_efficiency = 0.1 }
				custom_effect_tooltip = SOV_air_reform_2_tt
			}
			else = {
				set_country_flag = SOV_air_reform_3
				add_to_variable = { SOV_soviet_airforce_air_doctrine_cost_factor = -0.25 }
				add_to_variable = { SOV_soviet_airforce_air_agility_factor = 0.1 }
				add_to_variable = { SOV_soviet_airforce_air_attack_factor = 0.2 }
				add_to_variable = { SOV_soviet_airforce_air_cas_present_factor = 0.2 }
				add_to_variable = { SOV_soviet_airforce_air_night_penalty = -0.2 }
				add_to_variable = { SOV_soviet_airforce_air_cas_efficiency = 0.2 }
				add_to_variable = { SOV_soviet_airforce_air_bombing_targetting = 0.2 }
				add_to_variable = { SOV_soviet_airforce_air_mission_efficiency = 0.1 }
				custom_effect_tooltip = SOV_air_reform_3_tt
			}
		}
		complete_effect = {
			if = {
				limit = {
					is_ai = no
				}
				air_experience = -150
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = { SOV_soviet_airforce_air_doctrine_cost_factor = 0 }
						check_variable = { SOV_soviet_airforce_air_mission_efficiency = 0 }
						check_variable = { SOV_soviet_airforce_air_agility_factor = 0 }
						check_variable = { SOV_soviet_airforce_air_attack_factor = 0 }
						check_variable = { SOV_soviet_airforce_air_cas_present_factor = 0 }
					}
					remove_dynamic_modifier = { modifier = SOV_soviet_airforce_dynamic_modifier }
					remove_dynamic_modifier = { modifier = SOV_soviet_airforce_dynamic_modifier_alt }
				}
			}
		}
	}

	SOV_naval_reform = {

		icon = generic_prepare_civil_war
		allowed = {
			tag = SOV
		}
		available = {
			if = {
				limit = { is_ai = no }
				has_navy_experience > 99
			}
			has_completed_focus = SOV_big_fleet_program
			OR = {
				NOT = { has_country_flag = SOV_navy_reform_1 }
				AND = {
					has_country_flag = SOV_navy_reform_1
					custom_trigger_tooltip = {
						tooltip = SOV_has_not_officers_purged_tt
						NOT = { has_idea = officers_purged }
						NOT = { has_idea = officers_purged_2 }
						NOT = { has_idea = officers_purged_3 }
						NOT = { has_idea = officers_purged_4 }
						NOT = { has_idea = officers_purged_5 }
						NOT = { has_idea = officers_purged_6 }
						NOT = { has_idea = officers_purged_7 }
						NOT = { has_idea = officers_purged_8 }
						NOT = { has_idea = officers_purged_9 }
						NOT = { has_idea = officers_purged_10 }
					}
				}
			}
		}

		visible = {
			NOT = { has_country_flag = SOV_navy_reform_2 }
		}

		cost = 0
		ai_will_do = {
			factor = 500
		}
		days_remove = 30

		remove_effect = {
			if = {
				limit = {
					NOT = { has_country_flag = SOV_navy_reform_1 }
				}
				set_country_flag = SOV_navy_reform_1
				add_to_variable = { SOV_red_fleet_navy_carrier_air_attack_factor = 0.2 }
				add_to_variable = { SOV_red_fleet_navy_capital_ship_attack_factor = 0.1 }
				add_to_variable = { SOV_red_fleet_navy_capital_ship_defence_factor = 0.05 }
				add_to_variable = { SOV_red_fleet_navy_submarine_attack_factor = 0.1 }
				add_to_variable = { SOV_red_fleet_navy_submarine_defence_factor = 0.05 }
				add_to_variable = { SOV_red_fleet_navy_screen_attack_factor = 0.1 }
				add_to_variable = { SOV_red_fleet_navy_screen_defence_factor = 0.05 }
				add_to_variable = { SOV_red_fleet_naval_doctrine_cost_factor = -0.5 }
				custom_effect_tooltip = SOV_navy_reform_1_tt
			}
			else = {
				set_country_flag = SOV_navy_reform_2
				add_to_variable = { SOV_red_fleet_navy_carrier_air_attack_factor = 0.2 }
				add_to_variable = { SOV_red_fleet_navy_capital_ship_attack_factor = 0.1 }
				add_to_variable = { SOV_red_fleet_navy_capital_ship_defence_factor = 0.05 }
				add_to_variable = { SOV_red_fleet_navy_submarine_attack_factor = 0.1 }
				add_to_variable = { SOV_red_fleet_navy_submarine_defence_factor = 0.05 }
				add_to_variable = { SOV_red_fleet_navy_screen_attack_factor = 0.1 }
				add_to_variable = { SOV_red_fleet_navy_screen_defence_factor = 0.05 }
				add_to_variable = { SOV_red_fleet_naval_doctrine_cost_factor = -0.5 }
				custom_effect_tooltip = SOV_navy_reform_2_tt
			}
		}
		complete_effect = {
			if = {
				limit = {
					is_ai = no
				}
				navy_experience = -100
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = { SOV_red_fleet_navy_capital_ship_attack_factor = 0 }
						check_variable = { SOV_red_fleet_navy_submarine_attack_factor = 0 }
						check_variable = { SOV_red_fleet_navy_screen_attack_factor = 0 }
						check_variable = { SOV_red_fleet_naval_doctrine_cost_factor = 0 }
						check_variable = { SOV_red_fleet_naval_coordination = 0 }
					}
					remove_dynamic_modifier = { modifier = SOV_the_red_fleet_dynamic_modifier }
					remove_dynamic_modifier = { modifier = SOV_the_red_fleet_dynamic_modifier_alt }
				}
			}
		}
	}
}

political_actions = {

	SOV_land_confrontation = {

		allowed = {
			original_tag = SOV
		}

		available = {
			is_subject = no
			OR = {
				GER = { exists = yes }
				FRA = { exists = yes }
			}
			has_completed_focus = SOV_claims_on_poland
			OR = {
				country_exists = EST
				country_exists = LAT
				country_exists = LIT
			}
			OR = {
				AND = {
					78 = { is_controlled_by = ROM }
					766 = { is_controlled_by = ROM }
					NOT = { has_war_With = ROM }
				}
				AND = {
					189 = { is_controlled_by = LIT }
					11 = { is_controlled_by = LIT }
					NOT = { has_war_With = LIT }
				}
				AND = {
					189 = { is_controlled_by = LAT }
					11 = { is_controlled_by = LAT }
					NOT = { has_war_With = LAT }
				}
				AND = {
					190 = { is_controlled_by = EST }
					12 = { is_controlled_by = EST }
					NOT = { has_war_With = EST }
				}
			}
		}

		visible = {
			is_ai = no
			OR = {
				NOT = {
					has_country_flag = FRA_eastern_withdrawl
					FRA = { has_capitulated = yes }
					is_in_faction_with = FRA
					has_war_with = FRA
				}
				NOT = {
					has_country_flag = GER_eastern_withdrawl
					GER = { has_capitulated = yes }
					is_in_faction_with = GER
					has_war_with = GER
					has_idea = SOV_molotov_ribbentrop_pact

				}
			}
			OR = {
				country_exists = EST
				country_exists = LAT
				country_exists = LIT
			}
			OR = {
				AND = {
					78 = { is_controlled_by = ROM }
					766 = { is_controlled_by = ROM }
					NOT = { has_war_With = ROM }
				}
				AND = {
					189 = { is_controlled_by = LIT }
					11 = { is_controlled_by = LIT }
					NOT = { has_war_With = LIT }
				}
				AND = {
					189 = { is_controlled_by = LAT }
					11 = { is_controlled_by = LAT }
					NOT = { has_war_With = LAT }
				}
				AND = {
					190 = { is_controlled_by = EST }
					12 = { is_controlled_by = EST }
					NOT = { has_war_With = EST }
				}
				AND = {
					146 = { is_controlled_by = FIN }
					NOT = { has_war_With = FIN }
				}
			}
		}

		cost = 150
		fire_only_once = yes

		ai_will_do = {
			factor = 500

			modifier = {
				factor = 0
				date < "1941.1.1"
			}
		}

		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = FRA_eastern_withdrawl
						FRA = { has_capitulated = yes }
						is_in_faction_with = FRA
						has_war_with = FRA
					}
				}
				custom_effect_tooltip = FRA_high_risk
				FRA = { country_event = { id = sov_armor.810 } }
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = GER_eastern_withdrawl
						GER = { has_capitulated = yes }
						is_in_faction_with = GER
						has_war_with = GER
						has_idea = SOV_molotov_ribbentrop_pact
					}
				}
				custom_effect_tooltip = GER_high_risk
				GER = { country_event = { id = sov_armor.813 } }
			}
		}

		ai_will_do = {
			factor = 400
		}
	}

	SOV_land_confrontation_ai = {

		allowed = {
			original_tag = SOV
		}

		available = {
			is_subject = no
			OR = {
				GER = { exists = yes }
				FRA = { exists = yes }
			}
			has_completed_focus = SOV_claims_on_poland
			OR = {
				country_exists = EST
				country_exists = LAT
				country_exists = LIT
			}
			OR = {
				AND = {
					78 = { is_controlled_by = ROM }
					766 = { is_controlled_by = ROM }
					NOT = { has_war_With = ROM }
				}
				AND = {
					189 = { is_controlled_by = LIT }
					11 = { is_controlled_by = LIT }
					NOT = { has_war_With = LIT }
				}
				AND = {
					189 = { is_controlled_by = LAT }
					11 = { is_controlled_by = LAT }
					NOT = { has_war_With = LAT }
				}
				AND = {
					190 = { is_controlled_by = EST }
					12 = { is_controlled_by = EST }
					NOT = { has_war_With = EST }
				}
			}
		}

		visible = {
			is_ai = yes
			OR = {
				NOT = {
					has_country_flag = FRA_eastern_withdrawl
					FRA = { has_capitulated = yes }
					is_in_faction_with = FRA
					has_war_with = FRA
				}
				NOT = {
					has_country_flag = GER_eastern_withdrawl
					GER = { has_capitulated = yes }
					is_in_faction_with = GER
					has_war_with = GER
					has_idea = SOV_molotov_ribbentrop_pact
				}
			}
			OR = {
				country_exists = EST
				country_exists = LAT
				country_exists = LIT
			}
			OR = {
				AND = {
					78 = { is_controlled_by = ROM }
					766 = { is_controlled_by = ROM }
					NOT = { has_war_With = ROM }
				}
				AND = {
					189 = { is_controlled_by = LIT }
					11 = { is_controlled_by = LIT }
					NOT = { has_war_With = LIT }
				}
				AND = {
					189 = { is_controlled_by = LAT }
					11 = { is_controlled_by = LAT }
					NOT = { has_war_With = LAT }
				}
				AND = {
					190 = { is_controlled_by = EST }
					12 = { is_controlled_by = EST }
					NOT = { has_war_With = EST }
				}
				AND = {
					146 = { is_controlled_by = FIN }
					NOT = { has_war_With = FIN }
				}
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 500

			modifier = {
				factor = 0
				date < "1941.1.1"
			}
		}

		complete_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = FRA_eastern_withdrawl
						FRA = { has_capitulated = yes }
						is_in_faction_with = FRA
						has_war_with = FRA
					}
				}
				custom_effect_tooltip = FRA_high_risk
				FRA = { country_event = { id = sov_armor.810 } }
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = GER_eastern_withdrawl
						GER = { has_capitulated = yes }
						is_in_faction_with = GER
						has_war_with = GER
						has_idea = SOV_molotov_ribbentrop_pact
					}
				}
				custom_effect_tooltip = GER_high_risk
				GER = { country_event = { id = sov_armor.813 } }
			}
		}

		ai_will_do = {
			factor = 400
		}
	}

	SOV_demand_bessarabia = {

		allowed = {
			original_tag = SOV
		}

		available = {
			ROM = { exists = yes }
			NOT = { has_war_with = ROM }
			is_neighbor_of	= ROM
			NOT = { has_country_flag = bessarabia_demand }
			78 = {
				is_claimed_by = SOV
				is_owned_by = ROM
			}
			OR = {
				has_country_flag = FRA_eastern_withdrawl
				has_completed_focus = SOV_begin_the_revolution
				FRA = { has_capitulated = yes }
				is_in_faction_with = FRA
				has_war_with = FRA
			}
			OR = {
				has_country_flag = GER_eastern_withdrawl
				has_completed_focus = SOV_begin_the_revolution
				GER = { has_capitulated = yes }
				is_in_faction_with = GER
				has_war_with = GER
				has_idea = SOV_molotov_ribbentrop_pact
			}
		}

		visible = {
			ROM = { exists = yes }
			NOT = { has_war_with = ROM }
			NOT = { has_country_flag = bessarabia_demand }
			has_completed_focus = SOV_claim_on_bessarabia
			78 = {
				is_claimed_by = SOV
				is_owned_by = ROM
			}
		}

		cost = 0
		fire_only_once = yes

		days_remove = 7
		complete_effect = {
			add_state_claim = 78
			add_state_claim = 766
			add_state_claim = 80
		}
		remove_effect = {
			SOV = { country_event = { id = soviet.30 } }
		}

		ai_will_do = {
			factor = 400
		}
	}

	SOV_demand_karjala = {

		allowed = {
			original_tag = SOV
		}

		available = {
			is_neighbor_of	= FIN
		}

		visible = {
			FIN = { exists = yes }
			NOT = { has_war_with = FIN }
			NOT = { FIN = { is_subject_of = SOV } }
			NOT = { has_country_flag = karjala_demand }
			has_completed_focus = SOV_secure_leningrad
			NOT = {
				SOV = {
					controls_state = 146
				}
			}
		}

		cost = 0
		fire_only_once = yes

		complete_effect = {
			SOV = { country_event = { id = soviet.31 } }
		}

		ai_will_do = {
			factor = 1000

			modifier = {
				factor = 0
				threat > 0.78
			}

			modifier = {
				factor = 0
				date < "1939.10.20"
				is_historical_focus_on = yes
			}
		}
	}

	SOV_win_the_winter_war = {
		icon = eng_trade_unions_support

		allowed = {
			tag = SOV
		}
		available = {
			controls_state = 213
			controls_state = 215
			controls_state = 216
			controls_state = 195
			OR = {
				controls_state = 111
				controls_state = 146
			}
			FIN = { surrender_progress > 0.14 }
		}

		days_mission_timeout = 240
		is_good = no

		activation = {
			has_war_with = FIN
			OR = {
				FIN = { is_in_faction = no }
				FIN = { is_faction_leader = yes }
			}
			146 = { is_owned_by = FIN }
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		visible = {
			original_tag = SOV
			has_war_with = FIN
			OR = {
				FIN = { is_in_faction = no }
				FIN = { is_faction_leader = yes }
			}
			146 = { is_owned_by = FIN }
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
		}

		complete_effect = {
			FIN = { country_event = { id = finland.7 } }
		}

		timeout_effect = {
			hidden_effect = {
				if = {
					limit = {
						SOV = { has_full_control_of_state = 146 }
					}
					FIN = { set_country_flag = SOV_karjala_is_ours }
				}
			}
			FIN = { country_event = { id = sov_armor.851 days = 1 } }
		}
	}

	SOV_estonian_ultimatum = {

		allowed = {
			original_tag = SOV
		}

		available = {
			EST = { exists = yes }
			NOT = { has_war_with = EST }
			NOT = { has_country_flag = estonia_demand }
			OR = {
				has_country_flag = FRA_eastern_withdrawl
				FRA = { has_capitulated = yes }
				has_completed_focus = SOV_begin_the_revolution
				is_in_faction_with = FRA
				has_war_with = FRA
			}
			OR = {
				has_country_flag = GER_eastern_withdrawl
				GER = { has_capitulated = yes }
				has_completed_focus = SOV_begin_the_revolution
				is_in_faction_with = GER
				has_war_with = GER
				has_idea = SOV_molotov_ribbentrop_pact
			}
		}

		visible = {
			EST = { exists = yes }
			NOT = { has_war_with = EST }
			NOT = { has_country_flag = estonia_demand }
			has_completed_focus = SOV_claims_in_baltic
		}

		cost = 0
		fire_only_once = yes

		days_remove = 7

		remove_effect = {
			SOV = { country_event = { id = soviet.32 } }
		}

		ai_will_do = {
			factor = 1000
		}
	}

	SOV_latvian_ultimatum = {

		allowed = {
			original_tag = SOV
		}

		available = {
			LAT = { exists = yes }
			NOT = { has_war_with = LAT }
			NOT = { has_country_flag = latvia_demand }
			OR = {
				has_country_flag = FRA_eastern_withdrawl
				FRA = { has_capitulated = yes }
				has_completed_focus = SOV_begin_the_revolution
				is_in_faction_with = FRA
				has_war_with = FRA
			}
			OR = {
				has_country_flag = GER_eastern_withdrawl
				GER = { has_capitulated = yes }
				has_completed_focus = SOV_begin_the_revolution
				is_in_faction_with = GER
				has_war_with = GER
				has_idea = SOV_molotov_ribbentrop_pact
			}
		}

		visible = {
			LAT = { exists = yes }
			NOT = { has_war_with = LAT }
			NOT = { has_country_flag = latvia_demand }
			has_completed_focus = SOV_claims_in_baltic
		}

		cost = 0
		fire_only_once = yes

		days_remove = 7

		remove_effect = {
			SOV = { country_event = { id = soviet.33 } }
		}

		ai_will_do = {
			factor = 1000
		}
	}

	SOV_lithuanian_ultimatum = {

		allowed = {
			original_tag = SOV
		}

		available = {
			LIT = { exists = yes }
			NOT = { has_war_with = LIT }
			NOT = { has_country_flag = lithuania_demand }
			OR = {
				has_country_flag = FRA_eastern_withdrawl
				FRA = { has_capitulated = yes }
				has_completed_focus = SOV_begin_the_revolution
				is_in_faction_with = FRA
				has_war_with = FRA
			}
			OR = {
				has_country_flag = GER_eastern_withdrawl
				GER = { has_capitulated = yes }
				has_completed_focus = SOV_begin_the_revolution
				is_in_faction_with = GER
				has_war_with = GER
				has_idea = SOV_molotov_ribbentrop_pact
			}
		}

		visible = {
			LIT = { exists = yes }
			NOT = { has_war_with = LIT }
			NOT = { has_country_flag = lithuania_demand }
			has_completed_focus = SOV_claims_in_baltic
		}

		cost = 0
		fire_only_once = yes

		days_remove = 7

		remove_effect = {
			SOV = { country_event = { id = soviet.34 } }
		}

		ai_will_do = {
			factor = 900
		}
	}

	SOV_return_manchuria = {

		allowed = {
			original_tag = SOV
		}

		available = {
			OR = {
				AND = {
					owns_state = 610
					owns_state = 716
					owns_state = 328
					owns_state = 715
					owns_state = 714
					owns_state = 717
				}
				AND = {
					MAN = { is_puppet_of = SOV }
					owns_state = 610
					owns_state = 716
					owns_state = 328
					owns_state = 715
					owns_state = 714
					owns_state = 717
				}
			}
		}
		cost = 0
		fire_only_once = yes
		visible = {
			OR = {
				AND = {
					owns_state = 610
					owns_state = 716
					owns_state = 328
					owns_state = 715
					owns_state = 714
					owns_state = 717
				}
				AND = {
					MAN = { is_puppet_of = SOV }
					owns_state = 610
					owns_state = 716
					owns_state = 328
					owns_state = 715
					owns_state = 714
					owns_state = 717
				}
			}
			PRC = { exists = yes }
		}

		complete_effect = {
			PRC = {
				transfer_state = 609
				transfer_state = 610
				transfer_state = 716
				transfer_state = 715
				transfer_state = 328
				transfer_state = 717
				transfer_state = 714
				country_event = { id = wtt_japan.125 }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	demand_tribute_from_new_communist_china = {

		icon = generic_civil_support

		allowed = {
			tag = SOV
		}

		available = {

		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 150
					#Has somewhat won against CHI and JAP
				count_triggers = {
					amount = 10
					595 = { is_controlled_by = FROM }
					596 = { is_controlled_by = FROM }
					597 = { is_controlled_by = FROM }
					598 = { is_controlled_by = FROM }
					600 = { is_controlled_by = FROM }
					601 = { is_controlled_by = FROM }
					602 = { is_controlled_by = FROM }
					603 = { is_controlled_by = FROM }
					605 = { is_controlled_by = FROM }
					606 = { is_controlled_by = FROM }
					607 = { is_controlled_by = FROM }
					608 = { is_controlled_by = FROM }
					613 = { is_controlled_by = FROM }
					614 = { is_controlled_by = FROM }
					620 = { is_controlled_by = FROM }
				}
			}

		}

		cost = 10

		visible = {
			has_government = communism
			FROM = {
				has_country_flag = WTT_support_from_soviet
				NOT = { has_war_with = ROOT }
				NOT = { is_subject_of = ROOT }
				NOT = { has_idea = PRC_soviet_tribute_6 }
			}
		}

		targets = { CHI PRC GXC YUN SHX XSM SIK SIC XIK GUC D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12 D13 D14 D15 }

		target_trigger = {
			FROM = {
				tag = event_target:WTT_communist_china
				has_country_flag = WTT_support_from_soviet
			}
		}

		fire_only_once = no

		days_re_enable = 180

		complete_effect = {
			FROM = {
				country_event = { id = wtt_warlord_vs_prc.21 }
				custom_effect_tooltip = if_they_accept
				effect_tooltip = {
					PRC_soviet_tribute_level_up = yes
				}
			}
		}
	}

	demand_full_integration = {

		allowed = {
			tag = SOV
		}

		icon = generic_political_actions

		available = {
			FROM = { has_soviet_tribute = yes }
		}

		cost = WTT_communist_china_integration_cost?300

		visible = {
			has_government = communism
			FROM = { has_country_flag = WTT_support_from_soviet }
		}

		targets = { CHI PRC GXC YUN SHX XSM SIK SIC XIK GUC D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12 D13 D14 D15 }

		target_trigger = {
			FROM = { has_country_flag = WTT_support_from_soviet }
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				#Has won against CHI and JAP
				595 = { is_controlled_by = FROM }
				596 = { is_controlled_by = FROM }
				597 = { is_controlled_by = FROM }
				598 = { is_controlled_by = FROM }
				600 = { is_controlled_by = FROM }
				601 = { is_controlled_by = FROM }
				602 = { is_controlled_by = FROM }
				603 = { is_controlled_by = FROM }
				605 = { is_controlled_by = FROM }
				606 = { is_controlled_by = FROM }
				607 = { is_controlled_by = FROM }
				608 = { is_controlled_by = FROM }
				613 = { is_controlled_by = FROM }
				614 = { is_controlled_by = FROM }
				620 = { is_controlled_by = FROM }
			}
			modifier = {
				add = 50
				FROM = {
					check_variable = { WTT_communist_china_integration_cost < 200 }
				}
			}
			modifier = {
				add = 50
				FROM = {
					check_variable = { WTT_communist_china_integration_cost < 150 }
				}
			}
			modifier = {
				add = 50
				FROM = {
					check_variable = { WTT_communist_china_integration_cost < 100 }
				}
			}
		}

		fire_only_once = yes

		complete_effect = {
			FROM = { country_event = { id = wtt_warlord_vs_prc.31 } }
		}
	}

	#SOVIET MISSION TO OCCUPY TURKEY
	SOV_set_up_puppet_state_in_turkey = {

		icon = generic_civil_support

		allowed = {
			has_dlc = "Battle for the Bosporus"
			tag = SOV
		}

		available = {
			NOT = { army_manpower_in_state = { state = 354 amount < 9600 } }
			NOT = { army_manpower_in_state = { state = 353 amount < 9600 } }
			NOT = { army_manpower_in_state = { state = 352 amount < 9600 } }
			NOT = { army_manpower_in_state = { state = 349 amount < 9600 } }
			NOT = { army_manpower_in_state = { state = 350 amount < 9600 } }
			NOT = { army_manpower_in_state = { state = 355 amount < 9600 } }
			NOT = { army_manpower_in_state = { state = 800 amount < 9600 } }
			NOT = { army_manpower_in_state = { state = 344 amount < 28800 } }
			NOT = { army_manpower_in_state = { state = 348 amount < 48000 } }
			NOT = { army_manpower_in_state = { state = 356 amount < 9600 } }
			NOT = { army_manpower_in_state = { state = 346 amount < 9600 } }
			NOT = { army_manpower_in_state = { state = 345 amount < 28800 } }
			NOT = { army_manpower_in_state = { state = 343 amount < 48000 } }
			NOT = { army_manpower_in_state = { state = 347 amount < 48000 } }
			NOT = { army_manpower_in_state = { state = 339 amount < 48000 } }
			NOT = { army_manpower_in_state = { state = 342 amount < 48000 } }
			NOT = { army_manpower_in_state = { state = 343 amount < 48000 } }
			NOT = { army_manpower_in_state = { state = 49 amount < 124000 } }
		}

		target_trigger = {
			FROM = {
				original_tag = TUR
			}
		}

		cost = 50

		fire_only_once = yes

		days_remove = 90

		visible = {
			has_government = communism
			has_global_flag = GRE_turkey_surrenders
			FROM = {
				NOT = {
					is_subject_of = SOV
					is_subject_of = GRE
				}
			}
		}

		cancel_if_not_visible = yes

		remove_effect = {
		}

		complete_effect = {
			TUR = {
				country_event = { id = bftb_greece.34 }
			}
			hidden_effect = {
				clr_global_flag = GRE_turkey_surrenders
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
}

################################################################################

	 ##  ##  #   # ### ### ###      ##  ### #   # ### #       #   #  ##  ###
	#   #  # #   #  #  #    #      #  #  #  #   #  #  #       #   # #  # #  #
	 #  #  #  # #   #  ##   #      #     #   # #   #  #       # # # #### ###
	  # #  #  # #   #  #    #      #  #  #   # #   #  #       # # # #  # #  #
	##   ##    #   ### ###  #       ##  ###   #   ### ###      # #  #  # #  #


################################################################################

SOV_soviet_civil_war_dec_cat = {

	SOV_the_head_of_the_nkvd_yezhov = {

		icon = GFX_decision_generic_political_discourse # TODO set right image

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}
		ai_will_do = {
			base = 500 # Always do if you can!
		}
		cost = 50

		days_remove = 90
		fire_only_once = yes

		visible = {
			has_completed_focus = SOV_the_plan_for_the_coup
			SOV_soviet_civil_war_not_started = yes
			has_idea = SOV_nikolay_yezhov
			SOV_nikolay_yezhov = {
				NOT = { has_character_flag = SOV_aligned_right_opposition_flag }
			}
		}
		cancel_if_not_visible = yes

		complete_effect = {
			random_list = {
				30 = { SOV_paranoia_very_low_increase_effect = yes }
				50 = { SOV_paranoia_low_increase_effect = yes }
				20 = { SOV_paranoia_medium_increase_effect = yes }
			}
		}
		remove_effect = {
			SOV_nikolay_yezhov = {
				set_character_flag = SOV_aligned_right_opposition_flag
			}
			custom_effect_tooltip = SOV_the_head_of_the_nkvd_yezhov_tt

		}
	}

	SOV_the_head_of_the_nkvd_yagoda = {

		icon = GFX_decision_generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}
		ai_will_do = {
			base = 500 # Always do if you can!
		}
		cost = 50
		fire_only_once = yes

		days_remove = 60

		visible = {
			has_completed_focus = SOV_the_plan_for_the_coup
			SOV_soviet_civil_war_not_started = yes
			has_idea = SOV_genrikh_yagoda
			SOV_genrikh_yagoda = {
				NOT = { has_character_flag = SOV_aligned_right_opposition_flag }
			}
		}
		cancel_if_not_visible = yes

		complete_effect = {
			random_list = {
				50 = { SOV_paranoia_very_low_increase_effect = yes }
				30 = { SOV_paranoia_low_increase_effect = yes }
				20 = { SOV_paranoia_medium_increase_effect = yes }
			}
		}
		remove_effect = {
			SOV_genrikh_yagoda = {
				set_character_flag = SOV_aligned_right_opposition_flag
			}
			custom_effect_tooltip = SOV_the_head_of_the_nkvd_yagoda_tt
		}
	}

	SOV_assassinate_stalin = {

		icon = GFX_decision_generic_political_discourse # TODO set right image

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}
		ai_will_do = {
			base = 200
			modifier = {
				factor = 0.01
				check_variable = { ROOT.SOV_paranoia > 69 } # Very careful
			}
			modifier = {
				factor = 0.75
				check_variable = { ROOT.SOV_paranoia > 49 } # Slightly careful
			}
			modifier = {
				factor = 2.5
				check_variable = { ROOT.SOV_paranoia < 20 } # totally safe!
			}
		}
		cost = 50

		days_remove = 14
		# fire_only_once = yes
		days_re_enable = 30

		visible = {
			OR = {
				AND = {
					has_idea = SOV_genrikh_yagoda
					SOV_genrikh_yagoda = { has_character_flag = SOV_aligned_right_opposition_flag }
				}
				AND = {
					has_idea = SOV_nikolay_yezhov
					SOV_nikolay_yezhov = { has_character_flag = SOV_aligned_right_opposition_flag }
				}
			}
			has_character = SOV_iosif_stalin
			SOV_soviet_civil_war_not_started = yes

		}
		cancel_if_not_visible = yes

		complete_effect = {
			#random_list = {
			#	50 = { SOV_paranoia_very_low_increase_effect = yes }
			#	30 = { SOV_paranoia_low_increase_effect = yes }
			#	20 = { SOV_paranoia_medium_increase_effect = yes }
			#}
		}
		remove_effect = {
			IF = {
				limit = {
					has_completed_focus = SOV_infiltrate_the_nkvd
				}
				custom_effect_tooltip = SOV_assassinate_stalin_good_tt
				custom_effect_tooltip = SOV_assassinate_stalin_outcome_tt
				hidden_effect = {
					random_list = {
						80 = {
							retire_character = SOV_iosif_stalin
							SOV_promote_to_country_leader_beriya = yes
							news_event = {
								id = NSB_soviet_communist_civil_war.009
							}
							subtract_from_variable = { SOV_paranoia_weekly_modifiers_amount = 2 } #Stalin will always have the Authority Undermined trait (+2 weekly Paranoia)
							SOV_paranoia_modifier_update_gui_tooltip = yes #Update Paranoia UI
						}
						20 = {
							SOV_paranoia_very_high_increase_effect = yes
							news_event = {
								id = NSB_soviet_communist_civil_war.008
							}
						}
					}
					# TODO Create events
				}
			}
			ELSE = {
				custom_effect_tooltip = SOV_assassinate_stalin_bad_tt
				custom_effect_tooltip = SOV_assassinate_stalin_outcome_tt
				hidden_effect = {
					random_list = {
						50 = {
							retire_character = SOV_iosif_stalin
							SOV_promote_to_country_leader_beriya = yes
							news_event = {
								id = NSB_soviet_communist_civil_war.009
							}
						}
						50 = {
							SOV_paranoia_very_high_increase_effect = yes
							news_event = {
								id = NSB_soviet_communist_civil_war.008
							}
						}
					}
				}
			}

		}
	}

	SOV_send_supporters_abroad = {

		icon = GFX_decision_generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}
		ai_will_do = {
			base = 250
		}
		cost = 50

		days_remove = 30

		visible = {
			has_completed_focus = SOV_committee_in_exile
			SOV_soviet_civil_war_not_started = yes
			any_character = {
				OR = {
					has_character_flag = SOV_aligned_left_opposition_flag
					has_trait = trait_SOV_trotskyist
				}
				NOT = { has_character_flag = SOV_exiled_flag }
				NOT = { has_character_flag = SOV_imprisoned_flag }
				NOT = { has_character_flag = SOV_character_purged_flag }
			}
		}

		complete_effect = {
			custom_effect_tooltip = SOV_send_supporters_abroad_exile_tt
			every_character = {
				limit = {
					OR = {
						has_character_flag = SOV_aligned_left_opposition_flag
						has_trait = trait_SOV_trotskyist
					}
					NOT = { has_character_flag = SOV_exiled_flag }
					NOT = { has_character_flag = SOV_imprisoned_flag }
					NOT = { has_character_flag = SOV_character_purged_flag }
				}
				set_character_flag = SOV_exiled_flag
			}
			custom_effect_tooltip = SOV_send_supporters_abroad_back_tt
		}
	}

	SOV_wreckers_sabotage_contruction = {

		icon = GFX_decision_generic_wreckers

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}
		ai_will_do = {
			base = 250
		}

		cost = 15
		fire_only_once = no
		days_re_enable = 60

		visible = {
			any_enemy_country = { has_idea = SOV_organized_wreckers_idea }
		}

		complete_effect = {
			SOS = {
				custom_effect_tooltip = SOV_wreckers_sabotage_contruction_tt

				hidden_effect = {
					every_controlled_state = {
						limit = {
							is_controlled_by = SOS
							industrial_complex > 2
						}
						damage_building = {
							type = industrial_complex
							damage = 2
						}
					}
				}
			}
		}
	}

	SOV_wreckers_sabotage_military_production = {

		icon = GFX_decision_generic_wreckers

		allowed = {
			original_tag = SOV
		}

		available = {

		}
		ai_will_do = {
			base = 250 # Do it if you have the PP
		}
		cost = 15
		fire_only_once = no
		days_re_enable = 60

		visible = {
			any_enemy_country = { has_idea = SOV_organized_wreckers_idea }
		}

		complete_effect = {
			SOS = {
				custom_effect_tooltip = SOV_wreckers_sabotage_military_production_tt
				hidden_effect = {
					every_controlled_state = {
						limit = {
							arms_factory  > 2
						}
						damage_building = {
							type = arms_factory
							damage = 2
						}
					}
				}
			}
		}
	}

	SOV_wreckers_sabotage_dockyards = {

		icon = GFX_decision_generic_wreckers

		allowed = {
			original_tag = SOV
		}

		available = {

		}
		ai_will_do = {
			base = 150 # only if we have nothing better to spend on
		}
		cost = 10
		fire_only_once = no
		days_re_enable = 60

		visible = {
			any_enemy_country = { has_idea = SOV_organized_wreckers_idea }
		}

		complete_effect = {
			SOS = {
				custom_effect_tooltip = SOV_wreckers_sabotage_dockyards_tt
				hidden_effect = {
					every_controlled_state = {
						limit = {
							dockyard  > 2
						}
						damage_building = {
							type = dockyard
							damage = 2
						}
					}
				}
			}
		}
	}


	SOV_wreckers_sabotage_railways = {

		icon = GFX_decision_generic_wreckers

		allowed = {
			original_tag = SOV
		}

		available = {

		}
		ai_will_do = {
			base = 250 # Do it if you have the PP
		}
		cost = 15
		fire_only_once = no
		days_re_enable = 60

		visible = {
			any_enemy_country = { has_idea = SOV_organized_wreckers_idea }
		}

		complete_effect = {
			SOS = {
				custom_effect_tooltip = SOV_wreckers_sabotage_railways_tt
				hidden_effect = {
					random_controlled_state = {
						damage_building = {
							type = railway
							damage = 1
						}
						set_state_flag = railway_damaged_flag
						LOG = "Damage Railway 1 in [THIS.GetName]"
					}
					random_controlled_state = {
						limit = { NOT = { has_state_flag = railway_damaged_flag }}
						damage_building = {
							type = railway
							damage = 1
						}
						set_state_flag = railway_damaged_flag
						LOG = "Damage Railway 2 in [THIS.GetName]"
					}
					random_controlled_state = {
						limit = { NOT = { has_state_flag = railway_damaged_flag }}
						damage_building = {
							type = railway
							damage = 1
						}
						set_state_flag = railway_damaged_flag
						LOG = "Damage Railway 2 in [THIS.GetName]"
					}
					every_owned_state = {
						limit = { has_state_flag = railway_damaged_flag }
						clr_state_flag = railway_damaged_flag
					}
				}
			}
		}
	}

	SOV_secure_moscow_opposition = {

		icon = GFX_decision_revolt

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = { has_decision = SOV_secure_leningrad_opposition }
		}
		ai_will_do = {
			base = 10
			modifier = {
				add = 200
				check_variable = { ROOT.SOV_paranoia < 25 }
			}
		}
		cost = 25
		days_remove = 15
		fire_only_once = yes

		visible = {
			hidden_trigger = { has_completed_focus = SOV_align_the_zinovyevites }
			NOT = { has_global_flag = SOV_soviet_civil_war }
		}
		cancel_if_not_visible = yes

		complete_effect = {
			random_list = {
				20 = { SOV_paranoia_very_low_increase_effect = yes }
				60 = { SOV_paranoia_low_increase_effect = yes }
				20 = { SOV_paranoia_medium_increase_effect = yes }
			}
		}
		remove_effect = {
			custom_effect_tooltip = SOV_secure_moscow_opposition_tt
			219 = { set_state_flag = SOV_opposition_partisans_flag }
			SOV_opposition_support_high_increase_effect = yes
		}
	}

	SOV_secure_leningrad_opposition = {

		icon = GFX_decision_revolt

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = { has_decision = SOV_secure_moscow_opposition }
			195 = { SOV_is_unaligned_state = yes  }
		}
		ai_will_do = {
			base = 10
			modifier = {
				add = 200
				check_variable = { ROOT.SOV_paranoia < 25 }
			}
		}
		cost = 25
		days_remove = 15
		fire_only_once = yes

		highlight_states = {
			highlight_color_while_active = 1
		}

		visible = {
			hidden_trigger = { has_completed_focus = SOV_align_the_zinovyevites }

			NOT = { has_global_flag = SOV_soviet_civil_war }
		}
		cancel_if_not_visible = yes

		complete_effect = {
			random_list = {
				20 = { SOV_paranoia_very_low_increase_effect = yes }
				60 = { SOV_paranoia_low_increase_effect = yes }
				20 = { SOV_paranoia_medium_increase_effect = yes }
			}
		}
		remove_effect = {
			custom_effect_tooltip = SOV_secure_leningrad_opposition_tt
			195 = { set_state_flag = SOV_opposition_partisans_flag }
			SOV_opposition_support_high_increase_effect = yes
		}
	}

	SOV_army_framejob = {
		icon = generic_police_action
		available = {
			IF = {
				limit = { SOV_is_exiles = yes }
				any_army_leader = {
					NOT = { has_trait = trait_SOV_monarchist_sympathizer }
					NOT = { has_trait = trait_SOV_stalinist }
				}
			}
			IF = {
				limit = { SOV_is_left_opposition = yes }
				any_army_leader = {
					NOT = { has_trait = trait_SOV_trotskyist }
					NOT = { has_trait = trait_SOV_stalinist }
				}
			}
			IF = {
				limit = { SOV_is_right_opposition = yes }
				any_army_leader = {
					NOT = { has_trait = trait_SOV_bukharinist }
					NOT = { has_trait = trait_SOV_stalinist }
				}
			}
		}
		visible = {
			SOV_soviet_civil_war_not_started = yes
			hidden_trigger = {
				OR = {
					has_completed_focus = SOV_divert_attention_towards_military
					has_completed_focus = SOV_covert_operations
				}
			}
		}
		cost = SOV_army_framejob_decision_cost
		fire_only_once = no
		days_remove = 14
		days_re_enable = SOV_army_framejob_decision_re_enable_days
		ai_will_do = {
			base = 0
			modifier = { # Do if paranoia is above "totally safe level"
				add = 100
				check_variable = { ROOT.SOV_paranoia > 20 }
			}
			modifier = { # Prio if paranoia is at dangerous level
				add = 120
				check_variable = { ROOT.SOV_paranoia > 60 }
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
				check_variable = { ROOT.SOV_paranoia < 90 }
			}

		}
		complete_effect = {
		}
		remove_effect = {
			hidden_effect = {
				random_army_leader = {
					limit = {
						NOT = { has_character_flag = SOV_safe_from_purge_flag }
						NOT = { has_trait = trait_SOV_monarchist_sympathizer }
						NOT = { has_trait = trait_SOV_trotskyist }
						NOT = { has_trait = trait_SOV_bukharinist }
						NOT = { has_trait = trait_SOV_stalinist }
					}
					set_character_flag = SOV_potential_target_flag
					log = "targeted leader = [THIS.GetName]"
				}

			}
			custom_effect_tooltip = SOV_army_framejob_tt
			#SOV_regular_purge_general_accused_effect = yes
			custom_effect_tooltip = SOV_army_framejob_cd_tt
			add_to_variable = { SOV_army_framejob_decision_re_enable_days = 30 }
			add_to_variable = { SOV_army_framejob_decision_re_enable_days_display = 30 }
			add_to_variable = { SOV_army_framejob_decision_cost = 25 }
		}
	}
	SOV_navy_framejob = {
		icon = generic_police_action
		available = {
			IF = {
				limit = { SOV_is_exiles = yes }
				any_navy_leader = {
					NOT = { has_trait = trait_SOV_monarchist_sympathizer }
					NOT = { has_trait = trait_SOV_stalinist }
				}
			}
			IF = {
				limit = { SOV_is_left_opposition = yes }
				any_navy_leader = {
					NOT = { has_trait = trait_SOV_trotskyist }
					NOT = { has_trait = trait_SOV_stalinist }
				}
			}
			IF = {
				limit = { SOV_is_right_opposition = yes }
				any_navy_leader = {
					NOT = { has_trait = trait_SOV_bukharinist }
					NOT = { has_trait = trait_SOV_stalinist }
				}
			}
		}
		visible = {
			SOV_soviet_civil_war_not_started = yes
			hidden_trigger = {
				OR = {
					has_completed_focus = SOV_divert_attention_towards_military
					has_completed_focus = SOV_covert_operations
				}
			}
		}
		cost = SOV_navy_framejob_decision_cost
		fire_only_once = no
		days_remove = 14
		days_re_enable = SOV_navy_framejob_decision_re_enable_days
		ai_will_do = {
			base = 0
			modifier = { # Do if paranoia is above "totally safe level" but not as keen as for the army version
				add = 50
				check_variable = { ROOT.SOV_paranoia > 25 }
			}
			modifier = { # Prio if paranoia is at dangerous level
				add = 150
				check_variable = { ROOT.SOV_paranoia > 80 }
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
		}
		complete_effect = {
		}
		remove_effect = {
			hidden_effect = {
				random_navy_leader = {
					limit = {
						NOT = { has_character_flag = SOV_safe_from_purge_flag }
						NOT = { has_trait = trait_SOV_monarchist_sympathizer }
						NOT = { has_trait = trait_SOV_trotskyist }
						NOT = { has_trait = trait_SOV_bukharinist }
						NOT = { has_trait = trait_SOV_stalinist }
					}
					set_character_flag = SOV_potential_target_flag
					log = "targeted leader = [THIS.GetName]"
				}
			}
			custom_effect_tooltip = SOV_navy_framejob_tt
			#SOV_trigger_regular_purge_admiral_accused_effect = yes
			custom_effect_tooltip = SOV_navy_framejob_cd_tt
			add_to_variable = { SOV_navy_framejob_decision_re_enable_days = 30 }
			add_to_variable = { SOV_navy_framejob_decision_re_enable_days_display = 30 }
			add_to_variable = { SOV_navy_framejob_decision_cost = 25 }
		}
	}

	SOV_recruit_general_opposition = {

		icon = GFX_decision_generic_army_support

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}
		ai_will_do = {
			base = 150
			modifier = {
				factor = 0
				check_variable = { ROOT.SOV_paranoia > 70 } # Not worth the risk if Paranoia too high
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
		}
		cost = SOV_influence_general_decision_cost
		days_remove = 15
		days_re_enable = 30

		visible = {
			hidden_trigger = {
				OR = {
					has_completed_focus = SOV_military_support # Left Opp
					# has_completed_focus = SOV_embrace_the_black_hundreds # Exiles
				}
			}
			NOT = { has_global_flag = SOV_soviet_civil_war } # too late if the war has already started
		}
		cancel_if_not_visible = yes

		complete_effect = {
			random_list = {
				20 = { SOV_paranoia_very_low_increase_effect = yes }
				60 = { SOV_paranoia_low_increase_effect = yes }
				20 = { SOV_paranoia_medium_increase_effect = yes }
			}
		}
		remove_effect = {
			custom_effect_tooltip = SOV_recruit_general_opposition_tt
			custom_effect_tooltip = SOV_recruit_cd_tt
			hidden_effect = {
				IF = {
					limit = {
						SOV_is_left_opposition = yes
					}
					random_army_leader = {
						limit = {
							NOT = { has_trait = trait_SOV_stalinist }
							NOT = { has_trait = trait_SOV_bukharinist }
							NOT = { has_trait = trait_SOV_trotskyist }
							NOT = { has_trait = trait_SOV_monarchist_sympathizer }
						}
						add_unit_leader_trait = trait_SOV_trotskyist
						set_character_flag = SOV_aligned_left_opposition_flag
					}
				}
				ELSE_IF = {
					limit = {
						SOV_is_right_opposition = yes
					}
					random_army_leader = {
						limit = {
							NOT = { has_trait = trait_SOV_stalinist }
							NOT = { has_trait = trait_SOV_bukharinist }
							NOT = { has_trait = trait_SOV_trotskyist }
							NOT = { has_trait = trait_SOV_monarchist_sympathizer }
						}
						add_unit_leader_trait = trait_SOV_bukharinist
						set_character_flag = SOV_aligned_right_opposition_flag
					}
				}
				ELSE_IF = {
					limit = {
						SOV_is_exiles = yes
					}
					random_army_leader = {
						limit = {
							NOT = { has_trait = trait_SOV_stalinist }
							NOT = { has_trait = trait_SOV_bukharinist }
							NOT = { has_trait = trait_SOV_trotskyist }
							NOT = { has_trait = trait_SOV_monarchist_sympathizer }
						}
						add_unit_leader_trait = trait_SOV_monarchist_sympathizer
						set_character_flag = SOV_exiled_army_leader
					}
				}
				add_to_variable = { SOV_influence_general_decision_cost = 10 }
			}
		}
	}

	SOV_recruit_admiral_opposition = {

		icon = GFX_decision_generic_army_support

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}
		ai_will_do = {
			base = 50
			modifier = {
				factor = 1.5
				SOV_is_right_opposition = yes
			}
			modifier = {
				factor = 0
				check_variable = { ROOT.SOV_paranoia > 60 } # Not worth the risk if Paranoia too high
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
		}
		cost = SOV_influence_admiral_decision_cost
		days_re_enable = 30
		days_remove = 15

		visible = {
			hidden_trigger = {
				OR = {
					has_completed_focus = SOV_military_support # Left Opp
					# has_completed_focus = SOV_embrace_the_black_hundreds # Exiles
				}
			}
			NOT = { has_global_flag = SOV_soviet_civil_war }
		}
		cancel_if_not_visible = yes

		complete_effect = {
			random_list = {
				20 = { SOV_paranoia_very_low_increase_effect = yes }
				60 = { SOV_paranoia_low_increase_effect = yes }
				20 = { SOV_paranoia_medium_increase_effect = yes }
			}
		}
		remove_effect = {
			custom_effect_tooltip = SOV_recruit_admiral_opposition_tt
			custom_effect_tooltip = SOV_recruit_cd_tt
			hidden_effect = {
				IF = {
					limit = {
						SOV_is_left_opposition = yes
					}
					random_navy_leader = {
						limit = {
							NOT = { has_trait = trait_SOV_stalinist }
							NOT = { has_trait = trait_SOV_bukharinist }
							NOT = { has_trait = trait_SOV_trotskyist }
							NOT = { has_trait = trait_SOV_monarchist_sympathizer }
						}
						add_unit_leader_trait = trait_SOV_trotskyist
						set_character_flag = SOV_aligned_left_opposition_flag
					}
				}
				ELSE_IF = {
					limit = {
						SOV_is_right_opposition = yes
					}
					random_navy_leader = {
						limit = {
							NOT = { has_trait = trait_SOV_stalinist }
							NOT = { has_trait = trait_SOV_bukharinist }
							NOT = { has_trait = trait_SOV_trotskyist }
							NOT = { has_trait = trait_SOV_monarchist_sympathizer }
						}
						add_unit_leader_trait = trait_SOV_bukharinist
						set_character_flag = SOV_aligned_right_opposition_flag
					}
				}
				ELSE_IF = {
					limit = {
						SOV_is_exiles = yes
					}
					random_navy_leader = {
						limit = {
							NOT = { has_trait = trait_SOV_stalinist }
							NOT = { has_trait = trait_SOV_bukharinist }
							NOT = { has_trait = trait_SOV_trotskyist }
							NOT = { has_trait = trait_SOV_monarchist_sympathizer }
						}
						add_unit_leader_trait = trait_SOV_monarchist_sympathizer
						set_character_flag = SOV_exiled_army_leader
					}
				}
				add_to_variable = { SOV_influence_admiral_decision_cost = 10 }
			}
		}
	}

	SOV_expand_nkvd_opposition = {

		icon = GFX_decision_generic_police_action

		allowed = {
			original_tag = SOV
		}

		available = {
			always = yes
		}
		ai_will_do = {
			base = 100
			modifier = {
				factor = 1.75
				SOV_is_right_opposition = yes
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
		}
		visible = {
			hidden_trigger = {
				has_completed_focus = SOV_infiltrate_the_nkvd
			}
			NOT = { has_global_flag = SOV_soviet_civil_war }
		}
		cancel_if_not_visible = yes
		cost = 40
		days_remove = 60
		days_re_enable = 120

		complete_effect = {
			random_list = {
				20 = {  }
				60 = { SOV_paranoia_very_low_increase_effect = yes }
				20 = { SOV_paranoia_low_increase_effect = yes }
			}
		}
		remove_effect = {
			custom_effect_tooltip = SOV_expand_nkvd_opposition_tt
			custom_effect_tooltip = SOV_nkvd_cd_tt
			add_to_variable = { SOV.SOV_nkvd_divisions = 5 }
			hidden_effect = {
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"NKVD Pogranichnaya Diviziya\" start_experience_factor = 0.2 start_equipment_factor = 1.0" owner = ROOT count = 5
					}
				}
			}
	    }
	}


	SOV_influence_army_opposition = {

		icon = GFX_decision_generic_military

		allowed = {
			original_tag = SOV
		}

		available = {
			IF = {
				limit = { SOV_is_left_opposition = yes }
				custom_trigger_tooltip = {
					tooltip = SOV_influence_army_opposition_level_tt
					check_variable = { SOV.SOV_left_opposition_army_support < 0.70 }
				}
			}
			ELSE_IF = {
				limit = { SOV_is_right_opposition = yes }
				custom_trigger_tooltip = {
					tooltip = SOV_influence_army_opposition_level_tt
					check_variable = { SOV.SOV_right_opposition_army_support < 0.70 }
				}
			}
		}
		ai_will_do = {
			base = 200
			modifier = {
				factor = 0
				check_variable = { ROOT.SOV_paranoia > 60 } # Not worth the risk if Paranoia too high
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
		}
		visible = {
			hidden_trigger = {
				OR = {
					has_completed_focus = SOV_military_support
					# has_completed_focus = SOV_the_eyes_fear
				}


			}
			NOT = { has_global_flag = SOV_soviet_civil_war }
		}
		cancel_if_not_visible = yes
		cost = SOV_influence_army_decision_cost
		days_remove = 15
		days_re_enable = 60

		complete_effect = {
			random_list = {
				30 = { SOV_paranoia_low_increase_effect = yes }
				40 = { SOV_paranoia_medium_increase_effect = yes }
				30 = { SOV_paranoia_high_increase_effect = yes }
			}
		}
		remove_effect = {
			custom_effect_tooltip = SOV_influence_army_opposition_tt
			custom_effect_tooltip = SOV_influence_cd_tt
			IF = {
				limit = { SOV_is_left_opposition = yes }
				add_to_variable = { SOV.SOV_left_opposition_army_support = 0.1 }

			}
			ELSE_IF = {
				limit = { SOV_is_right_opposition = yes }
				add_to_variable = { SOV.SOV_right_opposition_army_support = 0.1 }
			}
			ELSE_IF = {
				limit = { SOV_is_exiles = yes }
				add_to_variable = { SOV.SOV_exiles_army_support = 0.1 }
			}
			SOV_get_centre_military_support = yes
			add_to_variable = { SOV_influence_army_decision_cost = 20 }
	    }
	}

	SOV_influence_navy_opposition = {

		icon = GFX_decision_generic_naval

		allowed = {
			original_tag = SOV
		}

		available = {
			IF = {
				limit = { SOV_is_left_opposition = yes }
				custom_trigger_tooltip = {
					tooltip = SOV_influence_navy_opposition_level_tt
					check_variable = { SOV.SOV_left_opposition_navy_support < 0.70 }
				}
			}
			ELSE_IF = {
				limit = { SOV_is_right_opposition = yes }
				custom_trigger_tooltip = {
					tooltip = SOV_influence_navy_opposition_level_tt
					check_variable = { SOV.SOV_right_opposition_navy_support < 0.70 }
				}
			}
		}
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				check_variable = { ROOT.SOV_paranoia > 40 } # Not worth the risk if Paranoia too high
			}
			modifier = {
				factor = 1.5
				SOV_is_right_opposition = yes
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
		}
		visible = {
			hidden_trigger = { has_completed_focus = SOV_military_support }
			NOT = { has_global_flag = SOV_soviet_civil_war }
		}
		cancel_if_not_visible = yes
		cost = SOV_influence_navy_decision_cost
		days_remove = 15
		days_re_enable = 60

		complete_effect = {
			random_list = {
				20 = { SOV_paranoia_very_low_increase_effect = yes }
				60 = { SOV_paranoia_low_increase_effect = yes }
				20 = { SOV_paranoia_medium_increase_effect = yes }
			}
		}
		remove_effect = {
			custom_effect_tooltip = SOV_influence_navy_opposition_tt
			custom_effect_tooltip = SOV_influence_cd_tt
			IF = {
				limit = { SOV_is_left_opposition = yes }
				add_to_variable = { SOV_left_opposition_navy_support = 0.1 }
			}
			ELSE_IF = {
				limit = { SOV_is_right_opposition = yes }
				add_to_variable = { SOV_right_opposition_navy_support = 0.1 }
			}
			ELSE_IF = {
				limit = { SOV_is_exiles = yes }
				add_to_variable = { SOV_exiles_navy_support = 0.1 }
			}
			SOV_get_centre_military_support = yes
			add_to_variable = { SOV_influence_army_decision_cost = 20 }
		}
	}

	SOV_influence_airforce_opposition = {

		icon = GFX_decision_generic_air

		allowed = {
			original_tag = SOV
		}

		available = {
			IF = {
				limit = { SOV_is_left_opposition = yes }
				custom_trigger_tooltip = {
					tooltip = SOV_influence_air_opposition_level_tt
					check_variable = { SOV.SOV_left_opposition_air_support < 0.70 }
				}
			}
			ELSE_IF = {
				limit = { SOV_is_right_opposition = yes }
				custom_trigger_tooltip = {
					tooltip = SOV_influence_air_opposition_level_tt
					check_variable = { SOV.SOV_right_opposition_air_support < 0.70 }
				}
			}
		}
		ai_will_do = {
			base = 150
			modifier = {
				factor = 0
				check_variable = { ROOT.SOV_paranoia > 60 } # Not worth the risk if Paranoia too high
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
		}
		visible = {
			hidden_trigger = { has_completed_focus = SOV_military_support }
			NOT = { has_global_flag = SOV_soviet_civil_war }
		}
		cancel_if_not_visible = yes
		cost = SOV_influence_aiforce_decision_cost
		days_remove = 15
		days_re_enable = 60

		complete_effect = {
			random_list = {
				20 = { SOV_paranoia_very_low_increase_effect = yes }
				60 = { SOV_paranoia_low_increase_effect = yes }
				20 = { SOV_paranoia_medium_increase_effect = yes }
			}
		}
		remove_effect = {
			custom_effect_tooltip = SOV_influence_airforce_opposition_tt
			custom_effect_tooltip = SOV_influence_cd_tt
			IF = {
				limit = { SOV_is_left_opposition = yes }
				add_to_variable = { SOV_left_opposition_air_support = 0.1 }
			}
			ELSE_IF = {
				limit = { SOV_is_right_opposition = yes }
				add_to_variable = { SOV_right_opposition_air_support = 0.1 }
			}
			ELSE_IF = {
				limit = { SOV_is_exiles = yes }
				add_to_variable = { SOV_exiles_air_support = 0.1 }
			}
			SOV_get_centre_military_support = yes
			add_to_variable = { SOV_influence_aiforce_decision_cost = 20 }
		}
	}


	SOV_dismiss_the_counter_revolution = {

		icon = generic_speech

		available = {

		}
		ai_will_do = {
			base = 1
			modifier = {
				factor = 200
				check_variable = { ROOT.SOV_paranoia > 65 } # Do if Paranoia too high
			}
		}

		visible = {
			hidden_trigger = { has_completed_focus = SOV_embrace_the_black_hundreds }
			NOT = { has_global_flag = SOV_soviet_civil_war }
		}
		cancel_if_not_visible = yes

		cost = 75
		fire_only_once = no
		days_remove = 7
		days_re_enable = 60

		remove_effect = {

			random_list = {
				40 = {
					SOV_paranoia_low_decrease_effect = yes
				}
				50 = {
					SOV_paranoia_medium_decrease_effect = yes
				}
				10 = {
					SOV_paranoia_high_decrease_effect = yes
				}
			}
			set_country_flag = SOV_dismissed_the_counter_revolution_flag
			# SOV_increase_civil_war_timer_long = yes
		}
		complete_effect = {
			custom_effect_tooltip = SOV_dismiss_the_counter_revolution_tt
			custom_effect_tooltip = SOV_dismiss_cd_tt
			subtract_from_variable = { SOV_exiles_army_support = 0.01 }
			subtract_from_variable = { SOV_exiles_navy_support = 0.01 }
			subtract_from_variable = { SOV_exiles_air_support = 0.01 }
		}
	}

	# Offer Vladivostok to Japan
	SOV_concessions_japan_vladivostok_SCW = {

		icon = generic_political_discourse

		allowed = {
			original_tag = SOV
		}
		targets = { JAP }
		target_trigger = {
			FROM = {
				tag = JAP
			}
		}
		target_root_trigger = {
			OR = {
				SOV_is_right_opposition = yes
				SOV_is_exiles = yes
			}
		}
		available = {
			JAP = { exists = yes }
			408 = { CONTROLLER = { original_tag = SOV } }
			custom_trigger_tooltip = {
				tooltip = SOV_not_has_conflict_with_japan
				NOT = { JAP = { has_decision = JAP_test_the_soviets } }
				NOT = { has_border_war_with = JAP }
				NOT = { has_war_with = JAP }
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				SOV_is_exiles = yes
			}
			modifier = {
				add = 50
				surrender_progress > 0
			}
			modifier = {
				add = 50
				date > 1938.1.1
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
		}
		cost = 25

		fire_only_once = yes # Either you make the offer or you don't

		visible = {
			hidden_trigger = {
				SOV_has_selected_hq = yes
				OR = {
					has_completed_focus = SOV_concessions_to_foreign_powers # Right Opposition
					AND = {
						SOV_is_exiles = yes
						has_completed_focus = SOV_unification_of_the_exiles
					}
				}
			}
			NOT = { has_global_flag = SOV_soviet_civil_war_over }
		}
		cancel_if_not_visible = yes

		complete_effect = {
			random_list = {
				20 = { SOV_paranoia_very_low_increase_effect = yes }
				60 = { SOV_paranoia_low_increase_effect = yes }
				20 = { SOV_paranoia_medium_increase_effect = yes }
			}
			JAP = {
				country_event = {
					id = NSB_soviet_civil_war_common.100
					hours = 1 # TODO THOMAS - set longer delay
				}
				custom_effect_tooltip = SOV_concessions_japan_vladivostok_SCW_accept
			}

		}
	}
	# Offer North Sakhalin to Japan
	SOV_concessions_japan_sakhalin_SCW = { #TODO_THOMAS

		icon = generic_political_discourse

		allowed = {
			original_tag = SOV
		}
		targets = { JAP }
		target_trigger = {
			FROM = {
				tag = JAP
			}
		}
		target_root_trigger = {
			OR = {
				SOV_is_right_opposition = yes
				SOV_is_exiles = yes
			}
		}

		available = {
			JAP = { exists = yes }
			655 = { CONTROLLER = { original_tag = SOV } }
			custom_trigger_tooltip = {
				tooltip = SOV_not_has_conflict_with_japan
				NOT = { JAP = { has_decision = JAP_test_the_soviets } }
				NOT = { has_border_war_with = JAP }
				NOT = { has_war_with = JAP }
			}

		}
		ai_will_do = {
			base = 100
			modifier = {
				add = 50
				SOV_is_exiles = yes
			}
			modifier = {
				add = 50
				surrender_progress > 0
			}
			modifier = {
				add = 50
				date > 1938.1.1
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
		}
		cost = 10

		fire_only_once = yes # Either you make the offer or you don't

		visible = {
			hidden_trigger = {
				SOV_has_selected_hq = yes
				OR = {
					has_completed_focus = SOV_concessions_to_foreign_powers # Right Opposition
					AND = {
						SOV_is_exiles = yes
						has_completed_focus = SOV_unification_of_the_exiles
					}
				}
			}
			NOT = { has_global_flag = SOV_soviet_civil_war_over }
		}
		cancel_if_not_visible = yes

		complete_effect = {
			random_list = {
				20 = { SOV_paranoia_very_low_increase_effect = yes }
				60 = { SOV_paranoia_low_increase_effect = yes }
				20 = { SOV_paranoia_medium_increase_effect = yes }
			}
			JAP = {
				country_event = {
					id = NSB_soviet_civil_war_common.103
					hours = 8
					random_hours = 12
				}
				custom_effect_tooltip = SOV_concessions_japan_sakhalin_SCW_accept
			}

		}
	}
	# Baku Oil fields in return for help with military buildup
	SOV_concessions_germany_baku_SCW = {

		icon = generic_political_discourse

		allowed = {
			original_tag = SOV
		}

		available = {
			GER = { exists = yes }
			229 = { CONTROLLER = { original_tag = SOV } }
		}
		ai_will_do = {
			base = 150
			modifier = {
				add = 50
				surrender_progress > 0
			}
			modifier = {
				add = 50
				date > 1938.1.1
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
		}
		targets = { GER }
		target_trigger = {
			FROM = {
				tag = GER
			}
		}
		target_root_trigger = {
			OR = {
				SOV_is_right_opposition = yes
				SOV_is_exiles = yes
			}
		}
		cost = 10

		fire_only_once = yes # Either you make the offer or you don't

		visible = {
			hidden_trigger = {
				OR = {
					has_completed_focus = SOV_concessions_to_foreign_powers
					AND = {
						has_completed_focus = SOV_unification_of_the_exiles
						SOV_has_selected_hq = yes
					}
				}

			}
			NOT = { has_global_flag = SOV_soviet_civil_war_over }
		}
		cancel_if_not_visible = yes

		complete_effect = {
			random_list = {
				60 = { SOV_paranoia_very_low_increase_effect = yes }
				30 = { SOV_paranoia_low_increase_effect = yes }
				10 = { SOV_paranoia_medium_increase_effect = yes }
			}
			GER = {
				country_event = {
					id = NSB_soviet_civil_war_common.106
					hours = 8
					random_hours = 12
				}
				custom_effect_tooltip = SOV_concessions_germany_baku_SCW_accept
			}

		}
	}

	# Ukraininan independence to Germany
	SOV_concessions_germany_ukraininan_oil_SCW = { #TODO_THOMAS

		icon = GFX_decision_revolt

		allowed = {
			original_tag = SOV
		}
		targets = { GER }
		target_trigger = {
			FROM = {
				tag = GER
			}
		}
		target_root_trigger = {
			SOV_is_right_opposition = yes
		}

		available = {
			GER = { exists = yes }
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 150 # More likely if not feeling secure
				check_variable = { SOV.SOV_right_opposition_army_support < 0.25}
				check_variable = { SOV.SOV_paranoia > 50 }
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}

		}
		cost = 15

		fire_only_once = yes # Either you make the offer or you don't

		visible = {
			hidden_trigger = { has_completed_focus = SOV_concessions_to_foreign_powers }
			NOT = { has_global_flag = SOV_soviet_civil_war_over }
		}
		cancel_if_not_visible = yes

		complete_effect = {
			GER = {
				country_event = {
					id = NSB_soviet_civil_war_common.110
					hours = 1 # TODO THOMAS - set longer delay
				}
				custom_effect_tooltip = SOV_concessions_germany_ukraininan_oil_SCW_accept
			}
			random_list = {
				20 = { SOV_paranoia_very_low_increase_effect = yes }
				60 = { SOV_paranoia_low_increase_effect = yes }
				20 = { SOV_paranoia_medium_increase_effect = yes }
			}
		}
	}

	# Belarus independence to UK
	SOV_concessions_uk_belarus_SCW = {

		icon = generic_political_discourse

		allowed = {
			original_tag = SOV
		}
		targets = { ENG }
		target_trigger = {
			FROM = {
				tag = ENG
			}
		}
		target_root_trigger = {
			SOV_is_right_opposition = yes
		}

		available = {
			ENG = { exists = yes }
			206 = { CONTROLLER = { original_tag = SOV } }

		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 150 # More likely if not feeling secure
				check_variable = { SOV.SOV_right_opposition_army_support < 0.2}
				check_variable = { SOV.SOV_paranoia > 75 }
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}

		}
		cost = 15

		fire_only_once = yes # Either you make the offer or you don't

		visible = {
			hidden_trigger = { has_completed_focus = SOV_concessions_to_foreign_powers }
			NOT = { has_global_flag = SOV_soviet_civil_war_over }
		}
		cancel_if_not_visible = yes

		complete_effect = {
			random_list = {
				20 = { SOV_paranoia_very_low_increase_effect = yes }
				60 = { SOV_paranoia_low_increase_effect = yes }
				20 = { SOV_paranoia_medium_increase_effect = yes }
			}
			ENG = {
				country_event = {
					id = NSB_soviet_civil_war_common.115
					hours = 1 # TODO THOMAS - set longer delay
				}
				custom_effect_tooltip = SOV_concessions_uk_belarus_SCW_accept
			}

		}
	}

	# Behind enemy lines strikes
	SOV_sabotage_behind_enemy_lines_decision = {
		icon = generic_assassination
		state_target = yes
		target_root_trigger = {
			SOV_is_exiles = yes
			has_completed_focus = SOV_sabotage_behind_enemy_lines
		}

		target_trigger = {
			FROM = {
				is_core_of = SOV
			}
		}

		available = {
			ROOT = { NOT = { has_country_flag = sabotage_behind_enemy_lines_flag } }
		}
		ai_will_do = {
			base = 100 # This is generally a good thing to do
			modifier = {
				add = FROM.state_strategic_value # Prioritize important states
				always = yes
			}
			modifier = {
				factor = 2
				always = yes
			}
		}

		visible = {
			FROM = {
				OR = {
					is_controlled_by = SOS
					AND = {
						is_controlled_by = SOV
						NOT = { is_fully_controlled_by = SOV }
					}
				}
				is_owned_by = SOS
				NOT = { region = 133 } # Not around Moscov
				any_neighbor_state = { is_controlled_by = SOV }
			}
			has_global_flag = SOV_soviet_civil_war
		}

		on_map_mode = map_only
		fire_only_once = yes

		custom_cost_trigger = {
			command_power > 14
		}
		custom_cost_text = SOV_sabotage_behind_enemy_lines_cost
		days_remove = 14

		complete_effect = {
			hidden_effect = {
				add_command_power = -15
				set_country_flag = sabotage_behind_enemy_lines_flag
			}
		}
		remove_effect = {
			damage_units = {
				state = FROM
				limit = { tag = SOS }
				org_damage = 0.25
				str_damage = 0.05
				ratio = yes
				army = yes
				navy = yes
			}
			custom_effect_tooltip = SOV_sabotage_behind_enemy_lines_decision_tt
			clr_country_flag = sabotage_behind_enemy_lines_flag
		}

	}

	# Recruit cavalry - Manchuria
	SOV_recruit_manchurian_cavalry_exiles = {
		icon = generic_cavalry
		state_target = yes
		target_root_trigger = {
			SOV_is_exiles = yes
		}

		target_trigger = {
			FROM = {
				OR = {
					region = 155 # Manchuria
				}
			}
			has_completed_focus = SOV_approach_semyonov
		}
		available = {
			NOT = { has_country_flag = recruiting_cavalry_flag }
		}
		ai_will_do = {
			base = 200
			modifier = {
				factor = 0 # Not if it might start a premature war
				check_variable = { SOV.SOV_paranoia > 75 }
			}
		}

		visible = {
			OR = {
				FROM = { has_state_flag = SOV_exiles_state }
				FROM = { is_owned_by = MAN}
			}
			NOT = { has_global_flag = SOV_soviet_civil_war }
		}

		on_map_mode = map_only
		fire_only_once = yes

		custom_cost_trigger = {
			command_power > 9.9
		}
		custom_cost_text = SOV_recruit_cavalry_exiles_cost
		days_remove = 10

		complete_effect = {
			add_command_power = -10
			SOV_paranoia_very_low_increase_effect = yes
			set_country_flag = recruiting_cavalry_flag
		}
		remove_effect = {
			add_to_variable = { SOV_exiles_manchurian_cavalry = 1 }
			clr_country_flag = recruiting_cavalry_flag
		}
	}
	# Recruit cavalry - Siberia
	SOV_recruit_cavalry_exiles = {
		icon = generic_cavalry
		state_target = yes
		target_root_trigger = {
			SOV_is_exiles = yes
		}
		target_trigger = {
			FROM = {
				OR = {
					#region = 155 # Manchuria
					region = 151
					region = 149
					region = 152
				}
			}

		}
		available = {
			NOT = { has_country_flag = recruiting_cavalry_flag }
		}
		ai_will_do = {
			base = 200
			modifier = {
				factor = 0 # Not if it might start a premature war
				check_variable = { SOV.SOV_paranoia > 75 }
			}
		}

		visible = {
			OR = {
				FROM = { has_state_flag = SOV_exiles_state }
				FROM = { is_owned_by = MAN}
			}
			has_completed_focus = SOV_approach_semyonov
			NOT = { has_global_flag = SOV_soviet_civil_war }
		}
		on_map_mode = map_only
		fire_only_once = yes

		custom_cost_trigger = {
			command_power > 9.9
		}
		custom_cost_text = SOV_recruit_cavalry_exiles_cost
		days_remove = 15

		complete_effect = {
			add_command_power = -10
			SOV_paranoia_very_low_increase_effect = yes
			set_country_flag = recruiting_cavalry_flag
		}
		remove_effect = {
			FROM = { set_state_flag = SOV_exiles_cavalry_flag }
			clr_country_flag = recruiting_cavalry_flag
		}
	}

	##### Selecting start state
	# Archangelsk - Left / right
	SOV_plan_start_of_uprising_archangelsk = {
		icon = {
			key = SOV_place_hq
			trigger = {
				214  = { NOT = { has_state_flag = SOV_hq_state_selected } }
			}
		}
		icon = {
			key = SOV_place_hq_left_opposition
			trigger = {
				214 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_left_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_right_opposition
			trigger = {
				214 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_right_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_exiles
			trigger = {
				214 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_exiles = yes
			}
		}

		state_target = yes

		target_root_trigger = {
			OR = {
				SOV_is_left_opposition = yes
				SOV_is_right_opposition = yes
			}
		}

		targets = {
			state = 214 # Archangelsk
		}

		target_trigger = {
			FROM = { state = 214 }# Archangelsk
		}
		available = {
			NOT = { has_country_flag = SOV_align_state_in_process }
		}
		fire_only_once = yes

		visible = {
			SOV_display_civil_war_start_state = yes
			214 = { is_owned_by = ROOT }
		}

		cost = 15
		days_remove = 5

		on_map_mode = map_and_decisions_view

		complete_effect = {
			SOV_start_setting_up_hq_state = yes
		}
		remove_effect = {
			set_variable = {SOV_civil_war_start_state = FROM }
			SOV_set_civil_war_state = yes
			SOV_opposition_support_low_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
		ai_will_do = {
			base = 150

		}
	}
	# Odessa - only  available for LO
	SOV_plan_start_of_uprising_odessa = {
		state_target = yes
		target_root_trigger = {
			OR = {
				SOV_is_left_opposition = yes
				# SOV_is_right_opposition = yes
			}
		}

		targets = {
			state = 192 # Odessa
		}
		target_trigger = {
			FROM = { state = 192 }
		}
		icon = {
			key = SOV_place_hq
			trigger = {
				 NOT = { 192  = {has_state_flag = SOV_hq_state_selected } }
			}
		}
		icon = {
			key = SOV_place_hq_left_opposition
			trigger = {
				192 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_left_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_right_opposition
			trigger = {
				192 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_right_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_exiles
			trigger = {
				192 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_exiles = yes
			}
		}
		available = {
			NOT = { has_country_flag = SOV_align_state_in_process }
			NOT = { has_variable = SOV_civil_war_start_state }
		}
		fire_only_once = no # want it to stay on map so...

		visible = {
			SOV_display_civil_war_start_state = yes
			192 = { is_owned_by = ROOT }
		}

		cost = 30
		days_remove = 5

		on_map_mode = map_and_decisions_view

		complete_effect = {
			SOV_start_setting_up_hq_state = yes
		}
		remove_effect = {
			set_variable = {SOV_civil_war_start_state = FROM }
			SOV_set_civil_war_state = yes
			SOV_opposition_support_medium_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
		ai_will_do = {
			base = 250
		}
	}

	# Omsk - available for LO / RO
	SOV_plan_start_of_uprising_omsk = {
		state_target = yes
		target_root_trigger = {
			OR = {
				SOV_is_left_opposition = yes
				SOV_is_right_opposition = yes
			}
		}

		targets = {
			state = 571  # Omsk
		}
		target_trigger = {
			FROM = { state = 571 }
		}
		icon = {
			key = SOV_place_hq
			trigger = {
				571  = { NOT = { has_state_flag = SOV_hq_state_selected } }
			}
		}
		icon = {
			key = SOV_place_hq_left_opposition
			trigger = {
				571 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_left_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_right_opposition
			trigger = {
				571 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_right_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_exiles
			trigger = {
				571 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_exiles = yes
			}
		}
		available = {
			NOT = { has_country_flag = SOV_align_state_in_process }
			NOT = { has_variable = SOV_civil_war_start_state }
		}
		fire_only_once = no # want it to stay on map so...

		visible = {
			SOV_display_civil_war_start_state = yes
			571 = { is_owned_by = ROOT }
		}

		cost = 15
		days_remove = 5

		on_map_mode = map_and_decisions_view

		complete_effect = {
			SOV_start_setting_up_hq_state = yes
		}
		remove_effect = {
			set_variable = {SOV_civil_war_start_state = FROM }
			SOV_set_civil_war_state = yes
			SOV_opposition_support_low_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
		ai_will_do = {
			base = 110
		}
	}

	# Tashkent - available for LO / RO
	SOV_plan_start_of_uprising_tashkent = {
		state_target = yes
		target_root_trigger = {
			OR = {
				SOV_is_left_opposition = yes
				SOV_is_right_opposition = yes
			}
		}

		targets = {
			state = 405  # Tashkent
		}
		target_trigger = {
			FROM = { state = 405 }
		}
		icon = {
			key = SOV_place_hq
			trigger = {
				405  = { NOT = { has_state_flag = SOV_hq_state_selected } }
			}
		}
		icon = {
			key = SOV_place_hq_left_opposition
			trigger = {
				405 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_left_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_right_opposition
			trigger = {
				405 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_right_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_exiles
			trigger = {
				405 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_exiles = yes
			}
		}
		available = {
			NOT = { has_country_flag = SOV_align_state_in_process }
			NOT = { has_variable = SOV_civil_war_start_state }
		}
		fire_only_once = no # want it to stay on map so...

		visible = {
			SOV_display_civil_war_start_state = yes
			405 = { is_owned_by = ROOT }
		}

		cost = 15
		days_remove = 5

		on_map_mode = map_and_decisions_view

		complete_effect = {
			SOV_start_setting_up_hq_state = yes
		}
		remove_effect = {
			set_variable = {SOV_civil_war_start_state = FROM }
			SOV_set_civil_war_state = yes
			SOV_opposition_support_low_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
		ai_will_do = {
			base = 150
		}
	}

	# Ufa - available for LO / RO
	SOV_plan_start_of_uprising_ufa = {
		state_target = yes
		target_root_trigger = {
			OR = {
				SOV_is_left_opposition = yes
				SOV_is_right_opposition = yes
			}
		}

		targets = {
			state = 651  # Ufa
		}
		target_trigger = {
			FROM = { state = 651 }
		}
		icon = {
			key = SOV_place_hq
			trigger = {
				651  = { NOT = { has_state_flag = SOV_hq_state_selected } }
			}
		}
		icon = {
			key = SOV_place_hq_left_opposition
			trigger = {
				651 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_left_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_right_opposition
			trigger = {
				651 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_right_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_exiles
			trigger = {
				651 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_exiles = yes
			}
		}
		available = {
			NOT = { has_country_flag = SOV_align_state_in_process }
			NOT = { has_variable = SOV_civil_war_start_state }
		}
		fire_only_once = no # want it to stay on map so...

		visible = {
			SOV_display_civil_war_start_state = yes
			651 = { is_owned_by = ROOT }
		}

		cost = 10
		days_remove = 5

		on_map_mode = map_and_decisions_view

		complete_effect = {
			SOV_start_setting_up_hq_state = yes
		}
		remove_effect = {
			set_variable = {SOV_civil_war_start_state = FROM }
			SOV_set_civil_war_state = yes
			SOV_opposition_support_low_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
		ai_will_do = {
			base = 100
		}
	}

	# Chita - available for RO / Exiles
	SOV_plan_start_of_uprising_chita = {
		state_target = yes
		target_root_trigger = {
			OR = {
				SOV_is_exiles = yes
				SOV_is_right_opposition = yes
			}
		}

		targets = {
			state = 563  # Chita
		}
		target_trigger = {
			FROM = { state = 563  }
		}
		icon = {
			key = SOV_place_hq
			trigger = {
				563 = { NOT = { has_state_flag = SOV_hq_state_selected } }
			}
		}
		icon = {
			key = SOV_place_hq_left_opposition
			trigger = {
				563 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_left_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_right_opposition
			trigger = {
				563 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_right_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_exiles
			trigger = {
				563 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_exiles = yes
			}
		}
		available = {
			NOT = { has_country_flag = SOV_align_state_in_process }
			NOT = { has_variable = SOV_civil_war_start_state }
		}
		fire_only_once = no # want it to stay on map so...

		visible = {
			SOV_display_civil_war_start_state = yes
			563 = { is_owned_by = ROOT }
		}

		cost = 10
		days_remove = 5

		on_map_mode = map_and_decisions_view

		complete_effect = {
			SOV_start_setting_up_hq_state = yes
		}
		remove_effect = {
			SOV_set_civil_war_state = yes
			set_variable = {SOV_civil_war_start_state = FROM }
			SOV_opposition_support_low_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
		ai_will_do = {
			base = 125
		}
	}
	# Irkutsk - fallback for RO / Exiles
	SOV_plan_start_of_uprising_irkutsk = {
		name = SOV_plan_start_of_uprising_chita
		state_target = yes
		target_root_trigger = {
			OR = {
				SOV_is_exiles = yes
				SOV_is_right_opposition = yes
			}
		}

		targets = {
			state = 566  # Chita
		}
		target_trigger = {
			FROM = { state = 566  }
		}
		icon = {
			key = SOV_place_hq
			trigger = {
				566 = { NOT = { has_state_flag = SOV_hq_state_selected } }
			}
		}
		icon = {
			key = SOV_place_hq_left_opposition
			trigger = {
				566 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_left_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_right_opposition
			trigger = {
				566 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_right_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_exiles
			trigger = {
				566 = { has_state_flag = SOV_hq_state_selected }
				SOV_is_exiles = yes
			}
		}
		available = {
			NOT = { has_country_flag = SOV_align_state_in_process }
			NOT = { has_variable = SOV_civil_war_start_state }
		}
		fire_only_once = no # want it to stay on map so...

		visible = {
			SOV_display_civil_war_start_state = yes
			566 = { is_owned_by = ROOT }
			has_game_rule = { rule = sov_fragmentation_status option = SOV_UTTERLY_FRAGMENTED }
		}

		cost = 10
		days_remove = 5

		on_map_mode = map_and_decisions_view

		complete_effect = {
			SOV_start_setting_up_hq_state = yes
		}
		remove_effect = {
			SOV_set_civil_war_state = yes
			set_variable = {SOV_civil_war_start_state = FROM }
			SOV_opposition_support_low_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
		ai_will_do = {
			base = 125
		}
	}


	##### SIBERIAN STATES
	SOV_align_states_siberia_csw = {
		name = SOV_planning_uprising_in_siberia
		state_target = yes
		ai_will_do = {
			base = 110
			modifier = {
				factor = 0
				check_variable = { SOV_paranoia > 65 } # let's be careful
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
			modifier = {
				factor = 2 # If totally safe
				check_variable = { SOV.SOV_paranoia < 35 }
			}
			modifier = {
				factor = 0.5 # only exiles will continue with Siberian states after a while
				AND = {
					OR = {
						SOV_is_left_opposition = yes
						SOV_is_right_opposition = yes
					}
					date > 1936.5.1
				}
			}
			modifier = {
				factor = 0 # only exiles will continue with Siberian states after a while
				AND = {
					OR = {
						SOV_is_left_opposition = yes
						SOV_is_right_opposition = yes
					}
					date > 1936.8.1
				}
			}
		}
		icon = {
			key = infiltrate_state
			trigger = {
				FROM = { SOV_is_unaligned_state = yes }
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_left_opposition_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_left }
					FROM = { has_state_flag = SOV_left_opposition_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_right_opposition_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_right }
					FROM = { has_state_flag = SOV_right_opposition_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_exiles_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_exiles }
					FROM = { has_state_flag = SOV_exiles_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_stalinist_state
			trigger = {
				FROM = { has_state_flag = SOV_stalinist_state }
			}
		}
		# These ones to ensure the HQ stays put even after decision to place has been removed
		icon = {
			key = SOV_place_hq_right_opposition
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_right_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_left_opposition
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_left_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_exiles
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_exiles = yes
			}
		}

		target_trigger = {
			FROM = {
				OR = {
					region = 147
					region = 151
					region = 149
					region = 208
					region = 284
					region = 285
				}
			}
		}
		available = {
			FROM = { SOV_is_unaligned_state = yes }
			NOT = { has_country_flag = SOV_align_state_in_process }
			IF = {
				limit = {
					SOV_is_exiles = yes
				}
				has_completed_focus = SOV_embrace_the_black_hundreds
			}
		}

		visible = {
			has_variable = SOV_civil_war_start_state
			NOT = { has_global_flag = SOV_soviet_civil_war }
			FROM = {
				SOV_is_display_state = yes
			}
		}
		on_map_mode = map_only
		cost = 5
		days_remove = 14
		complete_effect = {
			SOV_paranoia_very_low_increase_effect = yes
			IF = {
				limit = {
					NOT = { has_country_flag = SOV_siberia_states_unlocked }
				}
				set_country_flag = SOV_siberia_states_unlocked
			}
			SOV_start_infiltrating_state = yes
		}
		remove_effect = {
			SOV_set_civil_war_state = yes
			SOV_opposition_support_very_low_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
	}


	### The Far East
	SOV_align_states_far_east_csw = {
		name = SOV_planning_uprising_in_far_east
		state_target = yes
		ai_will_do = {
			base = 110
			modifier = {
				factor = 0
				check_variable = { SOV_paranoia > 65 } # let's be careful
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
			modifier = {
				factor = 2 # If totally safe
				check_variable = { SOV.SOV_paranoia < 35 }
			}
		}
		icon = {
			key = infiltrate_state
			trigger = {
				FROM = { SOV_is_unaligned_state = yes }
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_left_opposition_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_left }
					FROM = { has_state_flag = SOV_left_opposition_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_right_opposition_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_right }
					FROM = { has_state_flag = SOV_right_opposition_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_exiles_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_exiles }
					FROM = { has_state_flag = SOV_exiles_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_stalinist_state
			trigger = {
				FROM = { has_state_flag = SOV_stalinist_state }
			}
		}


		target_trigger = {
			FROM = {
				region = 148
			}
		}
		available = {
			FROM = { SOV_is_unaligned_state = yes }
			NOT = { has_country_flag = SOV_align_state_in_process }
			IF = {
				limit = {
					SOV_is_exiles = yes
				}
				has_completed_focus = SOV_embrace_the_black_hundreds
			}
		}

		visible = {
			has_variable = SOV_civil_war_start_state
			NOT = { has_global_flag = SOV_soviet_civil_war }
			FROM = {
				SOV_is_display_state = yes
			}
		}
		on_map_mode = map_only
		cost = 15
		days_remove = 14
		complete_effect = {
			SOV_paranoia_low_increase_effect = yes
			IF = {
				limit = {
					NOT = { has_country_flag = SOV_far_east_states_unlocked }
				}
				set_country_flag = SOV_far_east_states_unlocked
			}
			SOV_start_infiltrating_state = yes
		}
		remove_effect = {
			SOV_set_civil_war_state = yes
			SOV_opposition_support_very_low_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
	}


	### The Northern States
	SOV_align_states_northern_csw = {
		name = SOV_planning_uprising_in_northern
		ai_will_do = {
			base = 110
			modifier = {
				add = -10
				SOV_is_exiles = yes # Prio clearing Siberia and Far East
			}
			modifier = {
				factor = 0
				check_variable = { SOV_paranoia > 65 } # let's be careful
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
			modifier = {
				factor = 2 # If totally safe
				check_variable = { SOV.SOV_paranoia < 35 }
			}
		}
		icon = {
			key = infiltrate_state
			trigger = {
				FROM = { SOV_is_unaligned_state = yes }
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_left_opposition_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_left }
					FROM = { has_state_flag = SOV_left_opposition_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_right_opposition_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_right }
					FROM = { has_state_flag = SOV_right_opposition_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_exiles_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_exiles }
					FROM = { has_state_flag = SOV_exiles_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_stalinist_state
			trigger = {
				FROM = { has_state_flag = SOV_stalinist_state }
			}
		}
		# These ones to ensure the HQ stays put even after decision to place has been removed
		icon = {
			key = SOV_place_hq_right_opposition
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_right_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_left_opposition
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_left_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_exiles
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_exiles = yes
			}
		}
		state_target = yes
		#  targets = { region = 136 }

		target_trigger = {
			FROM = {
				OR = {
					region = 12
					region = 150
					state = 215
					state = 216
				}
				is_owned_by = ROOT
				is_controlled_by = ROOT
			}
		}
		allowed = { original_tag = SOV }
		available = {
			FROM = { SOV_is_unaligned_state = yes }
			NOT = { has_country_flag = SOV_align_state_in_process }
		}

		visible = {
			has_variable = SOV_civil_war_start_state
			NOT = { has_global_flag = SOV_soviet_civil_war }
			FROM = {
				SOV_is_display_state = yes
			}
		}

		on_map_mode = map_only
		cost = 15
		days_remove = 14
		complete_effect = {
			SOV_paranoia_low_increase_effect = yes
			IF = {
				limit = {
					NOT = { has_country_flag = SOV_northern_states_unlocked }
				}
				set_country_flag = SOV_northern_states_unlocked
			}
			SOV_start_infiltrating_state = yes
		}
		remove_effect = {
			SOV_set_civil_war_state = yes
			SOV_opposition_support_low_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
	}

	##### The Ukraine
	SOV_align_states_ukraine_csw = {
		name = SOV_planning_uprising_in_ukraine
		ai_will_do = {
			base = 150
			modifier = {
				factor = 0
				check_variable = { SOV_paranoia > 55 } # let's be careful
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
			modifier = {
				factor = 2 # If totally safe
				check_variable = { SOV.SOV_paranoia < 35 }
			}
		}
		icon = {
			key = infiltrate_state
			trigger = {
				FROM = { SOV_is_unaligned_state = yes }
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_left_opposition_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_left }
					FROM = { has_state_flag = SOV_left_opposition_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_right_opposition_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_right }
					FROM = { has_state_flag = SOV_right_opposition_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_exiles_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_exiles }
					FROM = { has_state_flag = SOV_exiles_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_stalinist_state
			trigger = {
				FROM = { has_state_flag = SOV_stalinist_state }
			}
		}
		# These ones to ensure the HQ stays put even after decision to place has been removed
		icon = {
			key = SOV_place_hq_right_opposition
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_right_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_left_opposition
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_left_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_exiles
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_exiles = yes
			}
		}
		state_target = yes

		target_trigger = {
			FROM = {
				region = 130
				is_owned_by = ROOT
				is_controlled_by = ROOT
			}
		}

		available = {
			FROM = { SOV_is_unaligned_state = yes }
			NOT = { has_country_flag = SOV_align_state_in_process }
		}

		visible = {
			has_variable = SOV_civil_war_start_state
			NOT = { has_global_flag = SOV_soviet_civil_war }
			FROM = {
				SOV_is_display_state = yes
			}
		}

		on_map_mode = map_only
		cost = 25
		days_remove = 14
		complete_effect = {
			SOV_paranoia_low_increase_effect = yes
			IF = {
				limit = {
					NOT = { has_country_flag = SOV_ukrainian_states_unlocked }
				}
				set_country_flag = SOV_ukrainian_states_unlocked
			}
			SOV_start_infiltrating_state = yes

		}
		remove_effect = {
			SOV_set_civil_war_state = yes
			SOV_opposition_support_medium_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
	}

	#### Great Steppe
	SOV_align_states_steppe_csw = {
		name = SOV_align_states_steppe
		ai_will_do = {
			base = 150
			modifier = {
				add = -60 # prio clearing the East
				SOV_is_exiles = yes
			}
			modifier = {
				factor = 0
				check_variable = { SOV_paranoia > 55 } # let's be careful
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
			modifier = {
				factor = 2 # If totally safe
				check_variable = { SOV.SOV_paranoia < 35 }
			}
		}
		icon = {
			key = infiltrate_state
			trigger = {
				FROM = { SOV_is_unaligned_state = yes }
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_left_opposition_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_left }
					FROM = { has_state_flag = SOV_left_opposition_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_right_opposition_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_right }
					FROM = { has_state_flag = SOV_right_opposition_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_exiles_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_exiles }
					FROM = { has_state_flag = SOV_exiles_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_stalinist_state
			trigger = {
				FROM = { has_state_flag = SOV_stalinist_state }
			}
		}
		# These ones to ensure the HQ stays put even after decision to place has been removed
		icon = {
			key = SOV_place_hq_right_opposition
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_right_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_left_opposition
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_left_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_exiles
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_exiles = yes
			}
		}
		state_target = yes
		#  targets = { region = 136 }

		target_trigger = {
			FROM = {
				OR = {
					region = 136
					# region = 137
				}
				is_owned_by = ROOT
				is_controlled_by = ROOT
			}
		}

		available = {
			FROM = { SOV_is_unaligned_state = yes }
			NOT = { has_country_flag = SOV_align_state_in_process }
		}

		visible = {
			has_variable = SOV_civil_war_start_state
			NOT = { has_global_flag = SOV_soviet_civil_war }
			FROM = {
				SOV_is_display_state = yes
			}
		}
		on_map_mode = map_only
		cost = 15
		days_remove = 14
		complete_effect = {
			SOV_paranoia_low_increase_effect = yes
			IF = {
				limit = {
					NOT = { has_country_flag = SOV_steppe_states_unlocked }
				}
				set_country_flag = SOV_steppe_states_unlocked
			}
			SOV_start_infiltrating_state = yes

		}
		remove_effect = {
			SOV_set_civil_war_state = yes
			SOV_opposition_support_medium_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
	}


	# The Urals and Trans Ural
	SOV_align_states_urals_csw = {
		name = SOV_planning_uprising_in_urals
		ai_will_do = {
			base = 120
			modifier = {
				factor = 0
				check_variable = { SOV_paranoia > 55 } # let's be careful
			}
			modifier = { # Save pp for NKVD Chief and Stalin Assassination
				factor = 0
				has_completed_focus = SOV_organize_uprisings_in_the_country
				NOT = { has_completed_focus = SOV_the_plan_for_the_coup }
			}
			modifier = {
				factor = 2 # If totally safe
				check_variable = { SOV.SOV_paranoia < 35 }
			}
		}
		icon = {
			key = infiltrate_state
			trigger = {
				FROM = { SOV_is_unaligned_state = yes }
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_left_opposition_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_left }
					FROM = { has_state_flag = SOV_left_opposition_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_right_opposition_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_right }
					FROM = { has_state_flag = SOV_right_opposition_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_exiles_state
			trigger = {
				OR = {
					FROM = { has_state_flag = SOV_is_aligning_exiles }
					FROM = { has_state_flag = SOV_exiles_state }
				}
				FROM = { NOT = { state = var:SOV.SOV_civil_war_start_state } }
			}
		}
		icon = {
			key = SOV_stalinist_state
			trigger = {
				FROM = { has_state_flag = SOV_stalinist_state }
			}
		}
		# These ones to ensure the HQ stays put even after decision to place has been removed
		icon = {
			key = SOV_place_hq_right_opposition
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_right_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_left_opposition
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_left_opposition = yes
			}
		}
		icon = {
			key = SOV_place_hq_exiles
			trigger = {
				FROM = { state = var:SOV.SOV_civil_war_start_state }
				SOV_is_exiles = yes
			}
		}
		state_target = yes
		#  targets = { region = 136 }

		target_trigger = {
			FROM = {
				OR = {
					region = 14
					region = 138
				}
				is_owned_by = ROOT
				is_controlled_by = ROOT
			}
		}
		allowed = { original_tag = SOV }
		available = {
			FROM = { SOV_is_unaligned_state = yes }
			NOT = { has_country_flag = SOV_align_state_in_process }
		}

		visible = {
			has_variable = SOV_civil_war_start_state
			NOT = { has_global_flag = SOV_soviet_civil_war }
			FROM = {
				SOV_is_display_state = yes
			}
		}
		on_map_mode = map_only
		cost = 15
		days_remove = 14
		complete_effect = {
			SOV_paranoia_low_increase_effect = yes
			IF = {
				limit = {
					NOT = { has_country_flag = SOV_urals_states_unlocked }
				}
				set_country_flag = SOV_urals_states_unlocked
			}
			SOV_start_infiltrating_state = yes
		}
		remove_effect = {
			SOV_set_civil_war_state = yes
			SOV_opposition_support_low_increase_effect = yes
			SOV_add_armed_forces_support_state = yes
		}
	}

	### Stalinist Counter Measures
	## Recruitment of Characters
	# Align a General or Field marshal
	SOV_align_general_stalin = {

		priority = 9

		icon = generic_military
		allowed = { tag = SOV }
		available = {
			var:SOV_selected_general_stalin = {
				OR = {
					has_trait = trait_SOV_bukharinist
					has_trait = trait_SOV_trotskyist
					has_trait = trait_SOV_monarchist_sympathizer
					custom_trigger_tooltip = {
						tooltip = SOV_character_purged_flag
						has_character_flag = SOV_character_purged_flag
					}
				}

			}

		}

		is_good = no

		days_mission_timeout = 30

		fire_only_once = no

		activation = {
			always = no # Only activated by triggers
		}

		visible = {
			hidden_trigger = {
				SOV_soviet_civil_war_not_started = yes

			}

		}
		cancel_if_not_visible = yes
		complete_effect = {
			hidden_effect = {
				clear_variable = SOV_selected_general_stalin
				SOV_launch_stalinist_counter_measure = yes
			}
		}

		timeout_effect = {
			custom_effect_tooltip = SOV_align_general_stalin_tt
			SOV_decrease_all_opposition_army = yes
			hidden_effect = {
				var:SOV_selected_general_stalin = {
					add_unit_leader_trait = trait_SOV_stalinist
				}
				clear_variable = SOV_selected_general_stalin
				SOV_launch_stalinist_counter_measure = yes # Prep for another run
			}
		}
	}
	# Align an Admiral
	SOV_align_admiral_stalin = {

		priority = 9

		icon = generic_military
		allowed = { tag = SOV }
		available = {
			var:SOV_selected_admiral_stalin = {
				OR = {
					has_trait = trait_SOV_bukharinist
					has_trait = trait_SOV_trotskyist
					has_trait = trait_SOV_monarchist_sympathizer
					custom_trigger_tooltip = {
						tooltip = SOV_character_purged_flag
						has_character_flag = SOV_character_purged_flag
					}
				}
			}
		}

		is_good = no

		days_mission_timeout = 30

		fire_only_once = no

		activation = {
			always = no # Only activated by triggers
		}

		visible = {
			hidden_trigger = {
				SOV_soviet_civil_war_not_started = yes
			}
		}
		cancel_if_not_visible = yes

		complete_effect = {
			hidden_effect = {
				clear_variable = SOV_selected_admiral_stalin
				SOV_launch_stalinist_counter_measure = yes
			}
		}

		timeout_effect = {
			custom_effect_tooltip = SOV_align_admiral_stalin_tt
			hidden_effect = {
				var:SOV_selected_admiral_stalin = {
					add_unit_leader_trait = trait_SOV_stalinist
				}
				clear_variable = SOV_selected_admiral_stalin
				SOV_launch_stalinist_counter_measure = yes # Prep for another run
			}
		}
	}

	## Stalin's crackdowns in unlocked Regions
	# Ukraine
	SOV_ukraine_crackdown_timer = {

		priority = 10

		icon = generic_ignite_civil_war
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 45
		days_re_enable = 10

		fire_only_once = no

		activation = {
			has_country_flag = SOV_ukrainian_states_unlocked
			NOT = { has_global_flag = SOV_soviet_civil_war }
			NOT = { has_global_flag = SOV_soviet_civil_war_over } #Communist civil war has been completed
			NOT = { SOV_has_crackdown = yes } # Only one at a time
		}

		visible = {
			any_owned_state = {
				region = 130
				SOV_is_unaligned_state = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {
			custom_effect_tooltip = SOV_ukraine_crackdown_timer_tt
			hidden_effect = {
				random_owned_state = {
					limit = {
						NOT = { has_state_flag = SOV_is_aligning_left }
						NOT = { has_state_flag = SOV_is_aligning_right }
						NOT = { has_state_flag = SOV_is_aligning_exiles	}
						SOV_is_unaligned_state = yes
						region = 130
					}
					set_state_flag = SOV_stalinist_state
				}
			}
			SOV_opposition_support_low_decrease_effect = yes
		}
	}
	# The Great Steppe Region
	SOV_steppe_crackdown_timer = {

		priority = 10

		icon = generic_ignite_civil_war
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 45
		days_re_enable = 10

		fire_only_once = no

		activation = {
			has_country_flag = SOV_steppe_states_unlocked
			NOT = { has_global_flag = SOV_soviet_civil_war }
			NOT = { has_global_flag = SOV_soviet_civil_war_over } #Communist civil war has been completed
			NOT = { SOV_has_crackdown = yes } # Only one at a time
		}

		visible = {
			any_owned_state = {
				region = 136
				SOV_is_unaligned_state = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {
			custom_effect_tooltip = SOV_steppe_crackdown_timer_tt
			hidden_effect = {
				random_owned_state = {
					limit = {
						NOT = { has_state_flag = SOV_is_aligning_left }
						NOT = { has_state_flag = SOV_is_aligning_right }
						NOT = { has_state_flag = SOV_is_aligning_exiles	}
						SOV_is_unaligned_state = yes
						region = 136
					}
					set_state_flag = SOV_stalinist_state
				}
			}
			SOV_opposition_support_low_decrease_effect = yes
		}
	}

	# The Northern Region
	SOV_northern_crackdown_timer = {

		priority = 10

		icon = generic_ignite_civil_war
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 45
		days_re_enable = 10

		fire_only_once = no

		activation = {
			has_country_flag = SOV_northern_states_unlocked
			NOT = { has_global_flag = SOV_soviet_civil_war }
			NOT = { has_global_flag = SOV_soviet_civil_war_over } #Communist civil war has been completed
			NOT = { SOV_has_crackdown = yes } # Only one at a time
		}

		visible = {
			any_owned_state = {
				OR = {
					region = 12
					region = 150
					state = 215
					state = 216
				}
				SOV_is_unaligned_state = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {
			custom_effect_tooltip = SOV_northern_crackdown_timer_tt
			hidden_effect = {
				random_owned_state = {
					limit = {
						NOT = { has_state_flag = SOV_is_aligning_left }
						NOT = { has_state_flag = SOV_is_aligning_right }
						NOT = { has_state_flag = SOV_is_aligning_exiles	}
						SOV_is_unaligned_state = yes
						OR = {
							region = 12
							region = 150
							state = 215
							state = 216
						}
					}
					set_state_flag = SOV_stalinist_state
				}
			}
			SOV_opposition_support_low_decrease_effect = yes
		}
	}

	# The Siberian Region
	SOV_siberian_crackdown_timer = {

		priority = 10

		icon = generic_ignite_civil_war
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 45
		days_re_enable = 10

		fire_only_once = no

		activation = {
			has_country_flag = SOV_siberia_states_unlocked
			NOT = { has_global_flag = SOV_soviet_civil_war }
			NOT = { SOV_has_crackdown = yes } # Only one at a time
			NOT = { has_global_flag = SOV_soviet_civil_war_over } #Communist civil war has been completed
		}

		visible = {
			any_owned_state = {
				OR = {
					region = 147
					region = 151
					region = 149
					region = 208
					region = 284
					region = 285
				}
				NOT = { SOV_is_unaligned_state = yes  }
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {
			custom_effect_tooltip = SOV_siberian_crackdown_timer_tt
			hidden_effect = {
				random_owned_state = {
					limit = {
						SOV_is_unaligned_state = yes
						OR = {
							region = 147
							region = 151
							region = 149
							region = 208
							region = 284
							region = 285
						}
					}
					set_state_flag = SOV_stalinist_state
				}
			}
			SOV_opposition_support_low_decrease_effect = yes
		}

	}

	# The urals Region
	SOV_urals_crackdown_timer = {

		priority = 10

		icon = generic_ignite_civil_war
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 45
		days_re_enable = 10

		fire_only_once = no

		activation = {
			has_country_flag = SOV_urals_states_unlocked
			NOT = { has_global_flag = SOV_soviet_civil_war }
			NOT = { SOV_has_crackdown = yes } # Only one at a time
			NOT = { has_global_flag = SOV_soviet_civil_war_over } #Communist civil war has been completed
		}

		visible = {
			any_owned_state = {
				OR = {
					region = 14
					region = 138
				}
				SOV_is_unaligned_state = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {
			custom_effect_tooltip = SOV_urals_crackdown_timer_tt
			hidden_effect = {
				random_owned_state = {
					limit = {
						NOT = { has_state_flag = SOV_is_aligning_left }
						NOT = { has_state_flag = SOV_is_aligning_right }
						SOV_is_unaligned_state = yes
						OR = {
							region = 14
							region = 138
						}
					}
					set_state_flag = SOV_stalinist_state
				}
			}
			SOV_opposition_support_low_decrease_effect = yes
		}
	}

	## Doing Stalin's focuses
	# The Stalin Constitution
	SOV_the_stalin_constitution_mission = {

		priority = 11

		icon = SOV_the_stalin_constitution
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 70
		fire_only_once = yes

		activation = {
			always = no #triggered by event
		}

		visible = {
			hidden_trigger = {
				SOV_soviet_civil_war_not_started = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {

			add_political_power = -25
			SOV_opposition_support_low_decrease_effect = yes
			set_country_flag = SOV_the_stalin_constitution_completed_flag
			hidden_effect = {
				country_event = {
					id = NSB_soviet_civil_war_common.005
					hours = 1
					random_hours = 8
				}
			}
			custom_effect_tooltip = SOV_the_stalin_constitution_mission_tt
		}
	}
	SOV_the_zinovyevite_terrorist_center_mission = {
		priority = 11

		icon = SOV_the_zinovyevite_terrorist_center
		allowed = { tag = SOV }

		is_good = no

		days_mission_timeout = 70
		fire_only_once = yes
		available = {
			OR = {
				has_completed_focus = SOV_left_eliminate_right
				has_completed_focus = SOV_divert_attention_towards_military
				has_completed_focus = SOV_eliminate_the_left
			}
		}

		activation = {
			always = no #triggered by event
		}

		visible = {
			hidden_trigger = {
				SOV_soviet_civil_war_not_started = yes
			}
		}
		cancel_if_not_visible = yes
		complete_effect = {
			custom_effect_tooltip = SOV_the_zinovyevite_terrorist_center_mission_avoided_tt
			hidden_effect = {
				set_country_flag = SOV_the_zinovyevite_terrorist_center_completed_flag
				country_event = {
					id = NSB_soviet_civil_war_common.005
					days = 175
				}
			}
		}

		timeout_effect = {

			custom_effect_tooltip = SOV_the_zinovyevite_terrorist_center_mission_tt
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_focus_flag days = 15 } #Used to prevent random purges from popping up while this is active
			set_country_flag = SOV_first_moscow_trial_flag #Used to unlock the next purge focus
			SOV_paranoia_high_increase_effect = yes

			#HISTORICAL
			#Zinovyev
			if = {
				limit = {
					has_character = SOV_grigory_zinovyev
					SOV_grigory_zinovyev = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_grigory_zinovyev = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Kamenev
			if = {
				limit = {
					has_character = SOV_lev_kamenev
					SOV_lev_kamenev = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_lev_kamenev = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Smirnov
			if = {
				limit = {
					has_character = SOV_ivan_smirnov
					SOV_ivan_smirnov = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_ivan_smirnov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}

			#NOT-SO-HISTORICAL
			#Sokolnikov
			if = {
				limit = {
					has_character = SOV_grigory_sokolnikov
					SOV_grigory_sokolnikov = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_grigory_sokolnikov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Shlyapnikov
			if = {
				limit = {
					has_character = SOV_aleksandr_shlyapnikov
					SOV_aleksandr_shlyapnikov = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_aleksandr_shlyapnikov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}

			custom_effect_tooltip = SOV_will_trigger_a_great_purge_tt
			hidden_effect = {
				set_country_flag = SOV_purge_event_unavoidable_flag #No way to avoid this purge. This people are about to be purged and there's nothing you can do for them.
				country_event = sov_armor.701 #FIRST MOSCOW TRIAL
			}
			custom_effect_tooltip = SOV_trigger_first_moscow_trial_tt
			set_country_flag = SOV_the_zinovyevite_terrorist_center_completed_flag

			hidden_effect = {
				country_event = {
					id = NSB_soviet_civil_war_common.005
					days = 140
				}
			}
		}
	}

	# The Anti-Stalin Soviet Trotskyist Centre
	SOV_the_anti_soviet_trotskyist_center_mission = {

		priority = 11

		icon = SOV_the_anti_soviet_trotskyist_center
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 35
		fire_only_once = yes

		activation = {
			always = no #triggered by event
		}

		visible = {
			hidden_trigger = {
				SOV_soviet_civil_war_not_started = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_focus_flag days = 15 } #Used to prevent random purges from popping up while this is active
			set_country_flag = SOV_second_moscow_trial_flag #Used to unlock the next purge focus
			SOV_paranoia_high_increase_effect = yes
			#HISTORICAL
			#Radek
			if = {
				limit = {
					has_character = SOV_karl_radek
					SOV_karl_radek = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_karl_radek = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#NOT-SO-HISTORICAL
			#Smilga
			if = {
				limit = {
					has_character = SOV_ivar_smilga
					SOV_ivar_smilga = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_ivar_smilga = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Preobrazhensky
			if = {
				limit = {
					has_character = SOV_yevgeny_preobrazhensky
					SOV_yevgeny_preobrazhensky = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_yevgeny_preobrazhensky = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Ryutin
			if = {
				limit = {
					has_character = SOV_martemyan_ryutin
					SOV_martemyan_ryutin = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_martemyan_ryutin = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Ustryalov
			if = {
				limit = {
					has_character = SOV_nikolay_ustryalov
					SOV_nikolay_ustryalov = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_nikolay_ustryalov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}

			custom_effect_tooltip = SOV_will_trigger_a_great_purge_tt
			hidden_effect = {
				set_country_flag = SOV_purge_event_unavoidable_flag #No way to avoid this purge. This people are about to be purged and there's nothing you can do for them.
				country_event = sov_armor.702 #SECOND MOSCOW TRIAL
			}
			custom_effect_tooltip = SOV_trigger_second_moscow_trial_tt
			set_country_flag = SOV_the_anti_soviet_trotskyist_center_completed_flag
			hidden_effect = {
				country_event = {
					id = NSB_soviet_civil_war_common.005
					days = 35
					random_hours = 12
				}
			}
		}
	}

	# The Workers Dictatorship
	SOV_the_workers_dictatorship_mission = {

		priority = 11

		icon = SOV_the_workers_dictatorship
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 70
		fire_only_once = yes

		activation = {
			always = no #triggered by event
		}

		visible = {
			hidden_trigger = {
				SOV_soviet_civil_war_not_started = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {

			add_political_power = -25
			SOV_opposition_support_low_decrease_effect = yes
			set_country_flag = SOV_the_workers_dictatorship_completed_flag
			hidden_effect = {
				country_event = {
					id = NSB_soviet_civil_war_common.005
					days = 70
				}
			}
			custom_effect_tooltip = SOV_the_workers_dictatorship_mission_tt
		}
	}

	# The Military Conspiracy
	SOV_the_military_conspiracy_mission = {

		priority = 11

		icon = SOV_the_military_conspiracy
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 35
		fire_only_once = yes

		activation = {
			always = no #triggered by event
		}

		visible = {
			hidden_trigger = {
				SOV_soviet_civil_war_not_started = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {

			SOV_decrease_all_opposition_army = yes
			set_country_flag = SOV_the_military_conspiracy_completed_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_focus_flag days = 15 } #Used to prevent random purges from popping up while this is active
			set_country_flag = SOV_trial_of_the_generals_flag #Used to unlock the next purge focus
			SOV_paranoia_high_increase_effect = yes

			#Historical
			if = {
				limit = {
					has_character = SOV_mikhail_tukhachevsky
					SOV_mikhail_tukhachevsky = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_mikhail_tukhachevsky = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#NOT-SO-HISTORICAL
			#Yegorov
			if = {
				limit = {
					has_character = SOV_aleksandr_yegorov
					SOV_aleksandr_yegorov = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_aleksandr_yegorov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Blyukher
			if = {
				limit = {
					has_character = SOV_vasily_blyukher
					SOV_vasily_blyukher = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_vasily_blyukher = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Primakov
			if = {
				limit = {
					has_character = SOV_vitaly_primakov
					SOV_vitaly_primakov = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_vitaly_primakov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}

			custom_effect_tooltip = SOV_will_trigger_a_great_purge_tt
			hidden_effect = {
				set_country_flag = SOV_purge_event_unavoidable_flag #No way to avoid this purge. This people are about to be purged and there's nothing you can do for them.
				country_event = sov_armor.703 #TRIAL OF THE GENERALS -> Tukhachevsky
			}

			set_country_flag = SOV_stalinist_military_flag #New Generals have more chances of being Stalinists after this
			hidden_effect = {
				country_event = {
					id = NSB_soviet_civil_war_common.005
					days = 70
				}
			}
		}
	}

	# Socialism in one country
	SOV_socialism_in_one_country_mission = {

		priority = 11

		icon = SOV_socialism_in_one_country
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 70
		fire_only_once = yes

		activation = {
			always = no #triggered by event
		}

		visible = {
			hidden_trigger = {
				SOV_soviet_civil_war_not_started = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {
			add_political_power = -25
			SOV_opposition_support_low_decrease_effect = yes
			set_country_flag = SOV_socialism_in_one_country_completed_flag
			custom_effect_tooltip = SOV_socialism_in_one_country_mission_tt
			hidden_effect = {
				country_event = {
					id = NSB_soviet_civil_war_common.005
					days = 70
				}
			}
		}
	}

	# Secure the administration
	SOV_secure_the_administration_mission = {

		priority = 11

		icon = SOV_secure_the_administration
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 70
		fire_only_once = yes

		activation = {
			always = no #triggered by event
		}

		visible = {
			hidden_trigger = {
				SOV_soviet_civil_war_not_started = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {
			custom_effect_tooltip = "TODO: Lock still neutral Advisors. Prevent Bloodless Coup" # TODO_THOMAS FIX EFFECT
			add_political_power = -25
			SOV_opposition_support_low_decrease_effect = yes
			set_country_flag = SOV_secure_the_administration_completed_flag
			custom_effect_tooltip = SOV_secure_the_administration_mission_tt
			hidden_effect = {
				country_event = {
					id = NSB_soviet_civil_war_common.005
					days = 140
				}
			}
		}
	}

	# The Third Moscow trial
	SOV_the_bloc_of_rights_and_trotskyites_mission = {

		priority = 11

		icon = SOV_the_bloc_of_rights_and_trotskyites
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 70
		fire_only_once = yes

		activation = {
			always = no #triggered by event
		}

		visible = {
			hidden_trigger = {
				SOV_soviet_civil_war_not_started = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {
			set_country_flag = SOV_the_bloc_of_rights_and_trotskyites_completed_flag
			set_country_flag = { flag = SOV_paranoia_random_purge_cooldown_from_focus_flag days = 15 } #Used to prevent random purges from popping up while this is active
			set_country_flag = SOV_third_moscow_trial_flag #Used to unlock the next purge focus
			#HISTORICAL
			#Bukharin
			if = {
				limit = {
					has_character = SOV_nikolay_bukharin
					SOV_nikolay_bukharin = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_nikolay_bukharin = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Rykov
			if = {
				limit = {
					has_character = SOV_aleksey_rykov
					SOV_aleksey_rykov = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_aleksey_rykov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#NOT-SO-HISTORICAL
			#Tomsky
			if = {
				limit = {
					has_character = SOV_mikhail_tomsky
					SOV_mikhail_tomsky = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_mikhail_tomsky = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}
			#Litvinov
			if = {
				limit = {
					has_character = SOV_maksim_litvinov
					SOV_maksim_litvinov = {
						SOV_character_can_be_purged = yes
					}
				}
				SOV_maksim_litvinov = {
					set_character_flag = SOV_targeted_for_purge_flag
				}
			}
			else = {
				SOV_add_random_character_to_purge_targets_effect = yes
			}

			custom_effect_tooltip = SOV_will_trigger_a_great_purge_tt
			hidden_effect = {
				set_country_flag = SOV_purge_event_unavoidable_flag #No way to avoid this purge. This people are about to be purged and there's nothing you can do for them.
				country_event = sov_armor.704 #THIRD MOSCOW TRIAL
			}
			custom_effect_tooltip = SOV_trigger_third_moscow_trial_tt
			hidden_effect = {
				country_event = {
					id = NSB_soviet_civil_war_common.005
					days = 520
				}
			}
		}
	}

	# Behead the snake
	SOV_behead_the_snake_mission = {

		priority = 11

		icon = SOV_behead_the_snake
		allowed = { tag = SOV }
		available = {
			hidden_trigger = { always = no }
		}

		is_good = no

		days_mission_timeout = 70
		fire_only_once = yes

		activation = {
			always = no #triggered by event
		}

		visible = {
			hidden_trigger = {
				SOV_soviet_civil_war_not_started = yes
			}
		}
		cancel_if_not_visible = yes

		timeout_effect = {
			custom_effect_tooltip = "TODO: Trigger Trotsky event" # TODO_THOMAS FIX EFFECT
			SOV_opposition_support_low_decrease_effect = yes
			set_country_flag = SOV_behead_the_snake_completed_flag
		}
	}

}


########  ######## ########  ##     ##    ###    ##    ## ######## ##    ## ########    ########  ######## ##     ##  #######  ##       ##     ## ######## ####  #######  ##    ##
##     ## ##       ##     ## ###   ###   ## ##   ###   ## ##       ###   ##    ##       ##     ## ##       ##     ## ##     ## ##       ##     ##    ##     ##  ##     ## ###   ##
##     ## ##       ##     ## #### ####  ##   ##  ####  ## ##       ####  ##    ##       ##     ## ##       ##     ## ##     ## ##       ##     ##    ##     ##  ##     ## ####  ##
########  ######   ########  ## ### ## ##     ## ## ## ## ######   ## ## ##    ##       ########  ######   ##     ## ##     ## ##       ##     ##    ##     ##  ##     ## ## ## ##
##        ##       ##   ##   ##     ## ######### ##  #### ##       ##  ####    ##       ##   ##   ##        ##   ##  ##     ## ##       ##     ##    ##     ##  ##     ## ##  ####
##        ##       ##    ##  ##     ## ##     ## ##   ### ##       ##   ###    ##       ##    ##  ##         ## ##   ##     ## ##       ##     ##    ##     ##  ##     ## ##   ###
##        ######## ##     ## ##     ## ##     ## ##    ## ######## ##    ##    ##       ##     ## ########    ###     #######  ########  #######     ##    ####  #######  ##    ##


SOV_permanent_revolution_dec_cat = {
	SOV_organize_fifth_columnists_in_enemy_neighbor = { #Initially for Enemy European Neighbors -> Then other continents
		priority = 10

		icon = GFX_decision_generic_nationalism

		ai_will_do = {
			base = 0.7
		}

		target_trigger = {
			FROM = {
				exists = yes
				has_war_with = ROOT
				NOT = { original_tag = SOV }
				any_controlled_state = {
					is_in_home_area = yes
					any_neighbor_state = {
						is_controlled_by = ROOT
					}
				}
			}
			SOV_target_capital_is_on_unlocked_continent_fifth_columnists = yes
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			FROM = {
				has_civil_war = no
				any_controlled_state = {
					is_in_home_area = yes
					is_capital = no
				}
			}
			has_equipment = {
			    infantry_equipment > 19999
			}
		}

		visible = {

			FROM = {
				exists = yes
				NOT = { has_government = communism }
			}
		}

		cost = 150

		fire_only_once = yes

		days_remove = SOV_permanent_revolution_uprising_days

		complete_effect = {
			add_equipment_to_stockpile = {
			    type = infantry_equipment
			    amount = -20000
			}
			hidden_effect = {
				FROM = {
					set_country_flag = SOV_permanent_revolution_ignite_uprising_timer_flag
					activate_mission = SOV_ignite_uprising_timer_mission
				}
			}
		}

		remove_effect = {
			SOV_permanent_revolution_spawn_fifth_columnists_effect = yes
		}
	}

	SOV_ignite_revolutionary_uprisings = {
		priority = 5

		icon = generic_political_rally

		target_trigger = {
			FROM = {
				exists = yes
				NOT = { is_in_faction_with = ROOT }
				NOT = { tag = ROOT }
				NOT = { original_tag = SOV }
				has_capitulated = no
				NOT = { has_government = communism }
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				FROM = {
					communism > 0.4
				}
			}
		}

		allowed = {
			original_tag = SOV
		}

		available = {
			NOT = { has_war_with = FROM }
			FROM = {
				NOT = { has_government = communism }
			}
			FROM = {
				communism > 0.1
			}
		}

		visible = {
			SOV_target_capital_is_on_unlocked_continent_uprisings = yes
			country_exists = FROM
			NOT = { has_war_with = FROM }
			FROM = {
				NOT = { is_in_faction_with = ROOT }
				has_capitulated = no
				NOT = { has_government = communism }
				any_controlled_state = {
					is_in_home_area = yes
					any_neighbor_state = {
						is_controlled_by = ROOT
					}
				}
			}
		}

		cost = 50

		fire_only_once = yes

		days_remove = 120

		complete_effect = {
			FROM = {
				if = { #If country has banned communism, then add the weakened version of the NS
					limit = {
						has_country_flag = banned_communism_flag
					}
					add_timed_idea = {
						idea = SOV_trotskyist_revolutionary_agitation_weakened
						days = 120
					}
				}
				else = {
					add_timed_idea = {
						idea = SOV_trotskyist_revolutionary_agitation
						days = 120
					}
				}
				country_event = { id = NSB_soviet_permanent_revolution.1 hours = 2 }
			}
			hidden_effect = {
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = 100
					}
				}
			}
		}

		remove_effect = {
			create_wargoal = {
				type = topple_government
				target = FROM
				expire = 90
			}
		}
	}

	SOV_ignite_uprising_timer_mission = {

		icon = generic_ignite_civil_war

		available = {
			hidden_trigger = { always = no }
		}

		days_mission_timeout = SOV.SOV_permanent_revolution_uprising_days

		fire_only_once = yes

		activation = {
			always = no
		}

		visible = {
			has_country_flag = SOV_permanent_revolution_ignite_uprising_timer_flag
		}

		cancel_if_not_visible = no

		is_good = yes

		timeout_effect = {
			clr_country_flag = SOV_permanent_revolution_ignite_uprising_timer_flag
			custom_effect_tooltip = SOV_ignite_uprising_timer_mission_tt
		}
	}
}

SOV_panslavic_nationalism = {

	SOV_integrate_czechoslovakia = {
		icon = generic_form_nation
		allowed = {
			tag = SOV
		}
		available = {
			has_full_control_of_state = 9
			has_full_control_of_state = 69
			has_full_control_of_state = 70
			has_full_control_of_state = 71
			has_full_control_of_state = 72
			has_full_control_of_state = 73
			has_full_control_of_state = 74
			has_full_control_of_state = 75
			has_full_control_of_state = 664
		}

		visible = {
			has_completed_focus = SOV_panslavic_nationalism
		}

		cost = 150
		fire_only_once = yes
		days_remove = 90
		ai_will_do = {
			factor = 1
		}

		remove_effect = {
			add_state_core = 9
			add_state_core = 69
			add_state_core = 70
			add_state_core = 71
			add_state_core = 72
			add_state_core = 73
			add_state_core = 74
			add_state_core = 75
			add_state_core = 664
		}

		complete_effect = {

		}
	}

	SOV_integrate_bulgaria = {
		icon = generic_form_nation
		allowed = {
			tag = SOV
		}
		available = {
			has_full_control_of_state = 48
			has_full_control_of_state = 211
			has_full_control_of_state = 212
			has_full_control_of_state = 801
		}

		visible = {
			has_completed_focus = SOV_panslavic_nationalism
		}

		cost = 75
		fire_only_once = yes
		days_remove = 90
		ai_will_do = {
			factor = 1
		}

		remove_effect = {
			add_state_core = 48
			add_state_core = 211
			add_state_core = 212
			add_state_core = 801
		}

		complete_effect = {

		}
	}

	SOV_integrate_poland = {
		icon = generic_form_nation
		allowed = {
			tag = SOV
		}
		available = {
			has_full_control_of_state = 97
			has_full_control_of_state = 85
			has_full_control_of_state = 762
			has_full_control_of_state = 90
			has_full_control_of_state = 88
			has_full_control_of_state = 92
			has_full_control_of_state = 91
			has_full_control_of_state = 95
			has_full_control_of_state = 94
			has_full_control_of_state = 86
			has_full_control_of_state = 98
			has_full_control_of_state = 89
			has_full_control_of_state = 10
			has_full_control_of_state = 96
			has_full_control_of_state = 784
			has_full_control_of_state = 93
			has_full_control_of_state = 87
		}

		visible = {
			has_completed_focus = SOV_panslavic_nationalism
		}

		cost = 150
		fire_only_once = yes
		days_remove = 90
		ai_will_do = {
			factor = 1
		}

		remove_effect = {
			add_state_core = 97
			add_state_core = 85
			add_state_core = 762
			add_state_core = 90
			add_state_core = 88
			add_state_core = 92
			add_state_core = 91
			add_state_core = 95
			add_state_core = 94
			add_state_core = 86
			add_state_core = 98
			add_state_core = 89
			add_state_core = 10
			add_state_core = 96
			add_state_core = 784
			add_state_core = 93
			add_state_core = 87
		}

		complete_effect = {

		}
	}

	SOV_integrate_yugoslavia = {
		icon = generic_form_nation
		allowed = {
			tag = SOV
		}
		available = {
			has_full_control_of_state = 104
			has_full_control_of_state = 109
			has_full_control_of_state = 103
			has_full_control_of_state = 804
			has_full_control_of_state = 802
			has_full_control_of_state = 106
			has_full_control_of_state = 105
			has_full_control_of_state = 108
			has_full_control_of_state = 107
			has_full_control_of_state = 102
			has_full_control_of_state = 803
			has_full_control_of_state = 45
			has_full_control_of_state = 764
		}

		visible = {
			has_completed_focus = SOV_panslavic_nationalism
		}

		cost = 100
		fire_only_once = yes
		days_remove = 90
		ai_will_do = {
			factor = 1
		}

		remove_effect = {
			add_state_core = 104
			add_state_core = 109
			add_state_core = 103
			add_state_core = 804
			add_state_core = 802
			add_state_core = 106
			add_state_core = 105
			add_state_core = 108
			add_state_core = 107
			add_state_core = 102
			add_state_core = 803
			add_state_core = 45
			add_state_core = 764
		}

		complete_effect = {

		}
	}

	SOV_declare_the_pan_slavic_union = {
		icon = generic_form_nation
		allowed = {
			tag = SOV
		}
		available = {
			has_country_flag = SOV_integrated_czechoslovakia_flag
			has_country_flag = SOV_integrated_bulgaria_flag
			has_country_flag = SOV_integrated_poland_flag
			has_country_flag = SOV_integrated_yugoslavia_flag
			has_full_control_of_state = 9
			has_full_control_of_state = 69
			has_full_control_of_state = 70
			has_full_control_of_state = 71
			has_full_control_of_state = 72
			has_full_control_of_state = 73
			has_full_control_of_state = 74
			has_full_control_of_state = 75
			has_full_control_of_state = 664
			has_full_control_of_state = 48
			has_full_control_of_state = 211
			has_full_control_of_state = 212
			has_full_control_of_state = 801
			has_full_control_of_state = 97
			has_full_control_of_state = 85
			has_full_control_of_state = 762
			has_full_control_of_state = 90
			has_full_control_of_state = 88
			has_full_control_of_state = 92
			has_full_control_of_state = 91
			has_full_control_of_state = 95
			has_full_control_of_state = 94
			has_full_control_of_state = 86
			has_full_control_of_state = 98
			has_full_control_of_state = 89
			has_full_control_of_state = 10
			has_full_control_of_state = 96
			has_full_control_of_state = 784
			has_full_control_of_state = 93
			has_full_control_of_state = 87
			has_full_control_of_state = 104
			has_full_control_of_state = 109
			has_full_control_of_state = 103
			has_full_control_of_state = 804
			has_full_control_of_state = 802
			has_full_control_of_state = 106
			has_full_control_of_state = 105
			has_full_control_of_state = 108
			has_full_control_of_state = 107
			has_full_control_of_state = 102
			has_full_control_of_state = 803
			has_full_control_of_state = 45
			has_full_control_of_state = 764
		}

		visible = {
			has_completed_focus = SOV_panslavic_nationalism
		}

		cost = 25
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}

		complete_effect = {
			set_cosmetic_tag = SOV_PANSLAVIC
			news_event = { id = nsb_news.405 hours = 12 }
		}
	}
}

SOV_new_ssr_category = {
	SOV_ssr_france = {
		icon = ger_reichskommissariats
		allowed = {
			tag = SOV
		}
		available = {
			has_completed_focus = SOV_formation_ssr
			has_government = communism
			735 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			32 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			21 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			31 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			25 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			33 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			26 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			22 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			20 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			19 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			23 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			30 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			14 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			24 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			15 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			16 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			17 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			18 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			785 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			855 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			985 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			790 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			8 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			34 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			979 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			6 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			27 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			28 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			29 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			has_equipment = {
				infantry_equipment > 9999
			}
			has_equipment = {
				support_equipment > 199
			}
			has_manpower > 150000
		}
		cost = 50
		fire_only_once = yes
		ai_will_do = {
			factor = 4000
			modifier = {
				factor = 0
				OR = {
					855 = {
						is_controlled_by = FRA
					}
				}
			}
		}
		visible = {
			has_completed_focus = SOV_formation_ssr
			has_government = communism
			NOT = {
				country_exists = FSR
			}
			OR = {
				controls_state = 855
			}
		}
		complete_effect = {
			release = FSR
			FSR = {
				transfer_state = 735
				transfer_state = 32
				transfer_state = 21
				transfer_state = 31
				transfer_state = 25
				transfer_state = 33
				transfer_state = 26
				transfer_state = 22
				transfer_state = 20
				transfer_state = 19
				transfer_state = 23
				transfer_state = 30
				transfer_state = 14
				transfer_state = 24
				transfer_state = 15
				transfer_state = 16
				transfer_state = 18
				transfer_state = 17
				transfer_state = 785
				transfer_state = 855
				transfer_state = 985
				transfer_state = 790
				transfer_state = 8
				transfer_state = 34
				transfer_state = 979
				transfer_state = 6
				transfer_state = 27
				transfer_state = 28
				transfer_state = 29
				set_state_controller = 735
				set_state_controller = 32
				set_state_controller = 21
				set_state_controller = 31
				set_state_controller = 25
				set_state_controller = 33
				set_state_controller = 26
				set_state_controller = 22
				set_state_controller = 20
				set_state_controller = 19
				set_state_controller = 23
				set_state_controller = 30
				set_state_controller = 14
				set_state_controller = 24
				set_state_controller = 15
				set_state_controller = 16
				set_state_controller = 18
				set_state_controller = 17
				set_state_controller = 785
				set_state_controller = 855
				set_state_controller = 985
				set_state_controller = 790
				set_state_controller = 8
				set_state_controller = 34
				set_state_controller = 979
				set_state_controller = 6
				set_state_controller = 27
				set_state_controller = 28
				set_state_controller = 29
				add_state_claim = 735
				add_state_claim = 32
				add_state_claim = 21
				add_state_claim = 31
				add_state_claim = 25
				add_state_claim = 33
				add_state_claim = 26
				add_state_claim = 22
				add_state_claim = 20
				add_state_claim = 19
				add_state_claim = 23
				add_state_claim = 30
				add_state_claim = 14
				add_state_claim = 24
				add_state_claim = 15
				add_state_claim = 16
				add_state_claim = 18
				add_state_claim = 17
				add_state_claim = 785
				add_state_claim = 855
				add_state_claim = 985
				add_state_claim = 790
				add_state_claim = 8
				add_state_claim = 34
				add_state_claim = 979
				add_state_claim = 6
				add_state_claim = 27
				add_state_claim = 28
				add_state_claim = 29
				inherit_technology = ROOT
				add_ideas = GER_reichkommissariats_governments2
				set_cosmetic_tag = FSR_commie
				SOV = {
					if = {
						limit = {
							OR = {
								has_dlc = "Together for Victory"
								has_dlc = "Man the Guns"
							}
						}
						set_autonomy = {
							target = FSR
							autonomy_state = autonomy_puppet
						}
					}
					else = {
						puppet = FSR
					}
					send_equipment = {
						target = FSR
						type = infantry_equipment
						amount = 9999
						old_prioritised = yes
					}
					send_equipment = {
						target = FSR
						type = support_equipment
						amount = 200
						old_prioritised = yes
					}
					add_manpower = -150000
				}
				hidden_effect = {
					add_stability = 0.3
					add_manpower = 150000
					add_ideas = GER_reichkommissariats_governments2
					855 = {
						add_extra_state_shared_building_slots = 8
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = industrial_complex
							level = 7
							instant_build = yes
						}
					}
					add_equipment_to_stockpile = {
						type = sov_inf_1
						amount = 10000
						producer = SOV
					}
				}
				load_oob = "RBE_Military_Police"
			}
			every_state = {
				limit = {
					is_controlled_by = FSR
				}
				set_compliance = 25
				set_garrison_strength = 1
			}
		}
	}
	SOV_ssr_italy = {
		icon = ger_reichskommissariats
		allowed = {
			tag = SOV
		}
		available = {
			has_completed_focus = SOV_formation_ssr
			has_government = communism
			115 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			117 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			156 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			986 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			157 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			2 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			856 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			162 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			161 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			158 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			159 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			160 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			39 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			885 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			886 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			736 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			856 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			has_equipment = {
				infantry_equipment > 1999
			}
			has_equipment = {
				support_equipment > 199
			}
			has_manpower > 150000
		}
		cost = 50
		fire_only_once = yes
		ai_will_do = {
			factor = 4000
			modifier = {
				factor = 0
				OR = {
					856 = {
						is_controlled_by = ITA
					}
				}
			}
		}
		visible = {
			has_completed_focus = SOV_formation_ssr
			has_government = communism
			NOT = {
				country_exists = ISS
			}
			OR = {
				controls_state = 856
			}
		}
		complete_effect = {
			release = ISS
			ISS = {
				transfer_state = 115
				transfer_state = 117
				transfer_state = 156
				transfer_state = 986
				transfer_state = 157
				transfer_state = 2
				transfer_state = 856
				transfer_state = 162
				transfer_state = 161
				transfer_state = 158
				transfer_state = 159
				transfer_state = 160
				transfer_state = 39
				transfer_state = 885
				transfer_state = 886
				transfer_state = 736
				transfer_state = 856
				transfer_state = 114
				transfer_state = 1
				transfer_state = 163
				set_state_controller = 115
				set_state_controller = 117
				set_state_controller = 156
				set_state_controller = 986
				set_state_controller = 157
				set_state_controller = 2
				set_state_controller = 856
				set_state_controller = 162
				set_state_controller = 161
				set_state_controller = 158
				set_state_controller = 159
				set_state_controller = 160
				set_state_controller = 39
				set_state_controller = 885
				set_state_controller = 886
				set_state_controller = 736
				set_state_controller = 856
				set_state_controller = 114
				set_state_controller = 1
				set_state_controller = 163
				add_state_claim = 115
				add_state_claim = 117
				add_state_claim = 156
				add_state_claim = 986
				add_state_claim = 157
				add_state_claim = 2
				add_state_claim = 856
				add_state_claim = 162
				add_state_claim = 161
				add_state_claim = 158
				add_state_claim = 159
				add_state_claim = 160
				add_state_claim = 39
				add_state_claim = 885
				add_state_claim = 886
				add_state_claim = 736
				add_state_claim = 856
				add_state_claim = 114
				add_state_claim = 1
				add_state_claim = 163
				inherit_technology = ROOT
				add_ideas = GER_reichkommissariats_governments2
				set_cosmetic_tag = ISS_commie
				SOV = {
					if = {
						limit = {
							OR = {
								has_dlc = "Together for Victory"
								has_dlc = "Man the Guns"
							}
						}
						set_autonomy = {
							target = ISS
							autonomy_state = autonomy_puppet
						}
					}
					else = {
						puppet = ISS
					}
					send_equipment = {
						target = ISS
						type = infantry_equipment
						amount = 9999
						old_prioritised = yes
					}
					send_equipment = {
						target = ISS
						type = support_equipment
						amount = 200
						old_prioritised = yes
					}
					add_manpower = -150000
				}
				hidden_effect = {
					add_stability = 0.3
					add_manpower = 150000
					add_ideas = GER_reichkommissariats_governments2
					856 = {
						add_extra_state_shared_building_slots = 8
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = industrial_complex
							level = 7
							instant_build = yes
						}
					}
					add_equipment_to_stockpile = {
						type = sov_inf_1
						amount = 10000
						producer = SOV
					}
				}
				load_oob = "RBE_Military_Police"
			}
			every_state = {
				limit = {
					is_controlled_by = ISS
				}
				set_compliance = 25
				set_garrison_strength = 1
			}
		}
	}
	SOV_dprk = {
		icon = ger_reichskommissariats
		allowed = {
			tag = SOV
		}
		available = {
			has_government = communism
			846 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			845 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			527 = {
				CONTROLLER = {
					OR = {
						tag = SOV
						is_subject_of = SOV
						is_puppet_of = SOV
					}
				}
			}
			has_equipment = {
				infantry_equipment > 4999
			}
			has_equipment = {
				support_equipment > 199
			}
			has_manpower > 75000
		}
		cost = 50
		fire_only_once = yes
		ai_will_do = {
			factor = 4000
			modifier = {
				factor = 0
				OR = {
					525 = {
						is_controlled_by = JAP
					}
				}
			}
		}
		visible = {
			has_government = communism
			NOT = {
				country_exists = DPR
			}
			OR = {
				controls_state = 846
				controls_state = 845
				controls_state = 527
			}
		}
		complete_effect = {
			release = DPR
			DPR = {
				transfer_state = 846
				transfer_state = 845
				transfer_state = 527
				set_state_controller = 846
				set_state_controller = 845
				set_state_controller = 527
				add_state_claim = 846
				add_state_claim = 845
				add_state_claim = 527
				add_state_core = 846
				add_state_core = 845
				add_state_core = 527
				inherit_technology = ROOT
				set_cosmetic_tag = DPR_commie
				SOV = {
					if = {
						limit = {
							OR = {
								has_dlc = "Together for Victory"
								has_dlc = "Man the Guns"
							}
						}
						set_autonomy = {
							target = DPR
							autonomy_state = autonomy_puppet
						}
					}
					else = {
						puppet = DPR
					}
					send_equipment = {
						target = DPR
						type = infantry_equipment
						amount = 9999
						old_prioritised = yes
					}
					send_equipment = {
						target = DPR
						type = support_equipment
						amount = 200
						old_prioritised = yes
					}
					add_manpower = -75000
				}
				hidden_effect = {
					add_stability = 0.3
					add_manpower = 150000
					845 = {
						add_extra_state_shared_building_slots = 8
						add_building_construction = {
							type = arms_factory
							level = 7
							instant_build = yes
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
					DPR = {
						set_popularities = {
								democratic = 0
								neutrality = 0
								fascism = 0
								communism = 100
						}
					}
				}
			}
		}
	}
}