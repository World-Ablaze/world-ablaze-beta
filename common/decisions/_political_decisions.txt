fascism_on_the_rise = {
	prepare_for_fascist_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			fascism > 0.1
		}

		visible = {
			NOT = { has_country_flag = preparation_for_fascist_civil_war }
			has_idea_with_trait = fascist_demagogue
			NOT = { has_government = fascism }
			check_has_focus_tree_to_switch_to_fascism = yes
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			set_country_flag = preparation_for_fascist_civil_war
		}

		ai_will_do = {
			factor = 0
		}
	}

	expand_civil_fascism_support = {

		icon = generic_civil_support

		visible = {
			OR = {
				has_country_flag = preparation_for_fascist_civil_war
				has_country_flag = open_up_political_discourse_fascism
			}
			OR = {
				has_idea_with_trait = fascist_demagogue
				has_idea_with_trait = syncretic_revanchist
			}
			NOT = { has_government = fascism }
			check_has_focus_tree_to_switch_to_fascism = yes
		}

		cancel_trigger = {
			hidden_trigger = {
				has_civil_war = yes
			}
		}

		fire_only_once = no

		cost = 25

		days_remove = 30

		modifier = {
			fascism_drift = 0.02
			stability_weekly = -0.03
 			political_power_gain = -0.2
		}

		ai_will_do = {
			factor = 1
		}
	}

	army_support_for_fascist_civil_war = {

		icon = generic_army_support

		visible = {
			has_country_flag = preparation_for_fascist_civil_war
			OR = {
				has_idea_with_trait = fascist_demagogue
				has_idea_with_trait = syncretic_revanchist
			}
			NOT = { has_government = fascism }
			check_has_focus_tree_to_switch_to_fascism = yes
		}

		cancel_trigger = {
			hidden_trigger = {
				has_civil_war = yes
			}
		}

		fire_only_once = no

		cost = 50

		days_remove = 30

		modifier = {
			command_power_gain = -0.2
		}

		remove_effect = {
			if = {
				limit = {
					check_variable = { var = army_support_var value = 0.1 compare = less_than }
				}
				set_variable = { var = army_support_var value = 0.1 }
			}
			if = {
				limit = {
					check_variable = { var = army_support_var value = 0.1 compare = greater_than_or_equals }
				}
				add_to_variable = { var = army_support_var value = 0.1 }
			}
			set_country_flag = military_support_for_fascist_civil_war
			custom_effect_tooltip = army_support_TT
		}

		complete_effect = {
		}

		ai_will_do = {
			factor = 0
		}
	}

	ensure_general_loyalty_for_fascist_civil_war = {

		icon = generic_army_support

		available = {
			has_country_flag = military_support_for_fascist_civil_war
		}

		visible = {
			has_country_flag = preparation_for_fascist_civil_war
			OR = {
				has_idea_with_trait = fascist_demagogue
				has_idea_with_trait = syncretic_revanchist
			}
			NOT = { has_government = fascism }
			any_army_leader = {
				is_field_marshal = no
				NOT = { has_trait = hidden_sympathies }
			}
			check_has_focus_tree_to_switch_to_fascism = yes
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			country_event = { id = decisions.1 }
		}

		ai_will_do = {
			factor = 0
		}
	}

	ensure_marshal_loyalty_for_fascist_civil_war = {

		icon = generic_army_support

		available = {
			has_country_flag = military_support_for_fascist_civil_war
		}

		visible = {
			has_country_flag = preparation_for_fascist_civil_war
			OR = {
				has_idea_with_trait = fascist_demagogue
				has_idea_with_trait = syncretic_revanchist
			}
			NOT = { has_government = fascism }
			any_army_leader = {
				NOT = { has_trait = hidden_sympathies }
			}
			check_has_focus_tree_to_switch_to_fascism = yes
			any_army_leader = {
				is_field_marshal = yes
				NOT = { has_unit_leader_flag = hidden_sympathies_marshal }
			}
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			country_event = { id = decisions.2 }
		}

		ai_will_do = {
			factor = 0
		}
	}

	siphon_equipment_stockpiles_for_fascist_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			has_country_flag = military_support_for_fascist_civil_war
			has_equipment = { infantry_equipment > 1000 }
			command_power > 2
		}

		visible = {
			has_country_flag = preparation_for_fascist_civil_war
			has_country_flag = military_support_for_fascist_civil_war
			OR = {
				has_idea_with_trait = fascist_demagogue
				has_idea_with_trait = syncretic_revanchist
			}
			NOT = { has_government = fascism }
			check_has_focus_tree_to_switch_to_fascism = yes
		}

		fire_only_once = no

		cost = 50

		complete_effect = {
			add_command_power = -2
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
			set_country_flag = siphoned_equipment_stockpiles_for_civil_war
		}

		ai_will_do = {
			factor = 0
		}
	}

	formulate_surprise_attack_plan_for_fascist_civil_war = {

		icon = generic_army_support

		available = {
			has_country_flag = military_support_for_fascist_civil_war
			command_power > 2
		}

		visible = {
			has_country_flag = preparation_for_fascist_civil_war
			has_idea_with_trait = fascist_demagogue
			NOT = { has_government = fascism }
			check_has_focus_tree_to_switch_to_fascism = yes
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			add_command_power = -2
			custom_effect_tooltip = formulate_surprise_attack_plan_for_civil_war_tt
			set_country_flag = formulated_surprise_attack_plan_for_civil_war
		}

		ai_will_do = {
			factor = 0
		}
	}

	ignite_the_fascist_civil_war = {

		icon = generic_ignite_civil_war

		available = {
			has_stability < 0.5
		}

		visible = {
			has_country_flag = preparation_for_fascist_civil_war
			has_idea_with_trait = fascist_demagogue
			NOT = { has_government = fascism }
			check_has_focus_tree_to_switch_to_fascism = yes
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			if = {
				limit = {
					has_government = democratic
				}
				set_variable = {
					var = civil_war_size_var
					value = party_popularity@democratic
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				set_variable = {
					var = civil_war_size_var
					value = party_popularity@communism
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				set_variable = {
					var = civil_war_size_var
					value = party_popularity@neutrality
				}
			}
			subtract_from_variable = {
				var = civil_war_size_var
				value = army_support_var
			}
			if = {
				limit = {
					check_variable = {
						var = civil_war_size_var
						value = 0.3
						compare = less_than
					}
				}
				set_variable = {
					var = civil_war_size_var
					value = 0.3
				}
			}
			start_civil_war = {
				ruling_party = fascism
				ideology = ROOT
				size = civil_war_size_var
				keep_unit_leaders_trigger = {
					has_trait = hidden_sympathies
				}
			}
			clr_country_flag = preparation_for_fascism_civil_war
			clr_country_flag = military_support_for_fascism_civil_war
			clr_country_flag = civil_support_for_fascism_civil_war
			set_country_flag = ideology_civil_war
		}

		ai_will_do = {
			factor = 0
		}
	}

	rebuild_the_nation_fascism = {

		icon = generic_construction

		visible = {
			has_government = fascism
			has_country_flag = won_ideology_civil_war
		}

		fire_only_once = yes

		cost = 25

		days_remove = 365

		modifier = {
			political_power_gain = -1
			industry_repair_factor = 0.20
			production_speed_industrial_complex_factor = 0.1
			production_speed_infrastructure_factor = 0.1
			industrial_capacity_factory = 0.1
			industrial_capacity_dockyard = 0.1
		}

		ai_will_do = {
			factor = 200
		}
	}

	open_up_political_discourse_fascism = {

		icon = generic_political_discourse

		available = {
			fascism < 0.9
			democratic < 0.9
			communism < 0.9
			neutrality < 0.9
		}

		visible = {
			has_idea_with_trait = fascist_demagogue
			NOT = { has_country_flag = open_up_political_discourse_fascism }
			NOT = { has_government = fascism }
			check_has_focus_tree_to_switch_to_fascism = yes
			NOT = { tag = HUN }
		}

		remove_trigger = {
			has_government = fascism
		}

		fire_only_once = yes

		cost = 75

		complete_effect = {
			set_country_flag = open_up_political_discourse_fascism
		}

		ai_will_do = {
			factor = 1
		}
	}

	discredit_government_fascism = {

		icon = generic_political_discourse

		available = {
			fascism < 0.8
			democratic < 0.8
			communism < 0.8
			neutrality < 0.8
			has_idea_with_trait = fascist_demagogue
		}

		visible = {
			has_country_flag = open_up_political_discourse_fascism
			NOT = { has_government = fascism }
			check_has_focus_tree_to_switch_to_fascism = yes
		}

		remove_trigger = {
			has_government = fascism
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			add_stability = -0.010
			if = {
				limit = {
					has_government = democratic
				}
				add_popularity = {
					ideology = democratic
					popularity = -0.1
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				add_popularity = {
					ideology = communism
					popularity = -0.1
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				add_popularity = {
					ideology = neutrality
					popularity = -0.1
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	hold_the_fascist_national_referendum = {

		icon = generic_political_discourse

		available = {
			fascism > 0.5
		}

		visible = {
			NOT = { has_government = fascism }
			OR = {
				fascism > 0.6
				has_country_flag = open_up_political_discourse_fascism
			}
			check_has_focus_tree_to_switch_to_fascism = yes
		}

		remove_trigger = {
			has_government = fascism
		}

		fire_only_once = yes

		cost = 100

		complete_effect = {
			country_event = { id = political.18 }
		}

		ai_will_do = {
			factor = 210
			modifier = {
				fascism > 0.6
				factor = 10
			}
		}
	}
}

democratic_on_the_rise = {
	prepare_for_democratic_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			democratic > 0.1
		}

		visible = {
			NOT = { has_country_flag = preparation_for_democratic_civil_war }
			has_idea_with_trait = democratic_reformer
			NOT = { has_government = democratic }
			NOT = { original_tag = CHI }
			check_has_focus_tree_to_switch_to_democratic = yes
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			set_country_flag = preparation_for_democratic_civil_war
		}

		ai_will_do = {
			factor = 0
		}
	}

	expand_civil_democratic_support = {

		icon = generic_civil_support

		visible = {
			OR = {
				has_country_flag = preparation_for_democratic_civil_war
				has_country_flag = open_up_political_discourse_democratic
			}
			has_idea_with_trait = democratic_reformer
			NOT = { has_government = democratic }
			NOT = { original_tag = CHI }
			check_has_focus_tree_to_switch_to_democratic = yes
		}

		cancel_trigger = {
			hidden_trigger = {
				has_civil_war = yes
			}
		}

		fire_only_once = no

		cost = 25

		days_remove = 30

		modifier = {
			democratic_drift = 0.02
			stability_weekly = -0.03
 			political_power_gain = -0.2
		}

		ai_will_do = {
			factor = 1
		}
	}

	army_support_for_democratic_civil_war = {

		icon = generic_army_support

		visible = {
			has_country_flag = preparation_for_democratic_civil_war
			has_idea_with_trait = democratic_reformer
			NOT = { has_government = democratic }
			NOT = { original_tag = CHI }
			check_has_focus_tree_to_switch_to_democratic = yes
		}

		cancel_trigger = {
			hidden_trigger = {
				has_civil_war = yes
			}
		}

		fire_only_once = no

		cost = 50

		days_remove = 30

		modifier = {
			command_power_gain = -0.2
		}

		remove_effect = {
			if = {
				limit = {
					check_variable = { var = army_support_var value = 0.1 compare = less_than }
				}
				set_variable = { var = army_support_var value = 0.1 }
			}
			if = {
				limit = {
					check_variable = { var = army_support_var value = 0.1 compare = greater_than_or_equals }
				}
				add_to_variable = { var = army_support_var value = 0.1 }
			}
			set_country_flag = military_support_for_democratic_civil_war
		}

		complete_effect = {
		}

		ai_will_do = {
			factor = 0
		}
	}

	ensure_general_loyalty_for_democratic_civil_war = {

		icon = generic_army_support

		available = {
			has_country_flag = military_support_for_democratic_civil_war
			command_power > 2
		}

		visible = {
			has_country_flag = preparation_for_democratic_civil_war
			has_idea_with_trait = democratic_reformer
			NOT = { has_government = democratic }
			any_army_leader = {
				is_field_marshal = no
				NOT = { has_trait = hidden_sympathies }
			}
			check_has_focus_tree_to_switch_to_democratic = yes
			NOT = { original_tag = CHI }
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			country_event = { id = decisions.1 }
		}

		ai_will_do = {
			factor = 0
		}
	}

	ensure_marshal_loyalty_for_democratic_civil_war = {

		icon = generic_army_support

		available = {
			has_country_flag = military_support_for_democratic_civil_war
			command_power > 2
		}

		visible = {
			has_country_flag = preparation_for_democratic_civil_war
			has_idea_with_trait = democratic_reformer
			NOT = { has_government = democratic }
			any_army_leader = {
				NOT = { has_trait = hidden_sympathies }
			}
			check_has_focus_tree_to_switch_to_democratic = yes
			any_army_leader = {
				is_field_marshal = yes
				NOT = { has_unit_leader_flag = hidden_sympathies_marshal }
			}
			NOT = { original_tag = CHI }
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			country_event = { id = decisions.2 }
		}

		ai_will_do = {
			factor = 0
		}
	}

	siphon_equipment_stockpiles_for_democratic_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			has_country_flag = military_support_for_democratic_civil_war
			has_equipment = { infantry_equipment > 1000 }
			command_power > 2
		}

		visible = {
			has_country_flag = preparation_for_democratic_civil_war
			has_country_flag = military_support_for_democratic_civil_war
			has_idea_with_trait = democratic_reformer
			NOT = { has_government = democratic }
			check_has_focus_tree_to_switch_to_democratic = yes
			NOT = { original_tag = CHI }
		}

		fire_only_once = no

		cost = 50

		complete_effect = {
			add_command_power = -2
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
			set_country_flag = siphoned_equipment_stockpiles_for_civil_war
		}

		ai_will_do = {
			factor = 0
		}
	}

	formulate_surprise_attack_plan_for_democratic_civil_war = {

		icon = generic_army_support

		available = {
			has_country_flag = military_support_for_democratic_civil_war
			command_power > 2
		}

		visible = {
			has_country_flag = preparation_for_democratic_civil_war
			has_idea_with_trait = democratic_reformer
			NOT = { has_government = democratic }
			check_has_focus_tree_to_switch_to_democratic = yes
			NOT = { original_tag = CHI }
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			add_command_power = -2
			custom_effect_tooltip = formulate_surprise_attack_plan_for_civil_war_tt
			set_country_flag = formulated_surprise_attack_plan_for_civil_war
		}

		ai_will_do = {
			factor = 0
		}
	}

	ignite_the_democratic_civil_war = {

		icon = generic_ignite_civil_war

		available = {
			has_stability < 0.5
		}

		visible = {
			has_country_flag = preparation_for_democratic_civil_war
			has_idea_with_trait = democratic_reformer
			NOT = { has_government = democratic }
			check_has_focus_tree_to_switch_to_democratic = yes
			NOT = { original_tag = CHI }
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			if = {
				limit = {
					has_government = fascism
				}
				set_variable = {
					var = civil_war_size_var
					value = party_popularity@fascism
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				set_variable = {
					var = civil_war_size_var
					value = party_popularity@communism
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				set_variable = {
					var = civil_war_size_var
					value = party_popularity@neutrality
				}
			}
			subtract_from_variable = {
				var = civil_war_size_var
				value = army_support_var
			}
			if = {
				limit = {
					check_variable = {
						var = civil_war_size_var
						value = 0.3
						compare = less_than
					}
				}
				set_variable = {
					var = civil_war_size_var
					value = 0.3
				}
			}
			start_civil_war = {
				ruling_party = democratic
				ideology = ROOT
				size = civil_war_size_var
				keep_unit_leaders_trigger = {
					has_trait = hidden_sympathies
				}
			}
			clr_country_flag = preparation_for_democratic_civil_war
			clr_country_flag = military_support_for_democratic_civil_war
			clr_country_flag = civil_support_for_democratic_civil_war
		}

		ai_will_do = {
			factor = 0
		}
	}

	rebuild_the_nation_democratic = {

		icon = generic_construction

		visible = {
			has_government = democratic
			has_country_flag = won_ideology_civil_war
		}

		fire_only_once = yes

		cost = 25

		days_remove = 365

		modifier = {
			political_power_gain = -1
			industry_repair_factor = 0.20
			production_speed_industrial_complex_factor = 0.1
			production_speed_infrastructure_factor = 0.1
			industrial_capacity_factory = 0.1
			industrial_capacity_dockyard = 0.1
		}

		ai_will_do = {
			factor = 200
		}
	}

	open_up_political_discourse_democratic = {

		icon = generic_political_discourse

		available = {
			fascism < 0.9
			democratic < 0.9
			communism < 0.9
			neutrality < 0.9
		}

		visible = {
			has_idea_with_trait = democratic_reformer
			NOT = { has_government = democratic }
			check_has_focus_tree_to_switch_to_democratic = yes
			NOT = { original_tag = CHI }
		}

		remove_trigger = {
			has_government = democratic
		}

		fire_only_once = yes

		cost = 75

		complete_effect = {
			set_country_flag = open_up_political_discourse_democratic
		}

		ai_will_do = {
			factor = 1
		}
	}

	discredit_government_democratic = {

		icon = generic_political_discourse

		available = {
			fascism < 0.8
			democratic < 0.8
			communism < 0.8
			neutrality < 0.8
			has_idea_with_trait = democratic_reformer
		}

		visible = {
			has_country_flag = open_up_political_discourse_democratic
			NOT = { has_government = democratic }
			check_has_focus_tree_to_switch_to_democratic = yes
			NOT = { original_tag = CHI }
		}

		remove_trigger = {
			has_government = democratic
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			add_stability = -0.010
			if = {
				limit = {
					has_government = fascism
				}
				add_popularity = {
					ideology = fascism
					popularity = -0.1
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				add_popularity = {
					ideology = communism
					popularity = -0.1
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				add_popularity = {
					ideology = neutrality
					popularity = -0.1
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	hold_the_democratic_national_referendum = {

		icon = generic_political_discourse

		available = {
			democratic > 0.5
		}

		visible = {
			NOT = { has_government = democratic }
			OR = {
				democratic > 0.6
				has_country_flag = open_up_political_discourse_democratic
			}
			check_has_focus_tree_to_switch_to_democratic = yes
			NOT = { original_tag = CHI }
		}

		remove_trigger = {
			has_government = democratic
		}

		fire_only_once = yes

		cost = 100

		complete_effect = {
			country_event = { id = political.20 }
		}

		ai_will_do = {
			factor = 210
			modifier = {
				democratic > 0.6
				factor = 10
			}
		}
	}
}

communism_on_the_rise = {
	prepare_for_communist_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			communism > 0.1
		}

		visible = {
			NOT = { has_country_flag = preparation_for_communism_civil_war }
			has_idea_with_trait = communist_revolutionary
			NOT = { has_government = communism }
			check_has_focus_tree_to_switch_to_communism = yes
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			set_country_flag = preparation_for_communist_civil_war
		}

		ai_will_do = {
			factor = 0
		}
	}

	expand_civil_communist_support = {

		icon = generic_civil_support

		visible = {
			OR = {
				has_country_flag = preparation_for_communist_civil_war
				has_country_flag = open_up_political_discourse_communism
			}
			has_idea_with_trait = communist_revolutionary
			NOT = { has_government = communism }
			check_has_focus_tree_to_switch_to_communism = yes
		}

		cancel_trigger = {
			hidden_trigger = {
				has_civil_war = yes
			}
		}

		fire_only_once = no

		cost = 25

		days_remove = 30

		modifier = {
			communism_drift = 0.02
			stability_weekly = -0.03
 			political_power_gain = -0.2
		}

		ai_will_do = {
			factor = 1
		}
	}

	army_support_for_communist_civil_war = {

		icon = generic_army_support

		visible = {
			has_country_flag = preparation_for_communist_civil_war
			has_idea_with_trait = communist_revolutionary
			NOT = { has_government = communism }
			check_has_focus_tree_to_switch_to_communism = yes
		}

		cancel_trigger = {
			hidden_trigger = {
				has_civil_war = yes
			}
		}

		fire_only_once = no

		cost = 50

		days_remove = 30

		modifier = {
			command_power_gain = -0.2
		}

		remove_effect = {
			if = {
				limit = {
					check_variable = { var = army_support_var value = 0.1 compare = less_than }
				}
				set_variable = { var = army_support_var value = 0.1 }
			}
			if = {
				limit = {
					check_variable = { var = army_support_var value = 0.1 compare = greater_than_or_equals }
				}
				add_to_variable = { var = army_support_var value = 0.1 }
			}
			set_country_flag = military_support_for_communist_civil_war
		}

		complete_effect = {
		}

		ai_will_do = {
			factor = 0
		}
	}

	ensure_general_loyalty_for_communist_civil_war = {

		icon = generic_army_support

		available = {
			has_country_flag = military_support_for_communist_civil_war
			command_power > 2
		}

		visible = {
			has_country_flag = preparation_for_communist_civil_war
			has_idea_with_trait = communist_revolutionary
			NOT = { has_government = communism }
			any_army_leader = {
				is_field_marshal = no
				NOT = { has_trait = hidden_sympathies }
			}
			check_has_focus_tree_to_switch_to_communism = yes
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			country_event = { id = decisions.1 }
		}

		ai_will_do = {
			factor = 0
		}
	}

	ensure_marshal_loyalty_for_communist_civil_war = {

		icon = generic_army_support

		available = {
			has_country_flag = military_support_for_communist_civil_war
			command_power > 2
		}

		visible = {
			has_country_flag = preparation_for_communist_civil_war
			has_idea_with_trait = communist_revolutionary
			NOT = { has_government = communism }
			any_army_leader = {
				NOT = { has_trait = hidden_sympathies }
			}
			check_has_focus_tree_to_switch_to_communism = yes
			any_army_leader = {
				is_field_marshal = yes
				NOT = { has_unit_leader_flag = hidden_sympathies_marshal }
			}
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			country_event = { id = decisions.2 }
		}

		ai_will_do = {
			factor = 0
		}
	}

	siphon_equipment_stockpiles_for_communist_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			has_country_flag = military_support_for_communist_civil_war
			has_equipment = { infantry_equipment > 1000 }
			command_power > 2
		}

		visible = {
			has_country_flag = preparation_for_communist_civil_war
			has_country_flag = military_support_for_communist_civil_war
			has_idea_with_trait = communist_revolutionary
			check_has_focus_tree_to_switch_to_communism = yes
			NOT = { has_government = communism }
		}

		fire_only_once = no

		cost = 50

		complete_effect = {
			add_command_power = -2
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
			set_country_flag = siphoned_equipment_stockpiles_for_civil_war
		}

		ai_will_do = {
			factor = 0
		}
	}

	formulate_surprise_attack_plan_for_communist_civil_war = {

		icon = generic_army_support

		available = {
			has_country_flag = military_support_for_communist_civil_war
			command_power > 2
		}

		visible = {
			has_country_flag = preparation_for_communist_civil_war
			has_idea_with_trait = communist_revolutionary
			NOT = { has_government = communism }
			check_has_focus_tree_to_switch_to_communism = yes
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			add_command_power = -2
			custom_effect_tooltip = formulate_surprise_attack_plan_for_civil_war_tt
			set_country_flag = formulated_surprise_attack_plan_for_civil_war
		}

		ai_will_do = {
			factor = 0
		}
	}

	ignite_the_communist_civil_war = {

		icon = generic_ignite_civil_war

		available = {
			has_stability < 0.5
		}

		visible = {
			has_country_flag = preparation_for_communist_civil_war
			has_idea_with_trait = communist_revolutionary
			NOT = { has_government = communism }
			check_has_focus_tree_to_switch_to_communism = yes
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			if = {
				limit = {
					has_government = fascism
				}
				set_variable = {
					var = civil_war_size_var
					value = party_popularity@fascism
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				set_variable = {
					var = civil_war_size_var
					value = party_popularity@democratic
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				set_variable = {
					var = civil_war_size_var
					value = party_popularity@neutrality
				}
			}
			subtract_from_variable = {
				var = civil_war_size_var
				value = army_support_var
			}
			if = {
				limit = {
					check_variable = {
						var = civil_war_size_var
						value = 0.3
						compare = less_than
					}
				}
				set_variable = {
					var = civil_war_size_var
					value = 0.3
				}
			}
			start_civil_war = {
				ruling_party = communism
				ideology = ROOT
				size = civil_war_size_var
				keep_unit_leaders_trigger = {
					has_trait = hidden_sympathies
				}
			}
			clr_country_flag = preparation_for_communist_civil_war
			clr_country_flag = military_support_for_communist_civil_war
			clr_country_flag = civil_support_for_communist_civil_war
		}

		ai_will_do = {
			factor = 0
		}
	}

	rebuild_the_nation_communism = {

		icon = generic_construction

		visible = {
			has_government = communism
			has_country_flag = won_ideology_civil_war
		}

		fire_only_once = yes

		cost = 25

		days_remove = 365

		modifier = {
			political_power_gain = -1
			industry_repair_factor = 0.20
			production_speed_industrial_complex_factor = 0.1
			production_speed_infrastructure_factor = 0.1
			industrial_capacity_factory = 0.1
			industrial_capacity_dockyard = 0.1
		}

		ai_will_do = {
			factor = 200
		}
	}

	open_up_political_discourse_communist = {

		icon = generic_political_discourse

		available = {
			fascism < 0.9
			democratic < 0.9
			communism < 0.9
			neutrality < 0.9
		}

		visible = {
			has_idea_with_trait = communist_revolutionary
			NOT = { has_government = communism }
			check_has_focus_tree_to_switch_to_communism = yes
		}

		remove_trigger = {
			has_government = communism
		}

		fire_only_once = yes

		cost = 75

		complete_effect = {
			set_country_flag = open_up_political_discourse_communist
		}

		ai_will_do = {
			factor = 1
		}
	}

	discredit_government_communism = {

		icon = generic_political_discourse

		available = {
			fascism < 0.8
			democratic < 0.8
			communism < 0.8
			neutrality < 0.8
			has_idea_with_trait = communist_revolutionary
		}

		visible = {
			has_country_flag = open_up_political_discourse_communist
			NOT = { has_government = communism }
			check_has_focus_tree_to_switch_to_communism = yes
		}

		remove_trigger = {
			has_government = communism
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			add_stability = -0.010
			if = {
				limit = {
					has_government = fascism
				}
				add_popularity = {
					ideology = fascism
					popularity = -0.1
				}
			}
			if = {
				limit = {
					has_government = democratic
				}
				add_popularity = {
					ideology = democratic
					popularity = -0.1
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				add_popularity = {
					ideology = neutrality
					popularity = -0.1
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	hold_the_communist_national_referendum = {

		icon = generic_political_discourse

		available = {
			communism > 0.5
		}

		visible = {
			NOT = { has_government = communism }
			OR = {
				communism > 0.6
				has_country_flag = open_up_political_discourse_communist
			}
			check_has_focus_tree_to_switch_to_communism = yes
		}

		remove_trigger = {
			has_government = communism
		}

		fire_only_once = yes

		cost = 100

		complete_effect = {
			country_event = { id = political.19 }
		}

		ai_will_do = {
			factor = 210
			modifier = {
				communism > 0.6
				factor = 10
			}
		}
	}
}

political_actions = {
	give_refuge_ger = {

		icon = generic_research

        allowed = {
            OR = {
                original_tag = ENG
                original_tag = USA
                original_tag = FRA
                original_tag = CAN
            }
        }

		visible = {
            NOT = { has_government = fascism }
            NOT = { has_government = communism }
		}

        cost = 100
        fire_only_once = yes

        days_remove = -1

        available = {
            GER = { has_government = fascism }
        }

        modifier = {
            research_speed_factor = 0.03
#           stability_factor = -0.05
        }

        remove_trigger = {
            OR = {
                GER = { NOT = { has_government = fascism } }
                NOT = { country_exists = GER }
            }
        }

        ai_will_do = {
			factor = 1
			modifier = {
				tag = ENG
				has_War = no
				date < 1937.3.1
				factor = 0
			}
			modifier = {
				tag = FRA
				factor = 0
			}
		}
    }
    give_refuge_ita = {

    	icon = generic_research

        allowed = {
            OR = {
                original_tag = ENG
                original_tag = USA
                original_tag = FRA
                original_tag = CAN
            }
		}

		visible = {
            NOT = { has_government = fascism }
            NOT = { has_government = communism }
        }
        cost = 50
        fire_only_once = yes
        days_remove = -1

        available = {
            ITA = { has_government = fascism }
        }

        modifier = {
            research_speed_factor = 0.01
#            stability_factor = -0.02
        }

        remove_trigger = {
            ITA = { NOT = { has_government = fascism } }
        }
        ai_will_do = {
			factor = 1
			modifier = {
				tag = ENG
				has_War = no
				date < 1937.3.1
				factor = 0
			}
			modifier = {
				tag = FRA
				factor = 0
			}
		}
    }

    anti_fascist_raids = {

    	icon = generic_civil_support

    	visible = {
			NOT = { has_government = fascism }
		}

		available = {
            fascism > 0.1
            if = {
				limit = {
					tag = SPR
				}
				NOT = {
					has_idea = SPR_political_violence
				}
			}
        }

		modifier = {
			fascism_drift = -0.05
			stability_weekly = 0.007
		}

		days_remove = 120
		cost = RAID_COST_var?50

		complete_effect = {
			add_stability = -0.1
			FRA_disjointed_government_level = yes
		}

		remove_effect = {
		}

		ai_will_do = {
			base = 0

			modifier = {
				add = 600

				tag = FRA
				is_historical_focus_on = yes
				fascism > 0.19
			}

			modifier = {
				add = 1
				tag = AUS
				fascism > 0.45
				is_historical_focus_on = no
			}
			modifier = {
				add = 10
				tag = AUS
				fascism > 0.45
				GER = { has_completed_focus = GER_reestablish_free_elections }
			}
		}
    }

    anti_democratic_raids = {

    	icon = generic_civil_support

    	visible = {
			NOT = { has_government = democratic }
		}

		available = {
            democratic > 0.1
            if = {
				limit = {
					tag = SPR
				}
				NOT = {
					has_idea = SPR_political_violence
				}
			}
        }

		modifier = {
			democratic_drift = -0.05
			stability_weekly = 0.007
		}

		days_remove = 120
		cost = RAID_COST_var?50

		complete_effect = {
			add_stability = -0.1
			FRA_disjointed_government_level = yes
		}

		remove_effect = {
		}

		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				tag = CHI
				has_war = yes
				has_stability < 0.75
			}
		}
    }

    anti_communist_raids = {

    	icon = generic_civil_support

    	visible = {
			NOT = { has_government = communism }
		}

		available = {
            communism > 0.1
            if = {
				limit = {
					tag = SPR
				}
				NOT = {
					has_idea = SPR_political_violence
				}
			}
			if = {
				limit = {
					tag = FRA
				}
				custom_trigger_tooltip = {
					tooltip = FRA_popular_front_communism_tt
					OR = {
						NOT = {
							has_completed_focus = FRA_form_the_popular_front
						}
						has_completed_focus = FRA_the_fall_of_the_popular_front
					}
				}

			}
        }

		modifier = {
			communism_drift = -0.05
			stability_weekly = 0.007
		}

		days_remove = 120
		cost = RAID_COST_var?50

		complete_effect = {
			add_stability = -0.1
			FRA_disjointed_government_level = yes
		}

		remove_effect = {
		}

		ai_will_do = {
			factor = 0

			modifier = {
				factor = 400

				tag = FRA
				is_historical_focus_on = yes
				has_idea = FRA_gaston_henry_haye
				communism > 0.19
			}

			modifier = {
				add = 800

				tag = GER
				has_completed_focus = GER_secure_the_new_state
			}

			modifier = {
				add = 800

				tag = ENG
				NOT = { has_completed_focus = ENG_concessions_to_the_trade_unions }
			}

			modifier = {
				add = 800

				tag = USA
				NOT = {
					has_government = communism
				}
			}

			modifier = {
				add = 800

				tag = HUN
				NOT = { has_government = communism }
			}

			modifier = {
				add = 800

				tag = ITA
			}
		}
    }

	anti_non_aligned_raids = {

    	icon = generic_civil_support

    	visible = {
			NOT = { has_government = neutrality }
		}

		available = {
            neutrality > 0.1
        }

		modifier = {
			neutrality_drift = -0.05
			stability_weekly = 0.007
		}

		days_remove = 120
		cost = RAID_COST_var?50

		complete_effect = {
			add_stability = -0.1
			FRA_disjointed_government_level = yes
		}

		remove_effect = {
		}

		ai_will_do = {
			factor = 0
			modifier = {
				date > 1938.6.1
				add = 400
				original_tag = FRA
				is_historical_focus_on = yes
			}
		}
    }

	# ban_non_aligned_party = {

	# 	icon = generic_civil_support

	# 	available = {
	# 		neutrality < 0.2
	# 	}

	# 	visible = {
	# 		NOT = { has_government = neutrality }
	# 		neutrality > 0
	# 	}

	# 	remove_trigger = {
	# 		hidden_trigger = {
	# 			has_government = neutrality
	# 		}
	# 	}

	# 	modifier = {
	# 		neutrality_drift = -0.02
	# 	}

	# 	days_remove = -1
	# 	cost = 100

	# 	complete_effect = {
	# 		hidden_effect = {
	# 			set_temp_variable = {
	# 				var = ban_ideology_var
	# 				value = party_popularity@neutrality
	# 			}
	# 			multiply_temp_variable = {
	# 				var = ban_ideology_var
	# 				value = -1
	# 			}
	# 			add_popularity = {
	# 				ideology = neutrality
	# 				popularity = ban_ideology_var
	# 			}
	# 			multiply_temp_variable = {
	# 				var = ban_ideology_var
	# 				value = 0.66
	# 			}
	# 		}
	# 		remove_neutrality_spirits_effect = yes
	# 		custom_effect_tooltip = ban_neutrality_party_tt
	# 		add_stability = ban_ideology_var
	# 	}

	# 	ai_will_do = {
	# 		factor = 0
	# 	}
	# }

	ban_fascist_party = {

		icon = generic_civil_support

		available = {
			fascism < 0.1
			if = {
				limit = {
					tag = SPR
				}
				NOT = {
					has_idea = SPR_political_violence
				}
			}
		}

		visible = {
			NOT = { has_government = fascism }
			fascism > 0
			if = {
				limit = {
					has_dlc = "Battle for the Bosporus"
				}
				NOT = { original_tag = GRE }
			}
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = fascism
			}
		}

		modifier = {
			fascism_drift = -0.02
		}

		days_remove = -1
		cost = 150

		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@fascism
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = fascism
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}
			}
			remove_fascist_spirits_effect = yes
			custom_effect_tooltip = ban_fascist_party_tt
			add_stability = ban_ideology_var
		}

		ai_will_do = {
			factor = 0

			modifier = {
				date > 1938.1.1
				add = 400
				original_tag = FRA
				is_historical_focus_on = yes
			}
		}
	}

	ban_democratic_party = {

		icon = generic_civil_support

		available = {
			democratic < 0.1
			if = {
				limit = {
					tag = SPR
				}
				NOT = {
					has_idea = SPR_political_violence
				}
			}
		}

		visible = {
			NOT = { has_government = democratic }
			democratic > 0
			if = {
				limit = {
					has_dlc = "Battle for the Bosporus"
				}
				NOT = { original_tag = GRE }
			}
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = democratic
			}
		}

		modifier = {
			democratic_drift = -0.02
		}

		days_remove = -1
		cost = 150

		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@democratic
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = democratic
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}
			}
			set_country_flag = banned_democratic_flag
			remove_democratic_spirits_effect = yes
			custom_effect_tooltip = ban_democratic_party_tt
			add_stability = ban_ideology_var
		}

		ai_will_do = {
			base = 0

			modifier = {
				add = 4000
				tag = BUL
				has_idea = BUL_nikola_mihov
			}
		}
	}

	ban_communist_party = {

		icon = generic_civil_support

		available = {
			communism < 0.1
			if = {
				limit = {
					tag = SPR
				}
				NOT = {
					has_idea = SPR_political_violence
				}
			}
			if = {
				limit = {
					tag = FRA
				}
				custom_trigger_tooltip = {
					tooltip = FRA_popular_front_communism_tt
					OR = {
						NOT = {
							has_completed_focus = FRA_form_the_popular_front
						}
						has_completed_focus = FRA_the_fall_of_the_popular_front
					}
				}

			}
		}

		visible = {
			NOT = { has_government = communism }
			communism > 0
			if = {
				limit = {
					has_dlc = "Battle for the Bosporus"
				}
				NOT = { original_tag = GRE }
			}
		}

		remove_trigger = {
			hidden_trigger = {
				has_government = communism
			}
		}

		modifier = {
			communism_drift = -0.02
		}

		days_remove = -1
		cost = 150

		complete_effect = {
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@communism
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = communism
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}
				set_country_flag = banned_communism_flag
			}
			remove_communist_spirits_effect = yes
			custom_effect_tooltip = ban_communist_party_tt
			add_stability = ban_ideology_var
		}

		ai_will_do = {
			base = 0

			modifier = {
				date > 1937.1.1
				add = 400
				original_tag = FRA
				is_historical_focus_on = yes
			}
		}
	}

	institute_press_censorship_fascist_state = {

		icon = generic_political_discourse

		visible = {
			has_government = fascism
		}

		modifier = {
			communism_drift = -0.01
			fascism_drift = 0.03
			democratic_drift = -0.01
			neutrality_drift = -0.01
		}

		complete_effect = {
			add_stability = -0.02
		}

		days_remove = 360
		cost = 150

		ai_will_do = {
			factor = 0
		}
	}

	institute_press_censorship_democratic_state = {

		icon = generic_political_discourse

		visible = {
			has_government = democratic
		}

		modifier = {
			communism_drift = -0.01
			fascism_drift = -0.01
			democratic_drift = 0.03
			neutrality_drift = -0.01
		}

		complete_effect = {
			add_stability = -0.02
		}

		days_remove = 360
		cost = 150

		ai_will_do = {
			factor = 0

			# modifier = {
			# 	add = 400

			# 	tag = FRA
			# 	date > 1938.1.1
			# 	democratic < 0.89
			# }
		}
	}

	institute_press_censorship_communist_state = {

		icon = generic_political_discourse

		visible = {
			has_government = communism
		}

		modifier = {
			communism_drift = 0.03
			fascism_drift = -0.01
			democratic_drift = -0.01
			neutrality_drift = -0.01
		}

		complete_effect = {
			add_stability = -0.02
		}

		days_remove = 360
		cost = 150

		ai_will_do = {
			factor = 0
		}
	}

	institute_press_censorship_neutrality_state = {

		icon = generic_political_discourse

		visible = {
			has_government = neutrality
		}

		modifier = {
			communism_drift = -0.01
			fascism_drift = -0.01
			democratic_drift = -0.01
			neutrality_drift = 0.03
		}

		complete_effect = {
			add_stability = -0.02
		}

		days_remove = 360
		cost = 150

		ai_will_do = {
			factor = 0
		}
	}

	colonies_become_free = {

		icon = generic_decision

		available = {
			is_subject = yes
		}
		activation = {
			if = {
				limit = {
					VIC = {
						exists = yes
					}
				}
				OR = {
					tag = UKE
					tag = UKM
					tag = UKT
					tag = UKN
					tag = UKO
					tag = POA
					tag = BEC
					tag = ITL
					tag = ITS
				}
				is_subject = no
			}
			else = {
				OR = {
					tag = FRN
					tag = FRM
					tag = FRT
					tag = FRS
					tag = FRW
					tag = FRC
					tag = FRP
					tag = FRJ
					tag = FRI
					tag = UKE
					tag = UKM
					tag = UKT
					tag = UKN
					tag = UKO
					tag = POA
					tag = BEC
					tag = ITL
					tag = ITS
				}
				is_subject = no
			}
		}

		is_good = no
		days_mission_timeout = 0

		timeout_effect = {
			if = {
				limit = {
					TAG = FRN
				}
				release = ALG
				ALG = { annex_country = { target = FRN } }
			}
			if = {
				limit = {
					TAG = FRM
				}
				release = MOR
				MOR = { annex_country = { target = FRM } }
			}
			if = {
				limit = {
					TAG = FRT
				}
				release = TUN
				TUN = { annex_country = { target = FRT } }
			}
			if = {
				limit = {
					TAG = FRS
				}
				release = SYR
				SYR = { annex_country = { target = FRS } }
			}
			if = {
				limit = {
					TAG = FRW
				}
				release = MLI
				release = NGR
				release = SEN
				release = GNA
				release = TOG
				release = MRT
				release = DAH
				release = IVO
				release = VOL
				#MLI = { annex_country = { target = FRW } }
			}
			if = {
				limit = {
					TAG = FRC
				}
				release = CHA
				release = CAR
				release = CMR
				release = RCG
				release = GAB
				#CHA = { annex_country = { target = FRC } }
			}
			if = {
				limit = {
					TAG = FRP
				}
				release = DJI
				#DJI = { annex_country = { target = FRP } }
			}
			if = {
				limit = {
					TAG = FRJ
				}
				release = MAD
				#MAD = { annex_country = { target = FRJ } }
			}
			if = {
				limit = {
					TAG = FRI
				}
				release = CAY
				#CAY = { annex_country = { target = FRI } }
			}
			if = {
				limit = {
					TAG = UKE
				}
				release = EGY
				if = {
					limit = {
						country_exists = SUD
					}
					SUD = { transfer_state = 551 }
					SUD = { transfer_state = 767 }
				}
				else = {
					release = SUD
				}
				#EGY = { annex_country = { target = UKE } }
			}
			if = {
				limit = {
					TAG = UKM
				}
				#if = {
				#	limit = {
				#		country_exists = SAU
				#	}
				#	SAU = { transfer_state = 658 }
				#	SAU = { transfer_state = 765 }
				#	SAU = { transfer_state = 455 }
				#}
				#if = {
				#	limit = {
				#		country_exists = IRQ
				#	}
				#	IRQ = { transfer_state = 656 }
				#}
				#if = {
				#	limit = {
				#		country_exists = YEM
				#	}
				#	YEM = { transfer_state = 883 }
				#	YEM = { transfer_state = 659 }
				#}
				release = PAL
				release = JOR
				release = KUW
				release = QAT
				release = UAE
				#PAL = { annex_country = { target = UKM } }
			}
			if = {
				limit = {
					TAG = UKT
				}
				#if = {
				#	limit = {
				#		country_exists = SAF
				#	}
				#	SAF = { transfer_state = 542 }
				#}
				#if = {
				#	limit = {
				#		country_exists = ITS
				#	}
				#	ITS = { transfer_state = 269 }
				#}
				#else_if = {
				#	limit = {
				#		country_exists = ETH
				#	}
				#	ETH = { transfer_state = 269 }
				#}
				release = SUD
				if = {
					limit = {
						country_exists = SUD
					}
					SUD = { transfer_state = 549 }
				}
				else = {
					release = SUD
				}
				release = UGA
				release = KEN
				release = TZN
				if = {
					limit = {
						country_exists = SOM
					}
					SOM = { transfer_state = 559 }
				}
				else = {
					release = SOM
				}
				release = ZAM
				release = MLW
				release = ZIM
				release = BOT
				#KEN = { annex_country = { target = UKT } }
			}
			if = {
				limit = {
					TAG = UKN
				}
				#if = {
				#	limit = {
				#		country_exists = FRW
				#	}
				#	FRW = { transfer_state = 558 }
				#	FRW = { transfer_state = 274 }
				#	FRW = { transfer_state = 700 }
				#	FRW = { transfer_state = 701 }
				#}
				#else_if = {
				#	limit = {
				#		country_exists = VIC
				#	}
				#	VIC = { transfer_state = 558 }
				#	VIC = { transfer_state = 274 }
				#	VIC = { transfer_state = 700 }
				#	VIC = { transfer_state = 701 }
				#}
				release = NGA
				release = GHA
				release = SIE
			}
			if = {
				limit = {
					TAG = UKO
				}
				release = SRL
				release = GYA
				if = {
					limit = {
						country_exists = CAN
					}
					CAN = { transfer_state = 332 }
					CAN = { transfer_state = 331 }
					CAN = { transfer_state = 1054 }
				}
				if = {
					limit = {
						country_exists = ENG
					}
					ENG = { annex_country = { target = UKO } }
				}
			}
			if = {
				limit = {
					TAG = BEC
				}
				release = COG
				release = RWA
				release = BRD
				#COG = { annex_country = { target = BEC } }
			}
			if = {
				limit = {
					TAG = POA
				}
				release = ANG
				release = MZB
				ANG = { transfer_state = 540 }
				#MZB = { annex_country = { target = POA } }
			}
			if = {
				limit = {
					TAG = ITL
				}
				release = LBA
				#LBA = { annex_country = { target = ITL } }
			}
			if = {
				limit = {
					TAG = ITS
				}
				if = {
					limit = {
						country_exists = SOM
					}
					SOM = { transfer_state = 559 }
				}
				else = {
					release = SOM
				}
				release = ERI
			}
		}
	}
}