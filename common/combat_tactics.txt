#### COMBAT TACTICS ###########################################################
#
# NOTE: tactics must start with "tactic_" in their name to work with techs.
###############################################################################

phases = { # phase = no is the standard phase, default phase = positional phase
	trench_assault
	long_range
	breakthrough
	urban_warefare
	amphibious
	close_combat
	tactical_withdrawal
	seize_bridge
	hold_bridge
}

# Slow combat down by making attacker / defender damage low.
# Increase strength damage by decreasing attacker / defender org damage modifier
# Decrease battle length by increasing attacker / defender org damage modifier
# When adding modifiers to tactic chance, only add a maximum of four types of modifier "categories"
# Artillery, Armor, Motorized, Infantry, Skill, Lack of skill, Division stats (EG: Recon, Entrenchment, etc.), Personality.
# Tactic icons should be redesigned to be at glace clear which unit they are for, which phase the tactic is for, and the skill level of the tactic.

#### positional phase start ####

# attacking #

tactic_preliminary_bombardment = { # who knew you needed artillery to bombard an area?
	is_attacker = yes
	countered_by = tactic_counter_barrage
	trigger = {
		is_attacker = yes
		has_unit_type = artillery
		phase = no
	}
	active = yes
	base = {
		factor = 4
			modifier = {
			add = 2
			has_artillery_ratio > 0.25

		}
	}
		picture = attack
	#phase = long_range # changes phase to long-range combat
	attacker = 0.10
	defender = 0.05
	attacker_movement_speed = -0.75
	attacker_org_damage_modifier = -0.6
	defender_org_damage_modifier = -0.6

}
# attacking #

tactic_recon_in_force = { # Recon in force -> Infiltration tactics
	countered_by = tactic_entrenched_defense
	is_attacker = yes
	trigger = {
		is_attacker = yes
		custom_override_tooltip = {
			tooltip = {
				localization_key = trigger_recon_advantage_greater_than_tt
				num_recon = 1
			}
			recon_advantage > 1
		}
		phase = no
	}

	active = yes
	base = {
		factor = 2
}
	picture = attack
	attacker = 0.15
	defender = 0.05
	attacker_movement_speed = 0.75
	attacker_org_damage_modifier = 0.1
	}
# attacking #
tactic_urban_bombardment = { # when attacking vp that is > 5 points, or urban terrain

	is_attacker = yes
	countered_by = tactic_urban_concealment
	trigger = {
		is_attacker = yes
		is_fighting_in_terrain = urban
		phase = no
	}

	active = yes

		base =  {
		factor = 8
		modifier = {
			factor = 0
			NOT = { is_fighting_in_terrain = urban }
		}
	}
		picture = attack
	attacker = 0.05
	attacker_movement_speed = 0.50
	attacker_org_damage_modifier = -0.5
	defender_org_damage_modifier = -0.6
}
# attacking #
tactic_beach_assault = { # only triggers during amphibious assault

	is_attacker = yes
	trigger = {
		is_attacker = yes
		is_amphibious_invasion = yes
		phase = no
	}

	active = yes

	base = { factor = 8 }
	picture = attack

	attacker = 0.05
	defender = 0.10
	attacker_movement_speed = 0.50
	attacker_org_damage_modifier = -0.5
	defender_org_damage_modifier = -0.8
}
# attacking #
tactic_heavy_preliminary_bombardment = { # only triggers when enemy has dig-in and is guarunteed to have trench warfare tactics.

	is_attacker = yes
	trigger = {
		is_attacker = yes
		phase = trench_assault
	}

	active = yes
	base = { factor = 4
		modifier = {
			add = 2
			has_trait = artillery_officer
		}
		modifier = {
			add = 2
			has_trait = old_guard
		}
		modifier = {
			add = 2
			has_trait = fortress_buster
		}
		modifier = {
			add = 2
			has_trait = artillery_expert
		}
			modifier = {
			add = 2
			has_artillery_ratio > 0.25

		}
		modifier = {
			add = 2
			has_artillery_ratio > 0.35

		}
		picture = attack
	}
	attacker = 0.15
	attacker_movement_speed = -1
	attacker_org_damage_modifier = -0.5
	defender_org_damage_modifier = -0.5
	}
# attacking #
tactic_frontal_assault = { # only triggers during amphibious assault

	is_attacker = yes
	trigger = {
		is_attacker = yes
		phase = no
	}

	active = yes

	base = {
		factor = 2
}
	picture = attack
	attacker = 0.1
	defender = 0.1
	attacker_movement_speed = 0.25
	attacker_org_damage_modifier = -0.5
	defender_org_damage_modifier = -0.5

}
# attacking #
tactic_embankment_bombardment = { # only triggers during river crossing

	is_attacker = yes
	trigger = {
		is_attacker = yes
		has_combat_modifier = river_crossing
		phase = no
	}

	active = yes

	base = { factor = 8 }
	picture = attack

	attacker = 0.10
	defender = -0.10
	attacker_movement_speed = -1
	attacker_org_damage_modifier = -0.5
	defender_org_damage_modifier = -0.5
}
# attacking #
tactic_hindered_attack = { # only triggers during bad weather

	is_attacker = yes
	trigger = {
		is_attacker = yes
		OR = {
			is_fighting_in_weather = rain_heavy
			is_fighting_in_weather = snow
			is_fighting_in_weather = blizzard
			is_fighting_in_weather = mud
			is_fighting_in_weather = sandstorm
		}
		phase = no
	}

	active = yes

	base = {
		factor = 6
		}
	}

	picture = attack
	attacker = -0.10
	attacker_movement_speed = -0.75
	attacker_org_damage_modifier = -0.5
	defender_org_damage_modifier = -0.5}

# defending #

tactic_counter_barrage = { # counters all preliminary bombardment
	is_attacker = no
	countered_by = tactic_recon_in_force
	trigger = {
		is_attacker = no
		has_unit_type = artillery
		phase = no
	}
	active = yes
		base = {
		factor = 2
	}
	picture = defend

	attacker = 0.05
	defender = 0.10
	attacker_movement_speed = -0.75
	attacker_org_damage_modifier = -0.4
	defender_org_damage_modifier = -0.2}
# defending #

tactic_urban_concealment = {
	is_attacker = no
	trigger = {
		is_attacker = no
		is_fighting_in_terrain = urban
		phase = no
	}

	active = yes

	base = { factor = 4 }
	picture = defend
	defender = 0.1
	attacker_movement_speed = 0.50
	attacker_org_damage_modifier = -0.5
	defender_org_damage_modifier = -0.5
}
# defending #

tactic_defensive_posture = {
	is_attacker = no
	trigger = {
		is_attacker = no
		phase = no
	}

	active = yes

	base = { factor = 4 }
	picture = defend

	defender = 0.1
}
# defending #
tactic_entrenched_defense = {
	is_attacker = no
	trigger = {
		is_attacker = no
		dig_in > 0.14
		phase = no
	}

	active = yes

		base = {
		factor = 6
	}
	picture = defend

	defender = 0.15
	attacker_movement_speed = -0.75
	attacker_org_damage_modifier = -0.8
	defender_org_damage_modifier = -0.8
}
# defending #

tactic_hampered_defense = {
	is_attacker = no
	trigger = {
		is_attacker = no
		is_fighting_in_weather = {
		 rain_heavy snow blizzard blizzard mud
	}
		phase = no
	}

	active = yes

	base = { factor = 6
		}
	attacker = -0.10
	attacker_movement_speed = -0.75
	attacker_org_damage_modifier = -0.5
	defender_org_damage_modifier = -0.5
}
# END OF POSITIIONAL PHASE #

# START OF TRENCH ASSAULT PHASE #


# attack #
tactic_trench_suppressive_barrage = {

}
# attack #

tactic_bite_n_hold_advance = {

}
# attack #

tactic_mineclearing_ops = {

}
# attack #

tactic_mass_assault = {

}
# attack #

tactic_trench_flanking_manuever = {

}
# defense #

tactic_trench_counter_battery = {

}
# defense #

tactic_final_protective_fire = {

}
# defense #

tactic_trench_prepared_defenses = {

}
# defense #

tactic_trench_flexible_defense = {

}
# defense #


# CQC PHASE #

# attack #

tactic_CQC_suppression = {

}

# attack #

tactic_ECQ_assault = {

}
# attack #

tactic_CQC_attack = {

}
# attack #

tactic_CQC_sieze_strongpoint = {

}
# attack #

tactic_CQC_flank = {

}
# attack #

tactic_CQC_withdraw = {

}
# attack #

tactic_clearing_ops = {

}
# attack #

tactic_fire_superiority = {

}

# defense #

tactic_CQC_suppression = {

}

# defense #

tactic_ECQ_assault = {

}
# defense #

tactic_CQC_defense = {

}
# defense #

tactic_CQC_defend_strongpoint = {

}
# defense #

tactic_CQC_flank = {

}
# defense #

tactic_CQC_counter_attack = {

}
# defense #

tactic_withdraw = {

}
# defense #

tactic_regain_fire_superiority = {

}

# LONG RANGE COMBAT #

# attack #

tactic_attack = {

}
# attack #

tactic_assault = {

}
# attack #

tactic_shock = {

}
# attack #

tactic_blitz_attack = {

}
# attack #

tactic_banzai_charge = {

}
# attack #

tactic_relentless_assault = {

}
# attack #

tactic_pincer_manuever = {

}
# attack #

tactic_well_planned_attack = {

}
# attack #

tactic_infiltration_assault = {

}
# attack #

tactic_suppressive_barrage = {

}
# attack #

tactic_flanking_attack = {

}

# defense #

tactic_defense = {

}
# defense #

tactic_counter_attack = {

}
# defense #

tactic_delay = {

}
# defense #

tactic_flexible_defense = {

}
# defense #

tactic_flanking_manuever = {

}
# defense #

tactic_prepared_defenses = {

}
# defense #

tactic_tactical_withdraw = {

}
# defense #

tactic_counter_battery = {

}
# defense #

tactic_final_protective_fire = {

}
# defense #

tactic_ambush = {

}

# AMPHIBIOUS LANDING #

# attack #

tactic_staggered_waves = {

}
# attack #

tactic_suppress_strongpoint = {

}
# attack #

tactic_raid_strongpoint = {

}
# attack #

tactic_amphib_bounding_overwatch = {

}

# defense #

tactic_defend_strongpoint = {

}
# defense #

tactic_amphib_final_protective_fire = {

}
# defense #

tactic_amphib_counter_attack = {

}
# defense #

tactic_desperate_defense = {

}

# STREET FIGHTING #

# attack #

tactic_atk_suppressive_bombardment = {

}
# attack #

tactic_siege_local_strongpoint = {

}
# attack #

tactic_siege_citadel = {

}
# attack #

tactic_bounding_overwatch = {

}
# attack #

tactic_urban_infiltration = {

}
# attack #

tactic_door2door_assault = {

}
# attack #

tactic_underground_assault = {

}
# attack #

tactic_street2street_assault = {

}
# attack #

tacitc_clearing_operations = {

}
# attack #

tactic_rubble_assault = {

}

# defense #

tactic_def_suppressive_bombardment = {

}
# defense #

tactic_defend_local_strongpoint = {

}