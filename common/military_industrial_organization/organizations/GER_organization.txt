### TANKS
#POSITION
@tank_1_X = 9
@tank_1_Y = 2
@tank_2_X = 9
@tank_2_Y = 3
@tank_3_X = 9
@tank_3_Y = 4
#BONUSES
@tank_production_cost_factor = -0.05
@tank_production_capacity_factor = 0.2


### SHIPS
#POISTION
@ship_1_X = 9
@ship_1_Y = 3
@ship_2_X = 9
@ship_2_Y = 4
@ship_3_X = 8
@ship_3_Y = 4
#BONUSES
@ship_submarine_production_cost_factor = -0.03
@ship_production_capacity_factor = 0.05


### AIRCRAFT
#POSITION
@aircraft_1_X = 9
@aircraft_1_Y = 2
@aircraft_2_X = 9
@aircraft_2_Y = 3
@aircraft_3_X = 9
@aircraft_3_Y = 4
#BONUSES
@aircraft_production_cost_factor = -0.02
@aircraft_production_capacity_factor = 0.2
@aircraft_production_efficiency_gain_factor = 0.02
@aircraft_production_efficiency_cap_factor = 0.1


### MATERIEL
#POSITION
@materiel_1_X = 9
@materiel_1_Y = 2
@materiel_2_X = 9
@materiel_2_Y = 3
@materiel_3_X = 9
@materiel_3_Y = 4
#BONUSES
@artillery_production_cost_factor = -0.03
@infantry_equipment_production_cost_factor = -0.02
@infantry_equipment_production_efficiency_gain_factor = 0.02
@motorized_production_cost_factor = -0.02
@materiel_production_efficiency_cap_factor = 0.5
@materiel_production_capacity_factor = 0.05
@materiel_production_resource_penalty_factor = -0.1

########    ###    ##    ## ##    ##  ######
   ##      ## ##   ###   ## ##   ##  ##    ##
   ##     ##   ##  ####  ## ##  ##   ##
   ##    ##     ## ## ## ## #####     ######
   ##    ######### ##  #### ##  ##         ##
   ##    ##     ## ##   ### ##   ##  ##    ##
   ##    ##     ## ##    ## ##    ##  ######

GER_daimler_benz_organization = {
	include = generic_medium_tank_organization
	icon = GFX_idea_daimler_benz

	allowed = {
		original_tag = GER
	}
	available = {
		FROM = { NOT = { has_country_flag = daimler_lost } }
	}

	equipment_type = { mio_cat_eq_all_light_tank mio_cat_eq_all_panzer_iii_tank medium_tank_assault_chassis }

	add_trait = {
		token = GER_general_inspector
		name = GER_general_inspector
		icon = GFX_generic_mio_department_icon_tank_general_production
		special_trait_background = yes

		position = { x=@tank_1_X y=@tank_1_Y }

		available = {
			FROM = {
				has_completed_focus = GER_general_inspector
			}
		}

		production_bonus = {
			production_capacity_factor = @tank_production_capacity_factor
		}
	}

	add_trait = {
		token = GER_panzerprogramm
		name = GER_panzerprogramm
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes

		position = { x=@tank_2_X y=@tank_2_Y }

		available = {
			FROM = {
				has_completed_focus = GER_panzerprogramm
			}
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.1
		}
	}
}

GER_porsche_organization = {
	include = generic_researcher_tank_organization
	icon = GFX_idea_porsche

	allowed = {
		original_tag = GER
	}

	add_trait = {
		token = GER_panzerprogramm
		name = GER_panzerprogramm
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes

		position = { x=@tank_2_X y=@tank_2_Y }

		available = {
			FROM = {
				has_completed_focus = GER_panzerprogramm
			}
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.1
		}
	}
}

GER_henschel_organization = {
	include = generic_heavy_tank_organization
	icon = GFX_idea_henschel

	allowed = {
		original_tag = GER
	}
	available = {
		FROM = { NOT = { has_country_flag = henschel_lost } }
	}
	equipment_type = {
		mio_cat_eq_all_heavy_tank
		heavy_tank_assault_chassis
	}

	add_trait = {
		token = GER_general_inspector
		name = GER_general_inspector
		icon = GFX_generic_mio_department_icon_tank_general_production
		special_trait_background = yes

		position = { x=@tank_1_X y=@tank_1_Y }

		available = {
			FROM = {
				has_completed_focus = GER_general_inspector
			}
		}

		production_bonus = {
			production_capacity_factor = @tank_production_capacity_factor
		}
	}

	add_trait = {
		token = GER_panzerprogramm
		name = GER_panzerprogramm
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes

		position = { x=@tank_2_X y=@tank_2_Y }

		available = {
			FROM = {
				has_completed_focus = GER_panzerprogramm
			}
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.1
		}
	}
}

GER_krupp_tank_organization = {
	include = generic_infantry_tank_organization
	icon = GFX_idea_krupp_tank

	allowed = {
		original_tag = GER
	}
	available = {
		FROM = { NOT = { has_country_flag = krupp_lost } }
	}

	equipment_type = { mio_cat_eq_all_panzer_iv_tank mio_cat_eq_all_support_tanks heavy_anti_air_equipment heavy_artillery_equipment railway_gun_equipment }

	add_trait = {
		token = GER_industrial_conglomerate
		name = GER_industrial_conglomerate
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes

		position = { x = 9 y = 0 }

		available = {
			FROM = {
				has_completed_focus = GER_merge_the_steel_industries
			}
		}

		on_complete = {
			FROM = {
				custom_effect_tooltip = military_industrial_capital_conglomerate_3
				hidden_effect = {
					add_to_variable = { military_industrial_capital_industrial_capacity_factory = 0.2 }
				}
			}
		}
	}

	add_trait = {
		token = GER_steel_experts
		name = GER_steel_experts
		icon = GFX_generic_mio_trait_icon_resources
		special_trait_background = yes

		all_parents = { GER_industrial_conglomerate }
		position = { x = 0 y = 1 }
		relative_position_id = GER_industrial_conglomerate

		on_complete = {
			FROM = {
				mio_steel_refinery_2 = yes
			}
		}

		limit_to_equipment_type = { railway_gun_equipment }

		production_bonus = {
			production_cost_factor = -0.1
		}
	}

	add_trait = {
		token = GER_general_inspector
		name = GER_general_inspector
		icon = GFX_generic_mio_department_icon_tank_general_production
		special_trait_background = yes

		position = { x=@tank_1_X y=@tank_1_Y }

		available = {
			FROM = {
				has_completed_focus = GER_general_inspector
			}
		}

		production_bonus = {
			production_capacity_factor = @tank_production_capacity_factor
		}
	}

	add_trait = {
		token = GER_panzerprogramm
		name = GER_panzerprogramm
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes

		position = { x=@tank_2_X y=@tank_2_Y }

		available = {
			FROM = {
				has_completed_focus = GER_panzerprogramm
			}
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.1
		}
	}
}

GER_man_organization = {
	include = generic_modern_tank_organization
	icon = GFX_idea_GER_MAN

	allowed = {
		original_tag = GER
	}
	available = {
		FROM = { NOT = { has_country_flag = man_lost } }
	}

	equipment_type = { mio_cat_eq_all_modern_tank }

	research_categories = {
		cat_modern_armor
	}

	add_trait = {
		token = GER_general_inspector
		name = GER_general_inspector
		icon = GFX_generic_mio_department_icon_tank_general_production
		special_trait_background = yes

		position = { x=@tank_1_X y=@tank_1_Y }

		available = {
			FROM = {
				has_completed_focus = GER_general_inspector
			}
		}

		production_bonus = {
			production_capacity_factor = @tank_production_capacity_factor
		}
	}

	add_trait = {
		token = GER_panzerprogramm
		name = GER_panzerprogramm
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes

		position = { x=@tank_2_X y=@tank_2_Y }

		available = {
			FROM = {
				has_completed_focus = GER_panzerprogramm
			}
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.1
		}
	}
}

GER_alkett_organization = {
	include = generic_tank_refurbishment_plant_organization
	icon = GFX_idea_alkett

	allowed = {
		original_tag = GER
	}
	available = {
		FROM = { has_completed_focus = GER_reichswerke_hermann_goring }
	}

	add_trait = {
		token = GER_general_inspector
		name = GER_general_inspector
		icon = GFX_generic_mio_department_icon_tank_general_production
		special_trait_background = yes

		position = { x=@tank_1_X y=@tank_1_Y }

		available = {
			FROM = {
				has_completed_focus = GER_general_inspector
			}
		}

		production_bonus = {
			production_capacity_factor = @tank_production_capacity_factor
		}
	}

	add_trait = {
		token = GER_panzerprogramm
		name = GER_panzerprogramm
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes

		position = { x=@tank_2_X y=@tank_2_Y }

		available = {
			FROM = {
				has_completed_focus = GER_panzerprogramm
			}
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.1
		}
	}
}


GER_bussing_organization = {
	include = generic_armored_car_organization
	icon = GFX_idea_bussing

	allowed = {
		original_tag = GER
	}
	available = {
	}
}

########  ##          ###    ##    ## ########  ######
##     ## ##         ## ##   ###   ## ##       ##    ##
##     ## ##        ##   ##  ####  ## ##       ##
########  ##       ##     ## ## ## ## ######    ######
##        ##       ######### ##  #### ##             ##
##        ##       ##     ## ##   ### ##       ##    ##
##        ######## ##     ## ##    ## ########  ######

GER_messerschmitt_organization = {	#fighter - attacker
	include = generic_light_aircraft_organization
	icon = GFX_idea_messerschmitt

	allowed = {
		original_tag = GER
	}

	equipment_type = {
		fighter_equipment attacker_equipment
	}

	research_categories = {	cat_fighter cat_attacker jet_technology }

	add_trait = {
		token = GER_fighter_staff_committee
		name = GER_fighter_staff_committee
		icon = GFX_generic_mio_department_icon_plane_fighter_production
		special_trait_background = yes

		position = { x=@aircraft_1_X y=@aircraft_1_Y }

		available = {
			FROM = {
				has_completed_focus = GER_fighter_staff_committee
			}
		}

		production_bonus = {
			production_capacity_factor = @aircraft_production_capacity_factor
		}
	}

	add_trait = {
		token = GER_jagernotprogram
		name = GER_jagernotprogram
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes

		position = { x=@aircraft_2_X y=@aircraft_2_Y }

		available = {
			FROM = {
				has_completed_focus = GER_jagernotprogram
			}
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.1
		}
	}
}

GER_junkers_organization = {		#CAS - Strike - Transport
	include = generic_cas_aircraft_organization
	icon = GFX_idea_junkers

	allowed = {
		original_tag = GER
	}
	available = {
		FROM = {
			NOT = { has_country_flag = junkers_lost }
		}
	}

	equipment_type = {
		CAS_equipment
		mio_cat_eq_all_cv_aircraft
		strike_bomber_equipment
		transport_plane_equipment
	}

	research_categories = {
		cas_bomber
		strike_bomber
	}

	add_trait = {
		token = GER_mio_trait_psychological_warfare
		name = GER_mio_trait_psychological_warfare

		icon = GFX_generic_mio_department_icon_tank_general_spg
		special_trait_background = yes

		position = { x = 9 y = 0 }

		limit_to_equipment_type = { CAS_equipment }
		equipment_bonus = {
			air_ground_attack = 0.1
		}
	}

	add_trait = {
		token = GER_fighter_staff_committee
		name = GER_fighter_staff_committee
		icon = GFX_generic_mio_department_icon_plane_fighter_production
		special_trait_background = yes

		position = { x=@aircraft_1_X y=@aircraft_1_Y }

		available = {
			FROM = {
				has_completed_focus = GER_fighter_staff_committee
			}
		}

		production_bonus = {
			production_capacity_factor = @aircraft_production_capacity_factor
		}
	}

	add_trait = {
		token = GER_jagernotprogram
		name = GER_jagernotprogram
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes

		position = { x=@aircraft_2_X y=@aircraft_2_Y }

		available = {
			FROM = {
				has_completed_focus = GER_jagernotprogram
			}
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.1
		}
	}
}

GER_focke_wulf_organization = {		#Multirole - patrol - scout
	include = generic_light_multi_role_aircraft_organization
	icon = GFX_idea_focke_wulf

	allowed = {
		original_tag = GER
	}
	available = {
		FROM = {
			NOT = { has_country_flag = focke_wulf_lost }
		}
	}

	equipment_type = { fighter_multirole_equipment maritime_patrol_plane scout_plane }

	research_categories = { cat_fighter patrol_bomber cat_scout_plane }

	add_trait = {
		token = GER_fighter_staff_committee
		name = GER_fighter_staff_committee
		icon = GFX_generic_mio_department_icon_plane_fighter_production
		special_trait_background = yes

		position = { x=@aircraft_1_X y=@aircraft_1_Y }

		available = {
			FROM = {
				has_completed_focus = GER_fighter_staff_committee
			}
		}

		production_bonus = {
			production_capacity_factor = @aircraft_production_capacity_factor
		}
	}

	add_trait = {
		token = GER_jagernotprogram
		name = GER_jagernotprogram
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes

		position = { x=@aircraft_2_X y=@aircraft_2_Y }

		available = {
			FROM = {
				has_completed_focus = GER_jagernotprogram
			}
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.1
		}
	}
}

GER_heinkel_organization = {		#Medium - Heavy bombers - Transport
	include = generic_heavy_aircraft_organization
	icon = GFX_idea_heinkel

	allowed = {
		original_tag = GER
	}
	available = {
		FROM = {
			NOT = { has_country_flag = heinkel_lost }
		}
	}

	add_trait = {
		token = GER_fighter_staff_committee
		name = GER_fighter_staff_committee
		icon = GFX_generic_mio_department_icon_plane_fighter_production
		special_trait_background = yes

		position = { x=@aircraft_1_X y=@aircraft_1_Y }

		available = {
			FROM = {
				has_completed_focus = GER_fighter_staff_committee
			}
		}

		production_bonus = {
			production_capacity_factor = @aircraft_production_capacity_factor
		}
	}

	add_trait = {
		token = GER_jagernotprogram
		name = GER_jagernotprogram
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes

		position = { x=@aircraft_2_X y=@aircraft_2_Y }

		available = {
			FROM = {
				has_completed_focus = GER_jagernotprogram
			}
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.1
		}
	}
}

GER_dornier_organization = {		#Strike Bombers - Heavy Fighters
	include = generic_medium_aircraft_organization
	icon = GFX_idea_dornier

	allowed = {
		original_tag = GER
	}
	available = {
		FROM = {
			NOT = { has_country_flag = dornier_lost }
		}
	}
	equipment_type = {
		strike_bomber_equipment
		heavy_fighter_equipment
	}

	research_categories = { cat_heavy_fighter }

#	remove_trait = { generic_mio_trait_multi_role_transport }

	add_trait = {
		token = GER_fighter_staff_committee
		name = GER_fighter_staff_committee
		icon = GFX_generic_mio_department_icon_plane_fighter_production
		special_trait_background = yes

		position = { x=@aircraft_1_X y=@aircraft_1_Y }

		available = {
			FROM = {
				has_completed_focus = GER_fighter_staff_committee
			}
		}

		production_bonus = {
			production_capacity_factor = @aircraft_production_capacity_factor
		}
	}

	add_trait = {
		token = GER_jagernotprogram
		name = GER_jagernotprogram
		icon = GFX_generic_mio_department_icon_facilities
		special_trait_background = yes

		position = { x=@aircraft_2_X y=@aircraft_2_Y }

		available = {
			FROM = {
				has_completed_focus = GER_jagernotprogram
			}
		}

		organization_modifier = {
			military_industrial_organization_funds_gain = 0.1
		}
	}
}

##     ##    ###    ######## ######## ########  #### ######## ##
###   ###   ## ##      ##    ##       ##     ##  ##  ##       ##
#### ####  ##   ##     ##    ##       ##     ##  ##  ##       ##
## ### ## ##     ##    ##    ######   ########   ##  ######   ##
##     ## #########    ##    ##       ##   ##    ##  ##       ##
##     ## ##     ##    ##    ##       ##    ##   ##  ##       ##
##     ## ##     ##    ##    ######## ##     ## #### ######## ########

GER_rheinmetall_organization = {
	include = generic_artillery_organization
	icon = GFX_idea_rheinmetall

	allowed = {
		original_tag = GER
	}

	add_trait = {
		token = GER_mio_trait_merge_with_borsig
		name = GER_mio_trait_merge_with_borsig
		icon = GFX_generic_mio_department_icon_tank_general_weapons
		special_trait_background = yes

		position = { x=@materiel_1_X y=@materiel_1_Y }

		available = {
			FROM = {
				has_completed_focus = GER_mobilize_the_workforce
			}
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.05
			production_efficiency_gain_factor = 0.01
		}
		organization_modifier = {
			military_industrial_organization_size_up_requirement = -0.1
		}
	}
}

GER_mauser_organization = {
	include = generic_infantry_equipment_organization
	icon = GFX_idea_mauser

	allowed = {
		original_tag = GER
	}
}

GER_ggl_organization = {
	include = generic_support_equipment_organization
	icon = GFX_idea_ggl

	allowed = {
		original_tag = GER
	}
}

GER_opel_organization = {
	include = generic_motorized_mechanized_organization
	icon = GFX_idea_opel

	allowed = {
		OR = {
			original_tag = GER
			AND = {
				original_tag = ROM
				has_dlc = "Death or Dishonor"
			}
		}
	}
	available = {
		if = {
			limit = { FROM = {original_tag = ROM} }
			FROM = {
				GER = { has_capitulated = no }
				NOT = { has_war_with = GER }
				has_completed_focus = ROM_invite_foreign_companies
			}
		}
	}

	add_trait = {
		token = GER_mio_trait_hanomag
		name = GER_mio_trait_hanomag
		icon = GFX_generic_mio_department_icon_mechanized_hull
		special_trait_background = yes

		position = { x=@materiel_1_X y=@materiel_1_Y }
		visible = {
			FROM = {original_tag = GER}
		}

		available = {
			if = {
				limit = { FROM = {original_tag = GER} }
				FROM = {
					has_completed_focus = GER_order_the_sonderkraftfahrzeug
				}
			}
		}

		limit_to_equipment_type = { ger_mechanized_equipment_1 ger_mechanized_equipment_2 ger_mechanized_equipment_3 ger_mechanized_equipment_4 }

		production_bonus = {
			production_capacity_factor = 0.05
		}
	}

	add_trait = {
		token = GER_mio_trait_demag
		name = GER_mio_trait_demag
		icon = GFX_generic_mio_department_icon_mechanized_production
		special_trait_background = yes

		position = { x=@materiel_2_X y=@materiel_2_Y }
		visible = {
			FROM = {original_tag = GER}
		}
		available = {
			if = {
				limit = { FROM = {original_tag = GER} }
				FROM = {
					has_completed_focus = GER_order_the_sonderkraftfahrzeug
				}
			}
		}

		limit_to_equipment_type = { ger_mechanized_equipment_6 ger_mechanized_equipment_7 }

		production_bonus = {
			production_capacity_factor = 0.05
		}
	}
}

 ######  ##     ## #### ########   ######
##    ## ##     ##  ##  ##     ## ##    ##
##       ##     ##  ##  ##     ## ##
 ######  #########  ##  ########   ######
	  ## ##     ##  ##  ##              ##
##    ## ##     ##  ##  ##        ##    ##
 ######  ##     ## #### ##         ######

GER_germaniawerft_organization = {
	include = generic_battle_line_ship_organization
	icon = GFX_idea_germaniawerft

	allowed = {
		original_tag = GER
	}
	equipment_type = {
		mio_cat_eq_all_carrier
		mio_cat_eq_all_battleship
		ship_hull_heavy_cruiser
		screen_ship
	}
	research_categories = {
		ff_tech
		dd_tech
		cl_tech
		ca_tech
		bb_tech
		bc_tech
		ship_modules_tech
	}
}

GER_blohm_und_voss_organization = {
	include = generic_raider_ship_organization
	icon = GFX_idea_blohm_und_voss

	allowed = {
		original_tag = GER
	}
}

GER_ag_weser_organization = {
	include = generic_submarine_organization
	icon = GFX_idea_ag_weser

	allowed = {
		original_tag = GER
	}
}