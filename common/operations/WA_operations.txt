
assassinate_victor_emmanuel = {
	icon = GFX_murder_trotsky
	map_icon = GFX_murder_trotsky_map
	name = assassinate_victor_emmanuel
	desc = assassinate_victor_emmanuel_desc
	days = 90

	priority = 10

	allowed = {
		original_tag = ITA
	}

	visible = {
		has_completed_focus = ITA_assassinate_victor_emmanuel
		NOT = { ROOT = { has_country_flag = ITA_assassinate_victor_emmanuel_attempt_flag } } # This operation can only be done once
		controls_state = 856
	}

	operatives = 1

	equipment = {
		infantry_equipment = 1
		support_equipment = 5
	}

	outcome_modifiers = { operation_outcome operation_infiltrate_outcome }
	cost_modifiers = { operation_cost operation_infiltrate_cost }
	risk_modifiers = { operation_risk operation_infiltrate_risk }

	outcome_potential = {
		custom_effect_tooltip = assassinate_victor_emmanuel_outcome_tt
	}
	risk_chance = 0
	experience = 5
	# outcome is an effect that runs when the operation has completed
	outcome_execute = { # SCOPE_OPERATION
		ROOT = { set_country_flag = ITA_assassinate_victor_emmanuel_attempt_flag } # This operation can only be done once
		ROOT = { news_event = { id = afo_news.63 } }  #SUCCESS - Kill Trotsky and swap Trotskyite Plot NS
	}

	# This is where all the separate phases are defined
	# Each phase for an operation may have a single actual phase assigned to it, which is determined here
	phases = { #infiltration
		assassinate_victor_emmanuel_infiltration = { base = 100 }
	}
	phases = {
		assassinate_victor_emmanuel_attack = { base = 100 }
	}
	phases = {
		exfiltration_border = { base = 40 }
		exfiltration_go_to_ground = { base = 30 }
		exfiltration_submarine_pickup = { base = 20 }
		exfiltration_air_pickup = {
			base = 10
			modifier = {
				ROOT = {
					has_equipment = {
						transport_plane_equipment < 1
					}
				}
				factor = 0 #less likely if we have no transports
			}
		}
	}
}

assassinate_victor_emmanuel_infiltration = {
	name = assassinate_victor_emmanuel_infiltration
	desc = assassinate_victor_emmanuel_infiltration_desc
	outcome = assassinate_victor_emmanuel_infiltration_outcome
	icon = "GFX_phase_targeted_sabotage_plant_explosives_small"
	picture = "GFX_phase_targeted_sabotage_plant_explosives"
}

assassinate_victor_emmanuel_attack = {
	name = assassinate_victor_emmanuel_attack
	desc = assassinate_victor_emmanuel_attack_desc
	outcome = assassinate_victor_emmanuel_attack_outcome
	icon = "GFX_phase_raid_trotskys_villa_small"
	picture = "GFX_phase_raid_trotskys_villa"
}

assassinate_benito_mussolini = {
	icon = GFX_murder_trotsky
	map_icon = GFX_murder_trotsky_map
	name = assassinate_benito_mussolini
	desc = assassinate_benito_mussolini_desc
	days = 90

	priority = 10

	allowed = {
		original_tag = ITA
	}

	visible = {
		has_completed_focus = ITA_assassinate_benito_mussolini
		NOT = { ROOT = { has_country_flag = ITA_assassinate_benito_mussolini_attempt_flag } } # This operation can only be done once
		controls_state = 159
	}

	operatives = 1

	equipment = {
		infantry_equipment = 1
		support_equipment = 5
	}

	outcome_modifiers = { operation_outcome operation_infiltrate_outcome }
	cost_modifiers = { operation_cost operation_infiltrate_cost }
	risk_modifiers = { operation_risk operation_infiltrate_risk }

	outcome_potential = {
		custom_effect_tooltip = assassinate_benito_mussolini_outcome_tt
	}
	risk_chance = 0
	experience = 5
	# outcome is an effect that runs when the operation has completed
	outcome_execute = { # SCOPE_OPERATION
		ROOT = { set_country_flag = ITA_assassinate_benito_mussolini_attempt_flag } # This operation can only be done once
		ROOT = { news_event = { id = afo_news.62 } }  #SUCCESS - Kill Trotsky and swap Trotskyite Plot NS
	}

	# This is where all the separate phases are defined
	# Each phase for an operation may have a single actual phase assigned to it, which is determined here
	phases = { #infiltration
		assassinate_benito_mussolini_infiltration = { base = 100 }
	}
	phases = {
		assassinate_benito_mussolini_attack = { base = 100 }
	}
	phases = {
		exfiltration_border = { base = 40 }
		exfiltration_go_to_ground = { base = 30 }
		exfiltration_submarine_pickup = { base = 20 }
		exfiltration_air_pickup = {
			base = 10
			modifier = {
				ROOT = {
					has_equipment = {
						transport_plane_equipment < 1
					}
				}
				factor = 0 #less likely if we have no transports
			}
		}
	}
}

assassinate_benito_mussolini_infiltration = {
	name = assassinate_benito_mussolini_infiltration
	desc = assassinate_benito_mussolini_infiltration_desc
	outcome = assassinate_benito_mussolini_infiltration_outcome
	icon = "GFX_phase_murder_trotsky_small"
	picture = "GFX_phase_murder_trotsky"
}

assassinate_benito_mussolini_attack = {
	name = assassinate_benito_mussolini_attack
	desc = assassinate_benito_mussolini_attack_desc
	outcome = assassinate_benito_mussolini_attack_outcome
	icon = "GFX_phase_raid_trotskys_villa_small"
	picture = "GFX_phase_raid_trotskys_villa"
}