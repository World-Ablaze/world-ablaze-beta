focus_tree = {
	id = free_french_focus

	country = {
		factor = 0

		modifier = {
			add = 1
			tag = FRA
		}
	}

	default = no

	continuous_focus_position = { x = 100 y = 1300 }

	focus = {
		id = FRA_appeal_to_the_french_nation
		icon = GFX_goal_FRA_appeal_to_the_french_nation
		x = 7
		y = 0

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
			has_country_leader = {
				character = FRA_charles_de_gaulle
				ruling_only = yes
			}
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			if = {
				limit = { not = { has_dlc = "Man the Guns" } }
				add_manpower = 10000
			}
			else = {
				add_manpower = 10000
				add_legitimacy = 15
			}
			add_political_power = 100
		}
	}

	focus = {
		id = FRA_empire_defense_council
		icon = GFX_goal_FRA_empire_defense_council
		prerequisite = { focus = FRA_appeal_to_the_french_nation }
		x = 0
		y = 1
		relative_position_id = FRA_appeal_to_the_french_nation

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = FRA_empire_defense_council
		}
	}

	focus = {
		id = FRA_our_symbol_the_cross_of_lorraine
		icon = GFX_goal_FRA_our_symbol_the_cross_of_lorraine
		prerequisite = { focus = FRA_empire_defense_council }
		x = 0
		y = 1
		relative_position_id = FRA_empire_defense_council

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_war_support = 0.2
			effect_tooltip = {
				swap_ideas = {
					remove_idea = FRA_victors_of_wwi
					add_idea = FRA_french_perseverance
				}
			}
			hidden_effect = {
				if = {
					limit = {
						has_idea = FRA_victors_of_wwi
					}
					swap_ideas = {
						remove_idea = FRA_victors_of_wwi
						add_idea = FRA_french_perseverance
					}
				}
				else_if = {
					limit = {
						has_idea = FRA_victors_of_wwi_2
					}
					swap_ideas = {
						remove_idea = FRA_victors_of_wwi_2
						add_idea = FRA_french_perseverance
					}
				}
			}
		}
	}

	###

	focus = {
		id = FRA_appeal_to_loyalists
		icon = GFX_goal_FRA_appeal_to_loyalists
		prerequisite = { focus = FRA_appeal_to_the_french_nation }
		x = -5
		y = 1
		relative_position_id = FRA_appeal_to_the_french_nation

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_offsite_building = {
				type = industrial_complex
				level = 4
			}
			add_offsite_building = {
				type = arms_factory
				level = 4
			}
		}
	}

	focus = {
		id = FRA_new_colonial_administration
		icon = GFX_focus_ETH_re-convene_the_parliament
		prerequisite = { focus = FRA_appeal_to_loyalists }
		x = -2
		y = 1
		relative_position_id = FRA_appeal_to_loyalists

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
			controls_state = 635
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			every_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = TAH
				}
				add_compliance = 100
			}
		}
	}

	focus = {
		id = FRA_colonial_recruitment
		icon = GFX_focus_ETH_peacekeeping_forces
		prerequisite = { focus = FRA_new_colonial_administration }
		x = 0
		y = 1
		relative_position_id = FRA_new_colonial_administration

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_controlled_by = ROOT
				NOT = {
					is_core_of = ROOT
				}
			}
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = FRA_colonial_recruitment
		}
	}

	focus = {
		id = FRA_acquire_the_merchant_fleet
		icon = GFX_goal_generic_ships_convoys
		prerequisite = { focus = FRA_appeal_to_loyalists }
		x = 0
		y = 1
		relative_position_id = FRA_appeal_to_loyalists

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_equipment_to_stockpile = {
				type = convoy_1
				amount = 170
				producer = FRA
			}
		}
	}

	focus = {
		id = FRA_lessons_from_our_defeat
		icon = GFX_goal_ROM_failure_of_france
		prerequisite = { focus = FRA_acquire_the_merchant_fleet }
		x = 0
		y = 1
		relative_position_id = FRA_acquire_the_merchant_fleet

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = {
				has_idea = FRA_structured_doctrines
				has_idea = FRA_static_command
				has_idea = FRA_victors_of_wwi
				has_idea = FRA_victors_of_wwi_2
			}
			doesnt_have_disjointed_government = yes
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			if = {
				limit = {
					has_idea = FRA_structured_doctrines
				}
				remove_ideas = FRA_structured_doctrines
			}
			if = {
				limit = {
					has_idea = FRA_static_command
				}
				remove_ideas = FRA_static_command
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi
				}
				remove_ideas = FRA_victors_of_wwi
			}
			if = {
				limit = {
					has_idea = FRA_victors_of_wwi_2
				}
				remove_ideas = FRA_victors_of_wwi_2
			}
			FRA_remove_disjointed_government = yes
			FRA_disjointed_government_level = yes
		}
	}

	focus = {
		id = FRA_continue_the_fight
		icon = GFX_goal_generic_commit_to_the_war
		prerequisite = { focus = FRA_empire_defense_council }
		prerequisite = { focus = FRA_appeal_to_loyalists }
		x = 2
		y = 1
		relative_position_id = FRA_appeal_to_loyalists

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			army_experience = 30
			create_corps_commander = {
				name = "Marie-Pierre Koenig"
				GFX = GFX_portrait_fra_marie_pierre_koenig
				skill = 3
				traits = {  }
				attack_skill = 2
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 3
			}
			create_corps_commander = {
				name = "Georges Catroux"
				GFX = GFX_portrait_fra_georges_catroux
				skill = 3
				traits = {  }
				attack_skill = 3
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 2
			}
			create_navy_leader = {
				name = ""
				skill = 3
				attack_skill = 3
				defense_skill = 3
				maneuvering_skill = 2
				coordination_skill = 4
				traits = { }
			}
		}
	}

	focus = {
		id = FRA_the_regiment_normandie
		icon = GFX_focus_fra_regiment_normandie
		prerequisite = { focus = FRA_continue_the_fight }
		x = 0
		y = 1
		relative_position_id = FRA_continue_the_fight

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
			any_enemy_country = {
				has_war_with = SOV
			}
			NOT = {
				has_war_with = SOV
			}
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			air_experience = 35
			hidden_effect = {
				SOV = {
					load_oob = "SOV_regiment_normandie"
				}
			}
		}
	}

	focus = {
		id = FRA_rebuild_our_forces
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = FRA_colonial_recruitment }
		prerequisite = { focus = FRA_lessons_from_our_defeat }
		prerequisite = { focus = FRA_the_regiment_normandie }
		x = 0
		y = 1
		relative_position_id = FRA_lessons_from_our_defeat

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_timed_idea = {
				idea = FRA_rebuild_our_forces
				days = 365
			}
		}
	}

	###

	focus = {
		id = FRA_appeal_to_overseas_territories
		icon = GFX_goal_FRA_appeal_to_overseas_territories
		prerequisite = { focus = FRA_appeal_to_the_french_nation }
		x = 5
		y = 1
		relative_position_id = FRA_appeal_to_the_french_nation

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = FRA_appeal_to_overseas_territories_tt
			if = {
				limit = {
					FRA = {
						check_variable = { FRA_People_national_unity > 2 }
					}
				}
				if = {
					limit = { 775 = { CONTROLLER = { OR = { tag = VIC is_subject_of = VIC } } } }
					FRA = { transfer_state = 775 }
				}
				if = {
					limit = { 774 = { CONTROLLER = { OR = { tag = VIC is_subject_of = VIC } } } }
					FRA = { transfer_state = 774 }
				}
				if = {
					limit = { 660 = { CONTROLLER = { OR = { tag = VIC is_subject_of = VIC } } } }
					FRA = { transfer_state = 660 }
				}
				if = {
					limit = { 773 = { CONTROLLER = { OR = { tag = VIC is_subject_of = VIC } } } }
					FRA = { transfer_state = 773 }
				}
				if = {
					limit = { 772 = { CONTROLLER = { OR = { tag = VIC is_subject_of = VIC } } } }
					FRA = { transfer_state = 772 }
				}
				if = {
					limit = { 320 = { CONTROLLER = { OR = { tag = VIC is_subject_of = VIC } } } }
					FRA = { transfer_state = 320 }
				}
				if = {
					limit = { 728 = { CONTROLLER = { OR = { tag = VIC is_subject_of = VIC } } } }
					FRA = { transfer_state = 728 }
				}
			}
			else_if = {
				limit = {
					FRA = {
						check_variable = { FRA_People_national_unity > 1 }
					}
				}
				if = {
					limit = { 320 = { CONTROLLER = { OR = { tag = VIC is_subject_of = VIC } } } }
					FRA = { transfer_state = 320 }
				}
				if = {
					limit = { 728 = { CONTROLLER = { OR = { tag = VIC is_subject_of = VIC } } } }
					FRA = { transfer_state = 728 }
				}
			}
			else_if = {
				limit = {
					FRA = {
						check_variable = { FRA_People_national_unity > 0 }
					}
				}
				if = {
					limit = { 728 = { CONTROLLER = { OR = { tag = VIC is_subject_of = VIC } } } }
					FRA = { transfer_state = 728 }
				}
			}
		}
	}

	#

	focus = {
		id = FRA_reconquer_the_west_indies
		icon = GFX_goal_FRA_reconquer_the_west_indies
		prerequisite = { focus = FRA_appeal_to_overseas_territories }
		x = -2
		y = 1
		relative_position_id = FRA_appeal_to_overseas_territories

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_army_manpower = { size > 199999 }
			any_state = {
				is_owned_and_controlled_by = FRI
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			unlock_decision_tooltip = FRA_attack_west_indies
		}
	}

	focus = {
		id = FRA_reconquer_indochina
		icon = GFX_goal_FRA_reconquer_indochina
		prerequisite = { focus = FRA_reconquer_the_west_indies }
		x = -1
		y = 1
		relative_position_id = FRA_reconquer_the_west_indies

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_army_manpower = { size > 249999 }
			any_state = {
				is_owned_and_controlled_by = FRV
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			unlock_decision_tooltip = FRA_attack_Indochina
		}
	}

	#

	focus = {
		id = FRA_reconquer_central_africa
		icon = GFX_goal_FRA_reconquer_central_africa
		prerequisite = { focus = FRA_appeal_to_overseas_territories }
		x = 0
		y = 1
		relative_position_id = FRA_appeal_to_overseas_territories

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_army_manpower = { size > 99999 }
			any_state = {
				is_owned_and_controlled_by = FRC
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			unlock_decision_tooltip = FRA_attack_central_africa
		}
	}

	focus = {
		id = FRA_reconquer_west_africa
		icon = GFX_goal_FRA_reconquer_west_africa
		prerequisite = { focus = FRA_reconquer_central_africa }
		x = -1
		y = 1
		relative_position_id = FRA_reconquer_central_africa

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_army_manpower = { size > 199999 }
			any_state = {
				is_owned_and_controlled_by = FRW
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			unlock_decision_tooltip = FRA_attack_west_africa
		}
	}

	focus = {
		id = FRA_reconquer_madagascar
		icon = GFX_goal_FRA_reconquer_madagascar
		prerequisite = { focus = FRA_reconquer_central_africa }
		x = 1
		y = 1
		relative_position_id = FRA_reconquer_central_africa

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_army_manpower = { size > 149999 }
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			unlock_decision_tooltip = FRA_attack_madagascar
		}
	}

	#

	focus = {
		id = FRA_reconquer_syria
		icon = GFX_goal_FRA_reconquer_syria
		prerequisite = { focus = FRA_appeal_to_overseas_territories }
		x = 2
		y = 1
		relative_position_id = FRA_appeal_to_overseas_territories

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_army_manpower = { size > 199999 }
			any_state = {
				is_owned_and_controlled_by = FRS
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			unlock_decision_tooltip = FRA_attack_Syria
		}
	}

	focus = {
		id = FRA_reconquer_north_africa
		icon = GFX_goal_FRA_reconquer_north_africa
		prerequisite = { focus = FRA_reconquer_syria }
		x = 1
		y = 1
		relative_position_id = FRA_reconquer_syria

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			has_army_manpower = { size > 249999 }
			any_state = {
				is_owned_and_controlled_by = FRT
				any_neighbor_state = {
					controller = {
						OR = {
							TAG = FRA
							is_in_faction_with = FRA
						}
					}
				}
			}
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			unlock_decision_tooltip = FRA_attack_north_africa
		}
	}

	focus = {
		id = FRA_refus_absurde
		icon = GFX_focus_spr_masters_of_our_own_fate
		prerequisite = { focus = FRA_reconquer_west_africa }
		prerequisite = { focus = FRA_reconquer_madagascar }
		prerequisite = { focus = FRA_reconquer_north_africa }
		x = 0
		y = 3
		relative_position_id = FRA_appeal_to_overseas_territories

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_refus_absurde_tt
				NOT = {
					any_state = {
						OR = {
							is_core_of = TUN
							is_core_of = ALG
							is_core_of = MOR
							is_core_of = SYR
							state = 268 # Djibouti
							# central africa
							state = 772
							state = 539
							state = 773
							state = 774
							state = 660
							# west africa
							state = 776
							state = 777
							state = 781
							state = 778
							state = 556
							state = 779
							state = 780
							state = 272
							state = 556 
						}
						NOT = {
							is_controlled_by = FRA
						}
					}
				}
			}
				
			
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = FRA_defeatism
		}
	}

	###

	focus = {
		id = FRA_french_national_committee
		icon = GFX_goal_generic_committee_of_defence
		prerequisite = { focus = FRA_our_symbol_the_cross_of_lorraine }
		x = 0
		y = 2
		relative_position_id = FRA_our_symbol_the_cross_of_lorraine

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = FRA_french_national_committee_tt
			swap_ideas = {
				remove_idea = FRA_quasi_legitimate_france_1
				add_idea = FRA_quasi_legitimate_france_2
			}
		}
	}

	focus = {
		id = FRA_fighting_france
		icon = GFX_goal_FRA_fighting_france
		prerequisite = { focus = FRA_refus_absurde }
		x = 1
		y = 1
		relative_position_id = FRA_french_national_committee

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_war_support = 0.1
			every_state = {
				limit = {
					is_core_of = FRA
				}
				add_resistance = 20
			}
		}
	}

	focus = {
		id = FRA_prepare_for_our_return
		icon = GFX_goal_FRA_prepare_for_our_return
		prerequisite = { focus = FRA_french_national_committee }
		prerequisite = { focus = FRA_fighting_france }
		x = -1
		y = 1
		relative_position_id = FRA_fighting_france

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_tech_bonus = {
				name = FRA_prepare_for_our_return
				category = marine_tech
				bonus = 3
				uses = 1
			}
			every_state = {
				limit = {
					is_core_of = FRA
					is_on_continent = europe
					is_coastal = yes
				}
				add_dynamic_modifier = {
					modifier = Allied_supply
				}
			}
		}
	}

	focus = {
		id = FRA_form_the_provincial_government
		icon = GFX_goal_FRA_form_the_provincial_government
		prerequisite = { focus = FRA_prepare_for_our_return }
		x = 0
		y = 2
		relative_position_id = FRA_prepare_for_our_return

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
			any_controlled_state = {
				is_core_of = ROOT
				is_on_continent = europe
				is_fully_controlled_by = ROOT
				all_neighbor_state = {
					is_fully_controlled_by = ROOT
				}
				NOT = {
					state = 1
				}
			}
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			
		}
	}

	###

	focus = {
		id = FRA_procure_allied_equipment
		icon = GFX_goal_USA_air_resupply_methods
		prerequisite = { focus = FRA_rebuild_our_forces }
		prerequisite = { focus = FRA_french_national_committee }
		x = 0
		y = 1
		relative_position_id = FRA_rebuild_our_forces

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			unlock_decision_category_tooltip = FRA_procure_allied_equipment_dec_cat
		}
	}

	#

	focus = {
		id = FRA_lessons_from_our_allies
		icon = GFX_focus_generic_home_defense
		prerequisite = { focus = FRA_procure_allied_equipment }
		x = -2
		y = 1
		relative_position_id = FRA_procure_allied_equipment

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_doctrine_cost_reduction = {
				cost_reduction = 0.99
				name = FRA_lessons_from_our_allies
				uses = 2
				category = land_doctrine
				category = air_doctrine
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = FRA_free_french_air_forces
		icon = GFX_goal_FRA_free_french_air_forces
		prerequisite = { focus = FRA_lessons_from_our_allies }
		x = 0
		y = 1
		relative_position_id = FRA_lessons_from_our_allies

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			air_experience = 100
		}
	}

	#

	focus = {
		id = FRA_restart_our_engineering_core
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = FRA_procure_allied_equipment }
		x = 0
		y = 1
		relative_position_id = FRA_procure_allied_equipment

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_tech_bonus = {
				name = FRA_restart_our_engineering_core
				bonus = 0.5
				category = support_tech
				uses = 3
			}
			add_tech_bonus = {
				name = FRA_restart_our_engineering_core
				bonus = 0.5
				category = industry
				uses = 2
			}
			add_tech_bonus = {
				bonus = 0.5
				name = FRA_restart_our_engineering_core
				category = electronics
				uses = 1
			}
		}
	}

	focus = {
		id = FRA_the_french_liberation_army
		icon = GFX_goal_FRA_the_french_liberation_army
		prerequisite = { focus = FRA_restart_our_engineering_core }
		x = 0
		y = 1
		relative_position_id = FRA_restart_our_engineering_core

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			army_experience = 100
		}
	}

	#

	focus = {
		id = FRA_the_foreign_legionnaries
		icon = GFX_goal_FRA_the_french_foreign_legion
		prerequisite = { focus = FRA_procure_allied_equipment }
		x = 2
		y = 1
		relative_position_id = FRA_procure_allied_equipment

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
	}

	focus = {
		id = FRA_free_french_naval_forces
		icon = GFX_goal_FRA_free_french_naval_forces
		prerequisite = { focus = FRA_the_foreign_legionnaries }
		x = 0
		y = 1
		relative_position_id = FRA_the_foreign_legionnaries

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			navy_experience = 100
		}
	}

	focus = {
		id = FRA_a_modern_fighting_force
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = FRA_free_french_air_forces }
		prerequisite = { focus = FRA_the_french_liberation_army }
		prerequisite = { focus = FRA_free_french_naval_forces }
		x = 0
		y = 1
		relative_position_id = FRA_the_french_liberation_army

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_doctrine_cost_reduction = {
				cost_reduction = 0.99
				name = FRA_a_modern_fighting_force
				category = cat_mobile_warfare
				uses = 3
			}
		}
	}

	###

	focus = {
		id = FRA_french_committee_of_national_liberation
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = FRA_refus_absurde }
		x = 0
		y = 1
		relative_position_id = FRA_refus_absurde

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			every_state = {
				limit = {
					is_core_of = ROOT
				}
				add_resistance = 20
			}
		}
	}

	#

	focus = {
		id = FRA_reach_out_to_the_trade_unions
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = FRA_french_committee_of_national_liberation }
		x = -2
		y = 1
		relative_position_id = FRA_french_committee_of_national_liberation

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			hidden_effect = {
				add_to_variable = { FRA_CGT_attitude = 5 }
				add_to_variable = { FRA_CGT_political_power_gain = 5 }
				add_to_variable = { FRA_CGT_stability  = 5 }
			}
			every_state = {
				limit = {
					is_core_of = FRA
				}
				add_compliance = -20
			}
		}
	}

	focus = {
		id = FRA_cooperate_with_the_communists
		icon = GFX_goal_generic_cooperate_with_the_communists
		prerequisite = { focus = FRA_reach_out_to_the_trade_unions }
		x = 0
		y = 1
		relative_position_id = FRA_reach_out_to_the_trade_unions

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			every_state = {
				limit = {
					is_core_of = FRA
					is_on_continent = europe
				}
				add_resistance = 20
			}
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
		}
	}

	#

	focus = {
		id = FRA_french_forces_of_the_interior
		icon = GFX_goal_FRA_french_forces_of_the_interior
		prerequisite = { focus = FRA_french_committee_of_national_liberation }
		x = 0
		y = 1
		relative_position_id = FRA_french_committee_of_national_liberation

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = FRA_interior_forces
		}
	}

	focus = {
		id = FRA_the_maquis
		icon = GFX_goal_FRA_maquis
		prerequisite = { focus = FRA_french_forces_of_the_interior }
		x = 0
		y = 1
		relative_position_id = FRA_french_forces_of_the_interior

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			swap_ideas = {
				remove_idea = FRA_interior_forces
				add_idea = FRA_maquis
			}
		}
	}

	#

	focus = {
		id = FRA_connections_within_the_industrialists
		icon = GFX_goal_generic_loans
		prerequisite = { focus = FRA_french_committee_of_national_liberation }
		x = 2
		y = 1
		relative_position_id = FRA_french_committee_of_national_liberation

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			hidden_effect = {
				add_to_variable = { FRA_French_Industrialists_attitude = 5 }
				add_to_variable = { FRA_French_Industrialists_stability = 5 }
			}
			every_state = {
				limit = {
					is_core_of = FRA
					is_on_continent = europe
				}
				add_compliance = -20
			}
		}
	}

	focus = {
		id = FRA_the_civil_and_military_organization
		icon = GFX_goal_generic_military_liason
		prerequisite = { focus = FRA_connections_within_the_industrialists }
		x = 0
		y = 1
		relative_position_id = FRA_connections_within_the_industrialists

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			hidden_effect = {
				add_to_variable = { FRA_National_Bloc_attitude = 5 }
				add_to_variable = { FRA_National_bloc_political_power_gain = 5 }
				add_to_variable = { FRA_National_Bloc_stability = 5 }
			}
		}
	}

	focus = {
		id = FRA_national_uprising
		icon = GFX_focus_ETH_freedom_at_gunpoint
		prerequisite = { focus = FRA_cooperate_with_the_communists }
		prerequisite = { focus = FRA_the_maquis }
		prerequisite = { focus = FRA_the_civil_and_military_organization }
		x = 0
		y = 1
		relative_position_id = FRA_the_maquis

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			unlock_decision_tooltip = FRA_uprising
		}
	}
}