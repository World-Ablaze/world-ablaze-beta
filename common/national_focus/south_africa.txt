focus_tree = {
	id = south_african_focus

	country = {
		factor = 0

		modifier = {
			add = 10
			tag = SAF
			has_dlc = "Together for Victory"
		}
	}
	continuous_focus_position = { x = 40 y = 1100 }

	default = no

	############################
	##### INDUSTRY SECTION #####
	############################

	focus = {
		id = SAF_continue_industrialization
		icon = GFX_goal_generic_railroad
		x = 3
		y = 0

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 275 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 1008 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	###

	focus = {
		id = SAF_expand_transvaal_railways
		icon = GFX_goal_generic_railroads
		prerequisite = { focus = SAF_continue_industrialization }
		x = -3
		y = 1
		relative_position_id = SAF_continue_industrialization

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			economy_fatigue_level_down_1 = yes
			build_railway = {
				path = { 13606 13607 13628 13624 13614 }
				level = 2
			}
			build_railway = {
				path = { 13615 5231 13614 }
			}
			build_railway = {
				path = { 13615 4556 1468 13604 }
			}
		}
	}

	focus = {
		id = SAF_create_national_highways
		icon = GFX_goal_generic_roads
		prerequisite = { focus = SAF_expand_transvaal_railways }
		x = -1
		y = 1
		relative_position_id = SAF_expand_transvaal_railways

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 275 }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 719 }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 1010 }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 681 }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_contract_ppc
		icon = GFX_goal_SAF_contract_ppc
		prerequisite = { focus = SAF_create_national_highways }
		x = 0
		y = 1
		relative_position_id = SAF_create_national_highways

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ppc
			add_tech_bonus = {
				name = SAF_contract_ppc
				bonus = 1.0
				uses = 1
				category = construction_tech
			}
		}
	}

	focus = {
		id = SAF_contract_pt
		icon = GFX_goal_SAF_contract_pt
		prerequisite = { focus = SAF_contract_ppc }
		x = 0
		y = 1
		relative_position_id = SAF_contract_ppc

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = pt
			add_tech_bonus = {
				name = SAF_contract_pt
				bonus = 1.0
				uses = 1
				category = electronics
			}
		}
	}

	focus = {
		id = SAF_expand_the_rand_mines
		icon = GFX_focus_usa_reestablish_the_gold_standard
		prerequisite = { focus = SAF_expand_transvaal_railways }
		x = 1
		y = 1
		relative_position_id = SAF_expand_transvaal_railways

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			economy_fatigue_level_down_5 = yes
		}
	}

	focus = {
		id = SAF_expand_the_mining_industry
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SAF_expand_the_rand_mines }
		x = 0
		y = 1
		relative_position_id = SAF_expand_the_rand_mines

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 275 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 719 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_develop_industrial_technology
		icon = GFX_goal_generic_production2
		prerequisite = { focus = SAF_expand_the_mining_industry }
		x = 0
		y = 1
		relative_position_id = SAF_expand_the_mining_industry

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SAF_develop_industrial_technology
				bonus = 1.0
				uses = 1
				category = excavation_tech
			}
			add_tech_bonus = {
				name = SAF_develop_industrial_technology
				bonus = 0.5
				uses = 2
				category = industry
			}
		}
	}

	###

	focus = {
		id = SAF_south_african_ordnance_corps
		icon = GFX_goal_SAF_south_african_ordnance_corps
		prerequisite = { focus = SAF_continue_industrialization }
		x = 0
		y = 1
		relative_position_id = SAF_continue_industrialization

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					has_aat = yes
				}
				unlock_military_industrial_organization_tooltip = mio:SAF_saoc_organization
				unlock_military_industrial_organization_tooltip = mio:SAF_satc_organization
			}
			else = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = saoc
			}
		}
	}

	focus = {
		id = SAF_cape_defence_institue
		icon = GFX_goal_generic_research_2
		prerequisite = { focus = SAF_south_african_ordnance_corps }
		x = 0
		y = 1
		relative_position_id = SAF_south_african_ordnance_corps

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_research_slot = 2
		}
	}

	###

	focus = {
		id = SAF_expand_cape_railways
		icon = GFX_goal_generic_railroads
		prerequisite = { focus = SAF_continue_industrialization }
		x = 3
		y = 1
		relative_position_id = SAF_continue_industrialization

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			economy_fatigue_level_down_1 = yes
			build_railway = {
				path = { 13599 13600 13601 13611 12547 13613 13603 }
			}
			build_railway = {
				path = { 13603 4696 13612 13617 10697 13614 }
			}
		}
	}

	focus = {
		id = SAF_peacetime_armaments
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SAF_expand_cape_railways }
		x = 0
		y = 1
		relative_position_id = SAF_expand_cape_railways

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 719 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_go_with_german_companies
		icon = GFX_focus_chi_mission_to_germany
		mutually_exclusive = { focus = SAF_go_with_american_companies }
		prerequisite = { focus = SAF_peacetime_armaments }
		x = -1
		y = 1
		relative_position_id = SAF_peacetime_armaments

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_war_with = GER }
			country_exists = GER
			GER = { has_capitulated = no }
			NOT = {
				has_country_leader = {
					name = "Jan Smuts"
					ruling_only = yes
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_timed_idea = { idea = SAF_german_companies days = 912 }
			add_opinion_modifier = { target = GER modifier = CHI_mission_to_germany }
			reverse_add_opinion_modifier = { target = GER modifier = CHI_mission_to_germany }
		}
	}

	focus = {
		id = SAF_invite_daimler_benz
		icon = GFX_goal_SAF_invite_daimler_benz
		prerequisite = { focus = SAF_go_with_german_companies }
		x = 0
		y = 1
		relative_position_id = SAF_go_with_german_companies

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_war_with = GER }
			country_exists = GER
			GER = { has_capitulated = no }
			NOT = {
				has_country_leader = {
					name = "Jan Smuts"
					ruling_only = yes
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 275 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_go_with_american_companies
		icon = GFX_focus_chi_mission_to_the_us
		mutually_exclusive = { focus = SAF_go_with_german_companies }
		prerequisite = { focus = SAF_peacetime_armaments }
		x = 1
		y = 1
		relative_position_id = SAF_peacetime_armaments

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_war_with = USA }
			country_exists = USA
			USA = { has_capitulated = no }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_timed_idea = { idea = SAF_american_companies days = 912 }
			add_opinion_modifier = { target = USA modifier = CHI_mission_to_the_us }
			reverse_add_opinion_modifier = { target = USA modifier = CHI_mission_to_the_us }
		}
	}

	focus = {
		id = SAF_expand_ford_plants
		icon = GFX_goal_SAF_invite_ford
		prerequisite = { focus = SAF_go_with_american_companies }
		x = 0
		y = 1
		relative_position_id = SAF_go_with_american_companies

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_war_with = USA }
			country_exists = USA
			USA = { has_capitulated = no }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 275 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	###

	focus = {
		id = SAF_the_waterson_report
		icon = GFX_goal_generic_contract_ratify
		prerequisite = { focus = SAF_cape_defence_institue }
		x = 0
		y = 2
		relative_position_id = SAF_cape_defence_institue

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_War = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_timed_idea = { idea = SAF_military_expansion days = 365 }
		}
	}

	###

	focus = {
		id = SAF_natal_ordnance_factories
		icon = GFX_goal_generic_military_economy_small
		prerequisite = { focus = SAF_the_waterson_report }
		x = -1
		y = 1
		relative_position_id = SAF_the_waterson_report

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				mio:SAF_saoc_organization = {
					add_mio_size = 2
				}
			}
			random_owned_controlled_state = {
				prioritize = { 719 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_cape_foundries
		icon = GFX_goal_generic_civilian_economy_medium
		prerequisite = { focus = SAF_natal_ordnance_factories }
		x = 0
		y = 1
		relative_position_id = SAF_natal_ordnance_factories

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 681 }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_fund_oil_prospecting
		icon = GFX_goal_generic_oil_contract
		prerequisite = { focus = SAF_cape_foundries }
		x = 0
		y = 1
		relative_position_id = SAF_cape_foundries

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = sasol
			add_tech_bonus = {
				name = SAF_fund_oil_prospecting
				bonus = 1.0
				uses = 1
				category = synth_resources
			}
		}
	}

	focus = {
		id = SAF_cape_supply_depot
		icon = GFX_goal_generic_fuel_silo
		prerequisite = { focus = SAF_natal_ordnance_factories }
		x = -2
		y = 1
		relative_position_id = SAF_natal_ordnance_factories

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 681 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_south_africa_radar_and_defence_ring
		icon = GFX_goal_generic_radar
		prerequisite = { focus = SAF_cape_supply_depot }
		x = 0
		y = 1
		relative_position_id = SAF_cape_supply_depot

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			controls_state = 681
			controls_state = 1010
			controls_state = 719
			has_tech = radio_detection
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					681 = {
						radar_station < 5
					}
				}
				681 = {
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					681 = {
						anti_air_building < 10
					}
				}
				681 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					1010 = {
						radar_station < 5
					}
				}
				1010 = {
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					719 = {
						radar_station < 5
					}
				}
				719 = {
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	###

	focus = {
		id = SAF_pretoria_arms
		icon = GFX_goal_generic_military_economy_large
		prerequisite = { focus = SAF_the_waterson_report }
		x = 1
		y = 1
		relative_position_id = SAF_the_waterson_report

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 275 }
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_the_african_metals_corp
		icon = GFX_goal_generic_production
		prerequisite = { focus = SAF_pretoria_arms }
		x = 0
		y = 1
		relative_position_id = SAF_pretoria_arms

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			275 = {
				add_resource = {
					type = iron
					amount = 26
				}
				add_resource = {
					type = chromium
					amount = 50
				}
			}
		}
	}

	focus = {
		id = SAF_iscor_pretoria_steelworks
		icon = GFX_goal_generic_build_steel
		prerequisite = { focus = SAF_the_african_metals_corp }
		x = 0
		y = 1
		relative_position_id = SAF_the_african_metals_corp

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 275 }
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = steel_refinery
					level = 4
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_magazine_hill
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = SAF_pretoria_arms }
		x = 2
		y = 1
		relative_position_id = SAF_pretoria_arms

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = magazine_hill
		}
	}

	focus = {
		id = SAF_hulamin_aluminium
		icon = GFX_goal_generic_build_aluminium
		prerequisite = { focus = SAF_magazine_hill }
		x = 0
		y = 1
		relative_position_id = SAF_magazine_hill

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 275 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = aluminium_refinery
					level = 2
					instant_build = yes
				}
			}
		}
	}

	############################
	##### WAR PREP SECTION #####
	############################

	focus = {
		id = SAF_begin_rearmament
		icon = GFX_goal_generic_rearmament
		x = 11
		y = 0

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				has_war = yes
				NOT = { has_government = democratic }
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            add_war_support = 0.1
			if = {
				limit = {
                    OR = {
                        has_idea = civilian_economy
                        has_idea = low_economic_mobilisation
                    }
					NOT = {
						ENG = {
							has_completed_focus = ENG_new_imperial_parliament
						}
					}
				}
				add_ideas = partial_economic_mobilisation
			}
		}
	}

	focus = {
		id = SAF_call_up_the_commands
		icon = GFX_goal_SAF_call_up_the_commands
		mutually_exclusive = { focus = SAF_continue_policing }
		prerequisite = { focus = SAF_begin_rearmament }
		x = -1
		y = 1
		relative_position_id = SAF_begin_rearmament

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_division_template_lock = {
				division_template = "District Force"
				is_locked = no
			}
			swap_ideas = {
				remove_idea = SAF_district_forces
				add_idea = SAF_district_forces_3
			}
		}
	}

	focus = {
		id = SAF_continue_policing
		icon = GFX_goal_generic_military_police
		mutually_exclusive = { focus = SAF_call_up_the_commands }
		prerequisite = { focus = SAF_begin_rearmament }
		x = 1
		y = 1
		relative_position_id = SAF_begin_rearmament

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_district_forces
				add_idea = SAF_district_forces_2
			}
			custom_effect_tooltip = SAF_continue_policing_tt
			hidden_effect = {
				delete_unit_template_and_units = { division_template = "District Force" disband = yes }
				add_manpower = -36000
			}
		}
	}

	focus = {
		id = SAF_raise_the_south_african_army
		icon = GFX_goal_SAF_south_african_army
		prerequisite = { focus = SAF_call_up_the_commands focus = SAF_continue_policing }
		x = 1
		y = 1
		relative_position_id = SAF_call_up_the_commands

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {
			is_ai = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = SAF_raise_the_south_african_army_tt
			hidden_effect = {
				load_oob = SAF_units
			}
			set_division_template_lock = {
				division_template = "Infantry Division"
				is_locked = no
			}
		}
	}

	focus = {
		id = SAF_emergency_worker_act
		icon = GFX_goal_generic_workers
		prerequisite = { focus = SAF_raise_the_south_african_army }
		x = -2
		y = 1
		relative_position_id = SAF_raise_the_south_african_army

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = SAF_emergency_workers
		}
	}

	focus = {
		id = SAF_csir
		icon = GFX_goal_generic_research_shared
		prerequisite = { focus = SAF_raise_the_south_african_army }
		x = 0
		y = 1
		relative_position_id = SAF_raise_the_south_african_army

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_tech_sharing_group = commonwealth_research
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			SAF = {
   				modify_tech_sharing_bonus = {
         			id = commonwealth_research
         			bonus = 0.1
    			}
			}
		}
	}

	focus = {
		id = SAF_the_cape_corps
		icon = GFX_goal_SAF_the_cape_corps
		prerequisite = { focus = SAF_raise_the_south_african_army }
		x = 2
		y = 1
		relative_position_id = SAF_raise_the_south_african_army

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SAF_history_of_segregation_down = yes
		}
	}

	focus = {
		id = SAF_fortify_the_cape_of_good_hope
		icon = GFX_goal_SAF_fortify_the_cape_of_good_hope
		prerequisite = { focus = SAF_the_cape_corps }
		prerequisite = { focus = SAF_emergency_worker_act focus = SAF_csir }
		x = 0
		y = 1
		relative_position_id = SAF_csir

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			controls_state = 681
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            681 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 13599
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 13599
					instant_build = yes
				}
            }
		}
	}

	###

	focus = {
		id = SAF_suppress_the_stormjaers
		icon = GFX_goal_SAF_suppress_the_stormjaers
		prerequisite = { focus = SAF_fortify_the_cape_of_good_hope }
		x = -2
		y = 1
		relative_position_id = SAF_fortify_the_cape_of_good_hope

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_idea = SAF_ossewabrandwag_2
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			country_event = { id = saf_armor.806 }
			swap_ideas = {
				remove_idea = SAF_ossewabrandwag_2
				add_idea = SAF_ossewabrandwag_3
			}
		}
	}

	focus = {
		id = SAF_intervene_in_madagascar
		icon = GFX_goal_SAF_intervene_in_madagascar
		prerequisite = { focus = SAF_suppress_the_stormjaers }
		x = 0
		y = 1
		relative_position_id = SAF_suppress_the_stormjaers

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war = yes
			threat > 0.9
			543 = {
				CONTROLLER = {
					NOT = {
						tag = SAF
						is_subject_of = SAF
						is_in_faction_with = SAF
						has_war_with = SAF
					}
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			every_other_country = {
				limit = {
					controls_state = 543
					NOT = { is_in_faction_with = ROOT }
					any_subject_country = {
						controls_state = 543
					}
				}
				prev = { country_event = { id = saf_armor.802 } }
			}
			unlock_decision_tooltip = FRA_attack_madagascar
		}
	}

	###

	focus = {
		id = SAF_war_measures_act
		icon = GFX_goal_generic_commit_to_the_war
		prerequisite = { focus = SAF_fortify_the_cape_of_good_hope }
		x = 0
		y = 1
		relative_position_id = SAF_fortify_the_cape_of_good_hope

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			economy_fatigue_level_up_4 = yes
			SAF_history_of_segregation_down = yes
			if = {
				limit = {
					NOT = {
						ENG = {
							has_completed_focus = ENG_new_imperial_parliament
						}
					}
				}
				add_ideas = war_economy
			}
		}
	}

	focus = {
		id = SAF_defense_collaboration_initiative
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = SAF_war_measures_act }
		x = 0
		y = 1
		relative_position_id = SAF_war_measures_act

		cost = 10

		ai_will_do = {
			factor = 25
		}

		available = {
			has_war = yes
			is_in_faction = yes
			OR = {
				num_of_factories > 50
				any_other_country = {
					is_in_faction_with = ROOT
					num_of_factories > 50
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_research_slot = 2
		}
	}

	focus = {
		id = SAF_the_doomsday_protocol
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = SAF_defense_collaboration_initiative }
		x = 0
		y = 1
		relative_position_id = SAF_defense_collaboration_initiative

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				casualties > 50000
				surrender_progress > 0
				AND = {
					SAF = { is_subject_of = ENG }
					ENG = { NOT = { controls_state = 126 } }
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_stability = -0.3
			if = {
				limit = {
					has_idea = SAF_afrikaner_opposition
				}
				remove_ideas = SAF_afrikaner_opposition
			}
			if = {
				limit = {
					has_idea = SAF_afrikaner_opposition_2
				}
				remove_ideas = SAF_afrikaner_opposition_2
			}
			if = {
				limit = {
					has_idea = SAF_afrikaner_opposition_3
				}
				remove_ideas = SAF_afrikaner_opposition_3
			}
		}
	}

	###

	focus = {
		id = SAF_coastal_garrison_artillery
		icon = GFX_goal_SAF_coastal_garrison_artillery
		prerequisite = { focus = SAF_fortify_the_cape_of_good_hope }
		x = 2
		y = 1
		relative_position_id = SAF_fortify_the_cape_of_good_hope

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			controls_state = 681
			controls_state = 1010
			controls_state = 719
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            681 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 13599
					instant_build = yes
				}
            }
            1010 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 13603
					instant_build = yes
				}
            }
            719 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 13604
					instant_build = yes
				}
            }
		}
	}

	focus = {
		id = SAF_south_african_broadcasting_corporation
		icon = GFX_goal_SAF_south_african_broadcasting_corporation
		prerequisite = { focus = SAF_coastal_garrison_artillery }
		x = 0
		y = 1
		relative_position_id = SAF_coastal_garrison_artillery

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = south_african_broadcasting_corporation
		}
	}

	############################
	#### POLITICAL SECTION #####
	############################

	focus = {
		id = SAF_commit_to_the_union_of_south_africa
		mutually_exclusive = { focus = SAF_abandon_westminster }
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = 18
		y = 0

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_political_power = 100
			custom_effect_tooltip = SAF_commit_to_the_union_of_south_africa_tt
			custom_effect_tooltip = available_foreign_minister
			show_ideas_tooltip = SAF_charles_theodore_te_water
		}
	}

	############################
	#### GO FASCIST SECTION ####
	############################

	focus = {
		id = SAF_abandon_westminster
		icon = GFX_goal_tfv_sever_ties_with_uk
		mutually_exclusive = { focus = SAF_commit_to_the_union_of_south_africa }
		x = 22
		y = 0

		cost = 5

		available = {
			always = no #Remove later
			#NOT = { has_country_flag = britain_enforced_our_loyalty }
		}

		bypass = {

		}

		ai_will_do = {
			factor = 0.5
			modifier = {
				NOT = { ENG = { has_government = democratic } }
				factor = 10
			}
			modifier = {
				NOT = { has_government = democratic }
				factor = 100
			}
			modifier = {	#makes it significantly more likely if player boosts non-democratic
				democratic < 0.5
				factor = 20
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_TFV_AUTONOMY}

		completion_reward = {
			custom_effect_tooltip = focus_tree_coming_in_90 #Remove later
			#add_timed_idea = { idea = SAF_abandon_westminster days = 1095 }
		}
	}

	###

	focus = {
		id = SAF_continue_setting_up_local_markets
		icon = GFX_goal_generic_agrarian_reform
		prerequisite = { focus = SAF_commit_to_the_union_of_south_africa }
		x = -2
		y = 1
		relative_position_id = SAF_commit_to_the_union_of_south_africa

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			economy_fatigue_level_down_2 = yes
			add_stability = 0.05
		}
	}

	focus = {
		id = SAF_worker_training_schemes
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = SAF_continue_setting_up_local_markets }
		x = 0
		y = 1
		relative_position_id = SAF_continue_setting_up_local_markets

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_skill_and_machinery_shortage
				add_idea = SAF_skill_and_machinery_shortage_3
			}
		}
	}

	focus = {
		id = SAF_restart_the_foundries
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SAF_worker_training_schemes }
		x = 0
		y = 1
		relative_position_id = SAF_worker_training_schemes

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			controls_state = 275
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			economy_fatigue_level_down_2 = yes
			275 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = steel_refinery
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_mechanize_the_farms
		icon = GFX_goal_generic_agriculture
		prerequisite = { focus = SAF_restart_the_foundries }
		x = 0
		y = 1
		relative_position_id = SAF_restart_the_foundries

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					has_idea = SAF_skill_and_machinery_shortage
				}
				remove_ideas = SAF_skill_and_machinery_shortage
			}
			else = {
				remove_ideas = SAF_skill_and_machinery_shortage_3
			}
		}
	}

	###

	focus = {
		id = SAF_native_trust_and_land_act
		icon = GFX_goal_SAF_native_trust_and_land_act
		prerequisite = { focus = SAF_commit_to_the_union_of_south_africa }
		x = 0
		y = 1
		relative_position_id = SAF_commit_to_the_union_of_south_africa

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_stability = 0.1
			275 = {
				add_extra_state_shared_building_slots = 4
			}
			719 = {
				add_extra_state_shared_building_slots = 4
			}
			1010 = {
				add_extra_state_shared_building_slots = 4
			}
			681 = {
				add_extra_state_shared_building_slots = 4
			}
		}
	}

	focus = {
		id = SAF_war_advisory_committee
		icon = GFX_goal_generic_committee_of_defence
		prerequisite = { focus = SAF_form_the_inner_council }
		prerequisite = { focus = SAF_native_trust_and_land_act }
		x = 0
		y = 2
		relative_position_id = SAF_native_trust_and_land_act

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
            threat > 0.3
		}

		bypass = {
			has_idea = low_economic_mobilisation
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
            add_war_support = 0.1
			if = {
				limit = {
					has_idea = civilian_economy
					NOT = {
						ENG = {
							has_completed_focus = ENG_new_imperial_parliament
						}
					}
				}
				add_ideas = low_economic_mobilisation
			}
		}
	}

	focus = {
		id = SAF_fund_the_university_of_south_africa
		icon = GFX_goal_generic_research
		prerequisite = { focus = SAF_war_advisory_committee }
		x = 0
		y = 1
		relative_position_id = SAF_war_advisory_committee

		cost = 10

		ai_will_do = {
			factor = 45
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_research_slot = 1
		}
	}

	###

	focus = {
		id = SAF_form_the_inner_council
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = SAF_commit_to_the_union_of_south_africa }
		x = 2
		y = 1
		relative_position_id = SAF_commit_to_the_union_of_south_africa

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_afrikaner_opposition
				add_idea = SAF_afrikaner_opposition_2
			}
		}
	}

	focus = {
		id = SAF_establish_the_active_citizen_force
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = SAF_form_the_inner_council }
		x = 0
		y = 1
		relative_position_id = SAF_form_the_inner_council

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = recruiting_reserves
			add_to_variable = { ROOT.reserves = 10 }
		}
	}

	focus = {
		id = SAF_native_military_corps
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = SAF_establish_the_active_citizen_force }
		x = 0
		y = 1
		relative_position_id = SAF_establish_the_active_citizen_force

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SAF_history_of_segregation_down = yes
		}
	}

	focus = {
		id = SAF_resource_prospecting
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = SAF_native_military_corps }
		x = 0
		y = 1
		relative_position_id = SAF_native_military_corps

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			275 = {
				add_resource = {
					type = coal
					amount = 100
				}
			}
			add_stability = 0.02
		}
	}

	###

	focus = {
		id = SAF_emergency_vote_for_war
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SAF_fund_the_university_of_south_africa }
		x = 0
		y = 1
		relative_position_id = SAF_fund_the_university_of_south_africa

		cost = 1

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				has_war = yes
				any_allied_country = {
					has_war = yes
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			country_event = { id = saf_armor.801 }
			custom_effect_tooltip = SAF_emergency_vote_for_war_tt
			swap_ideas = {
				remove_idea = SAF_underfunded_military
				add_idea = SAF_underfunded_military_2
			}
		}
	}

	focus = {
		id = SAF_appoint_hofmeyr_as_deputy
		icon = GFX_goal_SAF_appoint_hofmeyr_as_deputy
		prerequisite = { focus = SAF_emergency_vote_for_war }
		x = 0
		y = 1
		relative_position_id = SAF_emergency_vote_for_war

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_economic_minister
			show_ideas_tooltip = SAF_jan_hendrik_hofmeyr
		}
	}

	focus = {
		id = SAF_the_war_budget
		icon = GFX_goal_CAN_joint_resources_and_production_board
		prerequisite = { focus = SAF_appoint_hofmeyr_as_deputy }
		x = 0
		y = 1
		relative_position_id = SAF_appoint_hofmeyr_as_deputy

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			remove_ideas = SAF_underfunded_military_2
		}
	}

	focus = {
		id = SAF_the_lady_in_white
		icon = GFX_goal_SAF_the_lady_in_white
		prerequisite = { focus = SAF_emergency_vote_for_war }
		x = 3
		y = 1
		relative_position_id = SAF_emergency_vote_for_war

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				threat > 0.72
				has_war_with = JAP
				has_war_with = USA
				FRA = { has_capitulated = yes }
				ITA = { has_capitulated = yes }
				JAP = { has_capitulated = yes }
				GER = { has_capitulated = yes }
				SOV = { has_capitulated = yes }
				ENG = { has_capitulated = yes }
				has_global_flag = ENG_fall_of_the_uk
			}
		}

		bypass = {
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_afrikaner_opposition_2
				add_idea = SAF_afrikaner_opposition_3
			}
		}
	}

	focus = {
		id = SAF_the_red_oath
		icon = GFX_goal_SAF_the_red_oath
		prerequisite = { focus = SAF_the_lady_in_white }
		x = 0
		y = 1
		relative_position_id = SAF_the_lady_in_white

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			any_war_score > 2
			has_war_support > 0.5
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = SAF_south_african_gallantry
		}
	}

	###

	focus = {
		id = SAF_native_laws_amendment_act
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = SAF_the_cape_corps }
		prerequisite = { focus = SAF_emergency_vote_for_war }
		x = -3
		y = 1
		relative_position_id = SAF_emergency_vote_for_war

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = SAF_cheap_labor_1
			hidden_effect = {
				set_country_flag = SAF_native_laws_amendment_act_dd_flag
			}
		}
	}

	focus = {
		id = SAF_work_for_all_poor
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = SAF_native_laws_amendment_act }
		x = 0
		y = 1
		relative_position_id = SAF_native_laws_amendment_act

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_country_flag = {
				flag = SAF_native_laws_amendment_act_dd_flag
				days > 180
			}
			custom_trigger_tooltip = {
				tooltip = SAF_native_laws_amendment_act_dd_tt
				has_country_flag = {
					flag = SAF_native_laws_amendment_act_dd_flag
					days > 180
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {
				remove_idea = SAF_cheap_labor_1
				add_idea = SAF_cheap_labor_2
			}
		}
	}

	############################
	####### ARMY SECTION #######
	############################

	focus = {
		id = SAF_national_riflemens_reserve
		icon = GFX_goal_SAF_national_riflemens_reserve
		x = 25
		y = 0

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			threat > 0.1
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = national_riflemens_reserve
		}
	}

	focus = {
		id = SAF_desert_experts
		icon = GFX_goal_generic_desert_experts
		prerequisite = { focus = SAF_national_riflemens_reserve }
		x = -1
		y = 1
		relative_position_id = SAF_national_riflemens_reserve

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = desert_experts
		}
	}

	focus = {
		id = SAF_expand_the_special_service_battalion
		icon = GFX_goal_generic_build_army_commonwealth
		prerequisite = { focus = SAF_national_riflemens_reserve }
		x = 1
		y = 1
		relative_position_id = SAF_national_riflemens_reserve

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = special_service_battalion
			hidden_effect = {
				set_country_flag = SAF_expand_the_special_service_battalion_flag
			}
		}
	}

	###

	focus = {
		id = SAF_contract_marmon_herrington
		icon = GFX_goal_SAF_contract_marmon_herrington
		prerequisite = { focus = SAF_desert_experts focus = SAF_expand_the_special_service_battalion }
		x = -1
		y = 1
		relative_position_id = SAF_desert_experts

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = marmon_herrington
			if = {
				limit = {
					NOT = {
						has_tech = saf_scout_car_1
					}
				}
				set_technology = { saf_scout_car_1 = 1 }
			}
			else = {
				add_tech_bonus = {
					name = SAF_marmon_herrington_armoured_car
					bonus = 0.5
					uses = 1
					technology = saf_scout_car_2
					technology = saf_scout_car_3
				}
			}
		}
	}

	focus = {
		id = SAF_jan_smuts_the_field_marshal
		icon = GFX_goal_SAF_jan_smuts_the_field_marshal
		prerequisite = { focus = SAF_desert_experts focus = SAF_expand_the_special_service_battalion }
		x = 1
		y = 1
		relative_position_id = SAF_desert_experts

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war = yes
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = SAF_jan_smuts_the_field_marshal_tt
		}
	}

	focus = {
		id = SAF_military_modernization
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = SAF_desert_experts focus = SAF_expand_the_special_service_battalion }
		x = 3
		y = 1
		relative_position_id = SAF_desert_experts

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			army_experience = 30
			custom_effect_tooltip = firepower_induction_spirit_unlock_tt
			custom_effect_tooltip = infantry_modernization_spirit_unlock_tt
			add_tech_bonus = {
				name = SAF_military_modernization
				bonus = 1.0
				uses = 5
				technology = eng_heavy_infantry_weapons_2
				technology = eng_artillery_upgrade_2
				technology = eng_anti_tank_upgrade_2
				technology = eng_anti_air_upgrade_2
				technology = eng_heavy_artillery_2
			}
		}
	}

	###

	focus = {
		id = SAF_t_service_corps
		icon = GFX_goal_generic_equip_troops
		prerequisite = { focus = SAF_contract_marmon_herrington }
		x = 1
		y = 1
		relative_position_id = SAF_contract_marmon_herrington

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SAF_t_service_corps
				bonus = 1.0
				uses = 2
				category = hospital_tech
				category = maintenance_company_tech
			}
		}
	}

	focus = {
		id = SAF_q_service_corps
		icon = GFX_focus_generic_land_reclamation
		prerequisite = { focus = SAF_military_modernization }
		x = -1
		y = 1
		relative_position_id = SAF_military_modernization

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SAF_t_service_corps
				bonus = 1.0
				uses = 2
				category = logistics_tech
				category = engineers_tech
			}
		}
	}

	###

	focus = {
		id = SAF_south_african_military_college
		icon = GFX_goal_generic_military_academy
		prerequisite = { focus = SAF_t_service_corps }
		prerequisite = { focus = SAF_q_service_corps }
		x = 1
		y = 1
		relative_position_id = SAF_t_service_corps

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SAF_south_african_military_college
				cost_reduction = 0.99
				uses = 3
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SAF_motorization_of_our_forces
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = SAF_south_african_military_college }
		x = -2
		y = 1
		relative_position_id = SAF_south_african_military_college

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SAF_motorization_of_our_forces_tt
			hidden_effect = {
				division_template = {
					name = "Motorized Infantry Division" 			# Standard mot. infantry
					division_names_group = SAF_MOT_01
					priority = 2

					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized = { x = 0 y = 2 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }

						motorized = { x = 2 y = 0 }
						motorized = { x = 2 y = 1 }
						motorized = { x = 2 y = 2 }

						motorized_artillery_brigade = { x = 3 y = 0 }
						motorized_artillery_brigade = { x = 3 y = 1 }
						motorized_artillery_brigade = { x = 3 y = 2 }
						motorized_anti_tank_brigade = { x = 3 y = 3 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						field_hospital = { x = 0 y = 1 }
						motorized_logistics_company = { x = 0 y = 2 }

						mobile_recon = { x = 1 y = 0 }
					}
				}
			}
		}
	}

	focus = {
		id = SAF_lessons_of_war
		icon = GFX_goal_generic_contract_ratify
		prerequisite = { focus = SAF_south_african_military_college }
		x = 0
		y = 1
		relative_position_id = SAF_south_african_military_college

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				threat > 0.72
				FRA = { has_capitulated = yes }
				ITA = { has_capitulated = yes }
				JAP = { has_capitulated = yes }
				GER = { has_capitulated = yes }
				SOV = { has_capitulated = yes }
				ENG = { has_capitulated = yes }
				has_global_flag = ENG_fall_of_the_uk
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SAF_lessons_of_war
				cost_reduction = 0.99
				uses = 3
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SAF_the_british_standard
		icon = GFX_focus_generic_home_defense
		prerequisite = { focus = SAF_south_african_military_college }
		x = 2
		y = 1
		relative_position_id = SAF_south_african_military_college

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			NOT = {
				is_subject_of = ENG
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			army_experience = 50
			add_doctrine_cost_reduction = {
				name = SAF_the_british_standard
				cost_reduction = 0.99
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SAF_sa_school_of_armour
		icon = GFX_goal_generic_research_tanks
		prerequisite = { focus = SAF_motorization_of_our_forces }
		prerequisite = { focus = SAF_lessons_of_war }
		x = 1
		y = 1
		relative_position_id = SAF_motorization_of_our_forces

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SAF_sa_school_of_armour
				cost_reduction = 0.99
				uses = 3
				category = cat_mobile_warfare
			}
		}
	}

	focus = {
		id = SAF_officer_training
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = SAF_the_british_standard }
		prerequisite = { focus = SAF_lessons_of_war }
		x = -1
		y = 1
		relative_position_id = SAF_the_british_standard

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SAF_officer_training
				cost_reduction = 0.99
				uses = 2
				category = cat_grand_battle_plan
			}
			army_experience = 30
		}
	}

	focus = {
		id = SAF_first_armoured_brigade
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SAF_sa_school_of_armour }
		prerequisite = { focus = SAF_officer_training }
		x = -1
		y = 1
		relative_position_id = SAF_sa_school_of_armour

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = mobile_warfare_drive_spirit_unlock_tt
			#			custom_effect_tooltip = SAF_first_armoured_brigade_tt
			#			if = {
			#				limit = {
			#					is_ai = no
			#				}
			#				hidden_effect = {
			#					division_template = {
			#						name = "Armoured Division"
			#						division_names_group = SAF_ARM_01
			#						priority = 1
			#
			#						regiments = {
			#							medium_armor = { x = 0 y = 0 }
			#							medium_armor = { x = 0 y = 1 }
			#							medium_armor = { x = 0 y = 2 }
			#
			#							medium_armor = { x = 1 y = 0 }
			#							medium_armor = { x = 1 y = 1 }
			#							medium_armor = { x = 1 y = 2 }
			#
			#							medium_armor = { x = 2 y = 0 }
			#							medium_armor = { x = 2 y = 1 }
			#							medium_armor = { x = 2 y = 2 }
			#
			#							motorized = { x = 3 y = 0 }
			#							motorized = { x = 3 y = 1 }
			#							motorized = { x = 3 y = 2 }
			#
			#                           motorized = { x = 4 y = 0 }
			#							motorized = { x = 4 y = 1 }
			#							motorized = { x = 4 y = 2 }
			#						}
			#
			#						support = {
			#							engineer = { x = 0 y = 0 }
			#							motorized_logistics_company = { x = 0 y = 1 }
			#							mot_maintenance_company = { x = 0 y = 2 }
			#							signal_company = { x = 0 y = 3 }
			#
			#							mot_recon = { x = 1 y = 0 }
			#			        		field_hospital = { x = 1 y = 1 }
			#						}
			#					}
			#				}
			#			}
			add_tech_bonus = {
				name = SAF_first_armoured_brigade
				bonus = 0.5
				uses = 4
				category = cat_medium_armor
			}
		}
	}

	focus = {
		id = SAF_transform_iscor
		icon = GFX_goal_generic_build_tanks
		prerequisite = { focus = SAF_sa_school_of_armour }
		prerequisite = { focus = SAF_officer_training }
		x = 1
		y = 1
		relative_position_id = SAF_sa_school_of_armour

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = iscor
		}
	}

	focus = {
		id = SAF_udf_chief_of_staffs
		icon = GFX_goal_generic_general
		prerequisite = { focus = SAF_officer_training }
		x = 1
		y = 1
		relative_position_id = SAF_officer_training

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SAF_general_Staff
		}
	}

	############################
	####### AIR SECTION ########
	############################

	focus = {
		id = SAF_restructure_the_saaf
		icon = GFX_goal_SAF_south_african_air_force
		x = 31
		y = 0

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			air_experience = 50
		}
	}

	focus = {
		id = SAF_commonwealth_joint_air_training_scheme
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = SAF_restructure_the_saaf }
		x = -1
		y = 1
		relative_position_id = SAF_restructure_the_saaf

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SAF_commonwealth_joint_air_training_scheme
				cost_reduction = 0.5
				uses = 3
				category = cat_operational_integrity
			}
		}
	}

	focus = {
		id = SAF_repurpose_airliners
		icon = GFX_goal_SAF_repurpose_airliners
		prerequisite = { focus = SAF_restructure_the_saaf }
		x = 1
		y = 1
		relative_position_id = SAF_restructure_the_saaf

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_technology = { ger_tactical_bomber_1 = 1 }
			set_technology = { eng_transport_plane_1 = 1 }
			add_equipment_to_stockpile = {
				type = eng_transport_plane_equipment_1
				amount = 20
				producer = ROOT
			}
			add_equipment_to_stockpile = {
				type = ger_tac_bomber_equipment_1
				amount = 50
				producer = ROOT
			}
		}
	}

	focus = {
		id = SAF_nationalize_air_industries
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = SAF_commonwealth_joint_air_training_scheme focus = SAF_repurpose_airliners }
		x = 1
		y = 1
		relative_position_id = SAF_commonwealth_joint_air_training_scheme

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = atlas
			random_owned_controlled_state = {
				prioritize = { 719 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SAF_acquire_the_hurricane
		icon = GFX_goal_ENG_continue_the_hurricane
		prerequisite = { focus = SAF_nationalize_air_industries }
		x = -2
		y = 1
		relative_position_id = SAF_nationalize_air_industries

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			OR = {
				has_tech = eng_fighter_multirole_1
				AND = {
					NOT = { is_in_faction_with = ENG }
					NOT = { is_subject_of = ENG }
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SAF_acquire_the_hurricane
				bonus = 1.0
				uses = 1
				technology = eng_fighter_multirole_1
			}
		}
	}

	focus = {
		id = SAF_refine_the_cab_rank_doctrine
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = SAF_acquire_the_hurricane }
		x = 0
		y = 1
		relative_position_id = SAF_acquire_the_hurricane

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            add_doctrine_cost_reduction = {
				name = SAF_refine_the_cab_rank_doctrine
				cost_reduction = 0.5
				uses = 2
				category = cat_operational_integrity
			}
		}
	}

	focus = {
		id = SAF_obtain_the_beaufort
		icon = GFX_goal_ENG_obtain_the_beaufort
		prerequisite = { focus = SAF_nationalize_air_industries }
		x = 0
		y = 1
		relative_position_id = SAF_nationalize_air_industries

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			OR = {
				has_tech = eng_strike_bomber_2
				AND = {
					NOT = { is_in_faction_with = ENG }
					NOT = { is_subject_of = ENG }
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SAF_obtain_the_beaufort
				bonus = 1.0
				uses = 1
				technology = eng_patrol_1
			}
			add_tech_bonus = {
				name = SAF_obtain_the_beaufort
				bonus = 1.0
				uses = 1
				technology = eng_strike_bomber_2
			}
		}
	}

	focus = {
		id = SAF_submarine_hunting
		icon = GFX_focus_generic_multi_role_aircraft
		prerequisite = { focus = SAF_obtain_the_beaufort }
		x = 0
		y = 1
		relative_position_id = SAF_obtain_the_beaufort

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            add_doctrine_cost_reduction = {
				name = SAF_submarine_hunting
				cost_reduction = 0.99
				uses = 2
				technology = hunting_formations
				technology = spotter_wings
			}
		}
	}

	focus = {
		id = SAF_procure_the_blenhiem
		icon = GFX_goal_ENG_procure_the_blenhiem
		prerequisite = { focus = SAF_nationalize_air_industries }
		x = 2
		y = 1
		relative_position_id = SAF_nationalize_air_industries

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {
			OR = {
				has_tech = eng_strike_bomber_1
				AND = {
					NOT = { is_in_faction_with = ENG }
					NOT = { is_subject_of = ENG }
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SAF_procure_the_blenhiem
				bonus = 1.0
				uses = 1
				technology = eng_strike_bomber_1
			}
		}
	}

	focus = {
		id = SAF_ground_support_doctrine
		icon = GFX_focus_generic_armored_air_support
		prerequisite = { focus = SAF_procure_the_blenhiem }
		x = 0
		y = 1
		relative_position_id = SAF_procure_the_blenhiem

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            add_doctrine_cost_reduction = {
				name = SAF_ground_support_doctrine
				cost_reduction = 0.99
				uses = 2
				category = cat_battlefield_support
			}
		}
	}

	focus = {
		id = SAF_long_range_escorts
		icon = GFX_goal_ENG_long_range_escorts
		prerequisite = { focus = SAF_refine_the_cab_rank_doctrine focus = SAF_submarine_hunting focus = SAF_ground_support_doctrine }
		x = 0
		y = 1
		relative_position_id = SAF_submarine_hunting

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {
			OR = {
				has_tech = eng_attacker_2
				AND = {
					NOT = { is_in_faction_with = ENG }
					NOT = { is_subject_of = ENG }
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SAF_long_range_escorts
				bonus = 0.5
				uses = 2
				technology = eng_attacker_1
				technology = eng_attacker_2
			}
		}
	}

	focus = {
		id = SAF_the_jet_age
		icon = GFX_goal_generic_rocketry
		prerequisite = { focus = SAF_long_range_escorts }
		x = 0
		y = 1
		relative_position_id = SAF_long_range_escorts

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            add_tech_bonus = {
                name = SAF_the_jet_age
                bonus = 0.5
                uses = 3
                category = jet_technology
            }
		}
	}

	focus = {
		id = SAF_era_of_the_vampire
		icon = GFX_goal_ENG_vampire_project
		mutually_exclusive = { focus = SAF_era_of_the_meteor }
		prerequisite = { focus = SAF_the_jet_age }
		x = -1
		y = 1
		relative_position_id = SAF_the_jet_age

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			ENG = { has_tech = eng_jet_fighter_multirole_1 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SAF_era_of_the_vampire
				bonus = 1.0
				uses = 1
				technology = eng_jet_fighter_multirole_1
			}
		}
	}

	focus = {
		id = SAF_era_of_the_meteor
		icon = GFX_goal_ENG_meteor_project
		mutually_exclusive = { focus = SAF_era_of_the_vampire }
		prerequisite = { focus = SAF_the_jet_age }
		x = 1
		y = 1
		relative_position_id = SAF_the_jet_age

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			ENG = { has_tech = eng_jet_fighter_1 }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SAF_era_of_the_meteor
				bonus = 1.0
				uses = 1
				technology = eng_jet_fighter_1
			}
		}
	}

	############################
	####### NAVY SECTION #######
	############################

	focus = {
		id = SAF_expand_the_sa_naval_service
		icon = GFX_goal_SAF_south_african_navy
		x = 37
		y = 0

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			navy_experience = 25
		}
	}

	focus = {
		id = SAF_recruit_guy_halifax
		icon = GFX_goal_generic_admiral
		prerequisite = { focus = SAF_expand_the_sa_naval_service }
		x = 0
		y = 1
		relative_position_id = SAF_expand_the_sa_naval_service

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_navy_theorist
			show_ideas_tooltip = SAF_guy_hallifax
		}
	}

	focus = {
		id = SAF_send_liasons_to_britain
		icon = GFX_goal_generic_military_liason
		prerequisite = { focus = SAF_recruit_guy_halifax }
		x = -1
		y = 1
		relative_position_id = SAF_recruit_guy_halifax

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SAF_send_liasons_to_britain
				cost_reduction = 0.99
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = SAF_ramp_up_convoy_production
		icon = GFX_focus_generic_merchant_fleet
		prerequisite = { focus = SAF_send_liasons_to_britain }
		x = 0
		y = 1
		relative_position_id = SAF_send_liasons_to_britain

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            add_equipment_to_stockpile = {
                type = convoy_1
                amount = 20
                producer = ROOT
            }
		}
	}

	focus = {
		id = SAF_the_seaward_defence_force
		icon = GFX_goal_generic_fleet_escorts
		prerequisite = { focus = SAF_recruit_guy_halifax }
		x = 1
		y = 1
		relative_position_id = SAF_recruit_guy_halifax

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SAF_the_seaward_defence_force
				cost_reduction = 0.99
				uses = 1
				category = naval_doctrine
			}
            random_owned_controlled_state = {
                prioritize = { 719 }
				limit = {
					is_coastal = yes
				}
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = dockyard
                    level = 1
                    instant_build = yes
                }
            }
		}
	}

	focus = {
		id = SAF_asw
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = SAF_the_seaward_defence_force }
		x = 0
		y = 1
		relative_position_id = SAF_the_seaward_defence_force

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            add_tech_bonus = {
                name = SAF_asw
                bonus = 0.5
                uses = 1
                category = asw_tech
            }
			add_doctrine_cost_reduction = {
				name = SAF_asw
				cost_reduction = 0.99
				uses = 1
				category = convoy_defense_tree
			}
		}
	}

	###

	focus = {
		id = SAF_mine_warfare
		icon = GFX_focus_generic_mine_warfare
		prerequisite = { focus = SAF_ramp_up_convoy_production }
		prerequisite = { focus = SAF_asw }
		x = -1
		y = 1
		relative_position_id = SAF_ramp_up_convoy_production

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            add_tech_bonus = {
                name = SAF_mine_warfare
                bonus = 0.5
                uses = 1
                category = naval_minelaying
            }
            add_tech_bonus = {
                name = SAF_mine_warfare
                bonus = 0.5
                uses = 2
                category = naval_minesweeping
            }
		}
	}

	focus = {
		id = SAF_joint_modernization_board
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = SAF_ramp_up_convoy_production }
		prerequisite = { focus = SAF_asw }
		x = 1
		y = 1
		relative_position_id = SAF_ramp_up_convoy_production

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SAF_joint_modernization_board
				bonus = 0.5
				uses = 4
				technology = eng_frigate_1
				technology = eng_frigate_2
				technology = eng_frigate_3
				technology = eng_frigate_4
			}
			add_tech_bonus = {
				name = SAF_joint_modernization_board
				bonus = 0.5
				uses = 2
				technology = eng_destroyer_3
				technology = eng_destroyer_4
			}
			add_tech_bonus = {
				name = SAF_joint_modernization_board
				bonus = 0.5
				uses = 1
				category = naval_equipment
			}
		}
	}

	focus = {
		id = SAF_requisition_the_fishing_fleet
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = SAF_ramp_up_convoy_production }
		prerequisite = { focus = SAF_asw }
		x = 3
		y = 1
		relative_position_id = SAF_ramp_up_convoy_production

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
			has_tech = k_guns
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_technology = {
				saf_frigate_1 = 1
			}
			add_equipment_production = {
				equipment = {
					type = saf_frigate_hull_1
					creator = "SAF"
				}
				name = "HMSAS Southern Floe"
				requested_factories = 1
				progress = 0.8
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = saf_frigate_hull_1
					creator = "SAF"
				}
				name = "HMSAS Southern Maid"
				requested_factories = 1
				progress = 0.8
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = saf_frigate_hull_1
					creator = "SAF"
				}
				name = "HMSAS Southern Barrier"
				requested_factories = 1
				progress = 0.8
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = saf_frigate_hull_1
					creator = "SAF"
				}
				name = "HMSAS Southern Isles"
				requested_factories = 1
				progress = 0.8
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = saf_frigate_hull_1
					creator = "SAF"
				}
				name = "HMSAS Southern Sea"
				requested_factories = 1
				progress = 0.8
				amount = 1
			}
		}
	}

	focus = {
		id = SAF_simon_town_naval_yard
		icon = GFX_goal_generic_construct_naval_shipyard
		prerequisite = { focus = SAF_joint_modernization_board }
		x = 0
		y = 1
		relative_position_id = SAF_joint_modernization_board

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = simon_town_naval_yard
            random_owned_controlled_state = {
                prioritize = { 681 }
				limit = {
					is_coastal = yes
				}
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
            }
		}
	}

	focus = {
		id = SAF_naval_wargames
		icon = GFX_goal_generic_research_ships
		prerequisite = { focus = SAF_simon_town_naval_yard }
		x = 0
		y = 1
		relative_position_id = SAF_simon_town_naval_yard

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SAF_naval_wargames
				cost_reduction = 0.99
				uses = 2
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = SAF_destroyer_hunters
		icon = GFX_goal_generic_ships_destroyer
		prerequisite = { focus = SAF_naval_wargames }
		x = -2
		y = 1
		relative_position_id = SAF_naval_wargames

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SAF_destroyer_hunters
				bonus = 0.5
				uses = 3
				category = dd_tech
			}
		}
	}

	focus = {
		id = SAF_damen_shipyards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = SAF_naval_wargames }
		x = 0
		y = 1
		relative_position_id = SAF_naval_wargames

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 681 }
				limit = {
					is_coastal = yes
				}
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
            }
		}
	}

	focus = {
		id = SAF_modern_frigates
		icon = GFX_goal_generic_ships_frigate
		prerequisite = { focus = SAF_naval_wargames }
		x = 2
		y = 1
		relative_position_id = SAF_naval_wargames

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SAF_destroyer_hunters
				bonus = 0.5
				uses = 3
				category = ff_tech
			}
		}
	}
}