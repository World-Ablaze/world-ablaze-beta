### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}
### search_filters = {FOCUS_FILTER_PROPAGANDA}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
### search_filters = {FOCUS_FILTER_FATIGUE}
### search_filters = {FOCUS_FILTER_DIPLOMACY}
### search_filters = {FOCUS_FILTER_XP}
### search_filters = {FOCUS_FILTER_AGENCY}
### search_filters = {FOCUS_FILTER_EMERGENCY}
# Reminder that focus filters prio has to be handled in the generic focus file :)
focus_tree = {
	id = soviet_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = SOV
		}
	}
	default = no
	continuous_focus_position = {
		x = 55
		y = 1900
	}
	####################### TEMPLATE
	focus = {
		id = SOV_
		icon = GFX_focus_generic_self_management
		#prerequisite = { focus = SOV_ }
		#relative_position_id = SOV_
		#mutually_exclusive = { focus = SOV_ }
		x = 55
		y = 0

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {
		}
		search_filters = { FOCUS_FILTER_ }
		available_if_capitulated = no

		completion_reward = {
		}
	}
	##    ##  #######      ######  ######## ######## ########     ########     ###     ######  ##    ##
	###   ## ##     ##    ##    ##    ##    ##       ##     ##    ##     ##   ## ##   ##    ## ##   ##
	####  ## ##     ##    ##          ##    ##       ##     ##    ##     ##  ##   ##  ##       ##  ##
	## ## ## ##     ##     ######     ##    ######   ########     ########  ##     ## ##       #####
	##  #### ##     ##          ##    ##    ##       ##           ##     ## ######### ##       ##  ##
	##   ### ##     ##    ##    ##    ##    ##       ##           ##     ## ##     ## ##    ## ##   ##
	##    ##  #######      ######     ##    ######## ##           ########  ##     ##  ######  ##    ##
	####################################################################################################################
	################################################### 5 Year Plans ###################################################
	####################################################################################################################
	focus = {
		id = SOV_start_the_second_five_year_plan
		icon = GFX_goal_SOV_start_the_second_five_year_plan
		x = 0
		y = 0
		cost = 4
		available = {
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
		}
		available_if_capitulated = no
		ai_will_do = {
			factor = 5
		}
		bypass = {
		}
		cancel = {
			has_war = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = SOV_start_the_second_five_year_plan_tt
			hidden_effect = {
				add_to_variable = {
					var = SOV_fyp_political_power_cost
					value = 0.5
				}
				add_to_variable = {
					var = SOV_fyp_production_speed_industrial_complex_factor
					value = 0.3
				}
				add_to_variable = {
					var = SOV_fyp_production_speed_infrastructure_factor
					value = 0.3
				}
			}
		}
	}
	focus = {
		id = SOV_collectivization
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = SOV_start_the_second_five_year_plan }
		relative_position_id = SOV_start_the_second_five_year_plan
		x = 2
		y = 0
		cost = 3
		available = {

		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_gaz_automobile_plants
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = SOV_start_the_second_five_year_plan }
		x = 0
		y = 1
		relative_position_id = SOV_start_the_second_five_year_plan
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
			NOT = {
				has_completed_focus = SOV_finish_the_second_five_year_plan
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		completion_reward = {
			add_ideas = gaz_automobile_plants
			219 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
			}
			252 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SOV_the_ussr_academy_of_sciences
		icon = GFX_focus_research
		prerequisite = { focus = SOV_gaz_automobile_plants }
		relative_position_id = SOV_gaz_automobile_plants
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_connection_of_the_interior
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SOV_gaz_automobile_plants
		}
		x = 0
		y = 1
		relative_position_id = SOV_gaz_automobile_plants
		cost = 3
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available = {
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
			NOT = {
				has_completed_focus = SOV_finish_the_second_five_year_plan
			}
		}
		available_if_capitulated = no
		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size < 5
					}
				}
			}
		}
		completion_reward = {
			economy_fatigue_level_up_4 = yes
			custom_effect_tooltip = SOV_connection_of_the_interior_tt
			229 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			219 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			263 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			208 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			195 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			246 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			242 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			205 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			223 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			222 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			240 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			228 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			245 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			217 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			220 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			225 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			193 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			202 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			207 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			206 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			218 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			# Moscow - Rostov on Don
			build_railway = {
				path = {
					9282
					9395
					6333
					9313
					6279
					6230
					6398
					6341
					413
					3527
					11475
					11412
					6591
					3540
					11476
					11459
					11450
					11434
					9417
				}
			}
			# Stalingrad-Rostov on Don
			build_railway = {
				path = {
					3529
					13234
					9504
					3505
					3489
					509
					484
					11450
				}
				#(Stalingrad - Conjunction near Millerovo)
			}
			# Stalingrad-Lipetsk
			build_railway = {
				path = {
					9504
					3582
					579
					487
					9502
					11512
					3566
					11436
					9312
					9339
					6369
					6398
				}
				#(Conjunction right next to Stalingrad - Conjunction in Lipetsk)
			}
			# Stalingrad - Astrakhan
			build_railway = {
				path = {
					13232
					3413
					3487
					6516
					9455
					11429
					6620
					9753
				}
			}
			# Stalingrad - Krasnodar
			build_railway = {
				path = {
					13232
					498
					11447
					9459
					11400
					6468
					6796
					3779
					775
					6781
					6768
					3734
				}
				#(Conjunction right next to Stalingrad)
			}
			# Tbilisi - Yerevan
			build_railway = {
				path = {
					1599
					12380
					12441
					3564
					12320
				}
			}
			#Supply Hub in Yerevan
			230 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 12320
					instant_build = yes
				}
			}
			#Supply Hub in Kandalaksha
			213 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 6181
					instant_build = yes
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = SOV_soviet_railways
		}
	}
	focus = {
		id = SOV_socialist_science
		icon = GFX_focus_research
		prerequisite = { focus = SOV_connection_of_the_interior }
		relative_position_id = SOV_connection_of_the_interior
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_workers_culture
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_connection_of_the_interior }
		x = 0
		y = 1
		relative_position_id = SOV_connection_of_the_interior
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
			NOT = {
				has_completed_focus = SOV_finish_the_second_five_year_plan
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		completion_reward = {
			add_ideas = workers_culture
			add_tech_bonus = {
				name = industry_effort
				bonus = 0.5
				uses = 1
				category = excavation_tech
			}
		}
	}
	focus = {
		id = SOV_our_mineral_wealth
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_workers_culture }
		relative_position_id = SOV_workers_culture
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_evolve_our_urban_centres
		icon = GFX_goal_generic_civilian_economy_large
		prerequisite = { focus = SOV_workers_culture
		}
		x = 0
		y = 1
		relative_position_id = SOV_workers_culture
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
			NOT = {
				has_completed_focus = SOV_finish_the_second_five_year_plan
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		completion_reward = {
			economy_fatigue_level_up_5 = yes
			195 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			219 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			206 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			202 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			217 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			249 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			221 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SOV_progress_cult
		icon = GFX_focus_research
		prerequisite = { focus = SOV_evolve_our_urban_centres }
		relative_position_id = SOV_evolve_our_urban_centres
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_finish_the_second_five_year_plan
		icon = GFX_goal_SOV_second_five_year_plan
		x = 0
		y = 1
		relative_position_id = SOV_evolve_our_urban_centres
		cost = 4
		ai_will_do = {
			factor = 5
		}
		available_if_capitulated = no
		bypass = {
		}
		available = {
			OR = {
				has_completed_focus = SOV_gaz_automobile_plants
				any_enemy_country = {
					is_major = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = SOV_finish_the_second_five_year_plan_tt
			hidden_effect = {
				remove_dynamic_modifier = {
					modifier = SOV_second_five_year_plan_12_dynamic_modifier
				}
				add_dynamic_modifier = {
					modifier = SOV_second_five_year_plan_22_dynamic_modifier
				}
				add_to_variable = {
					var = SOV_fyp_production_speed_buildings_factor
					value = 0.2
				}
				subtract_from_variable = {
					var = SOV_fyp_political_power_cost
					value = 0.5
				}
				subtract_from_variable = {
					var = SOV_fyp_production_speed_industrial_complex_factor
					value = 0.25
				}
				subtract_from_variable = {
					var = SOV_fyp_production_speed_infrastructure_factor
					value = 0.25
				}
			}
			add_tech_bonus = {
				name = industry_effort
				bonus = 0.5
				uses = 1
				category = construction_tech
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_lazar_kaganovich
		}
	}
	###
	focus = {
		id = SOV_start_the_third_five_year_plan
		icon = GFX_goal_SOV_start_the_third_five_year_plan
		x = 4
		y = 0
		cost = 4
		available = {
			has_war = no
		}
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
			has_completed_focus = SOV_finish_the_second_five_year_plan
		}
		bypass = {
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		cancel = {
			has_war = yes
		}
		completion_reward = {
			custom_effect_tooltip = SOV_start_the_third_five_year_plan_tt
			hidden_effect = {
				remove_dynamic_modifier = {
					modifier = SOV_second_five_year_plan_22_dynamic_modifier
				}
				add_dynamic_modifier = {
					modifier = SOV_third_five_year_plan_23_dynamic_modifier
				}
				add_to_variable = {
					var = SOV_fyp_political_power_cost
					value = 0.5
				}
				add_to_variable = {
					var = SOV_fyp_production_speed_arms_factory_factor
					value = 0.2
				}
			}
		}
	}
	focus = {
		id = SOV_bread_basket_of_the_soviet_union
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = SOV_start_the_third_five_year_plan
		}
		x = 0
		y = 1
		relative_position_id = SOV_start_the_third_five_year_plan
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			controls_state = 202
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
			NOT = {
				has_completed_focus = SOV_finish_the_third_five_year_plan
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		completion_reward = {
			custom_effect_tooltip = SOV_bread_basket_of_the_soviet_union_tt
			hidden_effect = {
				add_to_variable = {
					var = SOV_Peasants_consumer_goods
					value = 4
				}
				SOV_political_instability_update_effect = yes
			}
			202 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
			}
			202 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SOV_the_national_academies_of_sciences
		icon = GFX_focus_research
		prerequisite = { focus = SOV_bread_basket_of_the_soviet_union }
		relative_position_id = SOV_bread_basket_of_the_soviet_union
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_develop_the_interior
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_bread_basket_of_the_soviet_union }
		relative_position_id = SOV_bread_basket_of_the_soviet_union
		x = 0
		y = 1
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		completion_reward = {

		}
	}
	focus = {
		id = SOV_pc_of_mechanical_engineering
		icon = GFX_goal_generic_production2
		prerequisite = { focus = SOV_develop_the_interior }
		relative_position_id = SOV_develop_the_interior
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_extend_the_working_week
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_develop_the_interior
		}
		x = 0
		y = 1
		relative_position_id = SOV_develop_the_interior
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
			NOT = {
				has_completed_focus = SOV_finish_the_third_five_year_plan
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		completion_reward = {
			add_timed_idea = {
				idea = lowered_worker_minimum_wage
				days = 1095
			}
		}
	}
	focus = {
		id = SOV_pc_of_fuel_industry
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = SOV_extend_the_working_week }
		relative_position_id = SOV_extend_the_working_week
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_a_secure_industrial_base
		icon = GFX_goal_generic_railroads
		prerequisite = { focus = SOV_extend_the_working_week
		}
		x = 0
		y = 1
		relative_position_id = SOV_extend_the_working_week
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
			NOT = {
				has_completed_focus = SOV_finish_the_third_five_year_plan
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no

		completion_reward = {
			
		}
	}
	focus = {
		id = SOV_national_specialists
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_a_secure_industrial_base }
		relative_position_id = SOV_a_secure_industrial_base
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_finish_the_third_five_year_plan
		icon = GFX_goal_SOV_third_five_year_plan
		x = 0
		y = 1
		relative_position_id = SOV_a_secure_industrial_base
		cost = 4
		ai_will_do = {
			factor = 5
		}
		available = {
			has_completed_focus = SOV_start_the_third_five_year_plan
			OR = {
				has_completed_focus = SOV_bread_basket_of_the_soviet_union
				any_enemy_country = {
					is_major = yes
				}
			}
		}
		available_if_capitulated = no
		bypass = {
		}
		complete_tooltip = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_finish_the_third_five_year_plan_tt
			hidden_effect = {
				remove_dynamic_modifier = {
					modifier = SOV_third_five_year_plan_23_dynamic_modifier
				}
				add_dynamic_modifier = {
					modifier = SOV_third_five_year_plan_33_dynamic_modifier
				}
				subtract_from_variable = {
					var = SOV_fyp_political_power_cost
					value = 0.5
				}
				subtract_from_variable = {
					var = SOV_fyp_production_speed_arms_factory_factor
					value = 0.15
				}
			}
			add_tech_bonus = {
				name = industry_effort_2
				bonus = 0.5
				uses = 1
				category = industry
			}
		}
	}
	###
	focus = {
		id = SOV_start_the_fourth_five_year_plan
		icon = GFX_goal_SOV_start_the_fourth_five_year_plan
		relative_position_id = SOV_finish_the_second_five_year_plan
		x = 0
		y = 1
		cost = 4
		available = {
			has_war = no
		}
		ai_will_do = {
			factor = 1
		}
		available = {
			has_completed_focus = SOV_finish_the_third_five_year_plan
		}
		available_if_capitulated = no
		cancel = {
			has_war = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		bypass = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_start_the_fourth_five_year_plan_tt
			hidden_effect = {
				remove_dynamic_modifier = {
					modifier = SOV_third_five_year_plan_33_dynamic_modifier
				}
				add_dynamic_modifier = {
					modifier = SOV_fourth_five_year_plan_34_dynamic_modifier
				}
				add_to_variable = {
					var = SOV_fyp_political_power_cost
					value = 0.5
				}
				add_to_variable = {
					var = SOV_fyp_industrial_capacity_factory
					value = -0.3
				}
				add_to_variable = {
					var = SOV_fyp_industry_repair_factor
					value = 0.4
				}
			}
		}
	}

	focus = {
		#unlock this focus once the war with a major is over
		id = SOV_restoration_and_development
		icon = GFX_goal_generic_production
		prerequisite = { focus = SOV_start_the_fourth_five_year_plan }
		x = 0
		y = 1
		relative_position_id = SOV_start_the_fourth_five_year_plan
		cost = 3
		cancel_if_invalid = no
		available = {
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			economy_fatigue_level_down_10 = yes
		}
	}
	focus = {
		id = SOV_steel_casting_industry
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_restoration_and_development }
		relative_position_id = SOV_restoration_and_development
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_the_greatest_industrial_power
		icon = GFX_goal_generic_production2
		prerequisite = { focus = SOV_restoration_and_development
		}
		x = 0
		y = 1
		relative_position_id = SOV_restoration_and_development
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
			NOT = {
				has_completed_focus = SOV_finish_the_fourth_five_year_plan
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		available_if_capitulated = no
		completion_reward = {
			add_tech_bonus = {
				name = industry_effort_3
				bonus = 0.5
				uses = 4
				category = industry
			}
			add_tech_bonus = {
				name = industry_effort_4
				bonus = 0.5
				uses = 2
				category = construction_tech
			}
		}
	}
	focus = {
		id = SOV_kurchatovs_experiments
		icon = GFX_focus_research
		prerequisite = { focus = SOV_the_greatest_industrial_power }
		relative_position_id = SOV_the_greatest_industrial_power
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_transformation_of_nature
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_the_greatest_industrial_power
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_greatest_industrial_power
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			controls_state = 404
			has_tech = synth_oil_experiments
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
			NOT = {
				has_completed_focus = SOV_finish_the_fourth_five_year_plan
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		available_if_capitulated = no
		completion_reward = {
			custom_effect_tooltip = SOV_transformation_of_nature_tt
			add_tech_bonus = {
				name = industry_effort
				bonus = 0.5
				uses = 3
				category = industry
			}
			if = {
				limit = {
					571 = {
						is_controlled_by = SOV
					}
				}
				571 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = synthetic_refinery
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					219 = {
						is_controlled_by = SOV
					}
				}
				219 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = synthetic_refinery
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					195 = {
						is_controlled_by = SOV
					}
				}
				195 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = synthetic_refinery
						level = 2
						instant_build = yes
					}
				}
			}
			add_resource = {
				type = rubber
				amount = 6
				state = 404
			}
		}
	}
	focus = {
		id = SOV_aeronautical_advancements
		icon = GFX_focus_research
		prerequisite = { focus = SOV_transformation_of_nature }
		relative_position_id = SOV_transformation_of_nature
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_found_the_comecon
		icon = GFX_focus_SOV_the_comecon
		prerequisite = { focus = SOV_transformation_of_nature
		}
		relative_position_id = SOV_transformation_of_nature
		x = 0
		y = 1
		cost = 3
		#allow_branch = {
		#	has_government = communism
		#}
		available = {
			num_subjects > 0
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			if = {
				limit = {
					num_subjects > 0
				}
				add_ideas = SOV_comecon_sov_default
				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					add_ideas = SOV_comecon_puppet_default
				}
				custom_effect_tooltip = SOV_found_the_comecon_program_tt
				hidden_effect = {
					add_to_tech_sharing_group = SOV_comecon
					every_country = {
						limit = {
							is_subject_of = ROOT
						}
						add_to_tech_sharing_group = SOV_comecon
					}
				}
			}
			else = {
				#Early tooltip for when Soviets have no subjects
				effect_tooltip = {
					add_ideas = SOV_comecon_sov_default
				}
				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				effect_tooltip = {
					add_ideas = SOV_comecon_puppet_default
				}
				custom_effect_tooltip = SOV_found_the_comecon_program_tt
			}
			unlock_decision_category_tooltip = SOV_comecon_dec_cat
		}
	}
	focus = {
		id = SOV_ballistic_missiles
		icon = GFX_focus_research
		prerequisite = { focus = SOV_found_the_comecon }
		relative_position_id = SOV_found_the_comecon
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_finish_the_fourth_five_year_plan
		icon = GFX_goal_SOV_fourth_five_year_plan
		x = 0
		y = 1
		relative_position_id = SOV_found_the_comecon
		cost = 4
		ai_will_do = {
			factor = 5
		}
		available = {
			has_completed_focus = SOV_start_the_fourth_five_year_plan
			OR = {
				has_completed_focus = SOV_bread_basket_of_the_soviet_union
				any_enemy_country = {
					is_major = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		available_if_capitulated = no
		bypass = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_finish_the_fourth_five_year_plan_tt
			hidden_effect = {
				remove_dynamic_modifier = {
					modifier = SOV_fourth_five_year_plan_34_dynamic_modifier
				}
				add_dynamic_modifier = {
					modifier = SOV_fourth_five_year_plan_44_dynamic_modifier
				}
				subtract_from_variable = {
					var = SOV_fyp_political_power_cost
					value = 0.5
				}
				subtract_from_variable = {
					var = SOV_fyp_industrial_capacity_factory
					value = -0.3
				}
				subtract_from_variable = {
					var = SOV_fyp_industry_repair_factor
					value = 0.35
				}
			}
			add_tech_bonus = {
				name = SOV_synth_rubber
				bonus = 3
				uses = 1
				category = synth_resources
			}
		}
	}
	###
	focus = {
		id = SOV_start_the_fifth_five_year_plan
		icon = GFX_goal_SOV_start_the_fifth_five_year_plan
		relative_position_id = SOV_finish_the_third_five_year_plan
		x = 0
		y = 1
		cost = 4
		available = {
			has_war = no
		}
		ai_will_do = {
			factor = 1
		}
		available = {
			has_completed_focus = SOV_finish_the_fourth_five_year_plan
		}
		available_if_capitulated = no
		cancel = {
			has_war = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		bypass = {
		}
		completion_reward = {
			
		}
	}
	focus = {
		id = SOV_expand_the_heavy_industry
		icon = GFX_goal_generic_production
		prerequisite = { focus = SOV_start_the_fifth_five_year_plan }
		x = 0
		y = 1
		relative_position_id = SOV_start_the_fifth_five_year_plan
		cost = 3
		cancel_if_invalid = no
		available = {
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {

		}
	}
	focus = {
		id = SOV_synthetic_rubber_program
		icon = GFX_goal_generic_synthetic_rubber
		prerequisite = { focus = SOV_expand_the_heavy_industry }
		relative_position_id = SOV_expand_the_heavy_industry
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_improve_transportation
		icon = GFX_goal_generic_railroads
		prerequisite = { focus = SOV_expand_the_heavy_industry }
		x = 0
		y = 1
		relative_position_id = SOV_expand_the_heavy_industry
		cost = 3
		cancel_if_invalid = no
		available = {
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			
		}
	}
	focus = {
		id = SOV_oil_production
		icon = GFX_goal_generic_oil_contract
		prerequisite = { focus = SOV_improve_transportation }
		relative_position_id = SOV_improve_transportation
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_arsenal_of_communism
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_improve_transportation }
		x = 0
		y = 1
		relative_position_id = SOV_improve_transportation
		cost = 3
		cancel_if_invalid = no
		available = {
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			
		}
	}
	focus = {
		id = SOV_closed_city_network
		icon = GFX_focus_research
		prerequisite = { focus = SOV_arsenal_of_communism }
		relative_position_id = SOV_arsenal_of_communism
		x = 2
		y = 0
		cost = 3
		available = {
			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = no
		completion_reward = {

		}
	}

	focus = {
		id = SOV_revise_the_five_year_plan
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_arsenal_of_communism }
		x = 0
		y = 1
		relative_position_id = SOV_arsenal_of_communism
		cost = 3
		cancel_if_invalid = no
		available = {
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			
		}
	}

	focus = {
		id = SOV_finish_the_fifth_five_year_plan
		icon = GFX_goal_SOV_fourth_five_year_plan
		x = 0
		y = 1
		relative_position_id = SOV_revise_the_five_year_plan
		cost = 4
		ai_will_do = {
			factor = 5
		}
		available = {
			has_completed_focus = SOV_start_the_fourth_five_year_plan
			OR = {
				has_completed_focus = SOV_bread_basket_of_the_soviet_union
				any_enemy_country = {
					is_major = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		available_if_capitulated = no
		bypass = {
		}
		completion_reward = {

		}
	}
	
	####################################################################################################################
	############################################# Emergency War Industry ###############################################
	####################################################################################################################
	focus = {
		id = SOV_split_the_pc_of_defence_industry
		icon = GFX_goal_SOV_split_the_pc_of_defence_industry
		cost = 3
		x = 11
		y = 4
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = { 
			if = {
				limit = {
					has_idea = partial_economic_mobilisation
				}
				add_political_power = 150
			}
			else = {
				add_ideas = partial_economic_mobilisation
			}
		}
	}
	focus = {
		id = SOV_pc_of_munitions
		icon = GFX_goal_generic_equip_troops
		relative_position_id = SOV_split_the_pc_of_defence_industry
		prerequisite = {
			focus = SOV_split_the_pc_of_defence_industry
		}
		cost = 3
		x = -3
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = { 

		}
	}
	focus = {
		id = SOV_pc_of_armament
		icon = GFX_focus_generic_combined_arms
		relative_position_id = SOV_split_the_pc_of_defence_industry
		prerequisite = {
			focus = SOV_split_the_pc_of_defence_industry
		}
		cost = 3
		x = -1
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = { 

		}
	}
	focus = {
		id = SOV_pc_of_aviation_industry
		icon = GFX_focus_generic_aircraft_production
		relative_position_id = SOV_split_the_pc_of_defence_industry
		prerequisite = {
			focus = SOV_split_the_pc_of_defence_industry
		}
		cost = 3
		x = 1
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = { 

		}
	}
	focus = {
		id = SOV_pc_of_shipbuilding_industry
		icon = GFX_goal_generic_navy_cruiser
		relative_position_id = SOV_split_the_pc_of_defence_industry
		prerequisite = {
			focus = SOV_split_the_pc_of_defence_industry
		}
		cost = 3
		x = 3
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = { 

		}
	}

	focus = {
		id = SOV_glavvoenstroi
		icon = GFX_goal_generic_construction2
		relative_position_id = SOV_split_the_pc_of_defence_industry
		prerequisite = {
			focus = SOV_split_the_pc_of_defence_industry
		}
		cost = 3
		x = 0
		y = 2
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				any_enemy_country = { is_major = yes }
				NOT = {
					has_idea = cavalry_army_clique
					has_idea = cavalry_army_clique_2
					has_idea = cavalry_army_clique_3
				}
			}
		}

		completion_reward = { 

		}
	}
	focus = {
		id = SOV_pc_of_mortar_armament
		icon = GFX_goal_generic_occupy_start_war
		relative_position_id = SOV_glavvoenstroi
		prerequisite = {
			focus = SOV_split_the_pc_of_defence_industry
		}
		cost = 3
		x = -2
		y = 0
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				any_enemy_country = { is_major = yes }
				NOT = {
					has_idea = cavalry_army_clique
					has_idea = cavalry_army_clique_2
					has_idea = cavalry_army_clique_3
				}
			}
		}

		completion_reward = {

		}
	}
	focus = {
		id = SOV_pc_of_tank_industry
		icon = GFX_goal_generic_build_tanks
		relative_position_id = SOV_glavvoenstroi
		prerequisite = {
			focus = SOV_split_the_pc_of_defence_industry
		}
		cost = 3
		x = 2
		y = 0
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				any_enemy_country = { is_major = yes }
				NOT = {
					has_idea = cavalry_army_clique
					has_idea = cavalry_army_clique_2
					has_idea = cavalry_army_clique_3
				}
			}
		}

		completion_reward = { 

		}
	}
	focus = {
		id = SOV_merge_evacuated_plants
		icon = GFX_focus_SOV_merge_plants
		relative_position_id = SOV_glavvoenstroi
		prerequisite = { focus = SOV_glavvoenstroi }
		prerequisite = { focus = SOV_pc_of_tank_industry }
		prerequisite = { focus = SOV_pc_of_mortar_armament }
		prerequisite = { focus = SOV_pc_of_aviation_industry }
		prerequisite = { focus = SOV_pc_of_munitions }
		prerequisite = { focus = SOV_pc_of_armament }


		cost = 3
		x = 0
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = { 

		}
	}
	focus = {
		id = SOV_tankograd
		icon = GFX_goal_SOV_tankograd
		relative_position_id = SOV_merge_evacuated_plants
		prerequisite = { focus = SOV_merge_evacuated_plants }
		cost = 3
		x = -1
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = { 

		}
	}	
	focus = {
		id = SOV_ural_tank_factories
		icon = GFX_focus_generic_tank_production
		relative_position_id = SOV_merge_evacuated_plants
		prerequisite = { focus = SOV_merge_evacuated_plants }
		cost = 3
		x = 1
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = { 

		}
	}

	####################################################################################################################
	#################################################### Military ######################################################
	####################################################################################################################
	focus = {
		id = SOV_pc_of_defence
		icon = GFX_goal_SOV_central_military_commision
		x = 22
		y = 0

		cost = 3

		ai_will_do = {
			factor = 1
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP }

		completion_reward = {
			add_political_power = 25
			army_experience = 10
			air_experience = 10
		}
	}
	    ###    ########  ##     ## ##    ##
	    ## ##   ##     ## ###   ###  ##  ##
	   ##   ##  ##     ## #### ####   ####
	  ##     ## ########  ## ### ##    ##
	  ######### ##   ##   ##     ##    ##
	  ##     ## ##    ##  ##     ##    ##
	  ##     ## ##     ## ##     ##    ##
	focus = {
		id = SOV_reinstate_general_staff_academy
		icon = GFX_goal_SOV_new_soviet_society
		prerequisite = { focus = SOV_pc_of_defence }
		relative_position_id = SOV_pc_of_defence
		x = 0
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		search_filters = { FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			army_experience = 10
		}
	}
	focus = {
		id = SOV_abolish_the_territorial_organisation 
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = SOV_reinstate_general_staff_academy }
		relative_position_id = SOV_reinstate_general_staff_academy
		x = 0
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}
		
		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {

		}
	}
	focus = {
		id = SOV_restore_cossack_units
		icon = GFX_focus_SOV_restore_cossack_units
		prerequisite = { focus = SOV_abolish_the_territorial_organisation }
		x = 0
		y = 1
		relative_position_id = SOV_abolish_the_territorial_organisation
		cost = 3

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			custom_effect_tooltip = SOV_restore_cossack_units_ns_tt
			add_to_variable = {
				SOV_the_red_army_modifier_army_sub_unit_cavalry_speed_factor = 0.05
			}
			add_to_variable = {
				SOV_the_red_army_cavalry_attack_factor = 0.05
			}
			#add_to_variable = { SOV_the_red_army_terrain_penalty_reduction = 0.05 }

			add_stability = 0.05
			show_unit_leaders_tooltip = SOV_lev_dovator

			#Spawn 3 Cossack divisions
			custom_effect_tooltip = SOV_restore_cossack_units_spawn_tt
			hidden_effect = {
				division_template = {
					name = "Kazachya Kavaleryskaya Diviziya"
					division_names_group = SOV_CAV_02
					template_counter = 5
					regiments = {
						cavalry = { x = 0 y = 0 }
						cavalry = { x = 0 y = 1 }
						cavalry = { x = 0 y = 2 }

						cavalry = { x = 1 y = 0 }
						cavalry = { x = 1 y = 1 }
						cavalry = { x = 1 y = 2 }

						motorized_artillery_brigade = { x = 2 y = 0 }
						motorized_artillery_brigade = { x = 2 y = 1 }

						medium_armor = { x = 3 y = 0 }
					}
					support = {
						engineer = {
							x = 0
							y = 0
						}
						armoured_recon = {
							x = 0
							y = 1
						}
					}
				}
				capital_scope = {
					#Cossack Cavalry
					create_unit = {
						division = "name = \"4ya Donskaya Kazachya Kav. Div.\" division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8 start_equipment_factor = 1.0"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"6ya Kubansko-Terskaya Kazachya Kav. Div.\" division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8 start_equipment_factor = 1.0"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"10ya Tersko-Stavropolskaya Kazachya Kav. Div\" division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8 start_equipment_factor = 1.0"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"12ya Kubanskaya Kazachya Kav. Div.\" division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8 start_equipment_factor = 1.0"
						owner = ROOT
					}
				}
			}
		}
	}
	focus = {
		id = SOV_instate_political_commissars
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SOV_restore_cossack_units }
		relative_position_id = SOV_restore_cossack_units
		x = 0
		y = 1
		cost = 3

		available = {
			has_idea = SOV_politicized_military
		}

		search_filters = {
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = SOV_politicized_military
				add_idea = SOV_politicized_military_keep
			}
		}
	}
	focus = {
		id = SOV_reserve_armies_administration
		icon = GFX_focus_SOV_mobilization_plan
		prerequisite = { focus = SOV_instate_political_commissars }
		x = 0
		y = 1
		relative_position_id = SOV_instate_political_commissars
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_MANPOWER
		}

		completion_reward = {
			custom_effect_tooltip = recruiting_reserves_40
			country_event = sov_armor.817
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = reserve_total_1
					}
					clr_country_flag = reserve_total_1
					set_country_flag = reserve_total_5
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_2
					}
					clr_country_flag = reserve_total_2
					set_country_flag = reserve_total_6
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_3
					}
					clr_country_flag = reserve_total_3
					set_country_flag = reserve_total_7
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_4
					}
					clr_country_flag = reserve_total_4
					set_country_flag = reserve_total_8
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_5
					}
					clr_country_flag = reserve_total_5
					set_country_flag = reserve_total_9
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_6
					}
					clr_country_flag = reserve_total_6
					set_country_flag = reserve_total_10
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_7
					}
					clr_country_flag = reserve_total_7
					set_country_flag = reserve_total_10
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_8
					}
					clr_country_flag = reserve_total_8
					set_country_flag = reserve_total_10
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_9
					}
					clr_country_flag = reserve_total_9
					set_country_flag = reserve_total_10
				}
				else = {
					set_country_flag = reserve_total_4
				}
			}
		}
	}
	focus = {
		id = SOV_lessons_of_war
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SOV_reserve_armies_administration }
		relative_position_id = SOV_reserve_armies_administration
		x = 0
		y = 1

		available = {
			has_country_flag = SOV_war_since_start
		}
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}
		cancel_if_invalid = yes
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}

		completion_reward = {
			activate_advisor = semyon_timoshenko

			add_to_variable = {
				SOV_the_red_army_winter_attrition_factor = -0.1
			}
			add_to_variable = {
				SOV_the_red_army_acclimatization_cold_climate_gain_factor = 1.0
			}
			custom_effect_tooltip = SOV_an_adaptable_army_ns_tt
			#unlocks first army reform

			add_doctrine_cost_reduction = {
				name = SOV_lessons_of_war
				cost_reduction = 0.99
				uses = 1
				category = cat_grand_battle_plan
			}

			#custom_effect_tooltip = SOV_lessons_of_war_cowed_trait_tt
			
			hidden_effect = {
				set_country_flag = SOV_lessons_of_war_flag
			}
		}
	}
	focus = {
		id = SOV_army_reorganization
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = SOV_lessons_of_war }
		x = 0
		y = 1
		relative_position_id = SOV_lessons_of_war
		cost = 4

		select_effect = {
			add_timed_idea = { idea = SOV_army_reorganization_ns days = 365 }
		}
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}

		completion_reward = {
			#Tooltip purposes (Select Effect)
			custom_effect_tooltip = SOV_focus_select_effect_tt
			effect_tooltip = {
				add_timed_idea = { idea = SOV_army_reorganization_ns days = 365 }
			}
			#(Complete Effect)
			custom_effect_tooltip = SOV_focus_complete_effect_tt
			
			if = {
				limit = { has_idea = mass_assault_army_spirit }
				army_experience = 35
			}
			else = {
				add_ideas = mass_assault_army_spirit
			}

			add_to_variable = {
				SOV_the_red_army_training_time_factor = -0.3
			}
			add_to_variable = {
				SOV_the_red_army_minimum_training_level = -0.3
			}
			custom_effect_tooltip = SOV_army_reorganization_ns_tt
			
			add_doctrine_cost_reduction = {
				name = SOV_army_reorganization
				cost_reduction = 0.99
				uses = 1
				category = land_doctrine
			}
			add_doctrine_cost_reduction = {
				name = SOV_army_reorganization
				cost_reduction = 0.99
				uses = 1
				category = air_doctrine
			}
			add_doctrine_cost_reduction = {
				name = SOV_army_reorganization
				cost_reduction = 0.99
				uses = 1
				category = naval_doctrine
			}
			custom_effect_tooltip = recruiting_reserves_60
			country_event = sov_armor.817
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = reserve_total_1
					}
					clr_country_flag = reserve_total_1
					set_country_flag = reserve_total_7
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_2
					}
					clr_country_flag = reserve_total_2
					set_country_flag = reserve_total_8
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_3
					}
					clr_country_flag = reserve_total_3
					set_country_flag = reserve_total_9
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_4
					}
					clr_country_flag = reserve_total_4
					set_country_flag = reserve_total_10
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_5
					}
					clr_country_flag = reserve_total_5
					set_country_flag = reserve_total_10
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_6
					}
					clr_country_flag = reserve_total_6
					set_country_flag = reserve_total_10
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_7
					}
					clr_country_flag = reserve_total_7
					set_country_flag = reserve_total_10
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_8
					}
					clr_country_flag = reserve_total_8
					set_country_flag = reserve_total_10
				}
				else_if = {
					limit = {
						has_country_flag = reserve_total_9
					}
					clr_country_flag = reserve_total_9
					set_country_flag = reserve_total_10
				}
				else = {
					set_country_flag = reserve_total_6
				}
			}
		}
	}
	focus = {
		id = SOV_war_heroes
		icon = GFX_focus_ETH_callout_to_the_world
		prerequisite = { focus = SOV_army_reorganization}
		x = 0
		y = 1
		relative_position_id = SOV_army_reorganization
		cost = 4
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		search_filters = {
			FOCUS_FILTER_INTERNAL_AFFAIRS
		}

		completion_reward = {
			add_ideas = SOV_war_heroes_ns
			if = {
				limit = {
					SOV_georgy_zhukov = {
						NOT = {
							has_character_flag = SOV_character_purged_flag
						}
						is_corps_commander = yes
					}
				}
				SOV_georgy_zhukov = {
					promote_leader = yes
				}
			}
			else = {
				random_army_leader = {
					limit = {
						NOT = {
							has_character_flag = SOV_potential_target_flag
						}
						is_corps_commander = yes
						NOT = {
							is_character = SOV_grigory_kulik
						}
						NOT = {
							is_character = SOV_semyon_timoshenko
						}
						NOT = {
							is_character = SOV_boris_shaposhnikov
						}
					}
					promote_leader = yes
				}
			}
			if = {
				limit = {
					SOV_grigory_kulik = {
						NOT = {
							has_character_flag = SOV_character_purged_flag
						}
						is_corps_commander = yes
					}
				}
				SOV_grigory_kulik = {
					promote_leader = yes
				}
			}
			else = {
				random_army_leader = {
					limit = {
						NOT = {
							has_character_flag = SOV_potential_target_flag
						}
						is_corps_commander = yes
						NOT = {
							is_character = SOV_georgy_zhukov
						}
						NOT = {
							is_character = SOV_semyon_timoshenko
						}
						NOT = {
							is_character = SOV_boris_shaposhnikov
						}
					}
					promote_leader = yes
				}
			}
			if = {
				limit = {
					SOV_semyon_timoshenko = {
						NOT = {
							has_character_flag = SOV_character_purged_flag
						}
						is_corps_commander = yes
					}
				}
				SOV_semyon_timoshenko = {
					promote_leader = yes
				}
			}
			else = {
				random_army_leader = {
					limit = {
						NOT = {
							has_character_flag = SOV_potential_target_flag
						}
						is_corps_commander = yes
						NOT = {
							is_character = SOV_georgy_zhukov
						}
						NOT = {
							is_character = SOV_grigory_kulik
						}
						NOT = {
							is_character = SOV_boris_shaposhnikov
						}
					}
					promote_leader = yes
				}
			}
			if = {
				limit = {
					SOV_boris_shaposhnikov = {
						NOT = {
							has_character_flag = SOV_character_purged_flag
						}
						is_corps_commander = yes
					}
				}
				SOV_boris_shaposhnikov = {
					promote_leader = yes
				}
			}
			else = {
				random_army_leader = {
					limit = {
						NOT = {
							has_character_flag = SOV_potential_target_flag
						}
						is_corps_commander = yes
						NOT = {
							is_character = SOV_georgy_zhukov
						}
						NOT = {
							is_character = SOV_grigory_kulik
						}
						NOT = {
							is_character = SOV_semyon_timoshenko
						}
					}
					promote_leader = yes
				}
			}
		}
	}

	### STAVKA ###
	focus = {
		id = SOV_form_the_stavka
		icon = GFX_goal_support_communism
		x = 0
		y = 1
		relative_position_id = SOV_war_heroes
		cost = 3
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = {
					has_war_with = GER
				}
			}
			modifier = {
				factor = 10
				has_war = yes
			}
		}
		available = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
		}
		search_filters = {
			FOCUS_FILTER_EMERGENCY
		}

		select_effect = {
			activate_advisor = SOV_iosif_stalin
			###Industry relocation + scorched earth###
		}

		completion_reward = {
			add_ideas = SOV_stavka
			if = {
				limit = {
					OR = {
						has_idea = disarmed_nation
						has_idea = volunteer_only
						has_idea = limited_conscription
					}
				}
				add_ideas = extensive_conscription
			}
			if = {
				limit = {
					OR = {
						has_idea = free_trade
						has_idea = export_focus
					}
				}
				add_ideas = limited_exports
			}
			if = {
				limit = {
					has_idea = tot_economic_mobilisation
				}
				add_political_power = 100
			}
			else = {
				add_ideas = tot_economic_mobilisation
			}

			hidden_effect = {
				add_to_variable = {
					var = SOV_Army_attitude
					value = 1
				}
				add_to_variable = {
					var = SOV_Army_influence
					value = -1
				}
				add_to_variable = {
					var = SOV_Commissars_influence
					value = 2
				}
				SOV_political_instability_update_effect = yes
			}

			add_tech_bonus = {
				name = SOV_form_the_stavka
				bonus = 1
				uses = 1
				technology = sov_mechanized_td_1
			}

		}
	}
	focus = {
		id = SOV_a_multiethnic_army
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = SOV_form_the_stavka }
		relative_position_id = SOV_form_the_stavka
		x = -2
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		available_if_capitulated = yes

		completion_reward = {

		}
	}
	focus = {
		id = SOV_guards_mortars
		icon = GFX_focus_rocketry
		prerequisite = { focus = SOV_a_multiethnic_army }
		x = 0
		y = 1
		relative_position_id = SOV_a_multiethnic_army
		cost = 4
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = {
				has_idea = SOV_military_restructuring
			}
		}
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SOV_guards_mortars
				bonus = 2
				uses = 2
				technology = sov_mechanized_artillery_1
				technology = sov_mechanized_artillery_2
				technology = sov_mechanized_artillery_3
			}
			add_tech_bonus = {
				name = SOV_guards_mortars
				bonus = 0.5
				uses = 2
				category = rocketry
			}
			add_doctrine_cost_reduction = {
				name = SOV_guards_mortars
				cost_reduction = 0.99
				uses = 2
				category = cat_superior_firepower
			}
		}
	}
	focus = {
		id = SOV_guards_units
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = SOV_guards_mortars
		}
		x = 0
		y = 1
		relative_position_id = SOV_guards_mortars
		cost = 5
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		available_if_capitulated = no
		completion_reward = {
			add_tech_bonus = {
				name = SOV_guards
				bonus = 0.5
				uses = 3
				category = marine_tech
				category = para_tech
				category = mountaineers_tech
			}
			custom_effect_tooltip = SOV_guards_unit
			hidden_effect = {
				division_template = {
					name = "Guards Rifle Division"
					division_names_group = SOV_GRD_01
					regiments = {
						heavy_infantry = { x = 0 y = 0 }
						heavy_infantry = { x = 0 y = 1 }
						heavy_infantry = { x = 0 y = 2 }

						heavy_infantry = { x = 1 y = 0 }
						heavy_infantry = { x = 1 y = 1 }
						heavy_infantry = { x = 1 y = 2 }

						heavy_infantry = { x = 2 y = 0 }
						heavy_infantry = { x = 2 y = 1 }
						heavy_infantry = { x = 2 y = 2 }

						motorized_rocket_brigade = { x = 3 y = 0 }
						motorized_rocket_brigade = { x = 3 y = 1 }
						motorized_rocket_brigade = { x = 3 y = 2 }

						anti_air_brigade = { x = 4 y = 0 }
						anti_tank_brigade = { x = 4 y = 1 }
						anti_tank_brigade = { x = 4 y = 2 }
						anti_tank_brigade = { x = 4 y = 3 }

					}
					support = {
						engineer = { x = 0 y = 0 }
						rocket_artillery = { x = 0 y = 1 }
						horse_logistics_company = { x = 0 y = 2 }
						signal_company = { x = 0 y = 3 }

						recon = { x = 1 y = 0 }
						field_hospital = { x = 1 y = 1 }
						anti_air = { x = 1 y = 2 }
						anti_tank = { x = 1 y = 3 }
					}
				}
			}
		}
	}

	focus = {
		id = SOV_positive_heroism
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = SOV_form_the_stavka }
		x = 2
		y = 1
		relative_position_id = SOV_form_the_stavka
		cost = 4
		available = {
		}
		search_filters = {
			FOCUS_FILTER_PROPAGANDA
			FOCUS_FILTER_POLITICAL
		}

		completion_reward = {
			add_political_power = 50
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = konstantin_rokossovsky
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = georgy_zhukov
			custom_effect_tooltip = SOV_positive_heroism_tt
			hidden_effect = {
				add_to_variable = {
					var = SOV_Army_attitude
					value = 1
				}
				add_to_variable = {
					var = SOV_Army_influence
					value = 1
				}
				SOV_political_instability_update_effect = yes
			}
		}
	}
	focus = {
		id = SOV_experts_in_camouflage
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = SOV_positive_heroism }
		x = 0
		y = 1
		relative_position_id = SOV_positive_heroism
		cost = 3
		available = {
		}
		search_filters = {
		}

		completion_reward = {
			add_to_variable = {
				SOV_the_red_army_cas_damage_reduction = 0.05
			}
			add_to_variable = {
				SOV_the_red_army_enemy_army_bonus_air_superiority_factor = -0.05
			}
			add_to_variable = {
				SOV_the_red_army_dig_in_speed_factor = 0.05
			}
			custom_effect_tooltip = SOV_experts_in_camouflage_tt
		}
	}
	focus = {
		id = SOV_preserve_veteran_units
		icon = GFX_goal_panzerwaffe
		prerequisite = { focus = SOV_experts_in_camouflage }
		x = 0
		y = 1
		relative_position_id = SOV_experts_in_camouflage
		cost = 3

		available = {
		}
		search_filters = {
			FOCUS_FILTER_XP
		}

		completion_reward = {
			add_to_variable = { SOV_the_red_army_army_org_factor = 0.05 }
			add_to_variable = { SOV_the_red_army_experience_gain_army_factor = 0.2 }
			add_to_variable = { SOV_the_red_army_experience_loss_factor = -0.05 }
			custom_effect_tooltip = SOV_cohesion_first_tt
			add_doctrine_cost_reduction = {
				name = SOV_preserve_veteran_units
				cost_reduction = 0.99
				uses = 1
				category = cat_grand_battle_plan
			}
		}
	}

	focus = {
		id = SOV_rebuild_the_army
		icon = GFX_goal_generic_commit_to_the_war
		prerequisite = { focus = SOV_form_the_stavka }
		relative_position_id = SOV_form_the_stavka		
		x = 0
		y = 1

		cost = 2

		ai_will_do = {
			factor = 1
		}

		available = {
			casualties_k > 1999
		}
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_EMERGENCY }

		completion_reward = {
			add_to_variable = { SOV_the_red_army_minimum_training_level = -0.2 }
		}
	}
	focus = {
		id = SOV_disband_the_cavalry_army_clique
		icon = GFX_goal_SOV_cavalry_army_clique
		prerequisite = { focus = SOV_rebuild_the_army }
		x = 0
		y = 1
		relative_position_id = SOV_rebuild_the_army
		cost = 3
		ai_will_do = {
			factor = 1
		}
		bypass = {
			NOT = {
				has_idea = cavalry_army_clique
				has_idea = cavalry_army_clique_2
				has_idea = cavalry_army_clique_3
			}
		}
		available = {
			has_country_flag = SOV_army_reform_2
		}
		available_if_capitulated = yes

		completion_reward = {
			retire_character = SOV_kliment_voroshilov
			#retire_character = SOV_semyon_budyonny
			retire_character = SOV_grigory_kulik
			if = {
				limit = {
					has_idea = cavalry_army_clique_3
				}
				remove_ideas = cavalry_army_clique_3
			}
			if = {
				limit = {
					has_idea = cavalry_army_clique_2
				}
				remove_ideas = cavalry_army_clique_2
			}
			else_if = {
				limit = {
					has_idea = cavalry_army_clique
				}
				remove_ideas = cavalry_army_clique
			}
		}
	}
	focus = {
		id = SOV_swap_to_political_advisors
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_disband_the_cavalry_army_clique }
		x = 0
		y = 1
		relative_position_id = SOV_disband_the_cavalry_army_clique
		cost = 3

		available = {
		}
		bypass = {
			has_completed_focus = SOV_depoliticize_the_military
		}
		search_filters = {
			
		}

		completion_reward = {
			if = {
				limit = {
					has_idea = SOV_politicized_military
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military
					add_idea = SOV_politicized_military_swap
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_politicized_military_humanism
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military_humanism
					add_idea = SOV_politicized_military_swap_humanism
				}
			}
			else = {
				#To prevent the ugly "No current effects" tooltip if other focus taken
				effect_tooltip = {
					swap_ideas = {
						remove_idea = SOV_politicized_military
						add_idea = SOV_politicized_military_swap
					}
				}
			}
		}
	}






	######################
	### Army Doctrines ###
	######################
	focus = {
		id = SOV_cult_of_the_offensive
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = { focus = SOV_pc_of_defence }
		relative_position_id = SOV_pc_of_defence
		x = -3
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
		}
		search_filters = { FOCUS_FILTER_ARMY_XP }
		available_if_capitulated = yes

		completion_reward = {
			army_experience = 15
			add_to_variable = { SOV_the_red_army_army_defence_factor = -0.1 }
			add_to_variable = { SOV_the_red_army_army_org_regain = 0.05 }
		}
	}
	focus = {
		id = SOV_concentrated_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = SOV_cult_of_the_offensive }
		relative_position_id = SOV_cult_of_the_offensive
		x = 0
		y = 2

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = { }
		search_filters = { }
		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SOV_concentrated_artillery
				cost_reduction = 0.99
				uses = 1
				category = cat_superior_firepower
			}
		}
	}
	focus = {
		id = SOV_attempt_combined_arms
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SOV_concentrated_artillery }
		relative_position_id = SOV_concentrated_artillery
		x = 0
		y = 2

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = { has_country_flag = SOV_army_reform_1 }
		search_filters = { }
		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SOV_concentrated_artillery
				cost_reduction = 0.99
				uses = 1
				category = cat_grand_battle_plan
			}
			add_doctrine_cost_reduction = {
				name = SOV_concentrated_artillery
				cost_reduction = 0.99
				uses = 1
				category = cat_superior_firepower
			}
		}
	}
	focus = {
		id = SOV_Shock_armies
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = SOV_attempt_combined_arms
		}
		x = 0
		y = 2
		relative_position_id = SOV_attempt_combined_arms
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes

		completion_reward = {
			set_technology = {
				shock_armies = 1
			}
			add_doctrine_cost_reduction = {
				name = SOV_Shock_armies
				cost_reduction = 0.99
				uses = 1
				category = cat_superior_firepower
			}
			add_doctrine_cost_reduction = {
				name = SOV_Shock_armies
				cost_reduction = 0.99
				uses = 1
				category = cat_grand_battle_plan
			}
		}
	}
	focus = {
		id = SOV_adapt_to_enemy_tactics
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = SOV_Shock_armies }
		prerequisite = { focus = SOV_form_the_stavka }
		x = -1
		y = 2
		relative_position_id = SOV_Shock_armies
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available = {
			has_country_flag = SOV_army_reform_2
		}
		available_if_capitulated = yes

		completion_reward = {
			add_to_variable = { SOV_the_red_army_army_defence_factor = 0.1 }
			add_to_variable = { SOV_the_red_army_training_time_factor = -0.1 }
		}
	}
	focus = {
		id = SOV_tank_armies
		icon = GFX_goal_SOV_perfecting_of_the_armour_core
		prerequisite = { focus = SOV_adapt_to_enemy_tactics }
		x = 0
		y = 1
		relative_position_id = SOV_adapt_to_enemy_tactics
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available = {
			has_country_flag = SOV_army_reform_2
		}
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}

		completion_reward = {
			army_experience = 15
			if = {
				limit = {
					is_ai = no
				}
				hidden_effect = {
					division_template = {
						name = "Tankovaya Korpus"
						division_names_group = SOV_ARM_02
						priority = 1
						regiments = {
							medium_armor = { x = 0 y = 0 }
							medium_armor = { x = 0 y = 1 }
							medium_armor = { x = 0 y = 2 }
							medium_armor = { x = 0 y = 3 }

							medium_armor = { x = 1 y = 0 }
							medium_armor = { x = 1 y = 1 }
							medium_armor = { x = 1 y = 2 }
							medium_armor = { x = 1 y = 3 }

							light_assault_brigade = { x = 2 y = 0 }
							light_assault_brigade = { x = 2 y = 1 }

							motorized = { x = 3 y = 0 }
							motorized = { x = 3 y = 1 }
							motorized = { x = 3 y = 2 }

							motorized = { x = 4 y = 0 }
							motorized = { x = 4 y = 1 }
							motorized_rocket_brigade = { x = 4 y = 2 }
							motorized_rocket_brigade = { x = 4 y = 3 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							motorized_logistics_company = { x = 0 y = 1 }
							mot_maintenance_company = { x = 0 y = 2 }
							signal_company = { x = 0 y = 3 }

							armoured_recon = { x = 1 y = 0 }
						}
					}
					division_template = {
						name = "Gvds. Tankovaya Korpus"
						division_names_group = SOV_GTC_01
						priority = 1
						regiments = {
							heavy_armor = { x = 0 y = 0 }
							heavy_armor = { x = 0 y = 1 }
							heavy_armor = { x = 0 y = 2 }

							heavy_armor = { x = 1 y = 0 }
							heavy_armor = { x = 1 y = 1 }
							heavy_armor = { x = 1 y = 2 }

							light_assault_brigade = { x = 2 y = 0 }
							light_assault_brigade = { x = 2 y = 1 }

							motorized = { x = 3 y = 0 }
							motorized = { x = 3 y = 1 }
							motorized = { x = 3 y = 2 }

							motorized = { x = 4 y = 0 }
							motorized = { x = 4 y = 1 }
							motorized_rocket_brigade = { x = 4 y = 2 }
							motorized_rocket_brigade = { x = 4 y = 3 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							motorized_logistics_company = { x = 0 y = 1 }
							mot_maintenance_company = { x = 0 y = 2 }
							signal_company = { x = 0 y = 3 }

							armoured_recon = { x = 1 y = 0 }
						}
					}
				}
			}
			add_doctrine_cost_reduction = {
				name = SOV_modernization_of_the_red_army
				cost_reduction = 0.99
				uses = 1
				category = cat_mobile_warfare
			}
		}
	}
	focus = {
		id = SOV_deep_battle
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = SOV_tank_armies
		}
		x = 0
		y = 1
		relative_position_id = SOV_tank_armies
		cost = 4
		ai_will_do = {
			factor = 1
		}
		available = {
			has_country_flag = SOV_army_reform_3
		}
		available_if_capitulated = yes

		completion_reward = {
			set_technology = {
				deep_battle = 1
			}
			add_doctrine_cost_reduction = {
				name = SOV_deep_battle
				cost_reduction = 0.99
				uses = 2
				category = land_doctrine
			}

			add_to_variable = { SOV_the_red_army_breakthrough_factor = 0.2 }
		}
	}
	######################
	### Army Equipment ###
	######################
	focus = {
		id = SOV_modernization_of_the_rifle_corps
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = SOV_pc_of_defence }
		x = 3
		y = 1
		relative_position_id = SOV_pc_of_defence
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available = {
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 0.5
				uses = 1
				category = heavy_infantry_weapons
			}
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 0.5
				uses = 3
				category = support_tech
			}
		}
	}
	focus = {
		id = SOV_mechanization_of_the_red_army
		icon = GFX_goal_generic_research_tanks
		prerequisite = { focus = SOV_modernization_of_the_rifle_corps }
		x = 0
		y = 2
		relative_position_id = SOV_modernization_of_the_rifle_corps
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available = {
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 0.5
				uses = 1
				category = cat_medium_armor
			}
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 0.5
				uses = 2
				category = cat_light_armor
			}
		}
	}
	focus = {
		id = SOV_god_of_war
		icon = GFX_goal_generic_research_artillery
		prerequisite = { focus = SOV_mechanization_of_the_red_army }
		x = 0
		y = 2
		relative_position_id = SOV_mechanization_of_the_red_army
		cost = 3
		ai_will_do = {
			factor = 1
		}

		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 0.5
				uses = 2
				category = artillery
			}
		}
	}

	focus = {
		id = SOV_heavy_weapons_modernization
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = SOV_god_of_war }
		x = 0
		y = 2
		relative_position_id = SOV_god_of_war
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available = {
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 0.5
				uses = 2
				category = heavy_infantry_weapons
			}
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 0.5
				uses = 2
				category = cat_anti_air
			}
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 0.5
				uses = 1
				category = cat_anti_tank
			}
		}
	}

	focus = {
		id = SOV_soviet_artillery
		icon = GFX_goal_generic_artillery
		prerequisite = { focus = SOV_heavy_weapons_modernization focus = SOV_form_the_stavka }
		x = 1
		y = 2
		relative_position_id = SOV_heavy_weapons_modernization
		cost = 4
		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				NOT = {
					has_idea = cavalry_army_clique
					has_idea = cavalry_army_clique_2
					has_idea = cavalry_army_clique_3
				}
				has_idea = SOV_stavka
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			set_technology = {
				sov_anti_tank_3 = 1
				sov_artillery_3 = 1
			}
			252 = {
				add_extra_state_shared_building_slots = 10
				add_building_construction = {
					type = arms_factory
					level = 10
					instant_build = yes
				}
			}

			add_equipment_production = {
				equipment = {
					type = sov_at_3
					creator = "SOV"
				}
				requested_factories = 25
				progress = 0
				efficiency = 75
			}
			add_equipment_production = {
				equipment = {
					type = sov_art_3
					creator = "SOV"
				}
				requested_factories = 25
				progress = 0
				efficiency = 75
			}
		}
	}
	focus = {
		id = SOV_self_propelled_artillery
		icon = GFX_goal_SOV_spg
		prerequisite = { focus = SOV_soviet_artillery
		}
		mutually_exclusive = {
			focus = SOV_assault_guns
		}
		x = 2
		y = 1
		relative_position_id = SOV_soviet_artillery
		cost = 5
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_self_propelled_artillery
				bonus = 0.5
				uses = 2
				technology = sov_heavy_spg_3
				technology = sov_heavy_spg_4
			}
		}
	}
	focus = {
		id = SOV_assault_guns
		icon = GFX_goal_SOV_assault
		prerequisite = { focus = SOV_soviet_artillery
		}
		mutually_exclusive = {
			focus = SOV_self_propelled_artillery
		}
		x = 0
		y = 1
		relative_position_id = SOV_soviet_artillery
		cost = 5
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = SOV_assault_guns
				bonus = 0.5
				uses = 2
				technology = sov_heavy_spg_2
				technology = sov_light_spg_5
				technology = sov_medium_spg_3
				technology = sov_heavy_spg_6
				technology = sov_heavy_spg_7
			}
		}
	}
	focus = {
		id = SOV_breakthrough_tanks
		icon = GFX_goal_SOV_perfecting_of_the_armour_core
		prerequisite = { focus = SOV_assault_guns }
		x = 0
		y = 1
		relative_position_id = SOV_assault_guns
		cost = 5
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = SOV_breakthrough_tanks
				bonus = 0.5
				uses = 2
				category = cat_heavy_armor
			}
		}
	}


	    ###    #### ########  
	   ## ##    ##  ##     ## 
	  ##   ##   ##  ##     ## 
	 ##     ##  ##  ########  
	 #########  ##  ##   ##   
	 ##     ##  ##  ##    ##  
	 ##     ## #### ##     ## 
	focus = {
		id = SOV_establish_air_armies
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = SOV_pc_of_defence }
		relative_position_id = SOV_pc_of_defence
		x = -6
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = no

		completion_reward = {
			add_tech_bonus = {
				name = SOV_establish_air_armies
				bonus = 0.5
				uses = 1
				category = cat_strategic_bomber
			}
			add_tech_bonus = {
				name = SOV_establish_air_armies
				bonus = 0.5
				uses = 1
				category = tactical_bomber
			}
			195 = {
				add_building_construction = {
					type = air_base
					level = 7
					instant_build = yes
				}
			}
			217 = {
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
			254 = {
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			198 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			206 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			192 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SOV_expand_the_aircraft_industry
		icon = GFX_goal_generic_license_planes
		prerequisite = { focus = SOV_establish_air_armies }
		x = 0
		y = 1
		relative_position_id = SOV_establish_air_armies
		cost = 3
		available = {
			any_owned_state = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			set_variable = {
				SOV_soviet_airforce_aircraft_manufacturer_cost_factor = -0.20
			}
			hidden_effect = {
				#This handles the equipment bonus that's not supported by dynamic modifiers
				add_ideas = SOV_increased_aircraft_production_ns_bonus
			}
			custom_effect_tooltip = SOV_expand_the_aircraft_industry_ns_tt
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				if = {
					limit = {
						air_base < 5
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				else = {
					ROOT = {
						random_owned_controlled_state = {
							limit = {
								air_base < 5
							}
							add_building_construction = {
								type = air_base
								level = 1
								instant_build = yes
							}
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_transpolar_flights
		icon = GFX_goal_generic_heavy_bomber
		prerequisite = { focus = SOV_expand_the_aircraft_industry }
		x = 0
		y = 1
		relative_position_id = SOV_expand_the_aircraft_industry
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		search_filters = {
			FOCUS_FILTER_AIR_XP
			FOCUS_FILTER_STABILITY
		}

		completion_reward = {
			add_stability = 0.1
			air_experience = 25

			add_to_variable = {
				SOV_soviet_airforce_air_weather_penalty = -0.1
			}
			add_tech_bonus = {
				name = SOV_transpolar_flights
				bonus = 0.5
				uses = 1
				category = tactical_bomber
			}
			add_tech_bonus = {
				name = SOV_transpolar_flights
				bonus = 0.5
				uses = 1
				category = patrol_bomber
			}
		}
	}
	focus = {
		id = SOV_foster_flying_clubs
		icon = GFX_focus_SOV_flying_clubs
		prerequisite = { focus = SOV_transpolar_flights
		}
		x = 0
		y = 1
		relative_position_id = SOV_transpolar_flights
		cost = 3
		available = {
		}
		search_filters = {
			FOCUS_FILTER_AIR_XP
		}
		completion_reward = {
			air_experience = 25

			add_to_variable = {
				SOV_soviet_airforce_air_accidents_factor = -0.25
			}
			add_to_variable = {
				SOV_soviet_airforce_air_ace_generation_chance_factor = 0.25
			}
			add_to_variable = {
				SOV_soviet_airforce_air_training_xp_gain_factor = 0.05
			}
			custom_effect_tooltip = SOV_foster_flying_clubs_tt
		}
	}
	focus = {
		id = SOV_reform_the_airforce
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = SOV_foster_flying_clubs }
		prerequisite = { focus = SOV_lessons_of_war }
		x = 0
		y = 2
		relative_position_id = SOV_foster_flying_clubs
		cost = 3
		available = {
		}
		search_filters = {
			FOCUS_FILTER_AIR_XP
			FOCUS_FILTER_XP
		}
		completion_reward = {
			#unlocks first reform
			add_to_variable = { SOV_soviet_airforce_air_training_xp_gain_factor = 0.05 }
			add_to_variable = { SOV_soviet_airforce_experience_gain_air = 0.1 }
		}
	}
	focus = {
		id = SOV_vdv
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = SOV_reform_the_airforce }
		x = 0
		y = 1
		relative_position_id = SOV_reform_the_airforce
		cost = 3
		available = {
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_tech_bonus = {
				name = SOV_vdv
				bonus = 0.5
				uses = 1
				category = para_tech
			}
			custom_effect_tooltip = SOV_create_unit_vdv_tt
			hidden_effect = {
				division_template = {
					name = "Vozdushno-Desantnaya Diviziya"					#3x Airborne Brigades
					division_names_group = SOV_PAR_01
					regiments = {
						paratrooper = { x = 0 y = 0 }
						paratrooper = { x = 0 y = 1 }
						paratrooper = { x = 0 y = 2 }

						paratrooper = { x = 1 y = 0 }
						paratrooper = { x = 1 y = 1 }
						paratrooper = { x = 1 y = 2 }

						paratrooper = { x = 2 y = 0 }
						paratrooper = { x = 2 y = 1 }
						paratrooper = { x = 2 y = 2 }
					}
					support = {
						recon = { x = 0 y = 0 }
						signal_company = { x = 0 y = 1 }
						field_hospital = { x = 0 y = 2 }
						normal_engineer = { x = 0 y = 3 }
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"1ya Vozdushno-Desantnaya Korpus\" division_template = \"Vozdushno-Desantnaya Diviziya\" start_experience_factor = 0.7 start_equipment_factor = 0.1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"2ya Vozdushno-Desantnaya Korpus\" division_template = \"Vozdushno-Desantnaya Diviziya\" start_experience_factor = 0.7 start_equipment_factor = 0.1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"3ya Vozdushno-Desantnaya Korpus\" division_template = \"Vozdushno-Desantnaya Diviziya\" start_experience_factor = 0.7 start_equipment_factor = 0.1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"4ya Vozdushno-Desantnaya Korpus\" division_template = \"Vozdushno-Desantnaya Diviziya\" start_experience_factor = 0.7 start_equipment_factor = 0.1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"5ya Vozdushno-Desantnaya Korpus\" division_template = \"Vozdushno-Desantnaya Diviziya\" start_experience_factor = 0.7 start_equipment_factor = 0.1"
					owner = ROOT
				}
			}
		}
	}
	focus = {
		id = SOV_long_range_bomber_aviation
		icon = GFX_goal_generic_heavy_bomber
		prerequisite = { focus = SOV_vdv }
		x = 0
		y = 1
		relative_position_id = SOV_vdv
		cost = 3
		available = {
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_long_range_bomber_aviation
				bonus = 0.5
				uses = 1
				category = tactical_bomber
				category = cat_strategic_bomber
			}
			add_doctrine_cost_reduction = {
				name = SOV_long_range_bomber_aviation
				cost_reduction = 0.99
				uses = 1
				category = cat_strategic_destruction
			}
		}
	}

	focus = {
		id = SOV_utilise_the_civil_air_fleet
		icon = GFX_focus_SOV_flying_clubs
		prerequisite = { focus = SOV_long_range_bomber_aviation focus = SOV_form_the_stavka }
		x = 0
		y = 1
		relative_position_id = SOV_long_range_bomber_aviation
		cost = 2

		available = {
			OR = {
				NOT = {
					has_idea = cavalry_army_clique
					has_idea = cavalry_army_clique_2
					has_idea = cavalry_army_clique_3
				}
				has_idea = SOV_stavka
			}
		}
		search_filters = {
			FOCUS_FILTER_EMERGENCY
			FOCUS_FILTER_XP
			FOCUS_FILTER_AIR_XP
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_long_range_bomber_aviation
				bonus = 0.5
				uses = 1
				category = cat_transport
			}
			add_equipment_to_stockpile = {
				type = sov_transport_plane_equipment_1
				amount = 200
			}

			add_to_variable = { SOV_soviet_airforce_experience_gain_air = 0.1 }
		}
	}
	focus = {
		id = SOV_intensify_pilot_training_program
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = SOV_utilise_the_civil_air_fleet }
		x = -4
		y = 1
		relative_position_id = SOV_utilise_the_civil_air_fleet
		cost = 5
		available = {
			
		}
		search_filters = {
			FOCUS_FILTER_XP
		}
		completion_reward = {
			add_to_variable = {
				SOV_soviet_airforce_air_accidents_factor = -0.25
			}
			add_to_variable = {
				SOV_soviet_airforce_air_wing_xp_loss_when_killed_factor = -0.1
			}
			add_to_variable = {
				SOV_soviet_airforce_air_training_xp_gain_factor = 0.05
			}
			custom_effect_tooltip = SOV_intensify_pilot_training_program_tt
		}
	}
	focus = {
		id = SOV_raskovas_aviation_group
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = SOV_intensify_pilot_training_program
		}
		x = 0
		y = 1
		relative_position_id = SOV_intensify_pilot_training_program
		cost = 3
		available = {
			any_enemy_country = {
				SOV_is_major_not_original_sov = yes
			}
			has_full_control_of_state = 219
			has_tech = sov_cas_1
			has_tech = sov_strike_bomber_3
			has_tech = sov_fighter_3
		}
		search_filters = {
			FOCUS_FILTER_AIR_XP
		}
		completion_reward = {
			#custom_effect_tooltip = SOV_raskovas_aviation_group_tt
			custom_effect_tooltip = SOV_night_witches_nsb_tt
			hidden_effect = {
				if = {
					#ALT IDEOLOGY
					limit = {
						NOT = {
							has_government = communism
						}
					}
					load_oob = "SOV_night_witches_alt"
				}
				else = {
					#DEFAULT COMMUNISM
					load_oob = "SOV_night_witches"
				}
			}
		}
	}
	focus = {
		id = SOV_women_in_aviation
		icon = GFX_focus_SOV_women_in_aviation
		prerequisite = { focus = SOV_raskovas_aviation_group }
		x = 0
		y = 1
		relative_position_id = SOV_raskovas_aviation_group
		cost = 3
		available = {
			
		}
		search_filters = {
			FOCUS_FILTER_AIR_XP
		}
		completion_reward = {
			add_to_variable = {
				SOV_soviet_airforce_air_mission_xp_gain_factor = 0.05
			}
			add_to_variable = {
				SOV_soviet_airforce_air_training_xp_gain_factor = 0.05
			}
			add_to_variable = {
				SOV_soviet_airforce_air_accidents_factor = -0.25
			}
			custom_effect_tooltip = SOV_women_in_aviation_tt
			air_experience = 25
			set_rule = {
				can_generate_female_aces = yes
			}
		}
	}
	focus = {
		id = SOV_ground_support
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = SOV_utilise_the_civil_air_fleet }
		x = -2
		y = 1
		relative_position_id = SOV_utilise_the_civil_air_fleet
		cost = 4
		available = {
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_ground_support
				bonus = 0.5
				uses = 2
				category = cas_bomber
			}
			add_doctrine_cost_reduction = {
				name = SOV_ground_support
				cost_reduction = 0.99
				uses = 2
				category = cat_battlefield_support
			}
		}
	}
	focus = {
		id = SOV_modern_fighter_designs
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = SOV_utilise_the_civil_air_fleet }
		x = 0
		y = 1
		relative_position_id = SOV_utilise_the_civil_air_fleet
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = SOV_modern_fighter_designs
				bonus = 0.5
				uses = 2
				category = light_fighter
			}
			air_experience = 25
		}
	}
	focus = {
		id = SOV_long_range_aviation
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = SOV_modern_fighter_designs focus = SOV_ground_support }
		x = -1
		y = 1
		relative_position_id = SOV_modern_fighter_designs
		cost = 4
		available = {
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_long_range_aviation
				bonus = 0.5
				uses = 1
				category = cat_heavy_fighter
				category = tactical_bomber
				category = cat_strategic_bomber
			}
			add_doctrine_cost_reduction = {
				name = SOV_long_range_aviation
				cost_reduction = 0.99
				uses = 2
				category = cat_strategic_destruction
			}
		}
	}
	 ##    ##    ###    ##     ## ##    ##
	 ###   ##   ## ##   ##     ##  ##  ##
	 ####  ##  ##   ##  ##     ##   ####
	 ## ## ## ##     ## ##     ##    ##
	 ##  #### #########  ##   ##     ##
	 ##   ### ##     ##   ## ##      ##
	 ##    ## ##     ##    ###       ##
	focus = {
		id = SOV_pc_of_the_ussr_navy
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = SOV_pc_of_defence }
		x = 8
		y = 1
		relative_position_id = SOV_pc_of_defence
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		search_filters = {
			FOCUS_FILTER_NAVY_XP
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			navy_experience = 10
			if = {
				limit = {
					has_government = communism
				}
				add_tech_bonus = {
					name = SOV_the_red_fleet_dynamic_modifier
					bonus = 0.5
					uses = 2
					category = ship_modules_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = SOV_the_red_fleet_dynamic_modifier_alt
					bonus = 0.5
					uses = 2
					category = ship_modules_tech
				}
			}
		}
	}
	## Bases ##
	focus = {
		id = SOV_establish_the_northern_fleet
		icon = GFX_focus_SOV_reinforce_northern_naval_bases
		prerequisite = { focus = SOV_pc_of_the_ussr_navy }
		x = 0
		y = 1
		relative_position_id = SOV_pc_of_the_ussr_navy
		cost = 4
		ai_will_do = {
			factor = 1
		}
		available = {
			OR = {
				213 = {
					#MURMANSK
					is_owned_and_controlled_by = ROOT
				}
				214 = {
					#ARKHANGELSK
					is_owned_and_controlled_by = ROOT
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}

		completion_reward = {
			if = {
				#MURMANSK
				limit = {
					has_full_control_of_state = 213
				}
				213 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 3134
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 3134
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 3134
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
			if = {
				#ARKHANGELSK
				limit = {
					has_full_control_of_state = 214
				}
				214 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 3338
					}
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 312
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 3338
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 312
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 3338
					}
					add_building_construction = {
						type = supply_node
						level = 1
						instant_build = yes
						province = 3338
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
		}
	}
	focus = {
		id = SOV_reinforce_southern_naval_bases
		icon = GFX_focus_SOV_reinforce_southern_naval_bases
		prerequisite = { focus = SOV_establish_the_northern_fleet }
		x = 0
		y = 2
		relative_position_id = SOV_establish_the_northern_fleet
		cost = 4
		ai_will_do = {
			factor = 1
		}
		available = {
			OR = {
				192 = {
					#ODESSA
					is_owned_and_controlled_by = ROOT
				}
				137 = {
					#CRIMEA
					is_owned_and_controlled_by = ROOT
				}
				218 = {
					#ROSTOV
					is_owned_and_controlled_by = ROOT
				}
				234 = {
					#KRASNODAR
					is_owned_and_controlled_by = ROOT
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}

		completion_reward = {
			if = {
				#ODESSA - Improved naval base + AA + coastal and land fort
				limit = {
					has_full_control_of_state = 192
				}
				192 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 11670
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 11670
					}
					add_building_construction = {
						type = bunker
						level = 4
						instant_build = yes
						province = 11670
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
			if = {
				#SEVASTOPOL (CRIMEA) - Extra AA + coastal fort
				limit = {
					has_full_control_of_state = 137
				}
				137 = {
					add_building_construction = {
						type = naval_base
						level = 3
						instant_build = yes
						province = 3686
					}
					add_building_construction = {
						type = anti_air_building
						level = 7
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 6
						instant_build = yes
						province = 3686
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						instant_build = yes
						province = 3686
					}
					add_building_construction = {
						type = air_base
						level = 3
						instant_build = yes
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
					add_dynamic_modifier = {
						modifier = SOV_armored_battery_35
						scope = SOV
					}
				}
			}
			if = {
				#ROSTOV - Improved naval base + AA 
				limit = {
					has_full_control_of_state = 218
				}
				218 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 9417
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
			if = {
				#KRASNODAR - Improved naval base + AA + coastal fort
				limit = {
					has_full_control_of_state = 234
				}
				234 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 3
						instant_build = yes
						province = 719
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 719
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 719
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
		}
	}
	focus = {
		id = SOV_reinforce_western_naval_bases
		icon = GFX_focus_SOV_reinforce_western_naval_bases
		prerequisite = { focus = SOV_reinforce_southern_naval_bases }
		x = 0
		y = 2
		relative_position_id = SOV_reinforce_southern_naval_bases
		cost = 4
		ai_will_do = {
			factor = 1
		}
		available = {
			195 = {
				#LENINGRAD
				is_owned_and_controlled_by = ROOT
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			195 = {
				#LENINGRAD
				add_building_construction = {
					type = anti_air_building
					level = 6
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = {
						id = 3151
						id = 13240
					}
				}
				add_building_construction = {
					type = coastal_bunker
					level = 5
					instant_build = yes
					province = 13291
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = {
						id = 3151
						id = 6174
						id = 13240
						id = 13243
						id = 149
					}
					instant_build = yes
				}
				add_dynamic_modifier = {
					modifier = SOV_krasnaya_gorka_battery
					scope = SOV
				}
				if = {
					limit = {
						ROOT = {
							has_tech = radio_detection
						}
						radar_station < 1
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
				else = {
					custom_effect_tooltip = SOV_reinforce_western_naval_bases_radar_tt
				}
				set_state_flag = SOV_naval_bases_reinforced_flag
			}
			if = {
				limit = {
					has_full_control_of_state = 208					#LUGA
				}
				208 = {
					#LUGA
					add_building_construction = {
						type = bunker
						level = 3
						province = 9097
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11186
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 9097
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = SOV_seraya_loshad_battery
						scope = SOV
					}
				}
			}
			custom_effect_tooltip = SOV_reinforce_western_naval_bases_other_states_tt
			if = {
				#HELSINKI (UUSIMAA)
				limit = {
					has_full_control_of_state = 111
				}
				111 = {
					add_building_construction = {
						type = anti_air_building
						level = 5
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 11105
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
			if = {
				#TALLIN (HARNU)
				limit = {
					has_full_control_of_state = 13
				}
				13 = {
					add_building_construction = {
						type = naval_base
						level = 7
						instant_build = yes
						province = 3152
					}
					add_building_construction = {
						type = anti_air_building
						level = 6
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 3152
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
			if = {
				#RIGA
				limit = {
					has_full_control_of_state = 966
				}
				966 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 9340
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
			if = {
				#PALANGA (EMAITIJA)
				limit = {
					has_full_control_of_state = 189
				}
				189 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 6314
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
		}
	}
	focus = {
		id = SOV_reinforce_eastern_naval_bases
		icon = GFX_focus_SOV_reinforce_eastern_naval_bases
		prerequisite = { focus = SOV_reinforce_western_naval_bases }
		x = 0
		y = 2
		relative_position_id = SOV_reinforce_western_naval_bases
		cost = 4
		ai_will_do = {
			factor = 1
		}
		available = {
			OR = {
				408 = {
					#VLADIVOSTOK
					is_owned_and_controlled_by = ROOT
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			408 = {	#VLADIVOSTOK - Improved naval base + AA + coastal fort
				add_building_construction = {
					type = anti_air_building
					level = 6
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 4
					instant_build = yes
					province = 957
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 957
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						id = 11879
						id = 3977
						id = 6838
						id = 957
						id = 3787
						id = 12965
						id = 6684
					}	
				}
				set_state_flag = SOV_naval_bases_reinforced_flag
			}
		}
	}
	## Misc ##
	focus = {
		id = SOV_expand_the_morskaya_aviatsiya
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = SOV_pc_of_the_ussr_navy }
		x = -3
		y = 1
		relative_position_id = SOV_pc_of_the_ussr_navy
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
			FOCUS_FILTER_AIR_XP
			FOCUS_FILTER_NAVY_XP
		}
		completion_reward = {
			navy_experience = 15
			air_experience = 25
			add_tech_bonus = {
				name = SOV_expand_the_morskaya_aviatsiya
				bonus = 0.5
				uses = 2
				category = patrol_bomber
				category = naval_air
			}
		}
	}
	focus = {
		id = SOV_submarine_warfare
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = SOV_expand_the_morskaya_aviatsiya }
		x = 0
		y = 2
		relative_position_id = SOV_expand_the_morskaya_aviatsiya
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
			FOCUS_FILTER_NAVY_XP
		}
		completion_reward = {
			hidden_effect = {
				if = {
					#DEFAULT COMMIE
					limit = {
						has_government = communism
					}
					#Swap dynamic modifier to change dynamic modifier's custom tooltip
					remove_dynamic_modifier = {
						modifier = SOV_the_red_fleet_dynamic_modifier
					}
					add_dynamic_modifier = {
						modifier = SOV_the_red_fleet_submarine_1_dynamic_modifier
					}
				}
				else = {
					#ALT IDEOLOGY
					#Swap dynamic modifier to change dynamic modifier's custom tooltip
					remove_dynamic_modifier = {
						modifier = SOV_the_red_fleet_dynamic_modifier_alt
					}
					add_dynamic_modifier = {
						modifier = SOV_the_red_fleet_submarine_1_dynamic_modifier_alt
					}
				}
				#This handles the equipment bonus that's not supported by dynamic modifiers
				add_ideas = SOV_red_fleet_submarine_bonus_1
			}
			custom_effect_tooltip = SOV_submarine_warfare_ns_tt
			navy_experience = 25
			add_tech_bonus = {
				name = SOV_submarine_warfare
				bonus = 0.5
				uses = 2
				category = ss_tech
			}
		}
	}
	focus = {
		id = SOV_long_range_raiders
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = SOV_submarine_warfare }
		x = 0
		y = 2
		relative_position_id = SOV_submarine_warfare
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
			FOCUS_FILTER_NAVY_XP
		}
		completion_reward = {
			hidden_effect = {
				if = {
					#DEFAULT COMMIE
					limit = {
						has_government = communism
					}
					#Swap dynamic modifier to change dynamic modifier's custom tooltip
					remove_dynamic_modifier = {
						modifier = SOV_the_red_fleet_submarine_1_dynamic_modifier
					}
					add_dynamic_modifier = {
						modifier = SOV_the_red_fleet_submarine_2_dynamic_modifier
					}
				}
				else = {
					#ALT IDEOLOGY
					#Swap dynamic modifier to change dynamic modifier's custom tooltip
					remove_dynamic_modifier = {
						modifier = SOV_the_red_fleet_submarine_1_dynamic_modifier_alt
					}
					add_dynamic_modifier = {
						modifier = SOV_the_red_fleet_submarine_2_dynamic_modifier_alt
					}
				}
				#Hidden National Spirits handle the equipment bonus that's not supported by dynamic modifiers
				swap_ideas = {
					remove_idea = SOV_red_fleet_submarine_bonus_1
					add_idea = SOV_red_fleet_submarine_bonus_2
				}
			}
			custom_effect_tooltip = SOV_submarine_warfare_ns_tt
			navy_experience = 25
			add_tech_bonus = {
				name = SOV_long_range_raiders
				ahead_reduction = 2
				uses = 1
				category = ss_tech
			}
			###########
			### MTG ###
			###########
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = sov_cruiser_submarine_hull_4
						creator = "SOV"
					}
					name = "K-1"
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = sov_cruiser_submarine_hull_4
						creator = "SOV"
					}
					name = "K-2"
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
			}
			##############
			### NO MTG ###
			##############
			else = {
				if = {
					#Submarine 3 if available
					limit = {
						has_tech = improved_submarine
					}
					add_equipment_production = {
						equipment = {
							type = submarine_3
							creator = "SOV"
							version_name = "K Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = submarine_3
							creator = "SOV"
							version_name = "K Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
				else = {
					#Submarine 2 as default
					add_equipment_production = {
						equipment = {
							type = submarine_2
							creator = "SOV"
							version_name = "K Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = submarine_2
							creator = "SOV"
							version_name = "K Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
			}
		}
	}
	## Big Fleet ##
	focus = {
		id = SOV_purchase_foreign_expertise
		icon = GFX_goal_generic_license_ships
		prerequisite = { focus = SOV_pc_of_the_ussr_navy }
		relative_position_id = SOV_pc_of_the_ussr_navy
		x = 3
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = SOV_purchase_foreign_expertise
				bonus = 0.5
				category = naval_equipment
			}
		}
	}
	focus = {
		id = SOV_big_fleet_program
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = SOV_purchase_foreign_expertise }
		relative_position_id = SOV_purchase_foreign_expertise
		x = 0
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 25

			#Start Greatest Navy Mission
		}
	}
	focus = {
		id = SOV_new_shipyards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = SOV_big_fleet_program }
		x = 0
		y = 1
		relative_position_id = SOV_big_fleet_program
		cost = 4
		available = {
			has_completed_focus = SOV_start_the_third_five_year_plan
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_new_shipyards_tt
			every_owned_state = {
				limit = {
					has_state_flag = SOV_naval_bases_reinforced_flag
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				if = {
					limit = {
						state = 195						#LENINGRAD - Gets 2 dockyards instead of 1
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
				if = {
					limit = {
						state = 214						#Arkhangelsk - Gets 4 dockyards instead of 1
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = dockyard
						level = 4
						instant_build = yes
					}
				}
				if = {
					limit = {
						state = 197						#Mykolayiv - Gets 4 dockyards instead of 1
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = dockyard
						level = 4
						instant_build = yes
					}
				}
				if = {
					limit = {
						state = 408						#Vladivostok - Gets 4 dockyards instead of 1
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = dockyard
						level = 4
						instant_build = yes
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SOV_modern_battleships
		icon = GFX_goal_generic_ships_super_battleships
		prerequisite = { focus = SOV_new_shipyards }
		relative_position_id = SOV_new_shipyards
		x = -2
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
			has_tech = basic_fire_control_system
			has_tech = decimetric_radar
			has_tech = improved_airplane_launcher
		}

		bypass = {
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = SOV_modern_battleships
				bonus = 0.5
				uses = 1
				category = bb_tech
			}
			#Sovietsky Soyuz Super-Heavy Battleship
			if = {
				limit = {
					NOT = {
						has_dlc = "Man the Guns"
					}
				}
				add_tech_bonus = {
					name = SOV_modern_battleships
					bonus = 3
					uses = 1
					category = shbb_tech
				}
			}
			else = {
				#Grant SHBB Tech and required battery modules (not fire control)
				if = {
					limit = {
						NOT = {
							has_tech = sov_battleship_2
						}
					}
					hidden_effect = {
						set_technology = {
							sov_battleship_2 = 1
						}
					}
					custom_effect_tooltip = SOV_an_oceangoing_navy_shbb_tt
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = sov_battleship_hull_2
						creator = "SOV"
						version_name = "Sovetsky Soyuz Class"
					}
					requested_factories = 1
					progress = 0.25
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = sov_battleship_hull_2
						creator = "SOV"
						version_name = "Sovetsky Soyuz Class"
					}
					requested_factories = 1
					progress = 0.1
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = sov_battleship_hull_2
						creator = "SOV"
						version_name = "Sovetsky Soyuz Class"
					}
					requested_factories = 1
					progress = 0.1
					amount = 1
				}
			}
		}
	}
	focus = {
		id = SOV_modern_battlecruisers
		icon = GFX_goal_generic_ships_battleships
		prerequisite = { focus = SOV_new_shipyards }
		relative_position_id = SOV_new_shipyards
		x = 0
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 15
			#Kronshtadt Class Battlecruiser
			if = {
				limit = {
					NOT = {
						has_dlc = "Man the Guns"
					}
				}
				add_tech_bonus = {
					name = SOV_modern_battlecruisers
					bonus = 3
					uses = 1
					category = bc_tech
				}
			}
			else = {
				if = {
					limit = {
						NOT = {
							has_tech = sov_battle_cruiser_1
						}
					}
					set_technology = {
						sov_battle_cruiser_1 = 1
					}
				}
				add_tech_bonus = {
					name = SOV_modern_battlecruisers
					bonus = 3
					uses = 1
					category = bc_tech
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = sov_battle_cruiser_hull_1
						creator = "SOV"
						version_name = "Kronshtadt Class"
					}
					requested_factories = 1
					progress = 0.2
					amount = 1
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = sov_battle_cruiser_hull_1
						creator = "SOV"
						version_name = "Kronshtadt Class"
					}
					requested_factories = 1
					progress = 0.1
					amount = 1
				}
			}
		}
	}
	focus = {
		id = SOV_modern_escorts
		icon = GFX_goal_generic_ships_destroyer
		prerequisite = { focus = SOV_new_shipyards }
		relative_position_id = SOV_new_shipyards
		x = 2
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
		}

		bypass = {
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = SOV_modern_battlecruisers
				bonus = 0.5
				uses = 3
				category = dd_tech
				category = cl_tech
			}
		}
	}
	focus = {
		id = SOV_an_oceangoing_navy
		icon = GFX_goal_generic_fleet_escorts
		prerequisite = { focus = SOV_modern_battleships }
		prerequisite = { focus = SOV_modern_battlecruisers }
		prerequisite = { focus = SOV_modern_escorts }
		x = 0
		y = 1
		relative_position_id = SOV_modern_battlecruisers
		cost = 3
		available = {
		}
		search_filters = {
			FOCUS_FILTER_NAVY_XP
		}
		completion_reward = {
			navy_experience = 25
			add_doctrine_cost_reduction = {
				cost_reduction = 0.99
				name = SOV_an_oceangoing_navy
				uses = 3
				category = cat_fleet_in_being
			}
		}
	}
	## Wartime ##
	focus = {
		id = SOV_raise_naval_infantry
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = SOV_form_the_stavka }
		relative_position_id = SOV_reinforce_eastern_naval_bases
		mutually_exclusive = { focus = SOV_offensive_maritime_strategy }
		x = -1
		y = 1

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		search_filters = { FOCUS_FILTER_EMERGENCY }

		completion_reward = {
			hidden_effect = {
				division_template = {
					name = "Diviziya Morskoi Pekhoty"
					division_names_group = SOV_MAR_01
					regiments = {
						marine = { x = 0 y = 0 }
						marine = { x = 0 y = 1 }
						marine = { x = 0 y = 2 }

						marine = { x = 1 y = 0 }
						marine = { x = 1 y = 1 }
						marine = { x = 1 y = 2 }

						marine = { x = 2 y = 0 }
						marine = { x = 2 y = 1 }
						marine = { x = 2 y = 2 }

						artillery_brigade = { x = 3 y = 0 }
						artillery_brigade = { x = 3 y = 1 }
						artillery_brigade = { x = 3 y = 2 }
					}
					support = {
						normal_engineer = { x = 0 y = 0 }
						horse_logistics_company = { x = 0 y = 1 }

						recon = { x = 1 y = 0 }
						horse_field_hospital = { x = 1 y = 1 }
					}
				}
			}
			random_state = {	#Sevastopol: 3
				prioritize = { 173 234 }
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
			}
			random_state = {	#Novorossiysk: 3
				prioritize = { 234 }
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
			}
			random_state = {	#Vladivostok: 2
				prioritize = { 408 }
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
			}
			random_state = {	#Leningrad: 7
				prioritize = { 195 264 214 }
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
				create_unit = {
					division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.3 start_equipment_factor = 0.2"
					owner = ROOT
				}
			}

			add_to_variable = { SOV_fyp_industrial_capacity_dockyard = -0.5 }
			add_to_variable = { SOV_red_fleet_navy_refit_ic_cost = 0.1 }
			add_to_variable = { SOV_red_fleet_repair_speed_factor = -0.1 }
			add_to_variable = { SOV_red_fleet_naval_coordination = -0.5 }
		}
	}
	focus = {
		id = SOV_offensive_maritime_strategy
		icon = GFX_goal_generic_ships_heavy_cruiser
		prerequisite = { focus = SOV_form_the_stavka }
		relative_position_id = SOV_reinforce_eastern_naval_bases
		mutually_exclusive = { focus = SOV_raise_naval_infantry }
		x = 1
		y = 1

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}

		search_filters = { FOCUS_FILTER_EMERGENCY FOCUS_FILTER_NAVY_XP }

		completion_reward = {
			#Reduce Naval Reform Cost
			hidden_effect = {
				if = {
					#DEFAULT COMMIE
					limit = {
						has_government = communism
					}
					#Swap dynamic modifier to change dynamic modifier's custom tooltip
					remove_dynamic_modifier = {
						modifier = SOV_the_red_fleet_surface_1_dynamic_modifier
					}
					add_dynamic_modifier = {
						modifier = SOV_the_red_fleet_surface_2_dynamic_modifier
					}
				}
				else = {
					#ALT IDEOLOGY
					#Swap dynamic modifier to change dynamic modifier's custom tooltip
					remove_dynamic_modifier = {
						modifier = SOV_the_red_fleet_surface_1_dynamic_modifier_alt
					}
					add_dynamic_modifier = {
						modifier = SOV_the_red_fleet_surface_2_dynamic_modifier_alt
					}
				}
				#Hidden National Spirits handle the equipment bonus that's not supported by dynamic modifiers
				swap_ideas = {
					remove_idea = SOV_red_fleet_surface_bonus_1
					add_idea = SOV_red_fleet_surface_bonus_2
				}
			}
			custom_effect_tooltip = SOV_offensive_maritime_strategy_ns_tt
			navy_experience = 25
			add_tech_bonus = {
				name = SOV_offensive_maritime_strategy
				bonus = 0.5
				uses = 3
				category = marine_tech
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.99
				name = SOV_an_oceangoing_navy
				uses = 3
				category = naval_doctrine
			}
		}
	}
	focus = {
		id = SOV_reorganize_the_navy
		icon = GFX_goal_HUN_the_hungarian_naval_forces
		prerequisite = {
			focus = SOV_offensive_maritime_strategy
			focus = SOV_raise_naval_infantry
		}
		relative_position_id = SOV_offensive_maritime_strategy
		x = -1
		y = 1

		cost = 8

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war = no
		}

		search_filters = {  }

		completion_reward = {
			if = {	#fix negatives from naval infantry
				limit = { has_completed_focus = SOV_raise_naval_infantry }
				add_to_variable = { SOV_fyp_industrial_capacity_dockyard = 0.5 }
				add_to_variable = { SOV_red_fleet_navy_refit_ic_cost = -0.1 }
				add_to_variable = { SOV_red_fleet_repair_speed_factor = 0.1 }
				add_to_variable = { SOV_red_fleet_naval_coordination = 0.5 }
			}
		}
	}
	####################################################################################################################
	#################################################### Politics ######################################################
	####################################################################################################################

	########  #######  ########  ######## ####  ######   ##    ##     ######   #######  ##     ## ##     ## #### ########
	##       ##     ## ##     ## ##        ##  ##    ##  ###   ##    ##    ## ##     ## ###   ### ###   ###  ##  ##
	##       ##     ## ##     ## ##        ##  ##        ####  ##    ##       ##     ## #### #### #### ####  ##  ##
	######   ##     ## ########  ######    ##  ##   #### ## ## ##    ##       ##     ## ## ### ## ## ### ##  ##  ######
	##       ##     ## ##   ##   ##        ##  ##    ##  ##  ####    ##       ##     ## ##     ## ##     ##  ##  ##
	##       ##     ## ##    ##  ##        ##  ##    ##  ##   ###    ##    ## ##     ## ##     ## ##     ##  ##  ##
	##        #######  ##     ## ######## ####  ######   ##    ##     ######   #######  ##     ## ##     ## #### ########
	focus = {
		id = SOV_policy_of_collective_security
		icon = GFX_goal_anschluss
		x = 17
		y = 0
		relative_position_id = SOV_pc_of_defence
		cost = 2
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}

		completion_reward = {
			add_political_power = 25
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_maksim_litvinov
			activate_advisor = SOV_maksim_litvinov
		}
	}
	### Alt-History ###
	focus = {
		id = SOV_anti_capitalist_policies
		icon = GFX_focus_spr_class_war
		prerequisite = { focus = SOV_policy_of_collective_security }
		mutually_exclusive = { focus = SOV_anti_fascist_policies }
		x = 2
		y = 1
		relative_position_id = SOV_policy_of_collective_security
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			NOT = {
				has_government = democratic
			}
		}
		search_filters = {
			FOCUS_FILTER_PROPAGANDA
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			every_other_country = {
				limit = {
					is_major = yes
					OR = {
						has_government = fascism
						has_government = communism
					}
					NOT = {
						has_war_with = ROOT
					}
				}
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_anti_capitalist_policies_good
				}
			}
			every_other_country = {
				limit = {
					is_major = yes
					has_government = democratic
				}
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_anti_capitalist_policies_bad
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				custom_effect_tooltip = unlock_propaganda_campaign_tt
				#unlock_decision_tooltip = SOV_propaganda_anti_capitalism
				custom_effect_tooltip = propaganda_campaign_requirement_tt
			}
		}
	}
	focus = {
		id = SOV_liberation_of_the_european_proletariat
		icon = GFX_focus_spr_torchbearers_of_tomorrow
		prerequisite = { focus = SOV_anti_capitalist_policies
		}
		x = 0
		y = 1
		relative_position_id = SOV_anti_capitalist_policies
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			any_country = {
				OR = {
					tag = ENG
					tag = FRA
					tag = GER
					tag = ITA
					tag = USA
				}
				has_government = democratic
				is_major = yes
				is_subject = no
			}
		}
		search_filters = {
			
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_liberation_of_the_european_proletariat_ns
				days = 365
			}
			if = {
				limit = {
					ENG = {
						has_government = democratic
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_ENG
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ENG
				}
			}
			if = {
				limit = {
					FRA = {
						has_government = democratic
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_FRA
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = FRA
				}
			}
			if = {
				limit = {
					GER = {
						has_government = democratic
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_GER
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GER
				}
			}
			if = {
				limit = {
					ITA = {
						has_government = democratic
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_ITA
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ITA
				}
			}
		}
	}
	### Western Diplo ###
	focus = {
		id = SOV_anti_fascist_policies
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = SOV_policy_of_collective_security }
		mutually_exclusive = { focus = SOV_anti_capitalist_policies }
		x = -2
		y = 1
		relative_position_id = SOV_policy_of_collective_security
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			every_other_country = {
				limit = {
					is_major = yes
					OR = {
						has_government = democratic
						has_government = communism
					}
					NOT = {
						has_war_with = ROOT
					}
				}
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_anti_fascist_policies_good
				}
			}
			every_other_country = {
				limit = {
					is_major = yes
					has_government = fascism
				}
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_anti_fascist_policies_bad
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				custom_effect_tooltip = unlock_propaganda_campaign_tt
				#unlock_decision_tooltip = SOV_propaganda_anti_fascism
				custom_effect_tooltip = propaganda_campaign_requirement_tt
			}
		}
	}
	focus = {
		id = SOV_seek_a_defense_pact_with_the_allies
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = SOV_anti_fascist_policies
		}
		x = 0
		y = 1
		relative_position_id = SOV_anti_fascist_policies
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		bypass = {
			OR = {
				NOT = {
					country_exists = FRA
				}
				FRA = {
					has_capitulated = yes
				}
			}
			NOT = {
				any_other_country = {
					is_faction_leader = yes
					SOV_is_valid_collective_security_target = yes
				}
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			if = {
				#FRA is default target
				limit = {
					country_exists = FRA
					FRA = {
						SOV_is_valid_collective_security_target = yes
					}
				}
				set_variable = {
					SOV_collective_security_target = FRA
				}
				FRA = {
					country_event = {
						id = NSB_soviet_policies_of_collective_security.1
						hours = 8
						random_hours = 4
					}
				}
			}
			else_if = {
				#ENG is first fallback target
				limit = {
					country_exists = ENG
					is_faction_leader = yes
					ENG = {
						SOV_is_valid_collective_security_target = yes
					}
				}
				set_variable = {
					SOV_collective_security_target = FRA
				}
				ENG = {
					country_event = {
						id = NSB_soviet_policies_of_collective_security.1
						hours = 8
						random_hours = 4
					}
				}
			}
			else_if = {
				#Non-Fascist European faction leader is next
				limit = {
					any_country = {
						is_faction_leader = yes
						capital_scope = {
							is_on_continent = europe
						}
						SOV_is_valid_collective_security_target = yes
					}
				}
				random_other_country = {
					limit = {
						is_faction_leader = yes
						capital_scope = {
							is_on_continent = europe
						}
						SOV_is_valid_collective_security_target = yes
					}
					ROOT = {
						set_variable = {
							SOV_collective_security_target = PREV
						}
					}
					country_event = {
						id = NSB_soviet_policies_of_collective_security.1
						hours = 8
						random_hours = 4
					}
				}
			}
			else_if = {
				#Alright I dont really care anymore, pick whoever is left alive
				limit = {
					any_other_country = {
						is_faction_leader = yes
						SOV_is_valid_collective_security_target = yes
					}
				}
				random_other_country = {
					limit = {
						is_faction_leader = yes
						SOV_is_valid_collective_security_target = yes
					}
					ROOT = {
						set_variable = {
							SOV_collective_security_target = PREV
						}
					}
					country_event = {
						id = NSB_soviet_policies_of_collective_security.1
						hours = 8
						random_hours = 4
					}
				}
			}
			custom_effect_tooltip = SOV_seek_a_defense_pact_with_the_allies_event_effects_tt
			if = {
				limit = {
					country_exists = POL
					POL = {
						SOV_is_valid_collective_security_target = yes
					}
					var:SOV_collective_security_target = {
						capital_scope = {
							is_on_continent = europe
						}
					}
				}
				custom_effect_tooltip = SOV_seek_a_defense_pact_with_the_allies_poland_tt
			}
		}
	}

	focus = {
		id = SOV_send_military_advisors_to_spain
		icon = GFX_focus_intervention_spain_republic
		prerequisite = { focus = SOV_anti_fascist_policies focus = SOV_anti_capitalist_policies }
		x = 2
		y = 1
		relative_position_id = SOV_anti_fascist_policies
		cost = 2
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			has_civil_war = no
			OR = {
				has_completed_focus = SOV_the_centre
				has_completed_focus = SOV_the_left_opposition
				has_completed_focus = SOV_the_right_opposition
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPR_scw_in_progress = yes
				if = {
					limit = {
						NOT = {
							has_global_flag = spanish_civil_war
						}
					}
					custom_trigger_tooltip = {
						tooltip = POR_spr_tooltip_country_exist_tt
						country_exists = SPR
					}
					custom_trigger_tooltip = {
						tooltip = POR_spr_tooltip_at_peace_tt
						NOT = {
							has_war_with = SPR
						}
					}
				}
				else = {
					if = {
						limit = {
							has_completed_focus = SOV_covert_support_for_spanish_poum
						}
						country_exists = SPC
						NOT = {
							has_war_with = SPC
						}
					}
					else = {
						country_exists = SPD
						NOT = {
							has_war_with = SPD
						}
					}
				}
			}
			else = {
				any_other_country = {
					original_tag = SPR
					has_civil_war = yes
					NOT = {
						has_war_with = ROOT
					}
					OR = {
						has_government = democratic
						has_government = communism
					}
				}
			}
			has_government = communism
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_AIR_XP
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_military_advisors_in_spain
				days = 1095
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
					has_completed_focus = SOV_covert_support_for_spanish_poum
					has_completed_focus = SOV_coup_detat
					has_global_flag = SPR_anarchist_uprising_flag
					country_exists = SPC
					SPC = {
						has_completed_focus = SPR_the_anti_fascist_workers_revolution
					}
				}
				SPC = {
					hidden_effect = {
						country_event = {
							id = NSB_soviet_foreign_politics_events.20
							hours = 2
							random_hours = 1
						}
					}
					effect_tooltip = {
						add_timed_idea = {
							idea = SOV_soviet_advisors_spr
							days = 1095
						}
					}
				}
			}
			else_if = {
				limit = {
					has_dlc = "La Resistance"
					country_exists = SPD
				}
				SPD = {
					hidden_effect = {
						country_event = {
							id = NSB_soviet_foreign_politics_events.20
							hours = 2
							random_hours = 1
						}
					}
					effect_tooltip = {
						add_timed_idea = {
							idea = SOV_soviet_advisors_spr
							days = 1095
						}
					}
				}
			}
			else_if = {
				limit = {
					has_dlc = "La Resistance"
					NOT = {
						country_exists = SPD
					}
				}
				custom_effect_tooltip = SOV_aid_republican_spain_tt
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_soviet_advisors_spr
						days = 1095
					}
				}
			}
			else = {
				random_country = {
					limit = {
						original_tag = SPR
						has_civil_war = yes
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
					hidden_effect = {
						country_event = {
							id = NSB_soviet_foreign_politics_events.20
							hours = 2
							random_hours = 1
						}
					}
					effect_tooltip = {
						add_timed_idea = {
							idea = SOV_soviet_advisors_spr
							days = 1095
						}
					}
				}
			}
			# A Spanish General will join the USSR if his side loses the SCW
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = SOV_send_military_advisors_to_spain_generals_tt
				set_country_flag = SOV_spanish_refugee_generals_welcome_flag
			}
		}
	}
	focus = {
		id = SOV_policy_of_individual_security
		icon = GFX_goal_generic_defence
		prerequisite = { focus = SOV_send_military_advisors_to_spain }
		x = 0
		y = 1
		relative_position_id = SOV_send_military_advisors_to_spain
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			OR = {
				has_completed_focus = SOV_anti_capitalist_policies
				AND = {
					has_completed_focus = SOV_anti_fascist_policies
					GER = {
						has_country_flag = sudetenland_acquired
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 35
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_vyacheslav_molotov
			activate_advisor = SOV_vyacheslav_molotov
			if = {
				limit = { has_completed_focus = SOV_anti_fascist_policies }
				every_other_country = {
					limit = {
						is_major = yes
						OR = {
							has_government = democratic
							has_government = communism
						}
						NOT = {
							has_war_with = ROOT
						}
					}
					remove_opinion_modifier = {
						target = SOV
						modifier = SOV_anti_fascist_policies_good
					}
				}
				every_other_country = {
					limit = {
						is_major = yes
						has_government = fascism
					}
					remove_opinion_modifier = {
						target = SOV
						modifier = SOV_anti_fascist_policies_bad
					}
				}
			}
		}
	}
	focus = {
		id = SOV_mol_rib_pact
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = SOV_policy_of_individual_security }
		x = 0
		y = 1
		relative_position_id = SOV_policy_of_individual_security
		cost = 1
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			country_exists = GER
			GER = {
				SOV_is_valid_subject = yes
			}
			NOT = {
				has_war_with = GER
			}
			is_subject = no
			POL = {
				has_capitulated = yes
			}
		}
		bypass = {
			OR = {
				NOT = {
					country_exists = GER
				}
				date > 1940.3.1
			}
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
			FOCUS_FILTER_RESEARCH
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			GER = {
				country_event = {
					id = NSB_soviet_soviet_german_trade_agreement.1
					hours = 1
				}
			}
			custom_effect_tooltip = if_they_accept			#This will also make GER more likely to take Molotov-Ribbentrop pact and less to take Anti-Soviet Pact
			effect_tooltip = {
				if = {
					limit = {
						has_dlc = "Man the Guns"
					}
					set_technology = {
						ger_heavy_cruiser_2 = 1
					}
					# CA: Ltzow -> Petropavlovsk
					add_equipment_production = {
						equipment = {
							type = ger_heavy_cruiser_hull_2
							creator = "SOV"
						}
						name = "Petropavlovsk"
						requested_factories = 1
						progress = 0.7
						amount = 1
					}
					if = {
						#Default name
						limit = {
							has_government = communism
						}
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
							bonus = 0.5
							uses = 3
							category = ship_modules_tech
							category = bb_tech
							category = dd_tech
						}
					}
					else = {
						#Alt name
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
							bonus = 0.5
							uses = 2
							category = ship_modules_tech
							category = bb_tech
							category = dd_tech
						}
					}
				}
				else = {
					#No MTG
					if = {
						limit = {
							NOT = {
								has_tech = basic_heavy_cruiser
							}
						}
						set_technology = {
							basic_heavy_cruiser = 1
						}
					}
					create_equipment_variant = {
						name = "Hipper Class"
						type = heavy_cruiser_2
						parent_version = 0
						upgrades = {
							ship_reliability_upgrade = 1
							ship_engine_upgrade = 1
							ship_armor_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = heavy_cruiser_2
							creator = "SOV"
						}
						requested_factories = 1
						progress = 0.95
						amount = 1
					}
					if = {
						#Default name
						limit = {
							has_government = communism
						}
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
							bonus = 0.5
							uses = 2
							category = ca_tech
							category = bb_tech
							category = dd_tech
						}
					}
					else = {
						#Alt name
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
							bonus = 0.5
							uses = 2
							category = ca_tech
							category = bb_tech
							category = dd_tech
						}
					}
				}
				if = {
					#Default name
					limit = {
						has_government = communism
					}
					add_tech_bonus = {
						name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
						bonus = 0.5
						uses = 1
						category = air_equipment
					}
					add_tech_bonus = {
						name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
						bonus = 0.5
						uses = 2
						category = industry
					}
					add_tech_bonus = {
						name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
						bonus = 0.5
						uses = 1
						category = synth_resources
					}
					add_tech_bonus = {
						name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
						bonus = 0.5
						uses = 1
						category = armor
					}
				}
				else = {
					#Alt name
					add_tech_bonus = {
						name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
						bonus = 0.5
						uses = 2
						category = air_equipment
					}
					add_tech_bonus = {
						name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
						bonus = 0.5
						uses = 2
						category = industry
					}
					add_tech_bonus = {
						name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
						bonus = 0.5
						uses = 1
						category = artillery
					}
					add_tech_bonus = {
						name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
						bonus = 0.5
						uses = 1
						category = armor
					}
				}
				SOV = {
					add_timed_idea = {
						idea = GER_soviet_german_trade_agreement
						days = 845
					}
					#Should actually last til end of 41
					economy_fatigue_level_down_4 = yes
				}
				#Effects to Germans
				GER = {
					add_timed_idea = {
						idea = SOV_soviet_german_trade_agreement
						days = 845
					}
					#Should actually last til end of 41
					capital_scope = {
						add_dynamic_modifier = {
							modifier = SOV_soviet_imports
						}
					}
					economy_fatigue_level_down_2 = yes
				}
			}
		}
	}
	focus = {
		id = SOV_claims_on_poland
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_mol_rib_pact }
		x = -2
		y = 0
		relative_position_id = SOV_mol_rib_pact
		cost = 2
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_civil_war = yes
					date < 1939.7.1
				}
			}
			modifier = {
				factor = 200
				GER = {
					has_government = democratic
				}
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			is_subject = no
		}
		bypass = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact
				NOT = {
					country_exists = POL
				}
				has_non_aggression_pact_with = POL
				has_guaranteed = POL
				AND = {
					OR = {
						owns_state = 91
						91 = {
							is_claimed_by = ROOT
						}
					}
					OR = {
						owns_state = 93
						93 = {
							is_claimed_by = ROOT
						}
					}
					OR = {
						owns_state = 94
						94 = {
							is_claimed_by = ROOT
						}
					}
					OR = {
						owns_state = 95
						95 = {
							is_claimed_by = ROOT
						}
					}
					OR = {
						owns_state = 96
						96 = {
							is_claimed_by = ROOT
						}
					}
					OR = {
						owns_state = 89
						89 = {
							is_claimed_by = ROOT
						}
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		completion_reward = {
			# REVISIT Covers Polish border, may want to add/remove some states
			add_state_claim = 96
			add_state_claim = 95
			add_state_claim = 94
			add_state_claim = 93
			add_state_claim = 91
			add_state_claim = 89
			add_state_claim = 784
			add_named_threat = {
				threat = 3
				name = SOV_claims_on_poland
			}
			every_other_country = {
				limit = {
					OR = {
						owns_state = 96
						owns_state = 95
						owns_state = 94
						owns_state = 93
						owns_state = 91
						owns_state = 89
						owns_state = 784
					}
				}
				add_opinion_modifier = {
					target = SOV
					modifier = claimed_eastern_poland
				}
			}
			if = {
				limit = {
					POL = {
						96 = {
							is_owned_and_controlled_by = POL
						}
						95 = {
							is_owned_and_controlled_by = POL
						}
						94 = {
							is_owned_and_controlled_by = POL
						}
						93 = {
							is_owned_and_controlled_by = POL
						}
						91 = {
							is_owned_and_controlled_by = POL
						}
						89 = {
							is_owned_and_controlled_by = POL
						}
						784 = {
							is_owned_and_controlled_by = POL
						}
					}
				}
				POL = {
					country_event = {
						id = poland.2
					}
					custom_effect_tooltip = needs_approval
				}
			}
			else_if = {
				limit = {
					GER = {
						96 = {
							is_controlled_by = GER
						}
						95 = {
							is_controlled_by = GER
						}
						94 = {
							is_controlled_by = GER
						}
						93 = {
							is_controlled_by = GER
						}
						91 = {
							is_controlled_by = GER
						}
						89 = {
							is_controlled_by = GER
						}
						784 = {
							is_controlled_by = GER
						}
					}
				}
				GER = {
					country_event = {
						id = ger_armor.853
					}
					custom_effect_tooltip = needs_approval
				}
			}
			effect_tooltip = {
				SOV = {
					if = {
						limit = {
							POL = {
								controls_state = 96
							}
						}
						transfer_state = 96
					}
					if = {
						limit = {
							POL = {
								controls_state = 95
							}
						}
						transfer_state = 95
					}
					if = {
						limit = {
							POL = {
								controls_state = 94
							}
						}
						transfer_state = 94
					}
					if = {
						limit = {
							POL = {
								controls_state = 93
							}
						}
						transfer_state = 93
					}
					if = {
						limit = {
							POL = {
								controls_state = 91
							}
						}
						transfer_state = 91
					}
					if = {
						limit = {
							POL = {
								controls_state = 89
							}
						}
						transfer_state = 89
					}
					if = {
						limit = {
							POL = {
								controls_state = 89
							}
						}
						transfer_state = 784
					}
					if = {
						limit = {
							GER = {
								controls_state = 96
							}
						}
						transfer_state = 96
					}
					if = {
						limit = {
							GER = {
								controls_state = 95
							}
						}
						transfer_state = 95
					}
					if = {
						limit = {
							GER = {
								controls_state = 94
							}
						}
						transfer_state = 94
					}
					if = {
						limit = {
							GER = {
								controls_state = 93
							}
						}
						transfer_state = 93
					}
					if = {
						limit = {
							GER = {
								controls_state = 91
							}
						}
						transfer_state = 91
					}
					if = {
						limit = {
							GER = {
								controls_state = 89
							}
						}
						transfer_state = 89
					}
					if = {
						limit = {
							GER = {
								controls_state = 784
							}
						}
						transfer_state = 784
					}
				}
			}
		}
	}
	focus = {
		id = SOV_claim_on_bessarabia
		icon = GFX_focus_generic_attack_romania
		prerequisite = { focus = SOV_mol_rib_pact }
		x = -2
		y = 1
		relative_position_id = SOV_mol_rib_pact
		cost = 2
		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 0
				OR = {
					date < 1939.1.1
					has_civil_war = yes
				}
			}
			modifier = {
				factor = 200
				GER = {
					has_government = democratic
				}
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			is_subject = no
		}
		bypass = {
			has_idea = SOV_molotov_ribbentrop_pact
			OR = {
				owns_state = 78				#Bessarabia
				78 = {
					is_claimed_by = ROOT
				}
				78 = {
					owner = {
						is_in_faction_with = ROOT
					}
				}
			}
			OR = {
				owns_state = 80				#Bucovina
				80 = {
					is_claimed_by = ROOT
				}
				80 = {
					owner = {
						is_in_faction_with = ROOT
					}
				}
			}
			OR = {
				owns_state = 766				#Southern Bessarabia
				766 = {
					is_claimed_by = ROOT
				}
				766 = {
					owner = {
						is_in_faction_with = ROOT
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		completion_reward = {
			#This is now generic and will target any potential (multiple) controllers for these states.
			if = {
				limit = {
					78 = {
						OWNER = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_claim = 78
			}
			if = {
				limit = {
					766 = {
						OWNER = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_claim = 766
			}
			if = {
				limit = {
					80 = {
						OWNER = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_claim = 80
			}
			unlock_decision_tooltip = SOV_demand_bessarabia
			add_named_threat = {
				threat = 1
				name = SOV_claim_on_bessarabia
			}
			random_other_country = {
				limit = {
					owns_state = 78
				}
				add_opinion_modifier = {
					target = SOV
					modifier = claimed_bessarabia
				}
				set_country_flag = SOV_added_claimed_bessarabia
			}
			unlock_decision_tooltip = SOV_demand_bessarabia
		}
	}
	focus = {
		id = SOV_claims_in_baltic
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_mol_rib_pact
		}
		x = 2
		y = 0
		relative_position_id = SOV_mol_rib_pact
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_civil_war = yes
					date < 1939.1.1
				}
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			is_subject = no
		}
		bypass = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact
				all_state = {
					OR = {
						is_core_of = EST
						is_core_of = LAT
						is_core_of = LIT
					}
					NOT = {
						state = 188
					}
					is_claimed_by = ROOT
				}
				all_state = {
					OR = {
						is_core_of = EST
						is_core_of = LAT
						is_core_of = LIT
					}
					NOT = {
						state = 188
					}
					is_controlled_by = ROOT
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		completion_reward = {
			# Estonia
			custom_effect_tooltip = SOV_estonian_claimed_states_tt
			hidden_effect = {
				EST = {
					every_owned_state = {
						limit = {
							is_core_of = PREV
						}
						ROOT = {
							add_state_claim = PREV
						}
					}
				}
			}
			# Latvia
			custom_effect_tooltip = SOV_latvian_claimed_states_tt
			hidden_effect = {
				LAT = {
					every_owned_state = {
						limit = {
							is_core_of = PREV
						}
						ROOT = {
							add_state_claim = PREV
						}
					}
				}
			}
			# Lithuania
			custom_effect_tooltip = SOV_lithuanian_claimed_states_tt
			hidden_effect = {
				LIT = {
					every_owned_state = {
						limit = {
							is_core_of = PREV
						}
						ROOT = {
							add_state_claim = PREV
						}
					}
				}
			}
			unlock_decision_tooltip = SOV_estonian_ultimatum
			unlock_decision_tooltip = SOV_latvian_ultimatum
			unlock_decision_tooltip = SOV_lithuanian_ultimatum
			add_named_threat = {
				threat = 1
				name = SOV_claims_in_baltic
			}
		}
	}
	focus = {
		id = SOV_secure_leningrad
		icon = GFX_focus_generic_attack_finland
		prerequisite = { focus = SOV_mol_rib_pact }
		x = 2
		y = 1
		relative_position_id = SOV_mol_rib_pact
		cost = 2
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		dynamic = yes
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			is_subject = no
		}
		bypass = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact
				owns_state = 146
				146 = {
					is_claimed_by = ROOT
				}
				has_full_control_of_state = 146
			}
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		completion_reward = {
			add_state_claim = 146			# Karjala
			unlock_decision_tooltip = SOV_demand_karjala
		}
	}

	focus = {
		id = SOV_demand_balkan_submission
		icon = GFX_goal_generic_focus_on_balkans
		prerequisite = { focus = SOV_mol_rib_pact }
		x = -1
		y = 2
		relative_position_id = SOV_mol_rib_pact
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		mutually_exclusive = {
			focus = SOV_seek_balkan_cooperation
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			any_other_country = {
				BUL_is_balkan_nation = yes
			}
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			every_other_country = {
				limit = {
					BUL_is_balkan_nation = yes
				}
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}
				hidden_effect = {
					country_event = {
						id = generic.1
					}
				}
			}
			custom_effect_tooltip = SOV_demand_balkan_submission_decisions_tt
			hidden_effect = {
				activate_targeted_decision = {
					target = ROM
					decision = SOV_send_ultimatum_to_country_balkan
				}
				activate_targeted_decision = {
					target = BUL
					decision = SOV_send_ultimatum_to_country_balkan
				}
				activate_targeted_decision = {
					target = GRE
					decision = SOV_send_ultimatum_to_country_balkan
				}
				activate_targeted_decision = {
					target = YUG
					decision = SOV_send_ultimatum_to_country_balkan
				}
				activate_targeted_decision = {
					target = TUR
					decision = SOV_send_ultimatum_to_country_balkan
				}
			}
		}
	}
	focus = {
		id = SOV_seek_balkan_cooperation
		icon = GFX_focus_BUL_free_balkan_states
		prerequisite = { focus = SOV_mol_rib_pact
		}
		x = 1
		y = 2
		relative_position_id = SOV_mol_rib_pact
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		mutually_exclusive = {
			focus = SOV_demand_balkan_submission
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			any_other_country = {
				BUL_is_balkan_nation = yes
			}
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			every_other_country = {
				limit = {
					BUL_is_balkan_nation = yes
				}
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}
				hidden_effect = {
					country_event = {
						id = generic.1
					}
				}
			}
			custom_effect_tooltip = SOV_seek_balkan_cooperation_decisions_tt
			hidden_effect = {
				activate_targeted_decision = {
					target = ROM
					decision = SOV_pressure_country_government_balkan
				}
				activate_targeted_decision = {
					target = BUL
					decision = SOV_pressure_country_government_balkan
				}
				activate_targeted_decision = {
					target = GRE
					decision = SOV_pressure_country_government_balkan
				}
				activate_targeted_decision = {
					target = YUG
					decision = SOV_pressure_country_government_balkan
				}
				activate_targeted_decision = {
					target = TUR
					decision = SOV_pressure_country_government_balkan
				}
				activate_targeted_decision = {
					target = ROM
					decision = SOV_promote_ideology_rallies_balkan
				}
				activate_targeted_decision = {
					target = BUL
					decision = SOV_promote_ideology_rallies_balkan
				}
				activate_targeted_decision = {
					target = GRE
					decision = SOV_promote_ideology_rallies_balkan
				}
				activate_targeted_decision = {
					target = YUG
					decision = SOV_promote_ideology_rallies_balkan
				}
				activate_targeted_decision = {
					target = TUR
					decision = SOV_promote_ideology_rallies_balkan
				}
			}
		}
	}
	focus = {
		id = SOV_future_of_germany
		icon = GFX_goal_generic_german_question
		prerequisite = { focus = SOV_demand_balkan_submission focus = SOV_seek_balkan_cooperation }
		x = 0
		y = 1
		relative_position_id = SOV_demand_balkan_submission
		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = {
				has_War_with = GER
			}
			GER = {
				exists = no
			}
			any_state = {
				is_core_of = GER
				is_controlled_by = SOV
			}
		}
		bypass = {
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
			DDR = {
				add_state_core = 42
				add_state_core = 50
				add_state_core = 51
				add_state_core = 52
				add_state_core = 53
				add_state_core = 54
				add_state_core = 55
				add_state_core = 56
				add_state_core = 57
				add_state_core = 58
				add_state_core = 59
				add_state_core = 60
				add_state_core = 61
				add_state_core = 62
				add_state_core = 64
				add_state_core = 65
				add_state_core = 66
				add_state_core = 67
				add_state_core = 803
				add_state_core = 799
				add_state_core = 800
				add_state_core = 801
				add_state_core = 802
				add_state_core = 804
				add_state_core = 810
			}
			hidden_effect = {
				USA = {
					transfer_state = 526
				}
				USA = {
					transfer_state = 645
				}
				USA = {
					transfer_state = 863
				}
				USA = {
					transfer_state = 646
				}
				USA = {
					transfer_state = 648
				}
				SOV = {
					set_faction_name = COMINFORM
				}
			}
			release = DDR
			every_state = {
				limit = {
					is_core_of = DDR
					OR = {
						is_controlled_by = SOV
					}
				}
				DDR = {
					transfer_state = PREV
				}
			}
			SOV = {
				puppet = DDR
			}
			DDR = {
				set_popularities = {
					communism = 55
					democratic = 12
					fascism = 33
				}
				set_country_flag = soviet_technologies_tree_flag
			}
		}
	}
	focus = {
		id = SOV_european_buffer_zone
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = SOV_demand_balkan_submission focus = SOV_seek_balkan_cooperation }
		x = 1
		y = 2
		relative_position_id = SOV_demand_balkan_submission

		available = {
			NOT = {
				has_War_with = GER
				has_global_flag = soviet_union_defeated
			}
			has_global_flag = ww2_has_ended
		}

		cost = 20
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			if = {
				limit = {
					country_exists = ROM
					NOT = {
						ROM = {
							is_in_faction_with = SOV
						}
					}
					NOT = {
						ROM = {
							is_puppet_of = SOV
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROM
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = ROM
					}
				}
				unlock_decision_tooltip = SOV_puppet_ROM
			}
			if = {
				limit = {
					country_exists = HUN
					NOT = {
						HUN = {
							is_in_faction_with = SOV
						}
					}
					NOT = {
						HUN = {
							is_puppet_of = SOV
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = HUN
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = HUN
					}
				}
				unlock_decision_tooltip = SOV_puppet_HUN
			}
			if = {
				limit = {
					country_exists = YUG
					NOT = {
						YUG = {
							is_in_faction_with = SOV
						}
					}
					NOT = {
						YUG = {
							is_puppet_of = SOV
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = YUG
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = YUG
					}
				}
				unlock_decision_tooltip = SOV_puppet_YUG
			}
			if = {
				limit = {
					country_exists = CZE
					NOT = {
						CZE = {
							is_in_faction_with = SOV
						}
					}
					NOT = {
						CZE = {
							is_puppet_of = SOV
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = CZE
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = CZE
					}
				}
				unlock_decision_tooltip = SOV_puppet_CZE
			}
			if = {
				limit = {
					country_exists = BUL
					NOT = {
						BUL = {
							is_in_faction_with = SOV
						}
					}
					NOT = {
						BUL = {
							is_puppet_of = SOV
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = BUL
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = BUL
					}
				}
				unlock_decision_tooltip = SOV_puppet_BUL
			}
			POL = {
				set_cosmetic_tag = POL_commie
			}
			CZE = {
				set_cosmetic_tag = CZE_commie
			}
			HUN = {
				set_cosmetic_tag = HUN_commie
			}
			ROM = {
				set_cosmetic_tag = ROM_commie
			}
			BUL = {
				set_cosmetic_tag = BUL_commie
			}
			YUG = {
				set_cosmetic_tag = YUG_commie
			}
		}
	}
	focus = {
		id = SOV_formation_ssr
		icon = GFX_goal_SOV_formation_ssr
		prerequisite = { focus = SOV_european_buffer_zone
		}
		available = {
			has_government = communism
		}
		x = 0
		y = 1
		relative_position_id = SOV_european_buffer_zone
		cost = 3
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			#unlock_decision_tooltip = SOV_ssr_denmark
			#unlock_decision_tooltip = SOV_ssr_finland
			#unlock_decision_tooltip = SOV_ssr_sweden
			#unlock_decision_tooltip = SOV_ssr_norway
			#unlock_decision_tooltip = SOV_ssr_belgium
			#unlock_decision_tooltip = SOV_ssr_netherlands
			#unlock_decision_tooltip = SOV_ssr_france
			#unlock_decision_tooltip = SOV_ssr_england
			#unlock_decision_tooltip = SOV_ssr_italy
			#unlock_decision_tooltip = SOV_ssr_turkey
			#unlock_decision_tooltip = SOV_ssr_spain
			#unlock_decision_tooltip = SOV_ssr_portugal
			#unlock_decision_tooltip = SOV_ssr_switzerland
		}
	}
	focus = {
		id = SOV_future_of_austria
		icon = GFX_goal_generic_austrian_question
		prerequisite = { focus = SOV_demand_balkan_submission focus = SOV_seek_balkan_cooperation }
		x = 2
		y = 1
		relative_position_id = SOV_demand_balkan_submission

		cost = 10
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		bypass = {
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		completion_reward = {
		}
	}
	### Eastern Diplo ###
	focus = {
		id = SOV_the_threat_from_the_land_of_the_rising_sun
		icon = GFX_focus_attack_japan
		x = 10
		y = 0
		relative_position_id = SOV_policy_of_collective_security
		cost = 1
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			any_country = {
				SOV_is_free_chinese_tag = yes
				has_war_with = JAP
			}
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			add_political_power = 25
			JAP = {
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_supported_china_bad
				}
			}
			every_other_country = {
				limit = {
					SOV_is_free_chinese_tag = yes
				}
				if = {
					limit = {
						ROOT = {
							has_government = communism
						}
					}
					add_ideas = SOV_support_in_china_communism
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = democratic
						}
					}
					add_ideas = SOV_support_in_china_democratic
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = fascism
						}
					}
					add_ideas = SOV_support_in_china_fascism
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = neutrality
						}
					}
					add_ideas = SOV_support_in_china_neutrality
				}
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_supported_china_good
				}
			}
		}
	}
	focus = {
		id = SOV_the_gobi_gambit
		icon = GFX_focus_generic_befriend_sinkiang
		prerequisite = {
			focus =  SOV_development_aid_for_eastern_allies
		}
		x = -2
		y = 0
		relative_position_id = SOV_the_threat_from_the_land_of_the_rising_sun
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			#SOV controls the states in which railway lines will be built
			controls_state = 405			#TASHKENT
			controls_state = 404			#KYZYL ORDA
			controls_state = 732			#PAMIR
			controls_state = 586			#ALMA-ATA
			OR = {
				AND = {
					#Relevant states under Soviet control
					controls_state = 617					#URUMQI
					controls_state = 618					#DZUNGARIA
				}
				SIK = {
					#Relevant states under Sinkiang control
					NOT = {
						has_war_with = ROOT
					}
					controls_state = 617					#URUMQI
					controls_state = 618					#DZUNGARIA
				}
			}
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			#hidden_effect = {
			#	#Decrease SIK's desire to join Chinese faction (and other AI strategies)
			#	SOV_approach_sinkiang_diplomacy_effect = yes
			#	SIK = {
			#		add_ai_strategy = {
			#			#This is added in Gobi Gambit + all 3 investment decisions
			#			type = alliance
			#			id = SOV
			#			value = 4
			#		}
			#	}
			#}
			add_resource = {
				type = oil
				amount = 10
				state = 617
			}
			SIK = {
				add_popularity = {
					ideology = communism
					popularity = 50
				}
				give_resource_rights = {
					receiver = SOV
					state = 619
				}
				give_resource_rights = {
					receiver = SOV
					state = 617
				}
			}
			if = {
				#If SOV controls the relevant states (for whatever weird reason -.-), then insta-build
				limit = {
					controls_state = 617					#URUMQI
					controls_state = 618					#DZUNGARIA
				}
				# Tashkent - Frunze - Alma-Ata - Urumqi
				build_railway = {
					path = {
						1459
						10148
						4686
						12397
						12340
						12640
						7706
						12583
						4224
						1591
						4845
						12601
						7850
						4709
					}
				}
				#Supply Hub in Alma-Ata
				586 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 1591
						instant_build = yes
					}
				}
				custom_effect_tooltip = SOV_sinkiang_decisions_available_tt
			}
			else = {
				#If SIK in control of them
				SIK = {
					country_event = {
						id = NSB_soviet_foreign_politics_events.270
						hours = 6
						random_hours = 6
					}
				}
				# IF THEY ACCEPT
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					add_opinion_modifier = {
						target = SIK
						modifier = SOV_complied_with_our_demands
					}
					# Tashkent - Frunze - Alma-Ata - Urumqi
					build_railway = {
						path = {
							1459
							10148
							4686
							12397
							12340
							12640
							7706
							12583
							4224
							1591
							4845
							12601
							7850
							4709
						}
					}
					#Supply Hub in Alma-Ata
					586 = {
						add_building_construction = {
							type = supply_node
							level = 1
							province = 1591
							instant_build = yes
						}
					}
					custom_effect_tooltip = SOV_sinkiang_decisions_available_tt
				}
				# IF THEY REFUSE
				custom_effect_tooltip = if_they_refuse_tt
				effect_tooltip = {
					add_opinion_modifier = {
						target = SIK
						modifier = SOV_rejected_our_demands
					}
					# Tashkent - Frunze - Alma-Ata
					build_railway = {
						path = {
							1459
							10148
							4686
							12397
							12340
							12640
							7706
							12583
							4224
							1591
						}
					}
					#Supply Hub in Alma-Ata
					586 = {
						add_building_construction = {
							type = supply_node
							level = 1
							province = 1591
							instant_build = yes
						}
					}
					custom_effect_tooltip = SOV_sinikiang_influence_refuse_tt
				}
			}
			custom_effect_tooltip = SOV_volunteers_allowed_sinkiang_tt
		}
	}
	focus = {
		id = SOV_operation_zet
		icon = GFX_focus_chi_cooperation_with_the_nationalists
		mutually_exclusive = { focus = SOV_propose_a_soviet_republic focus = SOV_two_red_flags }
		prerequisite = { focus = SOV_the_threat_from_the_land_of_the_rising_sun }
		x = 0
		y = 1
		relative_position_id = SOV_the_threat_from_the_land_of_the_rising_sun
		cost = 2
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		bypass = {
			NOT = {
				country_exists = CHI
			}
		}
		available = {
			NOT = {
				has_completed_focus = SOV_the_left_opposition
			}
			CHI = {
				has_completed_focus = CHI_mission_to_the_soviet_union
			}
			NOT = {
				has_war_with = CHI
			}
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			custom_effect_tooltip = SOV_operation_zet_tt
			588 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = SOV
								is_subject_of = SOV
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			40 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = SOV
								is_subject_of = SOV
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			570 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = SOV
								is_subject_of = SOV
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			618 = {
				if = {
					limit = {
						OR = {
							CHI = { controls_state = 601 }
							any_other_country = {
								is_in_faction_with = CHI
								controls_state = 601
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			760 = {
				if = {
					limit = {
						OR = {
							CHI = { controls_state = 601 }
							any_other_country = {
								is_in_faction_with = CHI
								controls_state = 601
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			939 = {
				if = {
					limit = {
						OR = {
							CHI = { controls_state = 601 }
							any_other_country = {
								is_in_faction_with = CHI
								controls_state = 601
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			283 = {
				if = {
					limit = {
						OR = {
							CHI = { controls_state = 601 }
							any_other_country = {
								is_in_faction_with = CHI
								controls_state = 601
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			add_political_power = 25
			diplomatic_relation = {
				country = CHI
				relation = non_aggression_pact
				active = yes
			}
			set_rule = {
				can_send_volunteers = yes
			}
			CHI = {
				add_opinion_modifier = { target = SOV modifier = operation_zet_chi }
				country_event = chi_armor.855
			}
			JAP = {
				add_opinion_modifier = { target = SOV modifier = operation_zet_jap }
			}
		}
	}
	focus = {
		id = SOV_two_red_flags
		icon = GFX_focus_chi_cooperation_with_the_communists
		mutually_exclusive = { focus = SOV_propose_a_soviet_republic focus = SOV_operation_zet }
		prerequisite = { focus = SOV_the_threat_from_the_land_of_the_rising_sun }
		x = 2
		y = 1
		relative_position_id = SOV_the_threat_from_the_land_of_the_rising_sun
		cost = 8
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		bypass = {
			OR = {
				NOT = {
					country_exists = PRC
				}
				owns_state = 622
			}
		}
		available = {
			has_government = communism
			NOT = {
				has_war_with = PRC
			}
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			PRC = {
				add_opinion_modifier = {
					#Good relations with Mao
					target = ROOT
					modifier = SOV_cooperating_with_us
				}
				add_relation_modifier = {
					target = ROOT
					modifier = SOV_soviet_chinese_relations
				}
				every_other_country = {
					limit = {
						SOV_is_free_chinese_tag = yes
					}
					add_opinion_modifier = {
						#Bad Relations with other Chinese tags
						target = ROOT
						modifier = SOV_cooperating_with_other
					}
				}
			}
			activate_targeted_decision = {
				target = PRC
				decision = SOV_send_infantry_equipment_asia
			}
			custom_effect_tooltip = SOV_volunteers_allowed_mao_tt
		}
	}
	focus = {
		id = SOV_propose_a_soviet_republic
		icon = GFX_goal_SOV_formation_ssr
		prerequisite = { focus = SOV_the_threat_from_the_land_of_the_rising_sun }
		prerequisite = { focus = SOV_the_gobi_gambit }
		relative_position_id = SOV_the_threat_from_the_land_of_the_rising_sun
		mutually_exclusive = { focus = SOV_two_red_flags focus = SOV_operation_zet }
		x = -2
		y = 1

		cost = 8

		available = {
		}

		bypass = {
		}
		search_filters = { FOCUS_FILTER_DIPLOMACY }

		completion_reward = {

		}
	}
	focus = {
		id = SOV_development_aid_for_eastern_allies
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = SOV_the_gobi_gambit }
		x = -2
		y = 0
		relative_position_id = SOV_the_gobi_gambit
		cost = 4
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			any_allied_country = {
				capital_scope = {
					is_on_continent = asia
				}
				is_major = no
			}
			num_of_civilian_factories_available_for_projects > 2
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		select_effect = {
			add_ideas = SOV_development_of_eastern_allies
		}
		completion_reward = {
			#Tooltip purposes (Select Effect)
			custom_effect_tooltip = SOV_focus_select_effect_tt
			effect_tooltip = {
				add_ideas = SOV_development_of_eastern_allies
			}
			#(Complete Effect)
			custom_effect_tooltip = SOV_focus_complete_effect_tt
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					capital_scope = {
						is_on_continent = asia
					}
					is_major = no
				}
				country_event = {
					id = NSB_soviet_foreign_politics_events.10
					hours = 2
					random_hours = 1
				}
				custom_effect_tooltip = if_they_accept
				custom_effect_tooltip = SOV_development_aid_for_eastern_allies_tt
			}
			hidden_effect = {
				remove_ideas = SOV_development_of_eastern_allies
			}
		}
	}
	focus = {
		id = SOV_war_measures_in_the_east
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = SOV_development_aid_for_eastern_allies }
		x = 0
		y = 1
		relative_position_id = SOV_development_aid_for_eastern_allies
		cost = 4
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_war_measures_scope_tt
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					capital_scope = {
						is_on_continent = asia
					}
					is_major = no
				}
				country_event = {
					id = NSB_soviet_foreign_politics_events.11
					hours = 2
					random_hours = 1
				}
				custom_effect_tooltip = if_they_accept
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_war_measures_allies
						days = 1095
					}
				}
			}
		}
	}
	focus = {
		id = SOV_annex_tannu_tuva
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = SOV_war_measures_in_the_east
		}
		x = 0
		y = 1
		relative_position_id = SOV_war_measures_in_the_east
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		completion_reward = {
			TAN = {
				country_event = {
					id = soviet.14
				}
			}
		}
	}
	focus = {
		id = SOV_secure_the_far_east
		icon = GFX_focus_usa_focus_on_asia
		prerequisite = { focus = SOV_two_red_flags focus = SOV_operation_zet focus = SOV_propose_a_soviet_republic }
		relative_position_id = SOV_operation_zet
		x = 0
		y = 1

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_global_flag = JAP_khalkhin_gol
			if = {
				limit = { is_ai = no }
				army_manpower_in_state = {
					state = 408
					amount > 74999
				}
				army_manpower_in_state = {
					state = 409
					amount > 74999
				}
				army_manpower_in_state = {
					state = 657
					amount > 74999
				}
				army_manpower_in_state = {
					state = 561
					amount > 74999
				}
				army_manpower_in_state = {
					state = 563
					amount > 74999
				}
				army_manpower_in_state = {
					state = 954
					amount > 74999
				}
			}
		}

		bypass = {
			NOT = {
				country_exists = JAP
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_war_support = 0.1
			add_stability = 0.1
			diplomatic_relation = {
				country = JAP
				relation = non_aggression_pact
				active = yes
			}
			set_global_flag = siberia_secured
		}
	}
	focus = {
		id = SOV_prepare_a_war_with_japan
		icon = GFX_focus_AST_war_japan
		prerequisite = { focus = SOV_secure_the_far_east }
		x = 0
		y = 1
		relative_position_id = SOV_secure_the_far_east
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		bypass = {
			has_war_with = JAP
		}
		available = {
			surrender_progress < 0.01
			country_exists = JAP
			NOT = {
				JAP = {
					is_in_faction_with = ROOT
				}
			}
			is_subject = no
		}
		search_filters = {
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_preparations_for_soviet_japanese_war
				days = 365
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					SOV_is_chinese_tag = yes
					is_in_faction_with = ROOT
				}
				hidden_effect = {
					country_event = NSB_soviet_foreign_politics_events.251
				}
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_preparations_for_soviet_japanese_war_china
						days = 365
					}
				}
			}
		}
	}
	focus = {
		id = SOV_end_the_khalkhin_gol_conflict
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_prepare_a_war_with_japan
		}
		x = 1
		y = 1
		relative_position_id = SOV_prepare_a_war_with_japan
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		mutually_exclusive = {
			focus = SOV_recover_the_kuril_islands
		}
		available = {
			surrender_progress < 0.01
			country_exists = JAP
			NOT = {
				is_in_faction_with = JAP
			}
			NOT = {
				has_war_together_with = JAP
			}
			761 = {
				#Hulunbuir
				controller = {
					NOT = {
						is_in_faction_with = ROOT
					}
				}
			}
			is_subject = no
		}
		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_end_the_khalkhin_gol_conflict_wargoal_tt
			hidden_effect = {
				every_country = {
					limit = {
						OR = {
							tag = JAP
							AND = {
								SOV_is_chinese_tag = yes
								is_in_faction_with = JAP
							}
						}
					}
					ROOT = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
						}
					}
				}
			}
			add_state_claim = 761			#Hulunbuir
			if = {
				limit = {
					has_idea = SOV_preparations_for_soviet_japanese_war
				}
				remove_ideas = SOV_preparations_for_soviet_japanese_war
				every_country = {
					limit = {
						is_in_faction_with = ROOT
						has_idea = SOV_preparations_for_soviet_japanese_war_china
					}
					remove_ideas = SOV_preparations_for_soviet_japanese_war_china
				}
			}
			add_timed_idea = {
				idea = SOV_soviet_japanese_reckoning
				days = 180
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					OR = {
						SOV_is_chinese_tag = yes
						capital_scope = {
							is_on_continent = asia
						}
					}
				}
				hidden_effect = {
					country_event = NSB_soviet_foreign_politics_events.252
				}
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_soviet_japanese_reckoning_china
						days = 180
					}
				}
			}
			if = {
				limit = {
					is_in_faction_with = MON
					612 = {
						controller = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				MON = {
					add_state_claim = 612					#Chahar
					add_state_claim = 611					#South Chahar
				}
			}
		}
	}
	focus = {
		id = SOV_recover_the_kuril_islands
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_prepare_a_war_with_japan
		}
		x = -1
		y = 1
		relative_position_id = SOV_prepare_a_war_with_japan
		cost = 5
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		mutually_exclusive = {
			focus = SOV_end_the_khalkhin_gol_conflict
		}
		available = {
			surrender_progress < 0.01
			country_exists = JAP
			NOT = {
				JAP = {
					is_in_faction_with = ROOT
				}
			}
			JAP = {
				controls_state = 555
			}
			NOT = {
				has_war_with = JAP
			}
			is_subject = no
		}
		search_filters = {
		}
		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = JAP
				expire = 0
				generator = {
					537
					555
				}
			}
			if = {
				limit = {
					has_idea = SOV_preparations_for_soviet_japanese_war
				}
				remove_ideas = SOV_preparations_for_soviet_japanese_war
				every_country = {
					limit = {
						is_in_faction_with = ROOT
						has_idea = SOV_preparations_for_soviet_japanese_war_china
					}
					remove_ideas = SOV_preparations_for_soviet_japanese_war_china
				}
			}
			add_timed_idea = {
				idea = SOV_soviet_japanese_reckoning
				days = 180
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					SOV_is_chinese_tag = yes
					is_in_faction_with = ROOT
				}
				hidden_effect = {
					country_event = NSB_soviet_foreign_politics_events.252
				}
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_soviet_japanese_reckoning_china
						days = 180
					}
				}
			}
			custom_effect_tooltip = SOV_recover_the_kuril_islands_decisions_tt
		}
	}













}