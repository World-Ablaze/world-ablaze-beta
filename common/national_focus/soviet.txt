focus_tree = {
	id = soviet_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = SOV
		}
	}
	default = no
	continuous_focus_position = {
		x = 55
		y = 1900
	}

	############################################
	############ INDUSTRY BRANCH ###############
	############################################

	focus = {
		id = SOV_start_the_second_five_year_plan
		icon = GFX_goal_SOV_start_the_second_five_year_plan
		x = 0
		y = 0
		cost = 3
		available = {
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
		}
		ai_will_do = {
			factor = 5
		}

		cancel = {
			has_war = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = SOV_start_the_second_five_year_plan_tt
			hidden_effect = {
				add_to_variable = { SOV_fyp_political_power_cost = 0.3 }
				add_to_variable = { SOV_fyp_consumer_goods_expected_value = -0.04 }
				add_to_variable = { SOV_fyp_production_speed_industrial_complex_factor = 0.3 }
				add_to_variable = { SOV_fyp_production_speed_infrastructure_factor = 0.3 }
			}
		}
	}
	focus = {
		id = SOV_the_collectivization_process
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = SOV_start_the_second_five_year_plan }
		relative_position_id = SOV_start_the_second_five_year_plan
		x = 1
		y = 1
		cost = 3
		available = {
			has_civil_war = no
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_to_variable = { SOV_fyp_consumer_goods_expected_value = -0.02 }
			add_to_variable = { SOV_fyp_global_building_slots_factor = 0.1 }
			custom_effect_tooltip = SOV_the_collectivization_process_ns_tt
			add_stability = -0.05
			if = {
				#Target a rural state with no civs
				limit = {
					any_owned_state = {
						OR = {
							has_state_category = town							#Developed Rural Region
							has_state_category = rural							#Rural Region
						}
						is_fully_controlled_by = ROOT
						industrial_complex < 1
						arms_factory < 1
						dockyard < 1
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_state = {
					limit = {
						OR = {
							has_state_category = town							#Developed Rural Region
							has_state_category = rural							#Rural Region
						}
						is_fully_controlled_by = ROOT
						industrial_complex < 1
						arms_factory < 1
						dockyard < 1
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				#Failsafe 1: Target a random rural state
				limit = {
					any_owned_state = {
						OR = {
							has_state_category = town							#Developed Rural Region
							has_state_category = rural							#Rural Region
						}
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_state = {
					limit = {
						OR = {
							has_state_category = town							#Developed Rural Region
							has_state_category = rural							#Rural Region
						}
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				#Failsafe 2: Target a random state
				limit = {
					any_owned_state = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_state = {
					limit = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_gaz_automobile_plants
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = SOV_start_the_second_five_year_plan }
		x = -1
		y = 1
		relative_position_id = SOV_start_the_second_five_year_plan
		cost = 3
		ai_will_do = {
			factor = 5
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
            if = {
                limit = { has_aat = yes }
                unlock_military_industrial_organization_tooltip = mio:SOV_gaz_organization
            }
            else = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = SOV_gaz
            }
			219 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
			}
			252 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
			}
			hidden_effect = {
				set_country_flag = SOV_gaz_automobile_plants_dd_flag
			}
		}
	}
	focus = {
		id = SOV_the_ussr_academy_of_sciences
		icon = GFX_goal_generic_research
		prerequisite = { focus = SOV_gaz_automobile_plants }
		relative_position_id = SOV_gaz_automobile_plants
		x = 2
		y = 1
		cost = 5

		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_research_slot = 1
			if = {
				limit = {
					any_country = {
						SOV_is_valid_academy_of_sciences_target = yes
					}
				}
				if = {
					#ALT IDEOLOGY
					limit = {
						NOT = {
							has_government = communism
						}
					}
					add_to_tech_sharing_group = SOV_imperial_academies_of_sciences_joint_program
					every_country = {
						limit = {
							SOV_is_valid_academy_of_sciences_target = yes
						}
						add_to_tech_sharing_group = SOV_imperial_academies_of_sciences_joint_program
					}
				}
				else = {
					#DEFAULT COMMUNISM
					add_to_tech_sharing_group = SOV_soviet_academies_of_sciences_joint_program
					every_country = {
						limit = {
							SOV_is_valid_academy_of_sciences_target = yes
						}
						add_to_tech_sharing_group = SOV_soviet_academies_of_sciences_joint_program
					}
				}
			}
			hidden_effect = {
				set_country_flag = SOV_the_ussr_academy_of_sciences_dd_flag
			}
		}
	}

	focus = {
		id = SOV_connection_of_the_interior
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SOV_gaz_automobile_plants
		}
		x = 0
		y = 1
		relative_position_id = SOV_gaz_automobile_plants
		cost = 3
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		available = {
			has_country_flag = {
				flag = SOV_gaz_automobile_plants_dd_flag
				days > 84
			}
			custom_trigger_tooltip = {
				tooltip = SOV_gaz_automobile_plants_dd_tt
				has_country_flag = {
					flag = SOV_gaz_automobile_plants_dd_flag
					days > 84
				}
			}
			has_civil_war = no
		}
		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size < 5
					}
				}
			}
		}
		completion_reward = {
			economy_fatigue_level_up_2 = yes
			hidden_effect = {
				set_country_flag = SOV_connection_of_the_interior_dd_flag
			}
			custom_effect_tooltip = SOV_connection_of_the_interior_tt
			229 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			219 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			263 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			208 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			195 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			246 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			242 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			205 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			223 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			222 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			240 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			228 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			245 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			217 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			220 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			225 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			193 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			202 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			207 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			206 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			218 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			234 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			192 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			241 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			227 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			221 = {
				hidden_effect = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			# Moscow - Rostov on Don
			build_railway = {
				path = {
					9282
					9395
					6333
					9313
					6279
					6230
					6398
					6341
					413
					3527
					11475
					11412
					6591
					3540
					11476
					11459
					11450
					11434
					9417
				}
			}
			# Moscow - Leningrad
			build_railway = {
				path = {
					6380
					13238
					3259
					3358
					11250
					6245
					333
					3176
					3101
					187
					9111
					6086
					6035
					3072
					79
					13240
					3151
				}
			}
			# Moscow - Donets - Rostov
			build_railway = {
				path = {
					6380
					13236
					9348
					6290
					6396
					6262
					3292
					11242
					11368
					9355
					11310
					11244
					3580
					558
					3492
					9449
					418
					3531
					3508
					11452
					453
					472
					3449
					6776
					6474
					6493
					9430
					9417
				}
			}
			# Kemerovo - Urals
			build_railway = {
				path = {
					4665
					10652
					7274
					7825
					1860
					1733
					12679
					10696
					1709
					7800
					4780
					12521
					1294
					1775
					1292
					1327
					9292
					1233
					12287
					10133
					1821
					9553
					1750
					12696
					4824
					7846
					7774
					3472
					10600
					12652
					1709
				}
			}
			# Stalingrad-Rostov on Don
			build_railway = {
				path = {
					3529
					13234
					9504
					3505
					3489
					509
					484
					11450
				}
				#(Stalingrad - Conjunction near Millerovo)
			}
			# Stalingrad-Lipetsk
			build_railway = {
				path = {
					9504
					3582
					579
					487
					9502
					11512
					3566
					11436
					9312
					9339
					6369
					6398
				}
				#(Conjunction right next to Stalingrad - Conjunction in Lipetsk)
			}
			# Stalingrad - Astrakhan
			build_railway = {
				path = {
					13232
					3413
					3487
					6516
					9455
					11429
					6620
					9753
				}
			}
			# Stalingrad - Krasnodar
			build_railway = {
				path = {
					13232
					498
					11447
					9459
					11400
					6468
					6796
					3779
					775
					6781
					6768
					3734
				}
				#(Conjunction right next to Stalingrad)
			}
			# Tbilisi - Yerevan
			build_railway = {
				path = {
					1599
					12380
					12441
					3564
					12320
				}
			}
			#Supply Hub in Yerevan
			230 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 12320
					instant_build = yes
				}
			}
			#Supply Hub in Kandalaksha
			213 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 6181
					instant_build = yes
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = SOV_soviet_railways
		}
	}

	focus = {
		id = SOV_socialist_science
		icon = GFX_goal_SOV_socialist_science
		prerequisite = { focus = SOV_the_ussr_academy_of_sciences }
		x = -1
		y = 1
		relative_position_id = SOV_the_ussr_academy_of_sciences
		cost = 3
		available = {
			has_country_flag = {
				flag = SOV_the_ussr_academy_of_sciences_dd_flag
				days > 105
			}
			custom_trigger_tooltip = {
				tooltip = SOV_the_ussr_academy_of_sciences_dd_tt
				has_country_flag = {
					flag = SOV_the_ussr_academy_of_sciences_dd_flag
					days > 105
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = SOV_socialist_science_tt
			hidden_effect = {
				add_ideas = socialist_science_focus
			}
			#if = {
			#	limit = { check_variable = { SOV_workers_industrial_capacity_factory < 0.2 } }
			#	add_to_variable = { SOV_workers_industrial_capacity_factory = 0.2 }
			#	custom_effect_tooltip = SOV_socialist_science_tt
			#}
			#else = {
			#	custom_effect_tooltip = SOV_expand_komsomol_memebership_tt
			#	add_to_variable = { SOV_workers_influence = 2 }
			#	add_to_variable = { SOV_workers_attitude = 2 }
			#}
		}
	}

	focus = {
		id = SOV_progress_cult
		icon = GFX_goal_SOV_progress_cult
		prerequisite = { focus = SOV_the_ussr_academy_of_sciences }
		x = 1
		y = 1
		relative_position_id = SOV_the_ussr_academy_of_sciences
		cost = 3
		available = {
			has_country_flag = {
				flag = SOV_the_ussr_academy_of_sciences_dd_flag
				days > 105
			}
			custom_trigger_tooltip = {
				tooltip = SOV_the_ussr_academy_of_sciences_dd_tt
				has_country_flag = {
					flag = SOV_the_ussr_academy_of_sciences_dd_flag
					days > 105
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			custom_effect_tooltip = SOV_progress_cult_tt
			hidden_effect = {
				add_to_variable = { SOV_army_research_speed_factor = 0.08 }
			}
		}
	}

	focus = {
		id = SOV_workers_culture
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_connection_of_the_interior }
		x = -1
		y = 1
		relative_position_id = SOV_connection_of_the_interior
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			has_country_flag = {
				flag = SOV_connection_of_the_interior_dd_flag
				days > 84
			}
			custom_trigger_tooltip = {
				tooltip = SOV_connection_of_the_interior_dd_tt
				has_country_flag = {
					flag = SOV_connection_of_the_interior_dd_flag
					days > 84
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = SOV_workers_culture_tt
			hidden_effect = {
				set_country_flag = SOV_workers_culture_dd_flag
				add_to_variable = { SOV_fyp_industrial_capacity_factory = 0.05 }
				add_to_variable = { SOV_fyp_production_speed_buildings_factor = 0.05 }
				add_to_variable = { SOV_fyp_local_resources_factor = 0.05 }
			}
			#add_ideas = workers_culture
			add_tech_bonus = {
				name = industry_effort
				bonus = 0.5
				uses = 1
				category = excavation_tech
			}
		}
	}
	focus = {
		id = SOV_our_mineral_wealth
		icon = GFX_goal_generic_build_steel
		prerequisite = { focus = SOV_workers_culture }
		relative_position_id = SOV_workers_culture
		x = 3
		y = 1
		cost = 3
		available = {

		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			economy_fatigue_level_up_4 = yes
			custom_effect_tooltip = SOV_our_mineral_wealth_tt
			add_to_variable = { SOV_fyp_local_resources_factor = 0.1 }
			253 = {		#Sverdlovsk
				add_resource = {
					type = iron
					amount = 150
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = steel_refinery
					level = 1
					instant_build = yes
				}
			}
			572 = {		#Chelyabinsk
				add_building_construction = {
					type = steel_refinery
					level = 2
					instant_build = yes
				}
			}
			226 = {		#Dnipropertovsk
				add_building_construction = {
					type = steel_refinery
					level = 2
					instant_build = yes
				}
			}
			200 = {		#Zaporozhe
				add_building_construction = {
					type = steel_refinery
					level = 2
					instant_build = yes
				}
			}
			200 = {		#Caucasus
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			unlock_decision_tooltip = develop_leningrad_aluminium_deposits
			unlock_decision_tooltip = develop_kamensk_aluminium_deposits
			unlock_decision_tooltip = develop_stalingrad_aluminium_deposits
		}
	}

	focus = {
		id = SOV_evolve_our_urban_centres
		icon = GFX_goal_generic_civilian_economy_large
		prerequisite = { focus = SOV_workers_culture }
		x = 1
		y = 1
		relative_position_id = SOV_workers_culture
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			has_country_flag = {
				flag = SOV_workers_culture_dd_flag
				days > 84
			}
			custom_trigger_tooltip = {
				tooltip = SOV_workers_culture_dd_tt
				has_country_flag = {
					flag = SOV_workers_culture_dd_flag
					days > 84
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			economy_fatigue_level_up_4 = yes
			195 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			219 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			206 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			202 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			217 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			249 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			221 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SOV_finish_the_second_five_year_plan
		icon = GFX_goal_SOV_second_five_year_plan
		x = 1
		y = 1
		relative_position_id = SOV_evolve_our_urban_centres
		cost = 3
		ai_will_do = {
			factor = 5
		}
		bypass = {
			has_country_flag = SOV_great_patriotic_war_flag
		}
		available = {
			num_of_civilian_factories > 299
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			custom_effect_tooltip = SOV_finish_the_second_five_year_plan_tt
			add_stability = 0.1
			hidden_effect = {
				add_to_variable = { SOV_fyp_production_speed_buildings_factor = 0.2 }
				subtract_from_variable = { SOV_fyp_consumer_goods_expected_value = -0.04 }
				subtract_from_variable = { SOV_fyp_political_power_cost = 0.3 }
				subtract_from_variable = { SOV_fyp_production_speed_industrial_complex_factor = 0.25 }
				subtract_from_variable = { SOV_fyp_production_speed_infrastructure_factor = 0.25 }
			}
			add_tech_bonus = {
				name = industry_effort
				bonus = 0.5
				uses = 1
				category = construction_tech
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_lazar_kaganovich
		}
	}
	###
	focus = {
		id = SOV_start_the_third_five_year_plan
		icon = GFX_goal_SOV_start_the_third_five_year_plan
		relative_position_id = SOV_start_the_second_five_year_plan
		x = 5
		y = 0
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			if = {
				limit = { SOV_is_stalinist = yes }
				NOT = {
					any_enemy_country = {
						is_major = yes
					}
				}
			}
			has_completed_focus = SOV_finish_the_second_five_year_plan
			has_civil_war = no
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = SOV_start_the_third_five_year_plan_tt
			hidden_effect = {
				add_to_variable = { SOV_fyp_consumer_goods_expected_value = -0.06 }
				add_to_variable = { SOV_fyp_political_power_cost = 0.3 }
				add_to_variable = { SOV_fyp_production_speed_arms_factory_factor = 0.1 }
			}
			hidden_effect = {
				set_country_flag = SOV_start_the_third_five_year_plan_dd_flag
			}
		}
	}
	focus = {
		id = SOV_bread_basket_of_the_soviet_union
		icon = GFX_focus_SOV_breadbasket_of_the_union
		prerequisite = { focus = SOV_start_the_third_five_year_plan }
		x = -1
		y = 1
		relative_position_id = SOV_start_the_third_five_year_plan
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			controls_state = 202
			has_country_flag = {
				flag = SOV_start_the_third_five_year_plan_dd_flag
				days > 84
			}
			custom_trigger_tooltip = {
				tooltip = SOV_start_the_third_five_year_plan_dd_tt
				has_country_flag = {
					flag = SOV_start_the_third_five_year_plan_dd_flag
					days > 84
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			economy_fatigue_level_down_2 = yes
			custom_effect_tooltip = SOV_bread_basket_of_the_soviet_union_tt
			hidden_effect = {
				add_to_variable = { SOV_peasants_consumer_goods_factor = -0.04 }
			}
			202 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
			}
			202 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
			}
			hidden_effect = {
				set_country_flag = SOV_bread_basket_of_the_soviet_union_dd_flag
			}
		}
	}
	focus = {
		id = SOV_national_academies_of_sciences
		icon = GFX_goal_generic_research_2
		prerequisite = { focus = SOV_start_the_third_five_year_plan }
		relative_position_id = SOV_start_the_third_five_year_plan
		x = 1
		y = 1
		cost = 5
		available = {

		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_research_slot = 1
			custom_effect_tooltip = SOV_national_academies_of_sciences_tt
		}
	}

	focus = {
		id = SOV_develop_the_heartland
		icon = GFX_goal_generic_agriculture
		prerequisite = { focus = SOV_bread_basket_of_the_soviet_union }
		relative_position_id = SOV_bread_basket_of_the_soviet_union
		x = 0
		y = 1
		cost = 3
		available = {
			has_country_flag = {
				flag = SOV_bread_basket_of_the_soviet_union_dd_flag
				days > 84
			}
			custom_trigger_tooltip = {
				tooltip = SOV_bread_basket_of_the_soviet_union_dd_tt
				has_country_flag = {
					flag = SOV_bread_basket_of_the_soviet_union_dd_flag
					days > 84
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			economy_fatigue_level_up_5 = yes
			every_core_state = {
				limit = {
					region = 136
					infrastructure < 5
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			every_core_state = {
				limit = {
					is_on_continent = asia
					OR = {
						has_resources_amount = {
							resource = coal
							amount > 0
						}
						has_resources_amount = {
							resource = bauxite
							amount > 0
						}
						has_resources_amount = {
							resource = chromium
							amount > 0
						}
						has_resources_amount = {
							resource = tungsten
							amount > 0
						}
						has_resources_amount = {
							resource = iron
							amount > 0
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			653 = {
				add_building_construction = {
					type = aluminium_refinery
					level = 2
					instant_build = yes
				}
			}
			hidden_effect = {
				set_country_flag = SOV_develop_the_heartland_dd_flag
			}
		}
	}
	focus = {
		id = SOV_pc_of_mechanical_engineering
		icon = GFX_goal_generic_production2
		prerequisite = { focus = SOV_bread_basket_of_the_soviet_union }
		relative_position_id = SOV_bread_basket_of_the_soviet_union
		x = 2
		y = 1
		cost = 3
		available = {

		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_to_variable = { SOV_fyp_production_speed_buildings_factor = 0.05 }
			custom_effect_tooltip = SOV_pc_of_mechanical_engineering_ns_tt
			hidden_effect = {
				set_country_flag = SOV_pc_of_mechanical_engineering_dd_flag
			}
			if = {
				#DEFAULT COMMIE
				limit = {
					has_government = communism
				}
				add_tech_bonus = {
					name = SOV_pc_of_mechanical_engineering_name_default
					bonus = 0.5
					uses = 2
					category = construction_tech
					category = electronics
				}
			}
			else = {
				#ALT IDEOLOGY
				add_tech_bonus = {
					name = SOV_pc_of_mechanical_engineering_name_alt
					bonus = 0.5
					uses = 2
					category = construction_tech
					category = electronics
				}
			}
		}
	}

	focus = {
		id = SOV_extend_the_working_week
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_develop_the_heartland }
		x = 0
		y = 1
		relative_position_id = SOV_develop_the_heartland
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			has_country_flag = {
				flag = SOV_develop_the_heartland_dd_flag
				days > 84
			}
			custom_trigger_tooltip = {
				tooltip = SOV_develop_the_heartland_dd_tt
				has_country_flag = {
					flag = SOV_develop_the_heartland_dd_flag
					days > 84
				}
			}
		}
		bypass = {
			has_idea = war_economy
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = SOV_extend_the_working_week_tt
			add_to_variable = { SOV_fyp_production_speed_arms_factory_factor = 0.1 }
			add_timed_idea = {
				idea = lowered_worker_minimum_wage
				days = 1095
			}
			hidden_effect = {
				set_country_flag = SOV_extend_the_working_week_dd_flag
			}
		}
	}
	focus = {
		id = SOV_pc_of_fuel_industry
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = SOV_develop_the_heartland }
		relative_position_id = SOV_develop_the_heartland
		x = 2
		y = 1
		cost = 3

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			economy_fatigue_level_up_1 = yes
			add_tech_bonus = {
				name = SOV_pc_of_fuel_industry
				bonus = 0.5
				uses = 1
				category = cat_fuel
			}
			234 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
			232 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
			229 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = fuel_silo
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SOV_a_secure_industrial_base
		icon = GFX_goal_generic_railroads
		prerequisite = { focus = SOV_extend_the_working_week
		}
		x = 0
		y = 1
		relative_position_id = SOV_extend_the_working_week
		cost = 4
		ai_will_do = {
			factor = 1
		}
		available = {
			has_country_flag = {
				flag = SOV_extend_the_working_week_dd_flag
				days > 84
			}
			custom_trigger_tooltip = {
				tooltip = SOV_extend_the_working_week_dd_tt
				has_country_flag = {
					flag = SOV_extend_the_working_week_dd_flag
					days > 84
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			economy_fatigue_level_up_5 = yes
			217 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
			398 = {
				add_extra_state_shared_building_slots = 12
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = synthetic_refinery
					level = 3
					instant_build = yes
				}
			}
			651 = {
				add_extra_state_shared_building_slots = 12
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
			653 = {
				add_extra_state_shared_building_slots = 12
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
			572 = {
				add_extra_state_shared_building_slots = 12
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
			876 = {
				add_extra_state_shared_building_slots = 12
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SOV_national_specialists
		icon = GFX_focus_spa_the_spanish_miracle
		prerequisite = { focus = SOV_extend_the_working_week }
		relative_position_id = SOV_extend_the_working_week
		x = 2
		y = 1
		cost = 3
		available = {

		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_research_slot = 1
			custom_effect_tooltip = SOV_national_specialists_tt
			SOV_replace_industrial_designer = yes			#"National" Industrial Designers get +5% research bonus
			hidden_effect = {
				add_ideas = SOV_national_specialists_ns
			}
		}
	}

	focus = {
		id = SOV_finish_the_third_five_year_plan
		icon = GFX_goal_SOV_third_five_year_plan
		x = 1
		y = 1
		relative_position_id = SOV_a_secure_industrial_base
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			num_of_military_factories > 599
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
				surrender_progress > 0.05
			}
		}

		bypass = {
			has_country_flag = SOV_great_patriotic_war_flag
		}
		completion_reward = {
			add_political_power = 200
			add_war_support = 0.1
			custom_effect_tooltip = SOV_finish_the_third_five_year_plan_tt
			hidden_effect = {
				subtract_from_variable = { SOV_fyp_political_power_cost = 0.3 }
				subtract_from_variable = { SOV_fyp_consumer_goods_expected_value = -0.06 }
				subtract_from_variable = { SOV_fyp_production_speed_arms_factory_factor = 0.05 }
				set_country_flag = SOV_third_five_year_plan_locked_flag
			}
			add_tech_bonus = {
				name = industry_effort_2
				bonus = 0.5
				uses = 1
				category = industry
			}
		}
	}
	###
	focus = {
		id = SOV_start_the_fourth_five_year_plan
		icon = GFX_goal_SOV_start_the_fourth_five_year_plan
		relative_position_id = SOV_finish_the_second_five_year_plan
		x = 0
		y = 2
		cost = 3
		ai_will_do = {
			factor = 0
			modifier = {
				factor = 1
				OR = {
					GER = {	has_capitulated = yes }
					has_global_flag = ww2_has_ended
				}
				has_war = no
			}
		}
		available = {
			has_completed_focus = SOV_finish_the_third_five_year_plan
			has_war = no
		}
		cancel = {
			has_war = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = SOV_start_the_fourth_five_year_plan_tt
			hidden_effect = {
				add_to_variable = { SOV_fyp_political_power_cost = 0.5 }
				add_to_variable = { SOV_fyp_industrial_capacity_factory = -0.3 }
				add_to_variable = { SOV_fyp_industry_repair_factor = 0.25 }
				add_to_variable = { SOV_fyp_consumer_goods_expected_value = 0.06 }
			}
		}
	}

	focus = {
		#unlock this focus once the war with a major is over
		id = SOV_restoration_and_development
		icon = GFX_goal_generic_production
		prerequisite = { focus = SOV_start_the_fourth_five_year_plan }
		x = -1
		y = 1
		relative_position_id = SOV_start_the_fourth_five_year_plan
		cost = 4
		cancel_if_invalid = no

		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			economy_fatigue_level_down_20 = yes
		}
	}
	focus = {
		id = SOV_steel_casting_industry
		icon = GFX_goal_generic_build_steel
		prerequisite = { focus = SOV_start_the_fourth_five_year_plan }
		relative_position_id = SOV_restoration_and_development
		x = 2
		y = 0
		cost = 5
		available = {
			any_owned_state = {
				has_resources_amount = {
					resource = steel
					amount > 0
				}
				free_building_slots = {
					building = industrial_complex
					size > 1
					include_locked = yes
				}
			}
			NOT = {
				has_completed_focus = SOV_curtailment_of_the_collective_farms
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					has_resources_amount = {
						resource = iron
						amount > 0
					}
					free_building_slots = {
						building = steel_refinery
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = steel_refinery
					level = 3
					instant_build = yes
				}
				add_resource = {
					type = iron
					amount = 5
				}
				set_state_flag = SOV_steel_casting_industry_flag
			}
			if = {
				limit = {
					any_owned_state = {
						has_resources_amount = {
							resource = steel
							amount > 0
						}
						free_building_slots = {
							building = steel_refinery
							size > 1
							include_locked = yes
						}
						NOT = {
							has_state_flag = SOV_steel_casting_industry_flag
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = iron
							amount > 0
						}
						free_building_slots = {
							building = steel_refinery
							size > 0
							include_locked = yes
						}
						NOT = {
							has_state_flag = SOV_steel_casting_industry_flag
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = steel_refinery
						level = 3
						instant_build = yes
					}
					add_resource = {
						type = iron
						amount = 5
					}
					set_state_flag = SOV_steel_casting_industry_flag
				}
			}
		}
	}

	focus = {
		id = SOV_the_greatest_industrial_power
		icon = GFX_goal_generic_production2
		prerequisite = { focus = SOV_restoration_and_development
		}
		x = 0
		y = 1
		relative_position_id = SOV_restoration_and_development
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
			NOT = {
				has_completed_focus = SOV_finish_the_fourth_five_year_plan
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_tech_bonus = {
				name = industry_effort_3
				bonus = 0.5
				uses = 4
				category = industry
			}
			add_tech_bonus = {
				name = industry_effort_4
				bonus = 0.5
				uses = 2
				category = construction_tech
			}
		}
	}
	focus = {
		id = SOV_kurnatovs_experiments
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = SOV_restoration_and_development }
		x = 2
		y = 1
		relative_position_id = SOV_restoration_and_development
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_national_academies_of_sciences_available_tt
				has_country_flag = SOV_national_academy_of_sciences_built_BLR_flag
				has_country_flag = SOV_national_academy_of_sciences_built_UKR_flag
				has_country_flag = SOV_national_academy_of_sciences_built_KAZ_flag
				has_country_flag = SOV_national_academy_of_sciences_built_GEO_flag
				has_country_flag = SOV_national_academy_of_sciences_built_ARM_flag
				has_country_flag = SOV_national_academy_of_sciences_built_AZR_flag
				OR = {
					has_country_flag = SOV_national_academy_of_sciences_built_POL_flag
					has_country_flag = SOV_national_academy_of_sciences_built_FIN_flag
				}
			}
			is_subject = no
		}
		completion_reward = {
			add_tech_bonus = {
				name = SOV_soviet_atomic_bomb_project_tech_bonus_name
				bonus = 0.5
				uses = 1
				category = nuclear
			}
			add_ideas = SOV_no_time_for_peace_idea
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				create_operative_leader = {
					name = "Ursula Kuczynski"
					GFX = GFX_Portrait_ursula_kuczynski
					female = yes
					traits = {
						operative_safe_cracker
						operative_infiltrator
					}
					bypass_recruitment = no
					available_to_spy_master = yes
					nationalities = {
						SOV
						GER
					}
				}
				add_ideas = SOV_soviet_atomic_bomb_project_ns
			}
			custom_effect_tooltip = SOV_soviet_atomic_bomb_project_unlock_operation_tt
		}
	}

	focus = {
		id = SOV_transformation_of_nature
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_the_greatest_industrial_power
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_greatest_industrial_power
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			controls_state = 404
			has_tech = synth_oil_experiments
			NOT = {
				any_enemy_country = {
					is_major = yes
				}
			}
			NOT = {
				has_completed_focus = SOV_finish_the_fourth_five_year_plan
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_transformation_of_nature_tt
			add_tech_bonus = {
				name = industry_effort
				bonus = 0.5
				uses = 3
				category = industry
			}
			add_resource = {
				type = rubber
				amount = 6
				state = 404
			}
			modify_building_resources = {
        	   building = synthetic_refinery
        	   resource = rubber
        	   amount = 1
        	}
		}
	}
	focus = {
		id = SOV_ballistic_missiles
		icon = GFX_focus_rocketry
		prerequisite = { focus = SOV_the_greatest_industrial_power }
		relative_position_id = SOV_transformation_of_nature
		x = 2
		y = 0
		cost = 3
		available = {

		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = SOV_ballistic_missiles
				bonus = 1
				uses = 2
				category = rocketry
			}
		}
	}

	focus = {
		id = SOV_found_the_comecon
		icon = GFX_focus_SOV_the_comecon
		prerequisite = { focus = SOV_transformation_of_nature
		}
		relative_position_id = SOV_transformation_of_nature
		x = 1
		y = 1
		cost = 3
		#allow_branch = {
		#	has_government = communism
		#}
		available = {
			num_subjects > 0
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			if = {
				limit = {
					num_subjects > 0
				}
				add_ideas = SOV_comecon_sov_default
				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					add_ideas = SOV_comecon_puppet_default
				}
				custom_effect_tooltip = SOV_found_the_comecon_program_tt
				hidden_effect = {
					add_to_tech_sharing_group = SOV_comecon
					every_country = {
						limit = {
							is_subject_of = ROOT
						}
						add_to_tech_sharing_group = SOV_comecon
					}
				}
			}
			else = {
				#Early tooltip for when Soviets have no subjects
				effect_tooltip = {
					add_ideas = SOV_comecon_sov_default
				}
				custom_effect_tooltip = SOV_found_the_comecon_subjects_tt
				effect_tooltip = {
					add_ideas = SOV_comecon_puppet_default
				}
				custom_effect_tooltip = SOV_found_the_comecon_program_tt
			}
			unlock_decision_category_tooltip = SOV_comecon_dec_cat
		}
	}

	focus = {
		id = SOV_finish_the_fourth_five_year_plan
		icon = GFX_goal_SOV_fourth_five_year_plan
		x = 0
		y = 1
		relative_position_id = SOV_found_the_comecon
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			date > 1946.1.1
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}

		completion_reward = {
			custom_effect_tooltip = SOV_finish_the_fourth_five_year_plan_tt
			hidden_effect = {
				subtract_from_variable = { SOV_fyp_political_power_cost = 0.5 }
				subtract_from_variable = { SOV_fyp_industrial_capacity_factory = -0.3 }
				subtract_from_variable = { SOV_fyp_industry_repair_factor = 0.2 }
				subtract_from_variable = { SOV_fyp_consumer_goods_expected_value = 0.06 }
			}
			add_stability = 0.15
		}
	}
	###
	focus = {
		id = SOV_start_the_fifth_five_year_plan
		icon = GFX_goal_SOV_start_the_fifth_five_year_plan
		relative_position_id = SOV_finish_the_third_five_year_plan
		x = 0
		y = 2
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			has_completed_focus = SOV_finish_the_fourth_five_year_plan
			has_war = no
		}
		cancel = {
			has_war = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			custom_effect_tooltip = SOV_start_the_fifth_five_year_plan_tt
			hidden_effect = {
				add_to_variable = { SOV_fyp_political_power_cost = 0.5 }
				add_to_variable = { SOV_fyp_industrial_capacity_factory = 0.1 }
				add_to_variable = { SOV_fyp_production_speed_arms_factory_factor = 0.2 }
				add_to_variable = { SOV_fyp_consumer_goods_expected_value = -0.04 }
			}
		}
	}
	focus = {
		id = SOV_expand_the_heavy_industry
		icon = GFX_goal_generic_build_aluminium
		prerequisite = { focus = SOV_start_the_fifth_five_year_plan }
		x = -1
		y = 1
		relative_position_id = SOV_start_the_fifth_five_year_plan
		cost = 5
		cancel_if_invalid = no

		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = steel_refinery
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = steel_refinery
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = aluminium_refinery
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = aluminium_refinery
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SOV_synthetic_rubber_programme
		icon = GFX_goal_generic_synthetic_rubber
		prerequisite = { focus = SOV_start_the_fifth_five_year_plan }
		relative_position_id = SOV_expand_the_heavy_industry
		x = 2
		y = 0
		cost = 3
		available = {

		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					571 = {
						is_controlled_by = SOV
					}
				}
				571 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = synthetic_refinery
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					219 = {
						is_controlled_by = SOV
					}
				}
				219 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = synthetic_refinery
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					195 = {
						is_controlled_by = SOV
					}
				}
				195 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = synthetic_refinery
						level = 2
						instant_build = yes
					}
				}
			}
			add_resource = {
				type = rubber
				amount = 6
				state = 404
			}
		}
	}

	focus = {
		id = SOV_improve_transportation
		icon = GFX_goal_generic_railroads
		prerequisite = { focus = SOV_expand_the_heavy_industry }
		x = 0
		y = 1
		relative_position_id = SOV_expand_the_heavy_industry
		cost = 3
		cancel_if_invalid = no

		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			every_core_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
			economy_fatigue_level_down_4 = yes
		}
	}
	focus = {
		id = SOV_oil_production
		icon = GFX_goal_generic_oil_contract
		prerequisite = { focus = SOV_expand_the_heavy_industry }
		relative_position_id = SOV_improve_transportation
		x = 2
		y = 0
		cost = 3
		available = {

		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			set_variable = { SOV_fyp_fuel_gain_factor_from_states = 0.05 }
			set_variable = { SOV_fyp_production_oil_factor = 0.05 }
			custom_effect_tooltip = SOV_oil_production_ns_tt

			set_temp_variable = { SOV_silos_from_focus = 0 }
			every_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					has_resources_amount = {
						resource = oil
						amount > 0
					}
					infrastructure < 3
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				hidden_effect = {
					if = {
						limit = {
							check_variable = { SOV_silos_from_focus = 2 compare = less_than_or_equals }
						}
						add_building_construction = {
							type = fuel_silo
							level = 1
							instant_build = yes
						}
						add_to_temp_variable = { SOV_silos_from_focus = 1 }
					}
				}
				custom_effect_tooltip = SOV_oil_production_silo_tt
			}
			#Build Railways in Caucasus
			if = {
				limit = {
					has_full_control_of_state = 229					#Azerbaijan
					has_full_control_of_state = 230					#ARMENIA
					has_full_control_of_state = 231					#GEORGIA
				}
				# Baku - Tbilisi
				build_railway = {
					path = {
						7661
						1536
						4614
						4477
						11645
						11674
						1539
						11708
						1599
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 232					#DAGESTAN
					has_full_control_of_state = 233					#CHECHNYA-INGUSHETIA
				}
				# Makhachkala (Hub province) - Grozny
				build_railway = {
					path = {
						6701
						3682
						3672
						670
						9628
					}
				}
			}
		}
	}

	focus = {
		id = SOV_arsenal_of_communism
		icon = GFX_goal_generic_commit_to_the_war
		prerequisite = { focus = SOV_improve_transportation }
		x = 0
		y = 1
		relative_position_id = SOV_improve_transportation
		cost = 3
		cancel_if_invalid = no

		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_arsenal_of_communism_tt
			hidden_effect = {
				add_to_variable = { SOV_fyp_industrial_capacity_factory = 0.1 }
			}
		}
	}
	focus = {
		id = SOV_closed_city_network
		icon = GFX_goal_generic_research
		prerequisite = { focus = SOV_improve_transportation }
		relative_position_id = SOV_arsenal_of_communism
		x = 2
		y = 0
		cost = 6
		available = {
			OR = {
				num_of_factories > 899
				has_tech = expanded_industry6
			}
		}
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = SOV_revise_the_five_year_plan
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_arsenal_of_communism }
		x = 1
		y = 1
		relative_position_id = SOV_arsenal_of_communism
		cost = 3
		cancel_if_invalid = no

		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_revise_the_five_year_plan_tt
			hidden_effect = {
				add_to_variable = { SOV_fyp_production_speed_arms_factory_factor = -0.2 }
				add_to_variable = { SOV_fyp_consumer_goods_expected_value = 0.02 }
				add_to_variable = { SOV_fyp_production_speed_industrial_complex_factor = 0.2 }
			}
			economy_fatigue_level_down_4 = yes
		}
	}

	focus = {
		id = SOV_finish_the_fifth_five_year_plan
		icon = GFX_goal_SOV_fifth_five_year_plan
		x = 0
		y = 1
		relative_position_id = SOV_revise_the_five_year_plan
		cost = 3
		ai_will_do = {
			factor = 5
		}
		available = {
			OR = {
				has_completed_focus = SOV_arsenal_of_communism
				has_completed_focus = SOV_revise_the_five_year_plan
			}
			date > 1955.1.1
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}

		completion_reward = {
			custom_effect_tooltip = SOV_finish_the_fifth_five_year_plan_tt
			add_to_variable = { SOV_fyp_political_power_cost = -0.5 }
			add_to_variable = { SOV_fyp_industrial_capacity_factory = -0.1 }
			add_to_variable = { SOV_fyp_consumer_goods_expected_value = 0.02 }
			add_to_variable = { SOV_fyp_production_speed_industrial_complex_factor = -0.2 }
		}
	}

	####################################################################################################################
	############################################# Emergency War Industry ###############################################
	####################################################################################################################
	focus = {
		id = SOV_split_the_pc_of_defence_industry
		icon = GFX_goal_SOV_peoples_commissariat
		cost = 3
		x = 11
		y = 0
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		available = {
			has_completed_focus = SOV_start_the_third_five_year_plan
			OR = {
				threat > 0.31
				any_country = {
					capital_scope = {
						is_on_continent = europe
					}
					has_added_tension_amount > 12
				}
				hidden_trigger = {
					69 = { controller = { tag = GER } }
				}
			}
		}
		completion_reward = {
			custom_effect_tooltip = available_economic_minister
			show_ideas_tooltip = SOV_georgy_malenkov
			add_timed_idea = {
				idea = disorganised_industry
				days = 730
			}

			remove_ideas = peoples_commissariat_focus

			if = {
				limit = {
					has_idea = partial_economic_mobilisation
				}
				add_political_power = 75
			}
			else = {
				add_ideas = partial_economic_mobilisation
			}
		}
	}
	focus = {
		id = SOV_pc_of_munitions
		icon = GFX_goal_SOV_pc_of_munitions
		relative_position_id = SOV_split_the_pc_of_defence_industry
		prerequisite = {
			focus = SOV_split_the_pc_of_defence_industry
		}
		cost = 3
		x = -3
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = SOV_centralized_control_rifles
				add_idea = SOV_centralized_control_rifles1
			}
			hidden_effect = {
				if = {
					#DEFAULT COMMIE
					limit = {
						has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier }
					}
					remove_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier }
					add_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier_munitions_production }
				}
			}
		}
	}
	focus = {
		id = SOV_pc_of_armament
		icon = GFX_goal_SOV_pc_of_armament
		relative_position_id = SOV_split_the_pc_of_defence_industry
		prerequisite = {
			focus = SOV_split_the_pc_of_defence_industry
		}
		cost = 4
		x = -1
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
            if = {
                limit = { has_aat = yes }
                unlock_military_industrial_organization_tooltip = mio:SOV_tula_arms_plant_organization
            }
            else = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = SOV_tula_arms_plant
            }
			if = {
				limit = {
					223 = {
						is_controlled_by = SOV
					}
				}
				223 = {
					add_extra_state_shared_building_slots = 8
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 4
						instant_build = yes
					}
				}
				40 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = arms_factory
						level = 4
						instant_build = yes
					}
				}
			}
			else = {
				40 = {
					add_extra_state_shared_building_slots = 8
					add_building_construction = {
						type = arms_factory
						level = 8
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = SOV_pc_of_armament_tt
			add_to_variable = { SOV_fyp_industrial_capacity_factory = 0.05 }
		}
	}
	focus = {
		id = SOV_pc_of_aviation_industry
		icon = GFX_goal_SOV_pc_of_aviation_industry
		relative_position_id = SOV_split_the_pc_of_defence_industry
		prerequisite = {
			focus = SOV_split_the_pc_of_defence_industry
		}
		cost = 4
		x = 1
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			if = {
				limit = { has_idea = SOV_expanded_aircraft_industry_bonus }
				swap_ideas = {
					remove_idea = SOV_expanded_aircraft_industry_bonus
					add_idea = SOV_increased_aircraft_production_ns_bonus
				}
			}
			else = {
				add_ideas = SOV_increased_aircraft_production_ns_bonus
			}
			219 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			247 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
			253 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SOV_pc_of_shipbuilding_industry
		icon = GFX_goal_SOV_pc_of_shipbuilding_industry
		relative_position_id = SOV_split_the_pc_of_defence_industry
		prerequisite = {
			focus = SOV_split_the_pc_of_defence_industry
		}
		cost = 3
		x = 3
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_pc_of_shipbuilding_industry_tt
			add_to_variable = {
				SOV_fyp_industrial_capacity_dockyard = 0.05
			}
			remove_ideas = SOV_centralized_control_ships
		}
	}
	################################# Great Patriotic War ###########################
	focus = {
		id = SOV_great_patriotic_war
		icon = GFX_focus_generic_join_comintern
		prerequisite = {
			focus = SOV_split_the_pc_of_defence_industry
		}
		x = 0
		y = 2
		relative_position_id = SOV_split_the_pc_of_defence_industry
		cost = 1
		ai_will_do = {
			factor = 500
		}
		available = {
			has_idea = SOV_stavka
			OR = {
				AND = {
					casualties > 2000000
					custom_trigger_tooltip = {
						tooltip = SOV_has_not_officers_purged_tt
						NOT = {
							has_idea = officers_purged
						}
						NOT = {
							has_idea = officers_purged_2
						}
						NOT = {
							has_idea = officers_purged_3
						}
						NOT = {
							has_idea = officers_purged_4
						}
						NOT = {
							has_idea = officers_purged_5
						}
						NOT = {
							has_idea = officers_purged_6
						}
						NOT = {
							has_idea = officers_purged_7
						}
						NOT = {
							has_idea = officers_purged_8
						}
						NOT = {
							has_idea = officers_purged_9
						}
						NOT = {
							has_idea = officers_purged_10
						}
					}
				}
				surrender_progress > 0.26
				if = {
				 	has_completed_focus = SOV_revolutionary_army
				}
			}
			any_enemy_country = {
				is_major = yes
			}
		}
		search_filters = {
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = {
			if = {
				limit = { SOV_is_stalinist = yes }
				deactivate_advisor = SOV_iosif_stalin
				hidden_effect = {	#Stalin can be replaced in army chief
					SOV_iosif_stalin = {
						remove_advisor_role = {
							slot = army_chief
						}
						add_advisor_role = {
							advisor = {
								slot = army_chief
								idea_token = SOV_iosif_stalin
								ledger = army
								traits = {
									supreme_commander
								}
							}
						}
					}
					if = {
						limit = { is_ai = yes }
						activate_advisor = georgy_zhukov
					}
					else = {
						activate_advisor = SOV_iosif_stalin
					}
				}
			}
			swap_ideas = {
				remove_idea = great_patriotic_war
				add_idea = great_patriotic_war_2
			}
			custom_effect_tooltip = SOV_great_patriotic_war_tt
			hidden_effect = {
				add_to_variable = { SOV_army_attitude = 1 }
				add_to_variable = { SOV_army_influence = 1 }
				set_country_flag = great_patriotic_war_flag
			}
		}
	}

	focus = {
		id = SOV_pc_of_mortar_armament
		icon = GFX_goal_SOV_pc_of_mortar_armament
		relative_position_id = SOV_great_patriotic_war
		prerequisite = {
			focus = SOV_great_patriotic_war
		}
		cost = 3
		x = -3
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				any_enemy_country = { is_major = yes }
				NOT = {
					if = {
						limit = { has_idea = cavalry_army_clique }
						has_idea = cavalry_army_clique
					}
					else_if = {
						limit = { has_idea = cavalry_army_clique_2 }
						has_idea = cavalry_army_clique_2
					}
					else = {
						has_idea = cavalry_army_clique_3
					}
				}
			}
		}

		completion_reward = {
			add_ideas = SOV_centralized_control_mg
			hidden_effect = {
				if = {
					#DEFAULT COMMIE
					limit = {
						has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier }
					}
					remove_dynamic_modifier = {
						modifier = SOV_soviet_industry_dynamic_modifier
					}
					add_dynamic_modifier = {
						modifier = SOV_soviet_industry_dynamic_modifier_mortar_production
					}
				}
				if = {
					limit = {
						has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier_munitions_production }
					}
					remove_dynamic_modifier = {
						modifier = SOV_soviet_industry_dynamic_modifier_munitions_production
					}
					add_dynamic_modifier = {
						modifier = SOV_soviet_industry_dynamic_modifier_mortar_production
					}
				}
			}
		}
	}

	focus = {
		id = SOV_pc_of_tank_industry
		icon = GFX_goal_SOV_pc_of_tank_industry
		relative_position_id = SOV_pc_of_mortar_armament
		prerequisite = {
			focus = SOV_pc_of_mortar_armament
		}
		cost = 3
		x = 0
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}

		available = {
			OR = {
				any_enemy_country = { is_major = yes }
				NOT = {
					if = {
						limit = { has_idea = cavalry_army_clique }
						has_idea = cavalry_army_clique
					}
					else_if = {
						limit = { has_idea = cavalry_army_clique_2 }
						has_idea = cavalry_army_clique_2
					}
					else = {
						has_idea = cavalry_army_clique_3
					}
				}
			}
		}
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			custom_effect_tooltip = SOV_pc_of_tank_industry_tt
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
					}
					add_ideas = SOV_cheap_construction_ai
				}
				set_technology = {
					cutting_corners = 1
					popup = no
				}
			}
		}
	}

	focus = {
		id = SOV_merge_evacuated_plants
		icon = GFX_focus_SOV_merge_plants
		prerequisite = { focus = SOV_great_patriotic_war }
		relative_position_id = SOV_great_patriotic_war
		x = -1
		y = 1
		cost = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_merge_evacuated_plants
				days = 182
			}
			custom_effect_tooltip = SOV_merge_evacuated_plants_wa_tt
		}
	}

	focus = {
		id = SOV_glavvoenstroi
		icon = GFX_goal_SOV_glavvoenstroi
		prerequisite = { focus = SOV_great_patriotic_war }
		x = 1
		y = 1
		relative_position_id = SOV_great_patriotic_war

		cost = 1

		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				any_enemy_country = { is_major = yes }
				NOT = {
					if = {
						limit = { has_idea = cavalry_army_clique }
						has_idea = cavalry_army_clique
					}
					else_if = {
						limit = { has_idea = cavalry_army_clique_2 }
						has_idea = cavalry_army_clique_2
					}
					else = {
						has_idea = cavalry_army_clique_3
					}
				}
			}
		}

		completion_reward = {
			custom_effect_tooltip = SOV_glavvoenstroi_tt
			add_to_variable = { SOV_fyp_consumer_goods_expected_value = -0.02 }
			add_to_variable = { SOV_fyp_production_speed_buildings_factor = 0.05 }
		}
	}

	focus = {
		id = SOV_defense_of_the_motherland
		icon = GFX_focus_SOV_the_defense_of_moscow
		prerequisite = { focus = SOV_great_patriotic_war }
		x = 3
		y = 1
		relative_position_id = SOV_great_patriotic_war

		available = {
			OR = {
				219 = {
					is_owned_and_controlled_by = SOV
				}
				195 = {
					is_owned_and_controlled_by = SOV
				}
			}
		}
		cost = 3
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 10
				has_war = yes
			}
		}
		search_filters = {
			FOCUS_FILTER_EMERGENCY
		}

		completion_reward = {
			if = {
				limit = {
					219 = {
						is_controlled_by = SOV
					}
				}
				219 = {
					custom_effect_tooltip = SOV_defense_of_the_motherland_moscow_forts
					hidden_effect = {
						add_building_construction = {
							type = anti_air_building
							level = 4
							instant_build = yes
						}
					}
					economy_fatigue_level_up_1 = yes
				}
			}
			hidden_effect = {
				if = {
					limit = { controls_province = 3391 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 3391
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 13394 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 8
							province = 13394
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 9348 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 9348
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 301 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 6
							province = 301
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 13395 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 13395
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 6348 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 6348
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 6290 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 6290
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 9282 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 9282
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 9302 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 9302
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 3358 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 3358
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 3259 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 6
							province = 3259
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 11282 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 11282
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 6380 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 8
							province = 6380
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 13236 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 8
							province = 13236
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 13237 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 8
							province = 13237
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 13238 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 8
							province = 13238
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 13239 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 13239
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 3290 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 3290
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 11330 }
					219 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 11330
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					195 = {
						is_controlled_by = SOV
					}
				}
				195 = {
					custom_effect_tooltip = SOV_defense_of_the_motherland_leningrad_forts
					hidden_effect = {
						add_building_construction = {
							type = anti_air_building
							level = 4
							instant_build = yes
						}
					}
					economy_fatigue_level_up_1 = yes
				}
			}
			hidden_effect = {
				if = {
					limit = { controls_province = 13241 }
					195 = {
						add_building_construction = {
							type = bunker
							level = 7
							province = 13241
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 3151 }
					195 = {
						add_building_construction = {
							type = bunker
							level = 7
							province = 3151
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 13243 }
					195 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 13243
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 149 }
					195 = {
						add_building_construction = {
							type = bunker
							level = 7
							province = 149
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 13240 }
					195 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 13240
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = {
					244 = {
						is_controlled_by = SOV
					}
				}
				244 = {
					custom_effect_tooltip = SOV_defense_of_the_motherland_volkhov_forts
					hidden_effect = {
						add_building_construction = {
							type = anti_air_building
							level = 2
							instant_build = yes
						}
					}
					economy_fatigue_level_up_1 = yes
				}
			}
			hidden_effect = {
				if = {
					limit = { controls_province = 9197 }
					244 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 9197
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 70 }
					244 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 70
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 6095 }
					244 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 6095
							instant_build = yes
						}
					}
				}
				if = {
					limit = { controls_province = 6035 }
					244 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 6035
							instant_build = yes
						}
					}
				}
			}
			custom_effect_tooltip = SOV_defense_of_the_motherland_tt
		}
	}

	focus = {
		id = SOV_women_in_the_army
		icon = GFX_focus_generic_women_in_military
		prerequisite = { focus = SOV_defense_of_the_motherland }
		x = 0
		y = 1
		relative_position_id = SOV_defense_of_the_motherland

		cost = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		available = {
			if = {
				limit = {
					is_ai = yes
				}
				OR = {
					has_idea = service_by_requirement
					has_idea = all_adults_serve
					has_idea = scraping_the_barrel
				}
			}
		}
		completion_reward = {
			add_ideas = women_in_the_frontlines
		}
	}
	focus = {
		id = SOV_tankograd
		icon = GFX_goal_SOV_tankograd
		relative_position_id = SOV_merge_evacuated_plants
		prerequisite = { focus = SOV_merge_evacuated_plants }
		prerequisite = { focus = SOV_glavvoenstroi }
		cost = 2
		x = 0
		y = 1
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		available = {
			572 = {
				is_owned_and_controlled_by = SOV
			}
		}
		completion_reward = {
			custom_effect_tooltip = SOV_extreme_economic_mobilisation_tt
			572 = {
				add_extra_state_shared_building_slots = 25
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				custom_effect_tooltip = SOV_tankograd_tt
			}
			economy_fatigue_level_up_3 = yes

			hidden_effect = {
				572 = {
					add_building_construction = {
						type = infrastructure
						level = 10
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SOV_uralvagonzavod
		icon = GFX_goal_SOV_uralvagonzavod
		relative_position_id = SOV_merge_evacuated_plants
		prerequisite = { focus = SOV_merge_evacuated_plants }
		prerequisite = { focus = SOV_glavvoenstroi }
		cost = 2
		x = 2
		y = 1
		available = {
			653 = {
				is_owned_and_controlled_by = SOV
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_extreme_economic_mobilisation_tt
			653 = {
				add_extra_state_shared_building_slots = 30
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				custom_effect_tooltip = SOV_tankograd_tt
			}
			economy_fatigue_level_up_3 = yes

			hidden_effect = {
				653 = {
					add_building_construction = {
						type = infrastructure
						level = 10
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SOV_war_winning_tanks
		icon = GFX_goal_SOV_war_winning_tanks
		relative_position_id = SOV_tankograd
		prerequisite = { focus = SOV_tankograd }
		prerequisite = { focus = SOV_uralvagonzavod }
		cost = 3
		x = 1
		y = 1
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_tech_bonus = {
				name = SOV_war_winning_tanks
				bonus = 0.5
				uses = 2
				technology = sov_medium_5
				technology = sov_medium_6
				technology = sov_medium_spg_3
				technology = sov_medium_td_3
				technology = sov_medium_td_4
			}
			add_tech_bonus = {
				name = SOV_war_winning_tanks
				bonus = 0.5
				uses = 2
				technology = sov_light_5
				technology = sov_light_6
				technology = sov_light_spg_5
				technology = sov_light_aa_5
				technology = sov_light_aa_6
			}
		}
	}
	############################################
	########## ARMED FORCES BRANCH #############
	############################################

	focus = {
		id = SOV_pc_of_defence
		icon = GFX_goal_SOV_central_military_commision
		x = 24
		y = 0

		cost = 3

		ai_will_do = {
			factor = 1
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP }

		completion_reward = {
			add_political_power = 25
			army_experience = 10
			air_experience = 10
		}
	}

	############## ARMY BRANCH ###############

	focus = {
		id = SOV_reinstate_general_staff_academy
		icon = GFX_goal_SOV_great_army
		prerequisite = { focus = SOV_pc_of_defence }
		relative_position_id = SOV_pc_of_defence
		x = 0
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		search_filters = { FOCUS_FILTER_ARMY_XP }

		completion_reward = {
			army_experience = 10
			every_army_leader = {
				add_trait = {
					trait = large_front_commander
				}
			}
			custom_effect_tooltip = SOV_reinstate_general_staff_academy_tt
			add_to_variable = { SOV_the_red_army_experience_gain_army_unit_factor = 0.1 }
		}
	}
	focus = {
		id = SOV_abolish_the_territorial_organisation
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = SOV_reinstate_general_staff_academy }
		relative_position_id = SOV_reinstate_general_staff_academy
		x = 0
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			custom_effect_tooltip = SOV_abolish_the_territorial_organisation_tt
			add_to_variable = { SOV_the_red_army_conscription_factor = 0.1 }
			add_to_variable = { SOV_the_red_army_training_time_factor = -0.1 }

			custom_effect_tooltip = recruiting_reserves_20
			country_event = sov_armor.817
			hidden_effect = {
				if = {
					limit = {
						check_variable = { ROOT.reserves < 110 }
					}
					add_to_variable = { ROOT.reserves = 20 }
				}
			}
		}
	}
	focus = {
		id = SOV_restore_cossack_units
		icon = GFX_focus_SOV_restore_cossack_units
		prerequisite = { focus = SOV_abolish_the_territorial_organisation }
		x = -1
		y = 1
		relative_position_id = SOV_abolish_the_territorial_organisation
		cost = 3

		search_filters = { FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_stability = 0.05
			custom_effect_tooltip = SOV_restore_cossack_units_ns_tt
			add_to_variable = { SOV_the_red_army_conscription_factor = 0.05 }

			show_unit_leaders_tooltip = SOV_lev_dovator

			#Spawn 4 Cossack divisions
			custom_effect_tooltip = SOV_restore_cossack_units_tt
			hidden_effect = {
				set_technology = {
					cossack_units = 1
					popup = no
				}

				division_template = {
					name = "Kazachya Kavaleryskaya Diviziya"
					division_names_group = SOV_CAV_02
					template_counter = 5
					regiments = {
						cavalry = { x = 0 y = 0 }
						cavalry = { x = 0 y = 1 }
						cavalry = { x = 0 y = 2 }

						cavalry = { x = 1 y = 0 }
						cavalry = { x = 1 y = 1 }
						cavalry = { x = 1 y = 2 }

						motorized_artillery_brigade = { x = 2 y = 0 }
						motorized_artillery_brigade = { x = 2 y = 1 }

						medium_armor = { x = 3 y = 0 }
					}
					support = {
						engineer = {
							x = 0
							y = 0
						}
						armoured_recon = {
							x = 0
							y = 1
						}
					}
				}
				capital_scope = {
					#Cossack Cavalry
					create_unit = {
						division = "name = \"4ya Donskaya Kazachya Kav. Div.\" division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8 start_equipment_factor = 1.0"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"6ya Kubansko-Terskaya Kazachya Kav. Div.\" division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8 start_equipment_factor = 1.0"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"10ya Tersko-Stavropolskaya Kazachya Kav. Div\" division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8 start_equipment_factor = 1.0"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"12ya Kubanskaya Kazachya Kav. Div.\" division_template = \"Kazachya Kavaleryskaya Diviziya\" start_experience_factor = 0.8 start_equipment_factor = 1.0"
						owner = ROOT
					}
				}
			}
		}
	}
	focus = {
		id = SOV_instate_political_commissars
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SOV_abolish_the_territorial_organisation }
		x = 1
		y = 1
		relative_position_id = SOV_abolish_the_territorial_organisation
		cost = 3

		available = {
			has_idea = SOV_politicized_military
		}
		bypass = {
			OR = {
				has_completed_focus = SOV_left_opposition_coup
				has_completed_focus = SOV_coup_detat
			}
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = SOV_politicized_military
				add_idea = SOV_politicized_military_keep
			}
		}
	}
	focus = {
		id = SOV_reserve_armies_administration
		icon = GFX_focus_SOV_mobilization_plan
		prerequisite = { focus = SOV_restore_cossack_units }
		prerequisite = { focus = SOV_instate_political_commissars }
		x = 0
		y = 2
		relative_position_id = SOV_abolish_the_territorial_organisation
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_MANPOWER
		}

		completion_reward = {
			custom_effect_tooltip = SOV_recruiting_reserves_40
			hidden_effect = {
				country_event = sov_armor.817
				if = {
					limit = {
						check_variable = { ROOT.reserves < 110 }
					}
					add_to_variable = { ROOT.reserves = 40 }
				}
			}
			custom_effect_tooltip = SOV_reserve_armies_administration_tt
			add_to_variable = { SOV_the_red_army_minimum_training_level = -0.05 }
			add_to_variable = { SOV_the_red_army_mobilization_speed = 0.1 }
			add_to_variable = { SOV_the_politburo_mobilization_laws_cost_factor = -0.1 }
			if = {
				limit = { has_idea = limited_conscription }
				add_political_power = 100
			}
			else = {
				add_ideas = limited_conscription
			}
			if = {
				limit = { has_idea = mass_assault_army_spirit }
				army_experience = 35
			}
			else = {
				if = {
					limit = {
						is_ai = no
					}
					add_ideas = mass_assault_army_spirit
				}
			}
		}
	}
	focus = {
		id = SOV_lessons_of_war
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SOV_reserve_armies_administration }
		relative_position_id = SOV_reserve_armies_administration
		x = 0
		y = 1

		available = {
			OR = {
				has_country_flag = SOV_lessons_of_war_check_flag
				casualties_k > 100
			}
		}
		cost = 3
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_ARMY_XP
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			#unlocks first army reform
			activate_advisor = semyon_timoshenko

			add_to_variable = { SOV_the_red_army_army_infantry_defence_factor = 0.15 }
			add_to_variable = { SOV_the_red_army_experience_gain_army_unit_factor = 0.1 }
			add_to_variable = { SOV_the_red_army_winter_attrition_factor = -0.1 }
			add_to_variable = { SOV_the_red_army_heat_attrition_factor = -0.1 }
			add_to_variable = { SOV_the_red_army_acclimatization_cold_climate_gain_factor = 0.1 }
			add_to_variable = { SOV_the_red_army_acclimatization_hot_climate_gain_factor = 0.1 }
			add_to_variable = { SOV_the_red_army_terrain_penalty_reduction = 0.05 }
			custom_effect_tooltip = SOV_lessons_of_war_tt
			add_ideas = winter_experts
			if = {
				limit = {
					has_idea = mass_assault_corps_spirit
				}
				remove_ideas = mass_assault_corps_spirit
			}
			add_doctrine_cost_reduction = {
				name = SOV_lessons_of_war
				cost_reduction = 0.99
				uses = 1
				category = cat_grand_battle_plan
			}
			add_tech_bonus = {
				name = SOV_lessons_of_war
				bonus = 1
				uses = 1
				technology = sov_heavy_tank_chassis_2
				technology = sov_heavy_tank_chassis_2_2
			}
			hidden_effect = {
				set_country_flag = SOV_lessons_of_war_flag
			}
		}
	}
	focus = {
		id = SOV_army_reorganization
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = SOV_lessons_of_war }
		x = 0
		y = 1
		relative_position_id = SOV_lessons_of_war
		cost = 3

		select_effect = {
			add_timed_idea = { idea = SOV_army_reorganization_ns days = 365 }
		}
		ai_will_do = {
			factor = 10
		}

		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}

		completion_reward = {
			#Tooltip purposes (Select Effect)
			custom_effect_tooltip = SOV_focus_select_effect_tt
			effect_tooltip = {
				add_timed_idea = { idea = SOV_army_reorganization_ns days = 365 }
			}
			#(Complete Effect)
			custom_effect_tooltip = SOV_focus_complete_effect_tt

			add_to_variable = { SOV_the_red_army_experience_gain_army_unit_factor = 0.1 }
			add_to_variable = { SOV_the_red_army_training_time_factor = -0.3 }
			add_to_variable = { SOV_the_red_army_minimum_training_level = -0.05 }
			custom_effect_tooltip = SOV_army_reorganization_ns_tt
			activate_mission = SOV_the_greatest_army
			add_doctrine_cost_reduction = {
				name = SOV_army_reorganization
				cost_reduction = 0.99
				uses = 1
				category = land_doctrine
			}
			add_doctrine_cost_reduction = {
				name = SOV_army_reorganization
				cost_reduction = 0.99
				uses = 1
				category = air_doctrine
			}
			add_doctrine_cost_reduction = {
				name = SOV_army_reorganization
				cost_reduction = 0.99
				uses = 1
				category = naval_doctrine
			}

			custom_effect_tooltip = SOV_recruiting_reserves_40
			hidden_effect = {
				country_event = sov_armor.817
				if = {
					limit = {
						check_variable = { ROOT.reserves < 110 }
					}
					add_to_variable = { ROOT.reserves = 40 }
				}
			}
		}
	}
	focus = {
		id = SOV_war_heroes
		icon = GFX_focus_ETH_callout_to_the_world
		prerequisite = { focus = SOV_army_reorganization}
		x = 0
		y = 1
		relative_position_id = SOV_army_reorganization
		cost = 3
		ai_will_do = {
			factor = 1
		}

		search_filters = {
			FOCUS_FILTER_INTERNAL_AFFAIRS
		}

		completion_reward = {
			add_ideas = SOV_war_heroes_ns
			add_to_variable = { SOV_army_influence = 1 }
			if = {
				limit = {
					is_ai = no
				}
				if = {
					limit = {
						SOV_georgy_zhukov = {
							NOT = {
								has_character_flag = SOV_character_purged_flag
							}
							is_corps_commander = yes
						}
					}
					SOV_georgy_zhukov = {
						promote_leader = yes
					}
				}
				else = {
					random_army_leader = {
						limit = {
							NOT = {
								has_character_flag = SOV_potential_target_flag
							}
							is_corps_commander = yes
							NOT = {
								is_character = SOV_grigory_kulik
							}
							NOT = {
								is_character = SOV_semyon_timoshenko
							}
							NOT = {
								is_character = SOV_boris_shaposhnikov
							}
						}
						promote_leader = yes
					}
				}
				if = {
					limit = {
						SOV_grigory_kulik = {
							NOT = {
								has_character_flag = SOV_character_purged_flag
							}
							is_corps_commander = yes
						}
					}
					SOV_grigory_kulik = {
						promote_leader = yes
					}
				}
				else = {
					random_army_leader = {
						limit = {
							NOT = {
								has_character_flag = SOV_potential_target_flag
							}
							is_corps_commander = yes
							NOT = {
								is_character = SOV_georgy_zhukov
							}
							NOT = {
								is_character = SOV_semyon_timoshenko
							}
							NOT = {
								is_character = SOV_boris_shaposhnikov
							}
						}
						promote_leader = yes
					}
				}
				if = {
					limit = {
						SOV_semyon_timoshenko = {
							NOT = {
								has_character_flag = SOV_character_purged_flag
							}
							is_corps_commander = yes
						}
					}
					SOV_semyon_timoshenko = {
						promote_leader = yes
					}
				}
				else = {
					random_army_leader = {
						limit = {
							NOT = {
								has_character_flag = SOV_potential_target_flag
							}
							is_corps_commander = yes
							NOT = {
								is_character = SOV_georgy_zhukov
							}
							NOT = {
								is_character = SOV_grigory_kulik
							}
							NOT = {
								is_character = SOV_boris_shaposhnikov
							}
						}
						promote_leader = yes
					}
				}
				if = {
					limit = {
						SOV_boris_shaposhnikov = {
							NOT = {
								has_character_flag = SOV_character_purged_flag
							}
							is_corps_commander = yes
						}
					}
					SOV_boris_shaposhnikov = {
						promote_leader = yes
					}
				}
				else = {
					random_army_leader = {
						limit = {
							NOT = {
								has_character_flag = SOV_potential_target_flag
							}
							is_corps_commander = yes
							NOT = {
								is_character = SOV_georgy_zhukov
							}
							NOT = {
								is_character = SOV_grigory_kulik
							}
							NOT = {
								is_character = SOV_semyon_timoshenko
							}
						}
						promote_leader = yes
					}
				}
			}
			if = {
				limit = {
					SOV_konstantin_rokossovsky = {
						has_character_flag = SOV_sent_to_gulag_flag
					}
				}
				SOV_konstantin_rokossovsky = {
					custom_effect_tooltip = SOV_release_from_gulag_tt
					clr_character_flag = SOV_sent_to_gulag_flag
				}
			}
		}
	}

	### STAVKA ###
	focus = {
		id = SOV_form_the_stavka
		icon = GFX_goal_support_communism
		x = 0
		y = 1
		relative_position_id = SOV_war_heroes
		cost = 3
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 100
				has_war = yes
			}
		}
		available = {
			if = {
				limit = { has_completed_focus = SOV_the_path_of_marxism_leninism }
				OR = {
					has_civil_war = yes
					AND = {
						has_war = yes
						any_enemy_country = {
							is_major = yes
						}
					}
					threat > 0.99
				}
			}
			else = {
				OR = {
					threat > 0.99
					AND = {
						has_war = yes
						any_enemy_country = {
							is_major = yes
						}
					}
				}
				has_civil_war = no
			}

			if = { #remove this check for 7.9
				limit = {
					has_completed_focus = SOV_lessons_of_war
					NOT = { has_country_flag = SOV_lessons_of_war_flag }
				}
			}
			else = {
				has_country_flag = {
					flag = SOV_lessons_of_war_flag
					days > 364
				}
				custom_trigger_tooltip = {
					tooltip = SOV_lessons_of_war_flag_tt
					has_country_flag = {
						flag = SOV_lessons_of_war_flag
						days > 364
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_EMERGENCY
		}

		select_effect = {
			if = {
				limit = { has_completed_focus = SOV_socialism_in_one_country }
				activate_advisor = SOV_iosif_stalin
			}
			###Industry relocation + scorched earth###
		}

		completion_reward = {
			#Tooltip purposes (Select Effect)
			custom_effect_tooltip = SOV_focus_select_effect_tt
			if = {
				limit = { has_completed_focus = SOV_socialism_in_one_country }
				effect_tooltip = {
					activate_advisor = SOV_iosif_stalin
				}
			}
			custom_effect_tooltip = SOV_desperate_measures_decisions_unlocked_tt
			#(Complete Effect)
			custom_effect_tooltip = SOV_focus_complete_effect_tt
			add_ideas = SOV_stavka
			swap_ideas = {
				remove_idea = home_of_revolution
				add_idea = great_patriotic_war
			}
			if = {
				limit = {
					OR = {
						has_idea = disarmed_nation
						has_idea = volunteer_only
						has_idea = limited_conscription
					}
				}
				add_ideas = extensive_conscription
			}
			if = {
				limit = {
					OR = {
						has_idea = free_trade
						has_idea = export_focus
					}
				}
				add_ideas = collectivization
			}
			if = {
				limit = {
					has_idea = tot_economic_mobilisation
				}
				add_political_power = 100
			}
			else = {
				add_ideas = tot_economic_mobilisation
			}
			custom_effect_tooltip = SOV_form_the_stavka_tt
			hidden_effect = {
				add_to_variable = { SOV_army_attitude = 1 }
				add_to_variable = { SOV_army_influence = -1 }
				add_to_variable = { SOV_commissars_influence = 2 }
			}

			add_tech_bonus = {
				name = SOV_form_the_stavka
				bonus = 1
				uses = 1
				technology = sov_mechanized_td_1
			}
		}
	}
	focus = {
		id = SOV_a_multiethnic_army
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = SOV_form_the_stavka }
		x = -2
		y = 1
		relative_position_id = SOV_form_the_stavka

		cost = 3

		ai_will_do = {
			factor = 1
		}




		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }
		available_if_capitulated = yes

		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.1
			custom_effect_tooltip = SOV_a_multiethnic_army_tt
			add_to_variable = { SOV_the_red_army_conscription_factor = 0.05 }
		}
	}
	focus = {
		id = SOV_guards_mortars
		icon = GFX_goal_SOV_guards_mortars
		prerequisite = { focus = SOV_a_multiethnic_army }
		x = 1
		y = 1
		relative_position_id = SOV_a_multiethnic_army
		cost = 6
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = SOV_guards_mortars
				bonus = 2
				uses = 2
				technology = sov_mechanized_artillery_1
				technology = sov_mechanized_artillery_2
				technology = sov_mechanized_artillery_3
			}
			add_tech_bonus = {
				name = SOV_guards_mortars
				bonus = 0.5
				uses = 2
				category = rocketry
			}
			add_doctrine_cost_reduction = {
				name = SOV_guards_mortars
				cost_reduction = 0.99
				uses = 2
				category = cat_superior_firepower
			}
		}
	}
	focus = {
		id = SOV_guards_units
		icon = GFX_goal_SOV_guards_units
		prerequisite = { focus = SOV_a_multiethnic_army }
		x = 0
		y = 2
		relative_position_id = SOV_a_multiethnic_army
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		completion_reward = {
			add_tech_bonus = {
				name = SOV_guards
				bonus = 0.5
				uses = 3
				category = marine_tech
				category = para_tech
				category = mountaineers_tech
			}
			custom_effect_tooltip = SOV_guards_unit
			show_unit_leaders_tooltip = SOV_ivan_bagramyan
			hidden_effect = {
				if = {
					limit = {
						is_ai = no
					}
					division_template = {
						name = "Guards Rifle Division"
						division_names_group = SOV_GRD_01
						regiments = {
							heavy_infantry = { x = 0 y = 0 }
							heavy_infantry = { x = 0 y = 1 }
							heavy_infantry = { x = 0 y = 2 }

							heavy_infantry = { x = 1 y = 0 }
							heavy_infantry = { x = 1 y = 1 }
							heavy_infantry = { x = 1 y = 2 }

							heavy_infantry = { x = 2 y = 0 }
							heavy_infantry = { x = 2 y = 1 }
							heavy_infantry = { x = 2 y = 2 }

							motorized_rocket_brigade = { x = 3 y = 0 }
							motorized_rocket_brigade = { x = 3 y = 1 }
							motorized_rocket_brigade = { x = 3 y = 2 }

							anti_air_brigade = { x = 4 y = 0 }
							anti_tank_brigade = { x = 4 y = 1 }
							anti_tank_brigade = { x = 4 y = 2 }
							anti_tank_brigade = { x = 4 y = 3 }

						}
						support = {
							engineer = { x = 0 y = 0 }
							rocket_artillery = { x = 0 y = 1 }
							horse_logistics_company = { x = 0 y = 2 }
							signal_company = { x = 0 y = 3 }

							recon = { x = 1 y = 0 }
							field_hospital = { x = 1 y = 1 }
							anti_air = { x = 1 y = 2 }
							anti_tank = { x = 1 y = 3 }
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_guards_armies
		icon = GFX_goal_SOV_guards_armies
		prerequisite = { focus = SOV_guards_units }
		x = 0
		y = 1
		relative_position_id = SOV_guards_units
		cost = 6
		ai_will_do = {
			factor = 1
		}
		available = {
			has_country_flag = SOV_army_reform_3
		}
		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = SOV_guards_armies
				bonus = 0.5
				uses = 2
				category = heavy_infantry_weapons
				category = infantry_weapons
				category = cat_mechanized_equipment
			}
			add_doctrine_cost_reduction = {
				name = SOV_guards_armies
				cost_reduction = 0.99
				uses = 1
				category = cat_grand_battle_plan
			}
		}
	}
	focus = {
		id = SOV_positive_heroism
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = SOV_form_the_stavka }
		x = 2
		y = 1
		relative_position_id = SOV_form_the_stavka
		cost = 3

		search_filters = {
			FOCUS_FILTER_PROPAGANDA
			FOCUS_FILTER_POLITICAL
		}

		completion_reward = {
			add_political_power = 50
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = konstantin_rokossovsky
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = georgy_zhukov
			custom_effect_tooltip = SOV_positive_heroism_tt
			if = {
				limit = {
					is_ai = yes
				}
				activate_advisor = georgy_zhukov
			}
			hidden_effect = {
				add_to_variable = { SOV_army_attitude = 1 }
				add_to_variable = { SOV_army_influence = 1 }
			}
		}
	}

	focus = {
		id = SOV_experts_in_camouflage
		icon = GFX_goal_SOV_experts_in_camouflage
		prerequisite = { focus = SOV_positive_heroism }
		x = -1
		y = 1
		relative_position_id = SOV_positive_heroism
		cost = 6

		search_filters = {
		}

		completion_reward = {
			if = {
				limit = { NOT = { has_tech = camo1 } }
				set_technology = {
					camo1 = 1
				}
			}
			else = {
				set_technology = {
					camo2 = 1
				}
			}
			add_tech_bonus = {
				name = SOV_experts_in_camouflage
				category = cat_camo
				bonus = 1
				uses = 2
			}
		}
	}
	focus = {
		id = SOV_preserve_veteran_units
		icon = GFX_goal_SOV_preserve_veteran_units
		prerequisite = { focus = SOV_positive_heroism }
		x = 0
		y = 2
		relative_position_id = SOV_positive_heroism
		cost = 3


		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}

		completion_reward = {
			add_to_variable = { SOV_the_red_army_army_org_factor = 0.05 }
			add_to_variable = { SOV_the_red_army_experience_gain_army_unit_factor = 0.2 }
			add_to_variable = { SOV_the_red_army_experience_loss_factor = -0.15 }
			custom_effect_tooltip = SOV_cohesion_first_tt
			add_doctrine_cost_reduction = {
				name = SOV_preserve_veteran_units
				cost_reduction = 0.99
				uses = 1
				category = cat_grand_battle_plan
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = { SOV_the_red_army_army_attack_factor = 0 }
						check_variable = { SOV_the_red_army_army_speed_factor = 0 }
						check_variable = { SOV_the_red_army_breakthrough_factor = 0 }
						check_variable = { SOV_the_red_army_land_doctrine_cost_factor = 0 }
						check_variable = { SOV_the_red_army_army_org_factor = 0 }
					}
					remove_dynamic_modifier = { modifier = SOV_the_red_army_dynamic_modifier }
					remove_dynamic_modifier = { modifier = SOV_the_red_army_dynamic_modifier_alt }
				}
			}
		}
	}
	focus = {
		id = SOV_the_road_of_life
		icon = GFX_focus_SOV_the_road_of_life
		prerequisite = { focus = SOV_preserve_veteran_units }
		x = 0
		y = 1
		relative_position_id = SOV_preserve_veteran_units
		cost = 6

		ai_will_do = {
			factor = 100
		}
		search_filters = {
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = {
			unlock_decision_tooltip = SOV_the_road_of_life
		}
	}

	focus = {
		id = SOV_rebuild_the_army
		icon = GFX_goal_generic_commit_to_the_war
		prerequisite = { focus = SOV_form_the_stavka }
		relative_position_id = SOV_form_the_stavka
		x = 0
		y = 1

		cost = 2

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				surrender_progress > 0.28
				casualties_k > 1500
				has_completed_focus = SOV_revolutionary_army
			}
		}
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_EMERGENCY }

		completion_reward = {
			custom_effect_tooltip = SOV_rebuild_the_army_tt
			add_timed_idea = {
				idea = army_rebuilding
				days = 365
			}
			add_to_variable = { SOV_the_red_army_minimum_training_level = -0.1 }
			hidden_effect = {
				if = {
					limit = {
						is_ai = no
					}
					division_template = {
						name = "Prizyvnaya diviziya"
						division_names_group = SOV_INF_01
						obsolete = yes
						division_cap = 240
						regiments = {
							heavy_infantry = { x = 0 y = 0 }
							heavy_infantry = { x = 0 y = 1 }
							heavy_infantry = { x = 0 y = 2 }

							heavy_infantry = { x = 1 y = 0 }
							heavy_infantry = { x = 1 y = 1 }
							heavy_infantry = { x = 1 y = 2 }

							heavy_infantry = { x = 2 y = 0 }
							heavy_infantry = { x = 2 y = 1 }
							heavy_infantry = { x = 2 y = 2 }

							artillery_brigade = { x = 3 y = 0 }
							artillery_brigade = { x = 3 y = 1 }
							artillery_brigade = { x = 3 y = 2 }
							artillery_brigade = { x = 3 y = 3 }

							anti_air_brigade = { x = 4 y = 0 }
							anti_tank_brigade = { x = 4 y = 1 }
							anti_tank_brigade = { x = 4 y = 2 }
							anti_tank_brigade = { x = 4 y = 3 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							horse_logistics_company = { x = 0 y = 1 }
							artillery = { x = 0 y = 2 }
							anti_air = { x = 0 y = 3 }

							recon = { x = 1 y = 0 }
							horse_field_hospital = { x = 1 y = 1 }
							horse_signal_company = { x = 1 y = 2 }
							anti_tank = { x = 1 y = 3 }
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_disband_the_cavalry_army_clique
		icon = GFX_goal_SOV_cavalry_army_clique
		prerequisite = { focus = SOV_rebuild_the_army }
		x = 0
		y = 2
		relative_position_id = SOV_rebuild_the_army
		cost = 3
		ai_will_do = {
			factor = 1
		}
		bypass = {
			NOT = {
				has_idea = cavalry_army_clique
				has_idea = cavalry_army_clique_2
				has_idea = cavalry_army_clique_3
			}
		}
		available = {
			has_country_flag = SOV_army_reform_2
		}
		available_if_capitulated = yes

		completion_reward = {
			retire_character = SOV_kliment_voroshilov
			retire_character = SOV_grigory_kulik
			retire_character = SOV_dmitry_pavlov
			if = {
				limit = {
					has_idea = cavalry_army_clique_3
				}
				remove_ideas = cavalry_army_clique_3
			}
			if = {
				limit = {
					has_idea = cavalry_army_clique_2
				}
				remove_ideas = cavalry_army_clique_2
			}
			else_if = {
				limit = {
					has_idea = cavalry_army_clique
				}
				remove_ideas = cavalry_army_clique
			}
		}
	}
	focus = {
		id = SOV_swap_to_political_advisors
		icon = GFX_goal_generic_general
		prerequisite = { focus = SOV_disband_the_cavalry_army_clique }
		x = 0
		y = 1
		relative_position_id = SOV_disband_the_cavalry_army_clique

		cost = 6

		bypass = {
			has_completed_focus = SOV_depoliticize_the_military
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			if = {
				limit = {
					has_idea = SOV_politicized_military_keep
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military_keep
					add_idea = SOV_politicized_military_swap
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_politicized_military_keep_humanism
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military_keep_humanism
					add_idea = SOV_politicized_military_swap_humanism
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SOV_politicized_military
					add_idea = SOV_politicized_military_swap
				}
			}
		}
	}
	focus = {
		id = SOV_the_red_storm
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		prerequisite = { focus = SOV_guards_armies }
		prerequisite = { focus = SOV_swap_to_political_advisors }
		prerequisite = { focus = SOV_the_road_of_life }
		x = 1
		y = 1
		relative_position_id = SOV_swap_to_political_advisors

		cost = 6

		available = {
			OR = {
				surrender_progress > 0.28
				has_country_flag = SOV_army_reform_3
			}
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			unlock_decision_tooltip = SOV_operation_mars
			unlock_decision_tooltip = SOV_operation_uranus
			unlock_decision_tooltip = SOV_operation_saturn
		}
	}

	focus = {
		id = SOV_our_motherland_our_people_our_blood
		icon = GFX_goal_SOV_our_motherland_our_people_our_blood
		prerequisite = { focus = SOV_guards_armies }
		prerequisite = { focus = SOV_swap_to_political_advisors }
		prerequisite = { focus = SOV_the_road_of_life }
		x = -1
		y = 1
		relative_position_id = SOV_swap_to_political_advisors

		cost = 6

		ai_will_do = {
			factor = 1
		}
		available = {
			surrender_progress > 0
			has_country_flag = SOV_army_reform_3
			custom_trigger_tooltip = {
				tooltip = SOV_our_motherland_our_people_our_blood_tt
				OR = {
					has_tech = harrassment_fire
					has_tech = constant_barrage
					has_tech = fire_by_command
					has_tech = fire_by_request
					has_tech = war_of_movement
					has_tech = war_of_supremacy
					has_tech = war_of_annihilation
					has_tech = skirmish_lines
					has_tech = blob_formations
					has_tech = supply_depots
					has_tech = continuous_offensive
				}
			}
		}

		completion_reward = {
			unlock_decision_tooltip = SOV_operation_bagration
		}
	}

	focus = {
		id = SOV_lay_the_foundations_of_retribution
		icon = GFX_goal_SOV_foundations_of_retribution
		x = 1
		y = 1
		relative_position_id = SOV_our_motherland_our_people_our_blood

		cost = 10

		available = {
			has_global_flag = GER_SOV_ceasefire
		}
		allow_branch = {
			has_global_flag = GER_SOV_ceasefire
		}
		ai_will_do = {
			factor = 1
		}


		completion_reward = {
			economy_fatigue_level_down_10 = yes
			add_ideas = SOV_foundations_of_retribution
			custom_effect_tooltip = foundations_of_retribution_tt
			hidden_effect = {
				set_country_flag = foundations_of_retribution_flag
			}
		}
	}

	######################
	### Army Doctrines ###
	######################

	focus = {
		id = SOV_cult_of_the_offensive
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = { focus = SOV_pc_of_defence }
		relative_position_id = SOV_pc_of_defence
		x = -3
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}


		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SOV_cult_of_the_offensive_tt
			add_to_variable = { SOV_the_red_army_army_defence_factor = -0.1 }
			add_to_variable = { SOV_the_red_army_army_org_regain = 0.05 }
			add_to_variable = { SOV_the_red_army_land_reinforce_rate = 0.05 }
			add_to_variable = { SOV_the_red_army_army_attack_factor = 0.05 }

			add_doctrine_cost_reduction = {
				cost_reduction = 0.99
				name = SOV_cult_of_the_offensive
				category = cat_grand_battle_plan
			}
		}
	}
	focus = {
		id = SOV_concentrated_artillery
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = SOV_cult_of_the_offensive }
		relative_position_id = SOV_cult_of_the_offensive
		x = 0
		y = 2

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = { }
		search_filters = { FOCUS_FILTER_ARMY_XP }
		available_if_capitulated = yes

		completion_reward = {
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = SOV_concentrated_artillery
				cost_reduction = 0.99
				uses = 2
				category = cat_superior_firepower
			}
		}
	}
	focus = {
		id = SOV_attempt_combined_arms
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = SOV_concentrated_artillery }
		relative_position_id = SOV_concentrated_artillery
		x = 0
		y = 2

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = { has_country_flag = SOV_army_reform_1 }
		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					is_ai = no
				}
				custom_effect_tooltip = SOV_attempt_combined_arms_tt
				hidden_effect = {
					division_template = {
						name = "Tankovaya Korpus"
						division_names_group = SOV_ARM_02
						priority = 2
						regiments = {
							medium_armor = { x = 0 y = 0 }
							medium_armor = { x = 0 y = 1 }
							medium_armor = { x = 0 y = 2 }
							medium_armor = { x = 0 y = 3 }

							medium_armor = { x = 1 y = 0 }
							medium_armor = { x = 1 y = 1 }
							medium_armor = { x = 1 y = 2 }
							medium_armor = { x = 1 y = 3 }

							motorized = { x = 2 y = 0 }
							motorized = { x = 2 y = 1 }
							motorized = { x = 2 y = 2 }
							motorized = { x = 2 y = 3 }
							motorized = { x = 2 y = 4 }

							motorized_rocket_brigade = { x = 3 y = 0 }
							motorized_rocket_brigade = { x = 3 y = 1 }
						}
						support = {
							armored_engineer = { x = 0 y = 0 }
							motorized_logistics_company = { x = 0 y = 1 }
							mot_maintenance_company = { x = 0 y = 2 }
							signal_company = { x = 0 y = 3 }

							armoured_recon = { x = 1 y = 0 }
						}
					}
				}
			}
			add_doctrine_cost_reduction = {
				name = SOV_attempt_combined_arms
				cost_reduction = 0.99
				uses = 1
				category = cat_grand_battle_plan
			}
			add_doctrine_cost_reduction = {
				name = SOV_attempt_combined_arms
				cost_reduction = 0.99
				uses = 1
				category = cat_superior_firepower
			}
		}
	}
	focus = {
		id = SOV_Shock_armies
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = SOV_attempt_combined_arms
		}
		x = 0
		y = 2
		relative_position_id = SOV_attempt_combined_arms
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SOV_Shock_armies_tt
			hidden_effect = {
				set_technology = {
					shock_division_hq = 1
					popup = no
				}
			}
			add_doctrine_cost_reduction = {
				name = SOV_Shock_armies
				cost_reduction = 0.99
				uses = 1
				category = cat_superior_firepower
			}
			add_doctrine_cost_reduction = {
				name = SOV_Shock_armies
				cost_reduction = 0.99
				uses = 1
				category = cat_grand_battle_plan
			}
		}
	}
	focus = {
		id = SOV_adapt_to_enemy_tactics
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = SOV_Shock_armies }
		prerequisite = { focus = SOV_form_the_stavka }
		x = -4
		y = 1
		relative_position_id = SOV_form_the_stavka
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available = {
			has_country_flag = SOV_army_reform_2
		}
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SOV_adapt_to_enemy_tactics_tt
			add_to_variable = { SOV_the_red_army_army_defence_factor = 0.1 }
			add_to_variable = { SOV_the_red_army_training_time_factor = -0.1 }
		}
	}

	focus = {
		id = SOV_tank_armies
		icon = GFX_goal_SOV_perfecting_of_the_armour_core
		prerequisite = { focus = SOV_adapt_to_enemy_tactics }
		x = 0
		y = 1
		relative_position_id = SOV_adapt_to_enemy_tactics
		cost = 3
		ai_will_do = {
			factor = 1
		}


		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}

		completion_reward = {
			army_experience = 25
			if = {
				limit = {
					is_ai = no
				}
				custom_effect_tooltip = SOV_tank_armies_tt
				hidden_effect = {
					division_template = {
						name = "Gvds. Tankovaya Korpus"
						division_names_group = SOV_GTC_01
						priority = 2
						regiments = {
							heavy_armor = { x = 0 y = 0 }
							heavy_armor = { x = 0 y = 1 }
							heavy_armor = { x = 0 y = 2 }

							heavy_armor = { x = 1 y = 0 }
							heavy_armor = { x = 1 y = 1 }
							heavy_armor = { x = 1 y = 2 }

							light_assault_brigade = { x = 2 y = 0 }
							light_assault_brigade = { x = 2 y = 1 }

							motorized = { x = 3 y = 0 }
							motorized = { x = 3 y = 1 }
							motorized = { x = 3 y = 2 }
							motorized = { x = 3 y = 3 }
							motorized = { x = 3 y = 4 }

							motorized_rocket_brigade = { x = 4 y = 0 }
							motorized_rocket_brigade = { x = 4 y = 1 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							motorized_logistics_company = { x = 0 y = 1 }
							mot_maintenance_company = { x = 0 y = 2 }
							signal_company = { x = 0 y = 3 }

							armoured_recon = { x = 1 y = 0 }
						}
					}
				}
			}
			add_doctrine_cost_reduction = {
				name = SOV_tank_armies
				cost_reduction = 0.99
				uses = 1
				category = cat_mobile_warfare
			}
			show_unit_leaders_tooltip = SOV_pavel_rybalko
			add_to_variable = { SOV_the_red_army_army_armor_attack_factor = 0.1 }
			add_to_variable = { SOV_the_red_army_army_armor_defence_factor = 0.1 }
		}
	}
	focus = {
		id = SOV_deep_battle
		icon = GFX_goal_SOV_deep_battle
		prerequisite = { focus = SOV_tank_armies }
		x = 0
		y = 1
		relative_position_id = SOV_tank_armies
		cost = 6
		ai_will_do = {
			factor = 1
		}
		available = {
			has_country_flag = SOV_army_reform_3
		}
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SOV_deep_battle_tt
			add_to_variable = { SOV_the_red_army_breakthrough_factor = 0.1 }
			add_to_variable = { SOV_the_red_army_army_armor_speed_factor = 0.1 }
			set_technology = {
				deep_battle = 1
			}
			#add_doctrine_cost_reduction = {
			#	name = SOV_deep_battle
			#	cost_reduction = 0.99
			#	uses = 2
			#	category = cat_mobile_warfare
			#}
			hidden_effect = {
				if = {
					limit = {
						check_variable = { SOV_the_red_army_army_attack_factor = 0 }
						check_variable = { SOV_the_red_army_army_speed_factor = 0 }
						check_variable = { SOV_the_red_army_breakthrough_factor = 0 }
						check_variable = { SOV_the_red_army_land_doctrine_cost_factor = 0 }
						check_variable = { SOV_the_red_army_army_org_factor = 0 }
					}
					remove_dynamic_modifier = { modifier = SOV_the_red_army_dynamic_modifier }
					remove_dynamic_modifier = { modifier = SOV_the_red_army_dynamic_modifier_alt }
				}
			}
		}
	}
	focus = {
		id = SOV_offensive_juggernaut
		icon = GFX_focus_SOV_builder_of_the_red_army
		prerequisite = { focus = SOV_deep_battle }
		x = 0
		y = 1
		relative_position_id = SOV_deep_battle
		cost = 6
		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SOV_offensive_juggernaut
				cost_reduction = 0.99
				uses = 2
				category = cat_mobile_warfare
				category = cat_superior_firepower
			}
		}
	}
	###
	focus = {
		id = SOV_modernization_of_the_rifle_corps
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = SOV_pc_of_defence }
		x = 3
		y = 1
		relative_position_id = SOV_pc_of_defence
		cost = 3
		ai_will_do = {
			factor = 1
		}


		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 1
				uses = 1
				technology = sov_mechanized_infantry_1
				technology = sov_mechanized_infantry_2
			}
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 0.5
				uses = 3
				category = support_tech
			}
			add_tech_bonus = {
				name = SOV_modernization_of_the_rifle_corps
				bonus = 0.5
				uses = 1
				category = cat_anti_tank
			}
		}
	}
	focus = {
		id = SOV_mechanization_of_the_red_army
		icon = GFX_goal_generic_research_tanks
		prerequisite = { focus = SOV_modernization_of_the_rifle_corps }
		x = 0
		y = 2
		relative_position_id = SOV_modernization_of_the_rifle_corps
		cost = 3
		ai_will_do = {
			factor = 1
		}


		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_mechanization_of_the_red_army
				bonus = 0.5
				uses = 1
				technology = sov_light_tank_chassis_3
				technology = sov_medium_tank_chassis_3
			}
			add_tech_bonus = {
				name = SOV_mechanization_of_the_red_army
				bonus = 1.5
				uses = 2
				technology = sov_light_tank_chassis_1_2
				technology = sov_light_tank_chassis_4
			}
		}
	}
	focus = {
		id = SOV_god_of_war
		icon = GFX_goal_generic_research_artillery
		prerequisite = { focus = SOV_mechanization_of_the_red_army }
		x = 0
		y = 2
		relative_position_id = SOV_mechanization_of_the_red_army
		cost = 3
		ai_will_do = {
			factor = 1
		}

		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			custom_effect_tooltip = SOV_god_of_war_tt
			add_to_variable = { SOV_the_red_army_army_artillery_attack_factor = 0.15 }
			add_tech_bonus = {
				name = SOV_god_of_war
				bonus = 0.5
				uses = 2
				category = artillery
			}
			add_tech_bonus = {
				name = SOV_god_of_war
				bonus = 1
				uses = 1
				category = rocket_artillery
			}
		}
	}

	focus = {
		id = SOV_heavy_weapons_modernization
		icon = GFX_goal_generic_heavy_weapons
		prerequisite = { focus = SOV_god_of_war }
		x = 0
		y = 2
		relative_position_id = SOV_god_of_war
		cost = 3
		ai_will_do = {
			factor = 1
		}


		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_heavy_weapons_modernization
				bonus = 0.5
				uses = 2
				category = heavy_infantry_weapons
			}
			add_tech_bonus = {
				name = SOV_heavy_weapons_modernization
				bonus = 0.5
				uses = 2
				category = cat_anti_air
			}
			add_tech_bonus = {
				name = SOV_heavy_weapons_modernization
				bonus = 0.5
				uses = 1
				category = cat_anti_tank
			}
		}
	}

	focus = {
		id = SOV_zis
		icon = GFX_goal_generic_artillery
		prerequisite = { focus = SOV_heavy_weapons_modernization focus = SOV_form_the_stavka }
		x = 4
		y = 1
		relative_position_id = SOV_form_the_stavka
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available = {
			has_tech = sov_anti_tank_upgrade_2
			has_tech = sov_artillery_upgrade_2
			OR = {
				custom_trigger_tooltip = {
					tooltip = SOV_has_not_officers_purged_tt
					NOT = {
						has_idea = officers_purged
					}
					NOT = {
						has_idea = officers_purged_2
					}
					NOT = {
						has_idea = officers_purged_3
					}
					NOT = {
						has_idea = officers_purged_4
					}
					NOT = {
						has_idea = officers_purged_5
					}
					NOT = {
						has_idea = officers_purged_6
					}
					NOT = {
						has_idea = officers_purged_7
					}
					NOT = {
						has_idea = officers_purged_8
					}
					NOT = {
						has_idea = officers_purged_9
					}
					NOT = {
						has_idea = officers_purged_10
					}
				}
				has_idea = SOV_stavka
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			set_technology = {
				sov_anti_tank_3 = 1
				sov_artillery_3 = 1
			}
			252 = {
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}

			add_equipment_production = {
				equipment = {
					type = sov_at_3
					creator = "SOV"
				}
				requested_factories = 15
				progress = 0
				efficiency = 100
			}
			add_equipment_production = {
				equipment = {
					type = sov_art_3
					creator = "SOV"
				}
				requested_factories = 15
				progress = 0
				efficiency = 100
			}
		}
	}
	focus = {
		id = SOV_assault_guns
		icon = GFX_goal_SOV_assault
		mutually_exclusive = { focus = SOV_self_propelled_artillery }
		prerequisite = { focus = SOV_zis }
		x = -1
		y = 1
		relative_position_id = SOV_zis
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
			FOCUS_FILTER_HISTORICAL
		}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				add_tech_bonus = {
					name = SOV_assault_guns
					bonus = 0.5
					uses = 2
					technology = sov_heavy_tank_spg_2
					technology = sov_light_tank_spg_5
					technology = sov_medium_tank_spg_3
					technology = sov_heavy_tank_spg_6
					technology = sov_heavy_tank_spg_7
				}
			}
			else = {
				add_tech_bonus = {
					name = SOV_assault_guns
					bonus = 0.5
					uses = 2
					technology = sov_heavy_spg_2
					technology = sov_light_spg_5
					technology = sov_medium_spg_3
					technology = sov_heavy_spg_6
					technology = sov_heavy_spg_7
				}
			}

		}
	}
	focus = {
		id = SOV_self_propelled_artillery
		icon = GFX_goal_SOV_spg
		mutually_exclusive = { focus = SOV_assault_guns }
		prerequisite = { focus = SOV_zis }
		x = 1
		y = 1
		relative_position_id = SOV_zis
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_self_propelled_artillery
				bonus = 0.5
				uses = 2
				technology = sov_heavy_spg_3
				technology = sov_heavy_spg_4
			}
		}
	}
	focus = {
		id = SOV_breakthrough_tanks
		icon = GFX_goal_SOV_breakthrough_tanks
		prerequisite = { focus = SOV_assault_guns focus = SOV_self_propelled_artillery }
		x = 1
		y = 1
		relative_position_id = SOV_assault_guns
		cost = 3
		ai_will_do = {
			factor = 1
		}

		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_breakthrough_tanks
				bonus = 0.5
				uses = 2
				category = cat_heavy_armor
			}
		}
	}
	focus = {
		id = SOV_ultimate_tank_evolution
		icon = GFX_goal_SOV_ultimate_tank_evolution
		prerequisite = { focus = SOV_breakthrough_tanks }
		x = 0
		y = 1
		relative_position_id = SOV_breakthrough_tanks
		cost = 6
		ai_will_do = {
			factor = 1
		}

		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_ultimate_tank_evolution
				bonus = 0.5
				uses = 2
				technology = sov_modern_tank_chassis_1_2
				technology = sov_modern_tank_chassis_2
				technology = sov_modern_tank_chassis_2_2
			}
		}
	}

	############## AIR BRANCH ###############

	focus = {
		id = SOV_establish_air_armies
		icon = GFX_goal_SOV_soviet_air
		prerequisite = { focus = SOV_pc_of_defence }
		relative_position_id = SOV_pc_of_defence
		x = -6
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}




		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = SOV_establish_air_armies
				bonus = 0.5
				uses = 1
				category = cat_strategic_bomber
			}
			add_tech_bonus = {
				name = SOV_establish_air_armies
				bonus = 0.5
				uses = 1
				category = tactical_bomber
			}
			195 = {
				add_building_construction = {
					type = air_base
					level = 7
					instant_build = yes
				}
			}
			217 = {
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
			254 = {
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			198 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			206 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			192 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SOV_transpolar_flights
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = SOV_establish_air_armies }
		x = -2
		y = 1
		relative_position_id = SOV_establish_air_armies
		cost = 3
		ai_will_do = {
			factor = 1
		}

		search_filters = {
			FOCUS_FILTER_AIR_XP
			FOCUS_FILTER_STABILITY
		}

		completion_reward = {
			add_stability = 0.1
			air_experience = 25

			custom_effect_tooltip = SOV_transpolar_flights_tt
			add_to_variable = {
				SOV_soviet_airforce_air_weather_penalty = -0.1
			}
			add_tech_bonus = {
				name = SOV_transpolar_flights
				bonus = 0.5
				uses = 1
				category = tactical_bomber
			}
			add_tech_bonus = {
				name = SOV_transpolar_flights
				bonus = 0.5
				uses = 1
				category = patrol_bomber
			}
		}
	}
	focus = {
		id = SOV_foster_flying_clubs
		icon = GFX_focus_SOV_flying_clubs
		prerequisite = { focus = SOV_transpolar_flights }
		x = 0
		y = 2
		relative_position_id = SOV_transpolar_flights
		cost = 3

		search_filters = {
			FOCUS_FILTER_AIR_XP
		}
		completion_reward = {
			air_experience = 25

			add_to_variable = { SOV_soviet_airforce_air_accidents_factor = -0.25 }
			add_to_variable = { SOV_soviet_airforce_air_ace_generation_chance_factor = 0.25 }
			add_to_variable = { SOV_soviet_airforce_air_training_xp_gain_factor = 0.05 }
			custom_effect_tooltip = SOV_foster_flying_clubs_tt
		}
	}
	focus = {
		id = SOV_vdv
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = SOV_reform_the_airforce }
		prerequisite = { focus = SOV_foster_flying_clubs }
		x = 0
		y = 3
		relative_position_id = SOV_foster_flying_clubs
		cost = 3

		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_tech_bonus = {
				name = SOV_vdv
				bonus = 0.5
				uses = 1
				category = para_tech
			}
			custom_effect_tooltip = SOV_create_unit_vdv_tt
			hidden_effect = {
				division_template = {
					name = "Vozdushno-Desantnaya Diviziya"				#3x Airborne Brigades
					division_names_group = SOV_PAR_01
					priority = 2
					regiments = {
						paratrooper = { x = 0 y = 0 }
						paratrooper = { x = 0 y = 1 }
						paratrooper = { x = 0 y = 2 }

						paratrooper = { x = 1 y = 0 }
						paratrooper = { x = 1 y = 1 }
						paratrooper = { x = 1 y = 2 }

						paratrooper = { x = 2 y = 0 }
						paratrooper = { x = 2 y = 1 }
						paratrooper = { x = 2 y = 2 }
					}
					support = {
						recon = { x = 0 y = 0 }
						signal_company = { x = 0 y = 1 }
						field_hospital = { x = 0 y = 2 }
						normal_engineer = { x = 0 y = 3 }
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"1ya Vozdushno-Desantnaya Korpus\" division_template = \"Vozdushno-Desantnaya Diviziya\" start_experience_factor = 0.7 start_equipment_factor = 0.1"
					owner = ROOT
					count = 5
				}
			}
		}
	}
	focus = {
		id = SOV_expand_the_aircraft_industry
		icon = GFX_goal_generic_license_planes
		prerequisite = { focus = SOV_establish_air_armies }
		x = 0
		y = 1
		relative_position_id = SOV_establish_air_armies
		cost = 3
		available = {
			any_owned_state = {
				is_fully_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			#This handles the equipment bonus that's not supported by dynamic modifiers
			if = {
				limit = { NOT = { has_idea = SOV_increased_aircraft_production_ns_bonus } }
				add_ideas = SOV_expanded_aircraft_industry_bonus
				#custom_effect_tooltip = SOV_expand_the_aircraft_industry_ns_tt
			}
            if = {
                limit = { has_aat = yes }
				every_military_industrial_organization = {
					limit = {
						OR = {
							is_military_industrial_organization = SOV_tupolev_design_bureau_organization
							is_military_industrial_organization = SOV_yakovlev_design_bureau_organization
							is_military_industrial_organization = SOV_ilyushin_design_bureau_organization
						}
					}
					add_mio_funds = 2000
				}
            }

			random_owned_controlled_state = {
				limit = {
					region = 271
					free_building_slots = {
						building = arms_factory
						size > 4
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				if = {
					limit = {
						air_base < 5
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				else = {
					ROOT = {
						random_owned_controlled_state = {
							limit = {
								air_base < 5
							}
							add_building_construction = {
								type = air_base
								level = 1
								instant_build = yes
							}
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_innovative_fighters
		icon = GFX_focus_generic_copy_plane_designs
		prerequisite = { focus = SOV_expand_the_aircraft_industry }
		relative_position_id = SOV_expand_the_aircraft_industry
		x = 0
		y = 2
		cost = 3

		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
            if = {
                limit = { has_aat = yes }
                unlock_military_industrial_organization_tooltip = mio:SOV_mig_design_bureau_organization
                unlock_military_industrial_organization_tooltip = mio:SOV_lavochkin_design_bureau_organization
				every_military_industrial_organization = {
					limit = {
						OR = {
							is_military_industrial_organization = SOV_mig_design_bureau_organization
							is_military_industrial_organization = SOV_lavochkin_design_bureau_organization
						}
					}
					add_mio_funds = 2000
				}
            }
			add_tech_bonus = {
				name = SOV_innovative_fighters
				bonus = 1.0
				uses = 2
				technology = sov_fighter_multirole_2
				technology = sov_fighter_multirole_3
				technology = sov_fighter_multirole_4
			}
			add_tech_bonus = {
				name = SOV_innovative_fighters
				bonus = 1.0
				uses = 1
				technology = sov_cas_2
			}
			add_tech_bonus = {
				name = SOV_innovative_fighters
				bonus = 0.5
				uses = 1
				technology = sov_fighter_3
			}
			add_tech_bonus = {
				name = SOV_innovative_fighters
				bonus = 0.5
				uses = 1
				technology = sov_fighter_multirole_5
			}
		}
	}
	focus = {
		id = SOV_reform_the_airforce
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = SOV_innovative_fighters }
		prerequisite = { focus = SOV_lessons_of_war }
		x = 0
		y = 4
		relative_position_id = SOV_expand_the_aircraft_industry
		cost = 3

		search_filters = {
			FOCUS_FILTER_AIR_XP
		}
		completion_reward = {
			#unlocks first reform
			custom_effect_tooltip = SOV_reform_the_airforce_tt
			add_to_variable = { SOV_soviet_airforce_air_training_xp_gain_factor = 0.05 }
			add_to_variable = { SOV_soviet_airforce_experience_gain_air_factor = 0.1 }
			add_to_variable = { SOV_soviet_airforce_air_attack_factor = 0.1 }
		}
	}
	focus = {
		id = SOV_long_range_bomber_aviation
		icon = GFX_goal_generic_heavy_bomber
		prerequisite = { focus = SOV_reform_the_airforce }
		x = 0
		y = 2
		relative_position_id = SOV_reform_the_airforce
		cost = 3

		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_long_range_bomber_aviation
				bonus = 0.5
				uses = 1
				category = tactical_bomber
				category = cat_strategic_bomber
			}
			add_doctrine_cost_reduction = {
				name = SOV_long_range_bomber_aviation
				cost_reduction = 0.99
				uses = 1
				category = cat_strategic_destruction
			}
			custom_effect_tooltip = SOV_long_range_bomber_aviation_tt
			add_to_variable = { SOV_soviet_airforce_air_cas_present_factor = 0.1 }
		}
	}

	focus = {
		id = SOV_utilise_the_civil_air_fleet
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = SOV_long_range_bomber_aviation }
		prerequisite = { focus = SOV_form_the_stavka }
		x = -7
		y = 1
		relative_position_id = SOV_form_the_stavka
		cost = 2

		available = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = SOV_has_not_officers_purged_tt
					NOT = {
						has_idea = officers_purged
					}
					NOT = {
						has_idea = officers_purged_2
					}
					NOT = {
						has_idea = officers_purged_3
					}
					NOT = {
						has_idea = officers_purged_4
					}
					NOT = {
						has_idea = officers_purged_5
					}
					NOT = {
						has_idea = officers_purged_6
					}
					NOT = {
						has_idea = officers_purged_7
					}
					NOT = {
						has_idea = officers_purged_8
					}
					NOT = {
						has_idea = officers_purged_9
					}
					NOT = {
						has_idea = officers_purged_10
					}
				}
				has_idea = SOV_stavka
			}
		}
		search_filters = {
			FOCUS_FILTER_EMERGENCY
			FOCUS_FILTER_AIR_XP
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_long_range_bomber_aviation
				bonus = 0.5
				uses = 1
				category = cat_transport
			}
			add_equipment_to_stockpile = {
				type = sov_transport_plane_equipment_1
				amount = 100
			}
			custom_effect_tooltip = SOV_utilise_the_civil_air_fleet_tt
			add_to_variable = { SOV_soviet_airforce_air_training_xp_gain_factor = 0.05 }
			add_to_variable = { SOV_soviet_airforce_experience_gain_air_factor = 0.1 }
			add_to_variable = { SOV_soviet_airforce_air_agility_factor = 0.05 }
		}
	}

	focus = {
		id = SOV_intensify_pilot_training_program
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = SOV_utilise_the_civil_air_fleet }
		x = -3
		y = 1
		relative_position_id = SOV_utilise_the_civil_air_fleet
		cost = 3
		available = {

		}
		search_filters = {
			FOCUS_FILTER_AIR_XP
		}
		completion_reward = {
			add_to_variable = { SOV_soviet_airforce_air_accidents_factor = -0.25 }
			add_to_variable = { SOV_soviet_airforce_air_wing_xp_loss_when_killed_factor = -0.1 }
			add_to_variable = { SOV_soviet_airforce_air_training_xp_gain_factor = 0.05 }
			custom_effect_tooltip = SOV_intensify_pilot_training_program_tt
			if = {
				limit = {
					is_ai = yes
				}
				add_ideas = combat_ace_focus_spirit
			}
		}
	}
	focus = {
		id = SOV_women_in_aviation
		icon = GFX_focus_SOV_women_in_aviation
		prerequisite = { focus = SOV_intensify_pilot_training_program }
		x = 0
		y = 1
		relative_position_id = SOV_intensify_pilot_training_program
		cost = 3
		available = {

		}
		search_filters = {
			FOCUS_FILTER_AIR_XP
		}
		completion_reward = {
			add_to_variable = { SOV_soviet_airforce_air_mission_xp_gain_factor = 0.05 }
			add_to_variable = { SOV_soviet_airforce_air_training_xp_gain_factor = 0.05 }
			custom_effect_tooltip = SOV_women_in_aviation_tt
			air_experience = 25
			set_rule = {
				can_generate_female_aces = yes
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = { SOV_soviet_airforce_air_doctrine_cost_factor = 0 }
						check_variable = { SOV_soviet_airforce_air_mission_efficiency = 0 }
						check_variable = { SOV_soviet_airforce_air_agility_factor = 0 }
						check_variable = { SOV_soviet_airforce_air_attack_factor = 0 }
						check_variable = { SOV_soviet_airforce_air_cas_present_factor = 0 }
					}
					remove_dynamic_modifier = { modifier = SOV_soviet_airforce_dynamic_modifier }
					remove_dynamic_modifier = { modifier = SOV_soviet_airforce_dynamic_modifier_alt }
				}
			}
		}
	}
	focus = {
		id = SOV_raskovas_aviation_group
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = SOV_women_in_aviation
		}
		x = 0
		y = 1
		relative_position_id = SOV_women_in_aviation
		cost = 3
		available = {
			any_enemy_country = {
				SOV_is_major_not_original_sov = yes
			}
			has_full_control_of_state = 252
			has_tech = sov_cas_1
			has_tech = sov_strike_bomber_3
			has_tech = sov_fighter_3
		}
		completion_reward = {
			#custom_effect_tooltip = SOV_raskovas_aviation_group_tt
			custom_effect_tooltip = SOV_night_witches_nsb_tt
			hidden_effect = {
				if = {
					#ALT IDEOLOGY
					limit = {
						NOT = {
							has_government = communism
						}
					}
					load_oob = "SOV_night_witches_alt"
				}
				else = {
					#DEFAULT COMMUNISM
					load_oob = "SOV_night_witches"
				}
			}
		}
	}
	focus = {
		id = SOV_ground_support
		icon = GFX_goal_SOV_ground_support
		prerequisite = { focus = SOV_utilise_the_civil_air_fleet }
		x = -1
		y = 1
		relative_position_id = SOV_utilise_the_civil_air_fleet
		cost = 4

		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			custom_effect_tooltip = SOV_ground_support_tt
			add_to_variable = { SOV_soviet_airforce_air_cas_efficiency = 0.1 }
			add_tech_bonus = {
				name = SOV_ground_support
				bonus = 1
				uses = 2
				technology = sov_cas_3
				technology = sov_cas_4
				technology = sov_cas_5
			}
			add_doctrine_cost_reduction = {
				name = SOV_ground_support
				cost_reduction = 0.99
				uses = 3
				category = cat_battlefield_support
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = { SOV_soviet_airforce_air_doctrine_cost_factor = 0 }
						check_variable = { SOV_soviet_airforce_air_mission_efficiency = 0 }
						check_variable = { SOV_soviet_airforce_air_agility_factor = 0 }
						check_variable = { SOV_soviet_airforce_air_attack_factor = 0 }
						check_variable = { SOV_soviet_airforce_air_cas_present_factor = 0 }
					}
					remove_dynamic_modifier = { modifier = SOV_soviet_airforce_dynamic_modifier }
					remove_dynamic_modifier = { modifier = SOV_soviet_airforce_dynamic_modifier_alt }
				}
			}
		}
	}
	focus = {
		id = SOV_modern_fighter_designs
		icon = GFX_goal_SOV_modern_fighter_designs
		prerequisite = { focus = SOV_utilise_the_civil_air_fleet }
		x = 1
		y = 1
		relative_position_id = SOV_utilise_the_civil_air_fleet
		cost = 4
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_AIR_XP
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_modern_fighter_designs
				bonus = 0.5
				uses = 3
				category = light_fighter
			}
            add_doctrine_cost_reduction = {
				name = SOV_modern_fighter_designs
				cost_reduction = 0.99
				uses = 1
				category = cat_operational_integrity
			}
			air_experience = 25
		}
	}
	focus = {
		id = SOV_long_range_aviation
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = SOV_modern_fighter_designs focus = SOV_ground_support }
		x = -1
		y = 1
		relative_position_id = SOV_modern_fighter_designs
		cost = 4

		search_filters = {
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			add_tech_bonus = {
				name = SOV_long_range_aviation
				bonus = 0.5
				uses = 2
				category = cat_heavy_fighter
				category = tactical_bomber
				category = cat_strategic_bomber
			}
			add_doctrine_cost_reduction = {
				name = SOV_long_range_aviation
				cost_reduction = 0.99
				uses = 2
				category = cat_strategic_destruction
			}
		}
	}
	focus = {
		id = SOV_leaders_of_aviation
		icon = GFX_goal_SOV_mig_15
		prerequisite = { focus = SOV_long_range_aviation }
		relative_position_id = SOV_long_range_aviation
		x = 0
		y = 1

		cost = 6

		ai_will_do = {
			factor = 1
		}

		available = {
			has_tech = jet_engines
			has_country_flag = SOV_air_reform_3
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = { check_variable = { SOV_soviet_airforce_air_agility_factor < 0 } }
				add_to_variable = { SOV_soviet_airforce_air_agility_factor = 0.15 }
				add_to_variable = { SOV_soviet_airforce_air_mission_efficiency = 0.15 }
				custom_effect_tooltip = SOV_leaders_of_aviation_tt
				hidden_effect = {
					if = {
						limit = {
							check_variable = { SOV_soviet_airforce_air_doctrine_cost_factor = 0 }
							check_variable = { SOV_soviet_airforce_air_mission_efficiency = 0 }
							check_variable = { SOV_soviet_airforce_air_agility_factor = 0 }
							check_variable = { SOV_soviet_airforce_air_attack_factor = 0 }
							check_variable = { SOV_soviet_airforce_air_cas_present_factor = 0 }
						}
						remove_dynamic_modifier = { modifier = SOV_soviet_airforce_dynamic_modifier }
						remove_dynamic_modifier = { modifier = SOV_soviet_airforce_dynamic_modifier_alt }
					}
				}
			}
			add_tech_bonus = {
				name = SOV_leaders_of_aviation
				bonus = 0.5
				uses = 2
				technology = sov_jet_fighter_1
				technology = sov_jet_fighter_2
				technology = sov_jet_fighter_3
			}
		}
	}

	############## NAVY BRANCH ###############

	focus = {
		id = SOV_pc_of_the_ussr_navy
		icon = GFX_goal_SOV_soviet_navy
		prerequisite = { focus = SOV_pc_of_defence }
		x = 6
		y = 1
		relative_position_id = SOV_pc_of_defence
		cost = 3
		ai_will_do = {
			factor = 1
		}

		search_filters = {
			FOCUS_FILTER_NAVY_XP
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			navy_experience = 10
			if = {
				limit = {
					has_government = communism
				}
				add_tech_bonus = {
					name = SOV_pc_of_the_ussr_navy
					bonus = 0.5
					uses = 2
					category = ship_modules_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = SOV_pc_of_the_ussr_navy
					bonus = 0.5
					uses = 2
					category = ship_modules_tech
				}
			}
		}
	}
	## Bases ##
	focus = {
		id = SOV_establish_the_northern_fleet
		icon = GFX_focus_SOV_reinforce_northern_naval_bases
		prerequisite = { focus = SOV_pc_of_the_ussr_navy }
		x = 0
		y = 1
		relative_position_id = SOV_pc_of_the_ussr_navy
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			OR = {
				213 = {
					#MURMANSK
					is_owned_and_controlled_by = ROOT
				}
				214 = {
					#ARKHANGELSK
					is_owned_and_controlled_by = ROOT
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}

		completion_reward = {
			if = {
				#MURMANSK
				limit = {
					has_full_control_of_state = 213
				}
				213 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 3134
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 3134
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 3134
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
			if = {
				#ARKHANGELSK
				limit = {
					has_full_control_of_state = 214
				}
				214 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 13889
					}
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 312
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 13889
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 312
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 13889
					}
					add_building_construction = {
						type = supply_node
						level = 1
						instant_build = yes
						province = 13889
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
		}
	}
	focus = {
		id = SOV_reinforce_southern_naval_bases
		icon = GFX_focus_SOV_reinforce_southern_naval_bases
		prerequisite = { focus = SOV_establish_the_northern_fleet }
		x = 0
		y = 2
		relative_position_id = SOV_establish_the_northern_fleet
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			OR = {
				192 = {
					#ODESSA
					is_owned_and_controlled_by = ROOT
				}
				137 = {
					#CRIMEA
					is_owned_and_controlled_by = ROOT
				}
				218 = {
					#ROSTOV
					is_owned_and_controlled_by = ROOT
				}
				234 = {
					#KRASNODAR
					is_owned_and_controlled_by = ROOT
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}

		completion_reward = {
			if = {
				#ODESSA - Improved naval base + AA + coastal and land fort
				limit = {
					has_full_control_of_state = 192
				}
				192 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 11670
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 11670
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 11670
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
			if = {
				#SEVASTOPOL (CRIMEA) - Extra AA + coastal fort
				limit = {
					has_full_control_of_state = 137
				}
				137 = {
					add_building_construction = {
						type = naval_base
						level = 3
						instant_build = yes
						province = 3686
					}
					add_building_construction = {
						type = anti_air_building
						level = 7
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 13826
					}
					add_building_construction = {
						type = bunker
						level = 3
						instant_build = yes
						province = 13827
					}
					add_building_construction = {
						type = bunker
						level = 4
						instant_build = yes
						province = 3686
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						instant_build = yes
						province = 3686
					}
					add_building_construction = {
						type = air_base
						level = 3
						instant_build = yes
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
					add_dynamic_modifier = {
						modifier = SOV_armored_battery_35
						scope = SOV
					}
				}
			}
			if = {
				#ROSTOV - Improved naval base + AA
				limit = {
					has_full_control_of_state = 218
				}
				218 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 9417
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
			if = {
				#KRASNODAR - Improved naval base + AA + coastal fort
				limit = {
					has_full_control_of_state = 234
				}
				234 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 3
						instant_build = yes
						province = 719
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 719
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 719
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
		}
	}
	focus = {
		id = SOV_reinforce_western_naval_bases
		icon = GFX_focus_SOV_reinforce_western_naval_bases
		prerequisite = { focus = SOV_reinforce_southern_naval_bases }
		x = 0
		y = 2
		relative_position_id = SOV_reinforce_southern_naval_bases
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			195 = {
				#LENINGRAD
				is_owned_and_controlled_by = ROOT
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			195 = {
				#LENINGRAD
				add_building_construction = {
					type = anti_air_building
					level = 6
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = {
						id = 3151
						id = 13240
					}
				}
				add_building_construction = {
					type = coastal_bunker
					level = 5
					instant_build = yes
					province = 13291
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = {
						id = 3151
						id = 6174
						id = 13240
						id = 13243
						id = 149
					}
					instant_build = yes
				}
				add_dynamic_modifier = {
					modifier = SOV_krasnaya_gorka_battery
					scope = SOV
				}
				if = {
					limit = {
						ROOT = {
							has_tech = radio_detection
						}
						radar_station < 1
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
				}
				else = {
					custom_effect_tooltip = SOV_reinforce_western_naval_bases_radar_tt
				}
				set_state_flag = SOV_naval_bases_reinforced_flag
			}
			if = {
				limit = {
					has_full_control_of_state = 208					#LUGA
				}
				208 = {
					#LUGA
					add_building_construction = {
						type = bunker
						level = 3
						province = 9097
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11186
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 9097
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = SOV_seraya_loshad_battery
						scope = SOV
					}
				}
			}
			custom_effect_tooltip = SOV_reinforce_western_naval_bases_other_states_tt
			if = {
				#HELSINKI (UUSIMAA)
				limit = {
					has_full_control_of_state = 111
				}
				111 = {
					add_building_construction = {
						type = anti_air_building
						level = 5
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 11105
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
			if = {
				#TALLIN (HARNU)
				limit = {
					has_full_control_of_state = 13
				}
				13 = {
					add_building_construction = {
						type = naval_base
						level = 7
						instant_build = yes
						province = 3152
					}
					add_building_construction = {
						type = anti_air_building
						level = 6
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 3152
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
			if = {
				#RIGA
				limit = {
					has_full_control_of_state = 966
				}
				966 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 9340
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
			if = {
				#PALANGA (ŽEMAITIJA)
				limit = {
					has_full_control_of_state = 189
				}
				189 = {
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 6314
					}
					set_state_flag = SOV_naval_bases_reinforced_flag
				}
			}
		}
	}
	focus = {
		id = SOV_reinforce_eastern_naval_bases
		icon = GFX_focus_SOV_reinforce_eastern_naval_bases
		prerequisite = { focus = SOV_reinforce_western_naval_bases }
		x = 0
		y = 2
		relative_position_id = SOV_reinforce_western_naval_bases
		cost = 3
		ai_will_do = {
			factor = 2
		}
		available = {
			OR = {
				408 = {
					#VLADIVOSTOK
					is_owned_and_controlled_by = ROOT
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			408 = {	#VLADIVOSTOK - Improved naval base + AA + coastal fort
				add_building_construction = {
					type = anti_air_building
					level = 6
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 4
					instant_build = yes
					province = 957
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 957
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						id = 11879
						id = 3977
						id = 6838
						id = 957
						id = 3787
						id = 12965
						id = 6684
					}
				}
				set_state_flag = SOV_naval_bases_reinforced_flag
			}
		}
	}
	## Misc ##
	focus = {
		id = SOV_expand_the_morskaya_aviatsiya
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = SOV_pc_of_the_ussr_navy }
		x = 2
		y = 1
		relative_position_id = SOV_pc_of_the_ussr_navy
		cost = 3
		ai_will_do = {
			factor = 1
		}

		search_filters = {
			FOCUS_FILTER_RESEARCH
			FOCUS_FILTER_AIR_XP
			FOCUS_FILTER_NAVY_XP
		}
		completion_reward = {
			navy_experience = 15
			air_experience = 25
			add_tech_bonus = {
				name = SOV_expand_the_morskaya_aviatsiya
				bonus = 0.5
				uses = 2
				category = patrol_bomber
				category = naval_air
			}
		}
	}
	focus = {
		id = SOV_submarine_warfare
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = SOV_expand_the_morskaya_aviatsiya }
		x = 0
		y = 2
		relative_position_id = SOV_expand_the_morskaya_aviatsiya
		cost = 3
		ai_will_do = {
			factor = 1
		}

		search_filters = {
			FOCUS_FILTER_RESEARCH
			FOCUS_FILTER_NAVY_XP
		}
		completion_reward = {
			hidden_effect = {
				if = {
					#DEFAULT COMMIE
					limit = {
						has_government = communism
					}
					#Swap dynamic modifier to change dynamic modifier's custom tooltip
					remove_dynamic_modifier = {
						modifier = SOV_the_red_fleet_dynamic_modifier
					}
					add_dynamic_modifier = {
						modifier = SOV_the_red_fleet_submarine_1_dynamic_modifier
					}
				}
				else = {
					#ALT IDEOLOGY
					#Swap dynamic modifier to change dynamic modifier's custom tooltip
					remove_dynamic_modifier = {
						modifier = SOV_the_red_fleet_dynamic_modifier_alt
					}
					add_dynamic_modifier = {
						modifier = SOV_the_red_fleet_submarine_1_dynamic_modifier_alt
					}
				}
				#This handles the equipment bonus that's not supported by dynamic modifiers
				add_ideas = SOV_red_fleet_submarine_bonus_1
			}
			custom_effect_tooltip = SOV_submarine_warfare_ns_tt
			navy_experience = 25
			add_tech_bonus = {
				name = SOV_submarine_warfare
				bonus = 0.5
				uses = 2
				category = ss_tech
			}
		}
	}
	focus = {
		id = SOV_long_range_raiders
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = SOV_submarine_warfare }
		x = 0
		y = 2
		relative_position_id = SOV_submarine_warfare
		cost = 3
		ai_will_do = {
			factor = 1
		}

		search_filters = {
			FOCUS_FILTER_RESEARCH
			FOCUS_FILTER_NAVY_XP
		}
		completion_reward = {
			hidden_effect = {
				if = {
					#DEFAULT COMMIE
					limit = {
						has_government = communism
					}
					#Swap dynamic modifier to change dynamic modifier's custom tooltip
					remove_dynamic_modifier = {
						modifier = SOV_the_red_fleet_submarine_1_dynamic_modifier
					}
					add_dynamic_modifier = {
						modifier = SOV_the_red_fleet_submarine_2_dynamic_modifier
					}
				}
				else = {
					#ALT IDEOLOGY
					#Swap dynamic modifier to change dynamic modifier's custom tooltip
					remove_dynamic_modifier = {
						modifier = SOV_the_red_fleet_submarine_1_dynamic_modifier_alt
					}
					add_dynamic_modifier = {
						modifier = SOV_the_red_fleet_submarine_2_dynamic_modifier_alt
					}
				}
				#Hidden National Spirits handle the equipment bonus that's not supported by dynamic modifiers
				swap_ideas = {
					remove_idea = SOV_red_fleet_submarine_bonus_1
					add_idea = SOV_red_fleet_submarine_bonus_2
				}
			}
			custom_effect_tooltip = SOV_submarine_warfare_ns_tt
			navy_experience = 25
			add_tech_bonus = {
				name = SOV_long_range_raiders
				ahead_reduction = 2
				uses = 1
				category = ss_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = sov_cruiser_submarine_hull_4
						creator = "SOV"
					}
					name = "K-1"
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = sov_cruiser_submarine_hull_4
						creator = "SOV"
					}
					name = "K-2"
					requested_factories = 1
					progress = 0.35
					amount = 1
				}
			}
			else = {
				if = {
					#Submarine 3 if available
					limit = {
						has_tech = improved_submarine
					}
					add_equipment_production = {
						equipment = {
							type = submarine_3
							creator = "SOV"
							version_name = "K Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = submarine_3
							creator = "SOV"
							version_name = "K Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
				else = {
					#Submarine 2 as default
					add_equipment_production = {
						equipment = {
							type = submarine_2
							creator = "SOV"
							version_name = "K Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = submarine_2
							creator = "SOV"
							version_name = "K Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
			}
		}
	}
	## Big Fleet ##
	focus = {
		id = SOV_purchase_foreign_expertise
		icon = GFX_goal_generic_license_ships
		prerequisite = { focus = SOV_reinforce_western_naval_bases }
		relative_position_id = SOV_reinforce_western_naval_bases
		x = 2
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}




		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = SOV_purchase_foreign_expertise
				bonus = 0.5
				category = naval_equipment
			}
		}
	}
	focus = {
		id = SOV_big_fleet_program
		icon = GFX_focus_generic_refit_civilian_ships
		prerequisite = { focus = SOV_purchase_foreign_expertise }
		relative_position_id = SOV_purchase_foreign_expertise
		x = 1
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		completion_reward = {
			navy_experience = 25
			#Start Greatest Navy Mission
			activate_mission = SOV_the_greatest_navy
			custom_effect_tooltip = GER_plan_z_tt
		}
	}
	focus = {
		id = SOV_new_shipyards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = SOV_big_fleet_program }
		relative_position_id = SOV_big_fleet_program
		x = 1
		y = 1
		cost = 3
		available = {
			has_completed_focus = SOV_start_the_third_five_year_plan
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}

		completion_reward = {
			every_owned_state = {
				limit = {
					has_state_flag = SOV_naval_bases_reinforced_flag
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				if = {
					limit = {
						state = 195						#LENINGRAD - Gets 2 dockyards instead of 1
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
				if = {
					limit = {
						state = 214						#Arkhangelsk - Gets 4 dockyards instead of 1
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = dockyard
						level = 4
						instant_build = yes
					}
				}
				if = {
					limit = {
						state = 197						#Mykolayiv - Gets 4 dockyards instead of 1
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = dockyard
						level = 4
						instant_build = yes
					}
				}
				if = {
					limit = {
						state = 408						#Vladivostok - Gets 4 dockyards instead of 1
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = dockyard
						level = 4
						instant_build = yes
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SOV_modern_battleships
		icon = GFX_goal_generic_ships_super_battleships
		prerequisite = { focus = SOV_new_shipyards }
		relative_position_id = SOV_new_shipyards
		x = -1
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = SOV_red_fleet_surface_bonus_3
			navy_experience = 25
			add_tech_bonus = {
				name = SOV_modern_battleships
				bonus = 1
				uses = 1
				category = bb_tech
			}
			#Sovietsky Soyuz Super-Heavy Battleship
		}
	}
	focus = {
		id = SOV_modern_escorts
		icon = GFX_goal_generic_ships_destroyer
		prerequisite = { focus = SOV_new_shipyards }
		x = 1
		y = 1
		relative_position_id = SOV_new_shipyards

		cost = 3

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = SOV_red_fleet_surface_bonus_1
			navy_experience = 25
			add_tech_bonus = {
				name = SOV_modern_escorts
				bonus = 1
				uses = 3
				category = dd_tech
				category = cl_tech
			}
		}
	}
	focus = {
		id = SOV_modern_battlecruisers
		icon = GFX_goal_generic_ships_battleships
		prerequisite = { focus = SOV_modern_battleships }
		prerequisite = { focus = SOV_modern_escorts }
		x = 0
		y = 2
		relative_position_id = SOV_new_shipyards

		cost = 3

		ai_will_do = {
			factor = 1
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = SOV_red_fleet_surface_bonus_2
			navy_experience = 25
			#Kronshtadt Class Battlecruiser
			add_tech_bonus = {
				name = SOV_modern_battlecruisers
				bonus = 1
				uses = 1
				category = bc_tech
			}
		}
	}
	focus = {
		id = SOV_an_oceangoing_navy
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = SOV_modern_battlecruisers }
		x = 0
		y = 1
		relative_position_id = SOV_modern_battlecruisers
		cost = 3

		search_filters = {
			FOCUS_FILTER_NAVY_XP
		}
		completion_reward = {
			navy_experience = 25
			add_doctrine_cost_reduction = {
				cost_reduction = 0.99
				name = SOV_an_oceangoing_navy
				uses = 3
				category = cat_fleet_in_being
			}
		}
	}

	focus = {
		id = SOV_raise_naval_infantry
		icon = GFX_goal_generic_amphibious_assault
		mutually_exclusive = { focus = SOV_confront_naval_threats }
		prerequisite = { focus = SOV_form_the_stavka }
		prerequisite = { focus = SOV_reinforce_eastern_naval_bases }
		x = 6
		y = 1
		relative_position_id = SOV_form_the_stavka

		cost = 2

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		search_filters = {
			FOCUS_FILTER_EMERGENCY
			FOCUS_FILTER_HISTORICAL
		}

		completion_reward = {
			custom_effect_tooltip = SOV_raise_naval_infantry_tt
			hidden_effect = {
				add_to_variable = { SOV_fyp_industrial_capacity_dockyard = -0.5 }
				#add_to_variable = { SOV_red_fleet_naval_invasion_capacity = 20 }
				add_to_variable = { SOV_red_fleet_navy_refit_ic_cost = 0.1 }
				add_to_variable = { SOV_red_fleet_repair_speed_factor = -0.1 }
				add_to_variable = { SOV_red_fleet_naval_coordination = -0.5 }
				add_to_variable = { SOV_red_fleet_positioning = -0.25 }
				if = {
					limit = {
						is_ai = no
					}
					division_template = {
						name = "Diviziya Morskoi Pekhoty"
						division_names_group = SOV_MAR_01
						priority = 2
						regiments = {
							marine = { x = 0 y = 0 }
							marine = { x = 0 y = 1 }
							marine = { x = 0 y = 2 }

							marine = { x = 1 y = 0 }
							marine = { x = 1 y = 1 }
							marine = { x = 1 y = 2 }

							marine = { x = 2 y = 0 }
							marine = { x = 2 y = 1 }
							marine = { x = 2 y = 2 }

							artillery_brigade = { x = 3 y = 0 }
							artillery_brigade = { x = 3 y = 1 }
							artillery_brigade = { x = 3 y = 2 }
						}
						support = {
							normal_engineer = { x = 0 y = 0 }
							horse_logistics_company = { x = 0 y = 1 }
							recon = { x = 0 y = 2 }
							horse_field_hospital = { x = 0 y = 3 }
						}
					}
				}
				if = {
					limit = {
						is_ai = yes
					}
					division_template = {
						name = "Soviet Naval Infantry"
						division_names_group = SOV_MAR_01
						priority = 2

						regiments = {
							marine = { x = 0 y = 0 }
							marine = { x = 0 y = 1 }
							marine = { x = 0 y = 2 }

							marine = { x = 1 y = 0 }
							marine = { x = 1 y = 1 }
							marine = { x = 1 y = 2 }

							marine = { x = 2 y = 0 }
							marine = { x = 2 y = 1 }
							marine = { x = 2 y = 2 }

							artillery_brigade = { x = 3 y = 0 }
							artillery_brigade = { x = 3 y = 1 }
							artillery_brigade = { x = 3 y = 2 }
							anti_tank_brigade = { x = 3 y = 3 }
							anti_tank_brigade = { x = 3 y = 4 }

							motorized_heavy_artillery_brigade = { x = 4 y = 0 }
							motorized_heavy_artillery_brigade = { x = 4 y = 1 }
						}

						support = {
							shock_division_hq = { x = 0 y = 0 }
							motorized_logistics_company = { x = 0 y = 1 }
							field_hospital = { x = 0 y = 2 }
							signal_company = { x = 0 y = 3 }
							heavy_anti_tank = { x = 0 y = 4 }

							armoured_recon = { x = 1 y = 0 }
							heavy_anti_air = { x = 1 y = 1 }
							engineer = { x = 1 y = 2 }
							heavy_artillery = { x = 1 y = 3 }
							military_police = { x = 1 y = 4 }
						}
					}
				}
			}
			if = {
				limit = {
					is_ai = yes
				}
				random_state = {	#Sevastopol: 3
					prioritize = { 137 234 }
					create_unit = {
						division = "division_template = \"Soviet Naval Infantry\" start_experience_factor = 0.5 start_equipment_factor = 0.3"
						owner = ROOT
						count = 3
					}
				}
				random_state = {	#Novorossiysk: 3
					prioritize = { 234 }
					create_unit = {
						division = "division_template = \"Soviet Naval Infantry\" start_experience_factor = 0.5 start_equipment_factor = 0.3"
						owner = ROOT
						count = 3
					}
				}
				random_state = {	#Vladivostok: 2
					prioritize = { 408 }
					create_unit = {
						division = "division_template = \"Soviet Naval Infantry\" start_experience_factor = 0.5 start_equipment_factor = 0.3"
						owner = ROOT
						count = 2
					}
				}
				random_state = {	#Leningrad: 7
					prioritize = { 195 264 214 }
					create_unit = {
						division = "division_template = \"Soviet Naval Infantry\" start_experience_factor = 0.5 start_equipment_factor = 0.3"
						owner = ROOT
						count = 7
					}
				}
			}
			if = {
				limit = {
					is_ai = no
				}
				random_state = {	#Sevastopol: 3
					prioritize = { 137 234 }
					create_unit = {
						division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.5 start_equipment_factor = 0.3"
						owner = ROOT
						count = 3
					}
				}
				random_state = {	#Novorossiysk: 3
					prioritize = { 234 }
					create_unit = {
						division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.5 start_equipment_factor = 0.3"
						owner = ROOT
						count = 3
					}
				}
				random_state = {	#Vladivostok: 2
					prioritize = { 408 }
					create_unit = {
						division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.5 start_equipment_factor = 0.3"
						owner = ROOT
						count = 2
					}
				}
				random_state = {	#Leningrad: 7
					prioritize = { 195 264 214 }
					create_unit = {
						division = "division_template = \"Diviziya Morskoi Pekhoty\" start_experience_factor = 0.5 start_equipment_factor = 0.3"
						owner = ROOT
						count = 7
					}
				}
			}
		}
	}
	focus = {
		id = SOV_confront_naval_threats
		icon = GFX_goal_generic_construct_naval_dockyard_large
		mutually_exclusive = { focus = SOV_raise_naval_infantry }
		prerequisite = { focus = SOV_form_the_stavka }
		prerequisite = { focus = SOV_reinforce_eastern_naval_bases }
		x = 8
		y = 1
		relative_position_id = SOV_form_the_stavka
		available = {
			has_offensive_war = no
		}
		cost = 3
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_RESEARCH
		}
		ai_will_do = {
			factor = 1
		}
		available = {
			OR = {
				137 = {
					is_controlled_by = SOV
				}
				195 = {
					is_controlled_by = SOV
				}
				408 = {
					is_controlled_by = SOV
				}
			}
		}
		completion_reward = {
			add_tech_bonus = {
				name = SOV_confront_naval_threats
				bonus = 0.5
				uses = 3
				category = naval_equipment
			}
			custom_effect_tooltip = SOV_confront_naval_threats_tt
			#add_to_variable = { SOV_red_fleet_naval_invasion_capacity = 20 }
			if = {
				limit = {
					195 = {
						is_controlled_by = SOV
					}
				}
				195 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					137 = {
						is_controlled_by = SOV
					}
				}
				137 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					408 = {
						is_controlled_by = SOV
					}
				}
				408 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_wartime_lessons
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = SOV_raise_naval_infantry focus = SOV_confront_naval_threats }
		x = 1
		y = 1
		relative_position_id = SOV_raise_naval_infantry
		cost = 3

		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_doctrine_cost_reduction = {
				cost_reduction = 0.99
				name = SOV_wartime_lessons
				uses = 3
				category = submarine_doctrine
			}
		}
	}

	focus = {
		id = SOV_mine_warfare
		icon = GFX_focus_generic_mine_warfare
		prerequisite = { focus = SOV_raise_naval_infantry }
		x = -1
		y = 1
		relative_position_id = SOV_wartime_lessons
		cost = 3

		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			custom_effect_tooltip = SOV_mine_warfare_tt
			hidden_effect = {
				add_to_variable = { SOV_red_fleet_navy_mines_planting_by_fleets_factor = 0.1 }
				add_to_variable = { SOV_red_fleet_navy_mines_sweeping_by_fleets_factor = 0.1 }
			}
			add_tech_bonus = {
				name = SOV_mine_warfare
				bonus = 0.5
				uses = 2
				category = naval_mines
			}
		}
	}

	focus = {
		id = SOV_offensive_maritime_strategy
		icon = GFX_goal_generic_fleet_escorts
		prerequisite = { focus = SOV_confront_naval_threats }
		x = 1
		y = 1
		relative_position_id = SOV_wartime_lessons

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		search_filters = { FOCUS_FILTER_NAVY_XP }

		completion_reward = {
			#Reduce Naval Reform Cost
			navy_experience = 25
			add_tech_bonus = {
				name = SOV_offensive_maritime_strategy
				bonus = 0.5
				uses = 3
				category = marine_tech
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.99
				name = SOV_offensive_maritime_strategy
				uses = 3
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = SOV_reorganize_the_navy
		icon = GFX_goal_HUN_the_hungarian_naval_forces
		prerequisite = { focus = SOV_offensive_maritime_strategy focus = SOV_mine_warfare }
		x = 0
		y = 2
		relative_position_id = SOV_wartime_lessons

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
			has_war = no
		}

		search_filters = { FOCUS_FILTER_NAVY_XP }

		completion_reward = {
			navy_experience = 25
			remove_ideas = SOV_red_fleet_surface_bonus_4
			if = {	#fix negatives from naval infantry
				limit = { has_completed_focus = SOV_raise_naval_infantry }
				custom_effect_tooltip = SOV_reorganize_the_navy_tt
				add_to_variable = { SOV_fyp_industrial_capacity_dockyard = 0.5 }
				add_to_variable = { SOV_red_fleet_navy_refit_ic_cost = -0.1 }
				add_to_variable = { SOV_red_fleet_repair_speed_factor = 0.1 }
				add_to_variable = { SOV_red_fleet_naval_coordination = 0.5 }
				add_to_variable = { SOV_red_fleet_positioning = 0.25 }
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = { SOV_red_fleet_navy_capital_ship_attack_factor = 0 }
						check_variable = { SOV_red_fleet_navy_submarine_attack_factor = 0 }
						check_variable = { SOV_red_fleet_navy_screen_attack_factor = 0 }
						check_variable = { SOV_red_fleet_naval_doctrine_cost_factor = 0 }
						check_variable = { SOV_red_fleet_naval_coordination = 0 }
					}
					remove_dynamic_modifier = { modifier = SOV_the_red_fleet_dynamic_modifier }
					remove_dynamic_modifier = { modifier = SOV_the_red_fleet_dynamic_modifier_alt }
				}
			}
		}
	}

	############################################
	############# POLITICAL BRANCH #############
	############################################

	focus = {
		id = SOV_policy_of_collective_security
		icon = GFX_goal_anschluss
		x = 15
		y = 0
		relative_position_id = SOV_pc_of_defence
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}

		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_DIPLOMACY
		}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_eyes_to_the_west
				days = 182
			}
			#custom_effect_tooltip = available_political_advisor
			#show_ideas_tooltip = SOV_maksim_litvinov
			activate_advisor = SOV_maksim_litvinov
		}
	}
	### Alt-History ###
	focus = {
		id = SOV_anti_capitalist_policies
		icon = GFX_focus_spr_class_war
		prerequisite = { focus = SOV_policy_of_collective_security }
		mutually_exclusive = { focus = SOV_anti_fascist_policies }
		x = 2
		y = 1
		relative_position_id = SOV_policy_of_collective_security
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			NOT = {
				has_government = democratic
			}
		}
		search_filters = {
			FOCUS_FILTER_PROPAGANDA
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			every_other_country = {
				limit = {
					is_major = yes
					OR = {
						has_government = fascism
						has_government = communism
					}
					NOT = {
						has_war_with = ROOT
					}
				}
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_anti_capitalist_policies_good
				}
			}
			every_other_country = {
				limit = {
					is_major = yes
					has_government = democratic
				}
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_anti_capitalist_policies_bad
				}
			}
		}
	}
	focus = {
		id = SOV_liberation_of_the_european_proletariat
		icon = GFX_focus_spr_torchbearers_of_tomorrow
		prerequisite = { focus = SOV_anti_capitalist_policies
		}
		x = 0
		y = 1
		relative_position_id = SOV_anti_capitalist_policies
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			any_country = {
				OR = {
					tag = ENG
					tag = FRA
					tag = GER
					tag = ITA
					tag = USA
				}
				has_government = democratic
				is_major = yes
				is_subject = no
			}
		}
		search_filters = {

		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_liberation_of_the_european_proletariat_ns
				days = 365
			}
			if = {
				limit = {
					ENG = {
						has_government = democratic
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_ENG
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ENG
				}
			}
			if = {
				limit = {
					FRA = {
						has_government = democratic
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_FRA
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = FRA
				}
			}
			if = {
				limit = {
					GER = {
						has_government = democratic
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_GER
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GER
				}
			}
			if = {
				limit = {
					ITA = {
						has_government = democratic
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_ITA
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ITA
				}
			}
		}
	}
	focus = {
		id = SOV_baltic_security
		icon = GFX_focus_SOV_baltic_security
		prerequisite = { focus = SOV_liberation_of_the_european_proletariat }
		x = 0
		y = 1
		relative_position_id = SOV_liberation_of_the_european_proletariat
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		bypass = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			OR = {
				owns_state = 146
				146 = {
					is_claimed_by = ROOT
				}
			}
			OR = {
				owns_state = 191
				191 = {
					is_claimed_by = ROOT
				}
			}
			OR = {
				owns_state = 13
				13 = {
					is_claimed_by = ROOT
				}
			}
		}
		available = {
			OR = {
				NOT = {
					has_country_flag = SOV_paranoia_system_active_flag
				}
			}
			is_subject = no
			if = {
				limit = { SOV_is_stalinist = yes }
				NOT = {
					has_global_flag = sov_yes_pact
				}
			}
		}
		search_filters = {
		}
		completion_reward = {
			add_named_threat = {
				threat = 1
				name = SOV_baltic_security
			}
			if = {
				limit = {
					country_exists = EST
				}
				EST = {
					if = {
						limit = {
							ROOT = {
								has_government = fascism
							}
						}
						add_timed_idea = {
							idea = fascist_influence
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = democratic
							}
						}
						add_timed_idea = {
							idea = democratic_influence
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = communism
							}
						}
						add_timed_idea = {
							idea = communist_influence
							days = 1095
						}
					}
					hidden_effect = {
						country_event = {
							id = generic.1
						}
					}
				}
			}
			if = {
				limit = {
					country_exists = LAT
				}
				LAT = {
					if = {
						limit = {
							ROOT = {
								has_government = fascism
							}
						}
						add_timed_idea = {
							idea = fascist_influence
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = democratic
							}
						}
						add_timed_idea = {
							idea = democratic_influence
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = communism
							}
						}
						add_timed_idea = {
							idea = communist_influence
							days = 1095
						}
					}
					hidden_effect = {
						country_event = {
							id = generic.1
						}
					}
				}
			}
			if = {
				limit = {
					country_exists = LIT
				}
				LIT = {
					if = {
						limit = {
							ROOT = {
								has_government = fascism
							}
						}
						add_timed_idea = {
							idea = fascist_influence
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = democratic
							}
						}
						add_timed_idea = {
							idea = democratic_influence
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = communism
							}
						}
						add_timed_idea = {
							idea = communist_influence
							days = 1095
						}
					}
					hidden_effect = {
						country_event = {
							id = generic.1
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_respect_baltic_self_determination
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = SOV_baltic_security }
		x = 0
		y = 1
		relative_position_id = SOV_baltic_security
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		bypass = {
			NOT = {
				country_exists = EST
				country_exists = LAT
				country_exists = LIT
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			is_subject = no
		}
		search_filters = {
		}
		completion_reward = {
			activate_targeted_decision = {
				target = EST
				decision = SOV_promote_ideology_rallies_baltic
			}
			activate_targeted_decision = {
				target = LAT
				decision = SOV_promote_ideology_rallies_baltic
			}
			activate_targeted_decision = {
				target = LIT
				decision = SOV_promote_ideology_rallies_baltic
			}
			activate_targeted_decision = {
				target = EST
				decision = SOV_pressure_country_government_baltic
			}
			activate_targeted_decision = {
				target = LAT
				decision = SOV_pressure_country_government_baltic
			}
			activate_targeted_decision = {
				target = LIT
				decision = SOV_pressure_country_government_baltic
			}
		}
	}
	### Western Diplo ###
	focus = {
		id = SOV_anti_fascist_policies
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = SOV_policy_of_collective_security }
		mutually_exclusive = { focus = SOV_anti_capitalist_policies }
		x = -2
		y = 1
		relative_position_id = SOV_policy_of_collective_security
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1
				has_civil_war = yes
			}
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
			FOCUS_FILTER_HISTORICAL
		}
		completion_reward = {
			every_other_country = {
				limit = {
					is_major = yes
					OR = {
						has_government = democratic
						has_government = communism
					}
					NOT = {
						has_war_with = ROOT
					}
				}
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_anti_fascist_policies_good
				}
			}
			every_other_country = {
				limit = {
					is_major = yes
					has_government = fascism
				}
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_anti_fascist_policies_bad
				}
			}
		}
	}
	focus = {
		id = SOV_seek_a_defense_pact_with_the_allies
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = SOV_anti_fascist_policies }
		x = 0
		y = 1
		relative_position_id = SOV_anti_fascist_policies
		cost = 3
		ai_will_do = {
			factor = 1
		}
		bypass = {
			has_global_flag = sov_yes_pact
			OR = {
				NOT = {
					country_exists = FRA
				}
				FRA = {
					has_capitulated = yes
				}
			}
			NOT = {
				any_other_country = {
					is_faction_leader = yes
					SOV_is_valid_collective_security_target = yes
				}
			}
		}
		available = {
			NOT = { has_country_flag = SOV_paranoia_system_active_flag }
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			if = {
				#FRA is default target
				limit = {
					country_exists = FRA
					FRA = {
						SOV_is_valid_collective_security_target = yes
					}
				}
				set_variable = {
					SOV_collective_security_target = FRA
				}
				FRA = {
					country_event = {
						id = NSB_soviet_policies_of_collective_security.1
						hours = 8
						random_hours = 4
					}
				}
			}
			else_if = {
				#ENG is first fallback target
				limit = {
					country_exists = ENG
					is_faction_leader = yes
					ENG = {
						SOV_is_valid_collective_security_target = yes
					}
				}
				set_variable = {
					SOV_collective_security_target = FRA
				}
				ENG = {
					country_event = {
						id = NSB_soviet_policies_of_collective_security.1
						hours = 8
						random_hours = 4
					}
				}
			}
			else_if = {
				#Non-Fascist European faction leader is next
				limit = {
					any_country = {
						is_faction_leader = yes
						capital_scope = {
							is_on_continent = europe
						}
						SOV_is_valid_collective_security_target = yes
					}
				}
				random_other_country = {
					limit = {
						is_faction_leader = yes
						capital_scope = {
							is_on_continent = europe
						}
						SOV_is_valid_collective_security_target = yes
					}
					ROOT = {
						set_variable = {
							SOV_collective_security_target = PREV
						}
					}
					country_event = {
						id = NSB_soviet_policies_of_collective_security.1
						hours = 8
						random_hours = 4
					}
				}
			}
			else_if = {
				#Alright I dont really care anymore, pick whoever is left alive
				limit = {
					any_other_country = {
						is_faction_leader = yes
						SOV_is_valid_collective_security_target = yes
					}
				}
				random_other_country = {
					limit = {
						is_faction_leader = yes
						SOV_is_valid_collective_security_target = yes
					}
					ROOT = {
						set_variable = {
							SOV_collective_security_target = PREV
						}
					}
					country_event = {
						id = NSB_soviet_policies_of_collective_security.1
						hours = 8
						random_hours = 4
					}
				}
			}
			custom_effect_tooltip = SOV_seek_a_defense_pact_with_the_allies_event_effects_tt
			if = {
				limit = {
					country_exists = POL
					POL = {
						SOV_is_valid_collective_security_target = yes
					}
					var:SOV_collective_security_target = {
						capital_scope = {
							is_on_continent = europe
						}
					}
				}
				custom_effect_tooltip = SOV_seek_a_defense_pact_with_the_allies_poland_tt
			}
		}
	}
	focus = {
		id = SOV_eradicate_western_fascism
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = SOV_seek_a_defense_pact_with_the_allies }
		x = 0
		y = 2
		relative_position_id = SOV_seek_a_defense_pact_with_the_allies
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			has_country_flag = SOV_army_reform_2
			any_country = {
				OR = {
					tag = ENG
					tag = FRA
					tag = GER
					tag = ITA
				}
				has_government = fascism
				is_major = yes
			}
			is_subject = no
			has_defensive_war = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_face_western_fascism_ns
				days = 365
			}
			if = {
				limit = {
					is_ai = yes
					ENG = {
						has_government = fascism
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_ENG
				}
				effect_tooltip = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = ENG
					}
				}
			}
			if = {
				limit = {
					is_ai = yes
					FRA = {
						has_government = fascism
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_FRA
				}
				effect_tooltip = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = FRA
					}
				}
			}
			if = {
				limit = {
					is_ai = yes
					GER = {
						has_government = fascism
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_GER
				}
				effect_tooltip = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = GER
					}
				}
			}
			if = {
				limit = {
					is_ai = yes
					ITA = {
						has_government = fascism
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_ITA
				}
				effect_tooltip = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = ITA
					}
				}
			}
			if = {
				limit = {
					is_ai = no
					ENG = {
						has_government = fascism
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_ENG
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ENG
				}
			}
			if = {
				limit = {
					is_ai = no
					FRA = {
						has_government = fascism
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_FRA
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = FRA
				}
			}
			if = {
				limit = {
					is_ai = no
					GER = {
						has_government = fascism
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_GER
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GER
				}
			}
			if = {
				limit = {
					is_ai = no
					ITA = {
						has_government = fascism
					}
				}
				hidden_effect = {
					add_ideas = SOV_targeted_bonus_against_ITA
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ITA
				}
			}
		}
	}
	focus = {
		id = SOV_ask_for_aid
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = {
			focus = SOV_anti_fascist_policies
		}
		relative_position_id = SOV_anti_fascist_policies
		x = -1
		y = 4
		cost = 2
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			any_enemy_country = {
				is_major = yes
			}
			surrender_progress > 0.1
			if = {
				limit = { has_completed_focus = SOV_the_left_opposition }
				USA = {
					exists = yes
					is_major = yes
					has_government = communism
					has_completed_focus = USA_lend_lease_act
				}
			}
			else = {
				USA = {
					exists = yes
					is_major = yes
					OR = {
						has_government = democratic
						has_government = communism
					}
					has_completed_focus = USA_lend_lease_act
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
			FOCUS_FILTER_EMERGENCY
		}

		completion_reward = {
			custom_effect_tooltip = SOV_ask_for_aid_tt
			set_global_flag = SOV_ask_for_aid_flag
		}
	}
	focus = {
		id = SOV_send_military_advisors_to_spain
		icon = GFX_focus_intervention_spain_republic
		prerequisite = { focus = SOV_anti_fascist_policies focus = SOV_anti_capitalist_policies }
		x = 2
		y = 1
		relative_position_id = SOV_anti_fascist_policies
		cost = 2
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			has_civil_war = no
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPR_scw_in_progress = yes
				if = {
					limit = {
						NOT = {
							has_global_flag = spanish_civil_war
						}
					}
					custom_trigger_tooltip = {
						tooltip = POR_spr_tooltip_country_exist_tt
						country_exists = SPR
					}
					custom_trigger_tooltip = {
						tooltip = POR_spr_tooltip_at_peace_tt
						NOT = {
							has_war_with = SPR
						}
					}
				}
				else = {
					if = {
						limit = {
							has_completed_focus = SOV_covert_support_for_spanish_poum
						}
						country_exists = SPC
						NOT = {
							has_war_with = SPC
						}
					}
					else = {
						country_exists = SPD
						NOT = {
							has_war_with = SPD
						}
					}
				}
			}
			else = {
				any_other_country = {
					original_tag = SPR
					has_civil_war = yes
					NOT = {
						has_war_with = ROOT
					}
					OR = {
						has_government = democratic
						has_government = communism
					}
				}
			}
			has_government = communism
			is_subject = no
		}
		bypass = {
			has_global_flag = scw_over
		}
		search_filters = {
			FOCUS_FILTER_AIR_XP
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			unlock_decision_tooltip = SOV_equipment_shipments_air
			unlock_decision_tooltip = SOV_equipment_shipments_tank
			unlock_decision_tooltip = SOV_equipment_shipments_inf
			if = {
				limit = {
					has_dlc = "La Resistance"
					has_completed_focus = SOV_covert_support_for_spanish_poum
					has_completed_focus = SOV_coup_detat
					has_global_flag = SPR_anarchist_uprising_flag
					country_exists = SPC
					SPC = {
						has_completed_focus = SPR_the_anti_fascist_workers_revolution
					}
				}
				SPC = {
					add_opinion_modifier = { target = SOV modifier = SPA_spanish_civil_war_commitments }
					hidden_effect = {
						country_event = {
							id = NSB_soviet_foreign_politics_events.20
							hours = 2
							random_hours = 1
						}
					}
					effect_tooltip = {
						add_timed_idea = {
							idea = SOV_soviet_advisors_spr
							days = 1095
						}
					}
				}
			}
			else_if = {
				limit = {
					has_dlc = "La Resistance"
					country_exists = SPD
				}
				SPD = {
					add_opinion_modifier = { target = SOV modifier = SPA_spanish_civil_war_commitments }
					hidden_effect = {
						country_event = {
							id = NSB_soviet_foreign_politics_events.20
							hours = 2
							random_hours = 1
						}
					}
					effect_tooltip = {
						add_timed_idea = {
							idea = SOV_soviet_advisors_spr
							days = 1095
						}
					}
				}
			}
			else_if = {
				limit = {
					has_dlc = "La Resistance"
					NOT = {
						country_exists = SPD
					}
				}
				SPR = {
					add_opinion_modifier = { target = SOV modifier = SPA_spanish_civil_war_commitments }
				}
				custom_effect_tooltip = SOV_aid_republican_spain_tt
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_soviet_advisors_spr
						days = 1095
					}
				}
			}
			else = {
				random_country = {
					limit = {
						original_tag = SPR
						has_civil_war = yes
						OR = {
							has_government = communism
							has_government = democratic
						}
					}
					SPR = {
						add_opinion_modifier = { target = SOV modifier = SPA_spanish_civil_war_commitments }
					}
					hidden_effect = {
						country_event = {
							id = NSB_soviet_foreign_politics_events.20
							hours = 2
							random_hours = 1
						}
					}
					effect_tooltip = {
						add_timed_idea = {
							idea = SOV_soviet_advisors_spr
							days = 1095
						}
					}
				}
			}
			# A Spanish General will join the USSR if his side loses the SCW
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = SOV_send_military_advisors_to_spain_generals_tt
				set_country_flag = SOV_spanish_refugee_generals_welcome_flag
			}
		}
	}

	focus = {
		id = SOV_improve_the_stalin_line
		icon = GFX_goal_SOV_improve_the_stalin_line
		prerequisite = { focus = SOV_send_military_advisors_to_spain }
		x = 0
		y = 1
		relative_position_id = SOV_send_military_advisors_to_spain
		cost = 3
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_has_civil_war_no_tt
				has_civil_war = no
				NOT = {
					has_war_with = STA
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_stability = 0.05
			every_state = {
				limit = {
					is_fully_controlled_by = ROOT
					OR = {
						state = 208
						state = 209
						state = 210
						state = 207
						state = 206
						state = 204
						state = 194
						state = 201
						state = 199
						state = 198
						state = 192
						state = 202
					}
				}
				add_dynamic_modifier = {
					modifier = SOV_fortified_state
					scope = SOV
				}
			}
			209 = {
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11202
							id = 6324
							id = 11392
						}
						instant_build = yes
					}
				}
			}
			210 = {
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 6242
							id = 9353
							id = 9386
						}
						instant_build = yes
					}
				}
			}
			207 = {
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 6249
							id = 6371
							id = 6220
						}
						instant_build = yes
					}
				}
			}
			206 = {
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			204 = {
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 360
							id = 3759
							id = 11313
						}
						instant_build = yes
					}
				}
			}
			201 = {
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 9493
							id = 3470
						}
						instant_build = yes
					}
				}
			}
			199 = {
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 3511
							id = 3457
							id = 6429
							id = 3430
						}
						instant_build = yes
					}
				}
			}
			198 = {
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 6455
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 476
							id = 9623
							id = 9576
						}
						instant_build = yes
					}
				}
			}
			192 = {
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 754
							id = 741
						}
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11670
						instant_build = yes
					}
				}
			}
			202 = {
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = {
							id = 13302
							id = 13296
							id = 3543
							id = 504
							id = 3494
						}
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_policy_of_individual_security
		icon = GFX_goal_generic_defence
		prerequisite = { focus = SOV_improve_the_stalin_line }
		x = 0
		y = 1
		relative_position_id = SOV_improve_the_stalin_line
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			OR = {
				has_completed_focus = SOV_anti_capitalist_policies
				AND = {
					has_completed_focus = SOV_anti_fascist_policies
					custom_trigger_tooltip = {
						tooltip = GER_sudetenland_acquired_flag
						OR = {
							GER = { has_country_flag = GER_sudetenland_acquired_flag }
							GER = { owns_state = 69 }
							GER = { owns_state = 74 }
						}
					}
				}
				threat > 0.21
			}
		}
		bypass = {
			has_completed_focus = SOV_baltic_security
			has_completed_focus = SOV_eradicate_western_fascism
		}

		search_filters = {
			FOCUS_FILTER_POLITICAL
		}

		cancel_if_invalid = no
		continue_if_invalid = yes

		completion_reward = {
			add_political_power = 35
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_vyacheslav_molotov
			#activate_advisor = SOV_vyacheslav_molotov
			if = {
				limit = { has_completed_focus = SOV_anti_fascist_policies }
				every_other_country = {
					limit = {
						is_major = yes
						OR = {
							has_government = democratic
							has_government = communism
						}
						NOT = {
							has_war_with = ROOT
						}
					}
					remove_opinion_modifier = {
						target = SOV
						modifier = SOV_anti_fascist_policies_good
					}
				}
				every_other_country = {
					limit = {
						is_major = yes
						has_government = fascism
					}
					remove_opinion_modifier = {
						target = SOV
						modifier = SOV_anti_fascist_policies_bad
					}
				}
			}
		}
	}
	focus = {
		id = SOV_mol_rib_pact
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = SOV_policy_of_individual_security }
		x = 0
		y = 1
		relative_position_id = SOV_policy_of_individual_security
		cost = 1
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}

		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			if = {
				limit = {
					GER = {
						exists = yes
						SOV_is_valid_subject = yes
						has_government = fascism
					}
				}
				is_neighbor_of = GER
				POL = {
					has_capitulated = yes
				}
				NOT = {
					has_war_with = GER
				}
				is_subject = no
			}
			else = {
				FRA = {
					exists = yes
					SOV_is_valid_subject = yes
				}
				NOT = {
					has_war_with = FRA
				}
				is_subject = no
			}
		}

		bypass = {
			OR = {
				has_completed_focus = SOV_the_left_opposition
				has_global_flag = mr_not_honored
				GER = { NOT = { has_government = fascism } }
				AND = {
					OR = {
						NOT = { country_exists = GER }
						GER = { has_capitulated = yes }
					}
					OR = {
						NOT = { country_exists = GER }
						FRA = { has_capitulated = yes }
					}
					OR = {
						NOT = { country_exists = FRA }
						FRA = { has_capitulated = yes }
					}
				}
			}

		}

		search_filters = {
			FOCUS_FILTER_DIPLOMACY
			FOCUS_FILTER_RESEARCH
		}

		completion_reward = {
			if = {
				limit = {
					GER = {
						exists = yes
						SOV_is_valid_subject = yes
						has_government = fascism
					}
				}
				GER = {
					country_event = {
						id = NSB_soviet_soviet_german_trade_agreement.1
						hours = 1
					}
				}
				custom_effect_tooltip = if_they_accept			#This will also make GER more likely to take Molotov-Ribbentrop pact and less to take Anti-Soviet Pact
				effect_tooltip = {
					if = {
						limit = {
							has_dlc = "Man the Guns"
						}
						set_technology = {
							ger_heavy_cruiser_2 = 1
						}
						# CA: Lützow -> Petropavlovsk
						add_equipment_production = {
							equipment = {
								type = ger_heavy_cruiser_hull_2
								creator = "SOV"
							}
							name = "Petropavlovsk"
							requested_factories = 1
							progress = 0.7
							amount = 1
						}
						if = {
							#Default name
							limit = {
								has_government = communism
							}
							add_tech_bonus = {
								name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
								bonus = 0.5
								uses = 3
								category = ship_modules_tech
								category = bb_tech
								category = dd_tech
							}
						}
						else = {
							#Alt name
							add_tech_bonus = {
								name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
								bonus = 0.5
								uses = 2
								category = ship_modules_tech
								category = bb_tech
								category = dd_tech
							}
						}
					}
					else = {
						#No MTG
						if = {
							limit = {
								NOT = {
									has_tech = basic_heavy_cruiser
								}
							}
							set_technology = {
								basic_heavy_cruiser = 1
							}
						}
						create_equipment_variant = {
							name = "Hipper Class"
							type = heavy_cruiser_2
							parent_version = 0
							upgrades = {
								ship_reliability_upgrade = 1
								ship_engine_upgrade = 1
								ship_armor_upgrade = 2
								ship_gun_upgrade = 2
							}
						}
						add_equipment_production = {
							equipment = {
								type = heavy_cruiser_2
								creator = "SOV"
							}
							requested_factories = 1
							progress = 0.95
							amount = 1
						}
						if = {
							#Default name
							limit = {
								has_government = communism
							}
							add_tech_bonus = {
								name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
								bonus = 0.5
								uses = 2
								category = ca_tech
								category = bb_tech
								category = dd_tech
							}
						}
						else = {
							#Alt name
							add_tech_bonus = {
								name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
								bonus = 0.5
								uses = 2
								category = ca_tech
								category = bb_tech
								category = dd_tech
							}
						}
					}
					if = {
						#Default name
						limit = {
							has_government = communism
						}
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
							bonus = 0.5
							uses = 1
							category = air_equipment
						}
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
							bonus = 0.5
							uses = 2
							category = industry
						}
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
							bonus = 0.5
							uses = 1
							category = synth_resources
						}
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name
							bonus = 0.5
							uses = 1
							category = armor
						}
					}
					else = {
						#Alt name
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
							bonus = 0.5
							uses = 1
							category = air_equipment
						}
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
							bonus = 0.5
							uses = 2
							category = industry
						}
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
							bonus = 0.5
							uses = 1
							category = synth_resources
						}
						add_tech_bonus = {
							name = NSB_soviet_soviet_german_trade_agreement_tech_bonus_name_alt
							bonus = 0.5
							uses = 1
							category = armor
						}
					}
					SOV = {
						add_timed_idea = {
							idea = GER_soviet_german_trade_agreement
							days = 845
						}
						#Should actually last til end of 41
						economy_fatigue_level_down_4 = yes
					}
					#Effects to Germans
					GER = {
						add_timed_idea = {
							idea = SOV_soviet_german_trade_agreement
							days = 845
						}
						#Should actually last til end of 41
						capital_scope = {
							add_dynamic_modifier = {
								modifier = SOV_soviet_imports
							}
						}
						economy_fatigue_level_down_2 = yes
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = SOV_mol_rib_pact
					bonus = 0.5
					uses = 3
					category = ship_modules_tech
					category = bb_tech
					category = dd_tech
				}
				add_tech_bonus = {
					name = SOV_mol_rib_pact
					bonus = 0.5
					uses = 1
					category = air_equipment
				}
				add_tech_bonus = {
					name = SOV_mol_rib_pact
					bonus = 0.5
					uses = 2
					category = industry
				}
				add_tech_bonus = {
					name = SOV_mol_rib_pact
					bonus = 0.5
					uses = 1
					category = armor
				}
				SOV = {
					add_timed_idea = {
						idea = GER_soviet_german_trade_agreement
						days = 845
					}
					#Should actually last til end of 41
				}
				#Effects to FRA
				FRA = {
					add_timed_idea = {
						idea = SOV_soviet_german_trade_agreement
						days = 845
					}
					#Should actually last til end of 41
					capital_scope = {
						add_dynamic_modifier = {
							modifier = SOV_soviet_imports
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_claims_on_poland
		icon = GFX_goal_generic_attack_poland
		prerequisite = { focus = SOV_mol_rib_pact }
		x = 0
		y = 1
		relative_position_id = SOV_mol_rib_pact
		cost = 2
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_civil_war = yes
					date < 1939.7.1
				}
			}
			modifier = {
				factor = 200
				GER = {
					has_government = democratic
				}
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			is_subject = no
		}
		bypass = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact
				NOT = {
					country_exists = POL
				}
				has_non_aggression_pact_with = POL
				has_guaranteed = POL
				AND = {
					OR = {
						owns_state = 91
						91 = {
							is_claimed_by = ROOT
						}
					}
					OR = {
						owns_state = 93
						93 = {
							is_claimed_by = ROOT
						}
					}
					OR = {
						owns_state = 94
						94 = {
							is_claimed_by = ROOT
						}
					}
					OR = {
						owns_state = 95
						95 = {
							is_claimed_by = ROOT
						}
					}
					OR = {
						owns_state = 96
						96 = {
							is_claimed_by = ROOT
						}
					}
					OR = {
						owns_state = 89
						89 = {
							is_claimed_by = ROOT
						}
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		completion_reward = {
			# REVISIT Covers Polish border, may want to add/remove some states
			add_state_claim = 96
			add_state_claim = 95
			add_state_claim = 94
			add_state_claim = 93
			add_state_claim = 91
			add_state_claim = 89
			add_state_claim = 784
			add_named_threat = {
				threat = 3
				name = SOV_claims_on_poland
			}
			every_other_country = {
				limit = {
					OR = {
						owns_state = 96
						owns_state = 95
						owns_state = 94
						owns_state = 93
						owns_state = 91
						owns_state = 89
						owns_state = 784
					}
				}
				add_opinion_modifier = {
					target = SOV
					modifier = claimed_eastern_poland
				}
			}
			if = {
				limit = {
					POL = {
						96 = {
							is_owned_and_controlled_by = POL
						}
						95 = {
							is_owned_and_controlled_by = POL
						}
						94 = {
							is_owned_and_controlled_by = POL
						}
						93 = {
							is_owned_and_controlled_by = POL
						}
						91 = {
							is_owned_and_controlled_by = POL
						}
						89 = {
							is_owned_and_controlled_by = POL
						}
						784 = {
							is_owned_and_controlled_by = POL
						}
					}
				}
				POL = {
					country_event = {
						id = poland.2
					}
					custom_effect_tooltip = needs_approval
				}
			}
			else_if = {
				limit = {
					GER = {
						96 = {
							is_controlled_by = GER
						}
						95 = {
							is_controlled_by = GER
						}
						94 = {
							is_controlled_by = GER
						}
						93 = {
							is_controlled_by = GER
						}
						91 = {
							is_controlled_by = GER
						}
						89 = {
							is_controlled_by = GER
						}
						784 = {
							is_controlled_by = GER
						}
					}
				}
				GER = {
					country_event = {
						id = ger_armor.853
					}
					custom_effect_tooltip = needs_approval
				}
			}
			effect_tooltip = {
				SOV = {
					if = {
						limit = {
							POL = {
								controls_state = 96
							}
						}
						transfer_state = 96
					}
					if = {
						limit = {
							POL = {
								controls_state = 95
							}
						}
						transfer_state = 95
					}
					if = {
						limit = {
							POL = {
								controls_state = 94
							}
						}
						transfer_state = 94
					}
					if = {
						limit = {
							POL = {
								controls_state = 93
							}
						}
						transfer_state = 93
					}
					if = {
						limit = {
							POL = {
								controls_state = 91
							}
						}
						transfer_state = 91
					}
					if = {
						limit = {
							POL = {
								controls_state = 89
							}
						}
						transfer_state = 89
					}
					if = {
						limit = {
							POL = {
								controls_state = 89
							}
						}
						transfer_state = 784
					}
					if = {
						limit = {
							GER = {
								controls_state = 96
							}
						}
						transfer_state = 96
					}
					if = {
						limit = {
							GER = {
								controls_state = 95
							}
						}
						transfer_state = 95
					}
					if = {
						limit = {
							GER = {
								controls_state = 94
							}
						}
						transfer_state = 94
					}
					if = {
						limit = {
							GER = {
								controls_state = 93
							}
						}
						transfer_state = 93
					}
					if = {
						limit = {
							GER = {
								controls_state = 91
							}
						}
						transfer_state = 91
					}
					if = {
						limit = {
							GER = {
								controls_state = 89
							}
						}
						transfer_state = 89
					}
					if = {
						limit = {
							GER = {
								controls_state = 784
							}
						}
						transfer_state = 784
					}
				}
			}
		}
	}
	focus = {
		id = SOV_claim_on_bessarabia
		icon = GFX_focus_generic_attack_romania
		prerequisite = { focus = SOV_claims_on_poland }
		x = 0
		y = 1
		relative_position_id = SOV_claims_on_poland
		cost = 2
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					date < 1939.1.1
					has_civil_war = yes
				}
			}
			modifier = {
				factor = 200
				GER = {
					has_government = democratic
				}
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			is_subject = no
		}
		bypass = {
			has_idea = SOV_molotov_ribbentrop_pact
			OR = {
				owns_state = 78				#Bessarabia
				78 = {
					is_claimed_by = ROOT
				}
				78 = {
					owner = {
						is_in_faction_with = ROOT
					}
				}
			}
			OR = {
				owns_state = 80				#Bucovina
				80 = {
					is_claimed_by = ROOT
				}
				80 = {
					owner = {
						is_in_faction_with = ROOT
					}
				}
			}
			OR = {
				owns_state = 766				#Southern Bessarabia
				766 = {
					is_claimed_by = ROOT
				}
				766 = {
					owner = {
						is_in_faction_with = ROOT
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		completion_reward = {
			#This is now generic and will target any potential (multiple) controllers for these states.
			if = {
				limit = {
					78 = {
						OWNER = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_claim = 78
			}
			if = {
				limit = {
					766 = {
						OWNER = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_claim = 766
			}
			if = {
				limit = {
					80 = {
						OWNER = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_claim = 80
			}
			unlock_decision_tooltip = SOV_demand_bessarabia
			add_named_threat = {
				threat = 1
				name = SOV_claim_on_bessarabia
			}
			random_other_country = {
				limit = {
					owns_state = 78
				}
				add_opinion_modifier = {
					target = SOV
					modifier = claimed_bessarabia
				}
				set_country_flag = SOV_added_claimed_bessarabia
			}
			unlock_decision_tooltip = SOV_demand_bessarabia
		}
	}

	focus = {
		id = SOV_the_molotov_line
		icon = GFX_goal_SOV_the_molotov_line
		prerequisite = { focus = SOV_claim_on_bessarabia }
		x = 0
		y = 1
		relative_position_id = SOV_claim_on_bessarabia
		cost = 3
		available = {
			OR = {
				has_full_control_of_state = 188
				has_full_control_of_state = 189
				has_full_control_of_state = 968
				has_full_control_of_state = 97
				has_full_control_of_state = 94
				has_full_control_of_state = 93
				has_full_control_of_state = 91
				has_full_control_of_state = 89
				has_full_control_of_state = 80
				has_full_control_of_state = 78
				has_full_control_of_state = 766
			}
		}
		search_filters = {
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 100
			add_stability = 0.05
			custom_effect_tooltip = SOV_the_molotov_line_tt
			every_state = {
				limit = {
					is_fully_controlled_by = ROOT
					OR = {
						state = 188
						state = 189
						state = 11
						state = 968
						state = 969
						state = 784
						state = 95
						state = 96
						state = 97
						state = 94
						state = 93
						state = 91
						state = 89
						state = 80
						state = 78
						state = 766
					}
				}
				add_dynamic_modifier = {
					modifier = SOV_fortified_state
					scope = SOV
				}
			}
			### LITHUANIA ###
			if = {
				#If Memel is controlled, then add forts in Memel, if not, then go to Zemaitija
				limit = {
					188 = {
						is_fully_controlled_by = ROOT
					}
				}
				#custom_effect_tooltip = SOV_molotov_line_forts_3
				188 = {
					add_building_construction = {
						type = bunker
						level = 3
						province = {
							id = 3288
						}
						instant_build = yes
					}
				}
				189 = {
					add_building_construction = {
						type = bunker
						level = 3
						province = {
							id = 3337
						}
						instant_build = yes
					}
					hidden_effect = {
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
				}

			}
			else = {
				189 = {
					#ZEMAITIJA
					if = {
						limit = {
							is_fully_controlled_by = ROOT
						}
						#custom_effect_tooltip = SOV_molotov_line_forts_3

						add_dynamic_modifier = {
							modifier = SOV_fortified_state
							scope = SOV
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = {
								id = 6314
								id = 9499
								id = 3337
							}
							instant_build = yes
						}
						hidden_effect = {
							add_building_construction = {
								type = air_base
								level = 2
								instant_build = yes
							}
						}
					}
				}
			}
			968 = {
				#Suduva
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					#custom_effect_tooltip = SOV_molotov_line_forts_2
					add_building_construction = {
						type = bunker
						level = 3
						province = {
							id = 6407
							id = 11312
							id = 6281
						}
						instant_build = yes
					}
				}
			}
			### POLAND ###
			97 = {
				#Bialystok
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					#custom_effect_tooltip = SOV_molotov_line_forts_6
					add_building_construction = {
						type = bunker
						level = 3
						province = {
							id = 347
							id = 11357
							id = 11329
							id = 11274
							id = 290
						}
						instant_build = yes
					}
					hidden_effect = {
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
				}
			}
			94 = {
				#Polesie
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					#custom_effect_tooltip = SOV_molotov_line_forts_2
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 3392
							id = 6546
						}
						instant_build = yes
					}
					hidden_effect = {
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
				}
			}
			93 = {
				#Wolyn
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					#custom_effect_tooltip = SOV_molotov_line_forts_2
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11441
							id = 422
						}
						instant_build = yes
					}
					hidden_effect = {
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
				}
			}
			91 = {
				#Lwow
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					#custom_effect_tooltip = SOV_molotov_line_forts_2
					add_building_construction = {
						type = bunker
						level = 4
						province = {
							id = 536
							id = 9468
							id = 11479
						}
						instant_build = yes
					}
					hidden_effect = {
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
				}
			}
			89 = {
				#Stanislawow
				if = {
					limit = {
						is_fully_controlled_by = ROOT
					}
					#custom_effect_tooltip = SOV_molotov_line_forts_4
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 6431
						}
						instant_build = yes
					}
				}
			}
			### Romania ###
		}
	}
	focus = {
		id = SOV_claims_in_baltic
		icon = GFX_goal_generic_focus_on_baltics
		prerequisite = { focus = SOV_mol_rib_pact }
		x = -2
		y = 1
		relative_position_id = SOV_mol_rib_pact
		cost = 2
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0
				OR = {
					has_civil_war = yes
					date < 1939.1.1
				}
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			is_subject = no
		}
		bypass = {
			OR = {
				all_state = {
					OR = {
						is_core_of = EST
						is_core_of = LAT
						is_core_of = LIT
					}
					NOT = {
						state = 188
					}
					OR = {
						is_claimed_by = ROOT
						is_controlled_by = ROOT
					}
				}
				all_country = {
					OR = {
						tag = EST
						tag = LAT
						tag = LIT
					}
					OR = {
						is_in_faction_with = SOV
						is_puppet_of = SOV
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			add_war_support = 0.05
			# Estonia
			custom_effect_tooltip = SOV_estonian_claimed_states_tt
			hidden_effect = {
				EST = {
					every_owned_state = {
						limit = {
							is_core_of = PREV
						}
						ROOT = {
							add_state_claim = PREV
						}
					}
				}
			}
			if = {
				limit = {
					EST = {
						NOT = {has_war_with = SOV}
						is_in_faction = no
					}
				}
				diplomatic_relation = {
					country = EST
					relation = non_aggression_pact
					active = yes
				}
				diplomatic_relation = {
					country = EST
					relation = military_access
					active = yes
				}
			}
			# Latvia
			custom_effect_tooltip = SOV_latvian_claimed_states_tt
			hidden_effect = {
				LAT = {
					every_owned_state = {
						limit = {
							is_core_of = PREV
						}
						ROOT = {
							add_state_claim = PREV
						}
					}
				}
			}
			if = {
				limit = {
					LAT = {
						NOT = {has_war_with = SOV}
						is_in_faction = no
					}
				}
				diplomatic_relation = {
					country = LAT
					relation = non_aggression_pact
					active = yes
				}
				diplomatic_relation = {
					country = LAT
					relation = military_access
					active = yes
				}
			}
			# Lithuania
			custom_effect_tooltip = SOV_lithuanian_claimed_states_tt
			hidden_effect = {
				LIT = {
					every_owned_state = {
						limit = {
							is_core_of = PREV
						}
						ROOT = {
							add_state_claim = PREV
						}
					}
				}
			}
			if = {
				limit = {
					LIT = {
						NOT = {has_war_with = SOV}
						is_in_faction = no
					}
				}
				diplomatic_relation = {
					country = LIT
					relation = non_aggression_pact
					active = yes
				}
				diplomatic_relation = {
					country = LIT
					relation = military_access
					active = yes
				}
			}
			unlock_decision_tooltip = SOV_estonian_ultimatum
			unlock_decision_tooltip = SOV_latvian_ultimatum
			unlock_decision_tooltip = SOV_lithuanian_ultimatum
			add_named_threat = {
				threat = 1
				name = SOV_claims_in_baltic
			}
		}
	}

	focus = {
		id = SOV_secure_leningrad
		icon = GFX_focus_generic_attack_finland
		prerequisite = { focus = SOV_claims_in_baltic }
		x = 0
		y = 1
		relative_position_id = SOV_claims_in_baltic
		cost = 2
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		dynamic = yes
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			is_subject = no
		}
		bypass = {
			OR = {
				owns_state = 146
				146 = {
					is_claimed_by = ROOT
				}
				has_full_control_of_state = 146
			}
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}

		completion_reward = {
			add_state_claim = 146			# Karjala
			unlock_decision_tooltip = SOV_demand_karjala
			195 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 13243
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SOV_protect_the_white_sea_baltic_canal
		icon = GFX_goal_SOV_protect_the_white_sea_baltic_canal
		prerequisite = { focus = SOV_secure_leningrad }
		x = 0
		y = 1
		relative_position_id = SOV_secure_leningrad
		cost = 3
		search_filters = {
		}
		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 215					#ONEGA
				}
				215 = {
					#ONEGA
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 9045
							id = 3078
							id = 11212
						}
						instant_build = yes
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 9045
						instant_build = yes
					}
				}
				build_railway = {
					path = {
						11092
						155
						11175
						6021
						94
						9195
						3189
						86
						3008
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 216					#OLONETS
				}
				216 = {
					#OLONETS
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 92
							id = 11092
						}
						instant_build = yes
					}
				}
				build_railway = {
					path = {
						11159
						9118
						3033
						11092
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 264					#TIKHVIN
				}
				264 = {
					#TIKHVIN
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 9082
							id = 9190
							id = 11059
						}
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 195					#LENINGRAD
				}
				195 = {
					#LENINGRAD
					add_building_construction = {
						type = anti_air_building
						level = 4
						instant_build = yes
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 149
							id = 11068
							id = 79
						}
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 213					#Murmansk
				}
				build_railway = {
					path = {
						3008
						9162
						3121
						6181
						9201
						11117
						3134
					}
				}
			}
		}
	}
	focus = {
		id = SOV_demand_balkan_submission
		icon = GFX_goal_generic_focus_on_balkans
		prerequisite = { focus = SOV_the_molotov_line }
		x = -1
		y = 1
		relative_position_id = SOV_the_molotov_line
		cost = 3
		ai_will_do = {
			factor = 0
		}
		mutually_exclusive = {
			focus = SOV_seek_balkan_cooperation
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			any_other_country = {
				BUL_is_balkan_nation = yes
			}
			has_country_flag = SOV_army_reform_3
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			every_other_country = {
				limit = {
					BUL_is_balkan_nation = yes
				}
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}
				hidden_effect = {
					country_event = {
						id = generic.1
					}
				}
			}
			custom_effect_tooltip = SOV_demand_balkan_submission_decisions_tt
			hidden_effect = {
				activate_targeted_decision = {
					target = ROM
					decision = SOV_send_ultimatum_to_country_balkan
				}
				activate_targeted_decision = {
					target = BUL
					decision = SOV_send_ultimatum_to_country_balkan
				}
				activate_targeted_decision = {
					target = GRE
					decision = SOV_send_ultimatum_to_country_balkan
				}
				activate_targeted_decision = {
					target = YUG
					decision = SOV_send_ultimatum_to_country_balkan
				}
				activate_targeted_decision = {
					target = TUR
					decision = SOV_send_ultimatum_to_country_balkan
				}
			}
		}
	}
	focus = {
		id = SOV_seek_balkan_cooperation
		icon = GFX_focus_BUL_free_balkan_states
		prerequisite = { focus = SOV_the_molotov_line }
		x = 1
		y = 1
		relative_position_id = SOV_the_molotov_line
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1944.1.1
			}
		}
		mutually_exclusive = {
			focus = SOV_demand_balkan_submission
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			any_other_country = {
				BUL_is_balkan_nation = yes
			}
			has_country_flag = SOV_army_reform_3
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			every_other_country = {
				limit = {
					BUL_is_balkan_nation = yes
				}
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}
				hidden_effect = {
					country_event = {
						id = generic.1
					}
				}
			}
			custom_effect_tooltip = SOV_seek_balkan_cooperation_decisions_tt
			hidden_effect = {
				activate_targeted_decision = {
					target = ROM
					decision = SOV_pressure_country_government_balkan
				}
				activate_targeted_decision = {
					target = BUL
					decision = SOV_pressure_country_government_balkan
				}
				activate_targeted_decision = {
					target = GRE
					decision = SOV_pressure_country_government_balkan
				}
				activate_targeted_decision = {
					target = YUG
					decision = SOV_pressure_country_government_balkan
				}
				activate_targeted_decision = {
					target = TUR
					decision = SOV_pressure_country_government_balkan
				}
				activate_targeted_decision = {
					target = ROM
					decision = SOV_promote_ideology_rallies_balkan
				}
				activate_targeted_decision = {
					target = BUL
					decision = SOV_promote_ideology_rallies_balkan
				}
				activate_targeted_decision = {
					target = GRE
					decision = SOV_promote_ideology_rallies_balkan
				}
				activate_targeted_decision = {
					target = YUG
					decision = SOV_promote_ideology_rallies_balkan
				}
				activate_targeted_decision = {
					target = TUR
					decision = SOV_promote_ideology_rallies_balkan
				}
			}
		}
	}
	focus = {
		id = SOV_future_of_germany
		icon = GFX_goal_generic_german_question
		prerequisite = { focus = SOV_demand_balkan_submission focus = SOV_seek_balkan_cooperation }
		x = -1
		y = 1
		relative_position_id = SOV_demand_balkan_submission
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			NOT = {
				has_War_with = GER
			}
			GER = {
				exists = no
			}
			any_state = {
				is_core_of = GER
				is_controlled_by = SOV
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		completion_reward = {
			DDR = {
				add_state_core = 42
				add_state_core = 50
				add_state_core = 51
				add_state_core = 52
				add_state_core = 53
				add_state_core = 54
				add_state_core = 55
				add_state_core = 56
				add_state_core = 57
				add_state_core = 58
				add_state_core = 59
				add_state_core = 60
				add_state_core = 61
				add_state_core = 62
				add_state_core = 64
				add_state_core = 65
				add_state_core = 66
				add_state_core = 67
				add_state_core = 803
				add_state_core = 799
				add_state_core = 800
				add_state_core = 801
				add_state_core = 802
				add_state_core = 804
				add_state_core = 810
				add_state_core = 996
			}
			hidden_effect = {
				USA = {
					transfer_state = 526
				}
				USA = {
					transfer_state = 645
				}
				USA = {
					transfer_state = 863
				}
				USA = {
					transfer_state = 646
				}
				USA = {
					transfer_state = 648
				}
				SOV = {
					set_faction_name = COMINFORM
				}
			}
			release = DDR
			every_state = {
				limit = {
					is_core_of = DDR
					OR = {
						is_controlled_by = SOV
					}
				}
				DDR = {
					transfer_state = PREV
				}
			}
			SOV = {
				puppet = DDR
			}
			DDR = {
				set_popularities = {
					communism = 55
					democratic = 12
					fascism = 33
				}
				set_country_flag = soviet_technologies_tree_flag
			}
		}
	}
	focus = {
		id = SOV_european_buffer_zone
		icon = GFX_goal_SOV_european_buffer_zone
		prerequisite = { focus = SOV_demand_balkan_submission focus = SOV_seek_balkan_cooperation }
		x = 1
		y = 1
		relative_position_id = SOV_demand_balkan_submission

		available = {
			NOT = {
				has_War_with = GER
				has_global_flag = soviet_union_defeated
			}
			has_global_flag = ww2_has_ended
		}

		cost = 20
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			if = {
				limit = {
					country_exists = ROM
					NOT = {
						ROM = {
							is_in_faction_with = SOV
						}
					}
					NOT = {
						ROM = {
							is_puppet_of = SOV
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROM
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = ROM
					}
				}
				unlock_decision_tooltip = SOV_puppet_ROM
			}
			if = {
				limit = {
					country_exists = HUN
					NOT = {
						HUN = {
							is_in_faction_with = SOV
						}
					}
					NOT = {
						HUN = {
							is_puppet_of = SOV
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = HUN
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = HUN
					}
				}
				unlock_decision_tooltip = SOV_puppet_HUN
			}
			if = {
				limit = {
					country_exists = YUG
					NOT = {
						YUG = {
							is_in_faction_with = SOV
						}
					}
					NOT = {
						YUG = {
							is_puppet_of = SOV
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = YUG
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = YUG
					}
				}
				unlock_decision_tooltip = SOV_puppet_YUG
			}
			if = {
				limit = {
					country_exists = CZE
					NOT = {
						CZE = {
							is_in_faction_with = SOV
						}
					}
					NOT = {
						CZE = {
							is_puppet_of = SOV
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = CZE
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = CZE
					}
				}
				unlock_decision_tooltip = SOV_puppet_CZE
			}
			if = {
				limit = {
					country_exists = BUL
					NOT = {
						BUL = {
							is_in_faction_with = SOV
						}
					}
					NOT = {
						BUL = {
							is_puppet_of = SOV
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = BUL
				}
			}
			if = {
				limit = {
					NOT = {
						country_exists = BUL
					}
				}
				unlock_decision_tooltip = SOV_puppet_BUL
			}
			POL = {
				set_cosmetic_tag = POL_commie
			}
			CZE = {
				set_cosmetic_tag = CZE_commie
			}
			HUN = {
				set_cosmetic_tag = HUN_commie
			}
			ROM = {
				set_cosmetic_tag = ROM_commie
			}
			BUL = {
				set_cosmetic_tag = BUL_commie
			}
			YUG = {
				set_cosmetic_tag = YUG_commie
			}
		}
	}
	focus = {
		id = SOV_future_of_austria
		icon = GFX_goal_generic_austrian_question
		prerequisite = { focus = SOV_demand_balkan_submission focus = SOV_seek_balkan_cooperation }
		x = 3
		y = 1
		relative_position_id = SOV_demand_balkan_submission

		cost = 3
		ai_will_do = {
			factor = 1
		}


		cancel_if_invalid = yes
		continue_if_invalid = no
		completion_reward = {
		}
	}
	focus = {
		id = SOV_formation_ssr
		icon = GFX_goal_SOV_formation_ssr
		prerequisite = { focus = SOV_european_buffer_zone
		}
		available = {
			has_government = communism
		}
		x = 1
		y = 1
		relative_position_id = SOV_european_buffer_zone
		cost = 3
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			#unlock_decision_tooltip = SOV_ssr_denmark
			#unlock_decision_tooltip = SOV_ssr_finland
			#unlock_decision_tooltip = SOV_ssr_sweden
			#unlock_decision_tooltip = SOV_ssr_norway
			#unlock_decision_tooltip = SOV_ssr_belgium
			#unlock_decision_tooltip = SOV_ssr_netherlands
			#unlock_decision_tooltip = SOV_ssr_france
			#unlock_decision_tooltip = SOV_ssr_england
			#unlock_decision_tooltip = SOV_ssr_italy
			#unlock_decision_tooltip = SOV_ssr_turkey
			#unlock_decision_tooltip = SOV_ssr_spain
			#unlock_decision_tooltip = SOV_ssr_portugal
			#unlock_decision_tooltip = SOV_ssr_switzerland
		}
	}
	focus = {
		id = SOV_control_scandinavia
		icon = GFX_focus_generic_scandinavia_flags
		prerequisite = { focus = SOV_european_buffer_zone
		}
		x = -1
		y = 1
		relative_position_id = SOV_european_buffer_zone
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			is_subject = no
		}
		search_filters = {
		}
		completion_reward = {
			#Sweden
			if = {
				limit = {
					country_exists = SWE
					SWE = {
						NOT = {
							is_in_faction_with = ROOT
						}
					}
				}
				SWE = {
					add_timed_idea = {
						idea = communist_pressure
						days = 365
					}
					hidden_effect = {
						country_event = {
							id = generic.1
						}
					}
				}
			}
			#Norway
			if = {
				limit = {
					country_exists = NOR
					NOR = {
						NOT = {
							is_in_faction_with = ROOT
						}
					}
				}
				NOR = {
					add_timed_idea = {
						idea = communist_pressure
						days = 365
					}
					hidden_effect = {
						country_event = {
							id = generic.1
						}
					}
				}
			}
			#Denmark
			if = {
				limit = {
					country_exists = DEN
					DEN = {
						NOT = {
							is_in_faction_with = ROOT
						}
					}
				}
				DEN = {
					add_timed_idea = {
						idea = communist_pressure
						days = 365
					}
					hidden_effect = {
						country_event = {
							id = generic.1
						}
					}
				}
			}
			#Karelia
			if = {
				limit = {
					country_exists = KAR
				}
				hidden_effect = {
					country_event = {
						id = generic.1
					}
				}
			}
			custom_effect_tooltip = SOV_control_scandinavia_decisions_tt
			hidden_effect = {
				activate_targeted_decision = {
					target = FIN
					decision = SOV_promote_ideology_rallies_nordic
				}
				activate_targeted_decision = {
					target = SWE
					decision = SOV_promote_ideology_rallies_nordic
				}
				activate_targeted_decision = {
					target = NOR
					decision = SOV_promote_ideology_rallies_nordic
				}
				activate_targeted_decision = {
					target = DEN
					decision = SOV_promote_ideology_rallies_nordic
				}
				activate_targeted_decision = {
					target = FIN
					decision = SOV_pressure_country_government_nordic
				}
				activate_targeted_decision = {
					target = SWE
					decision = SOV_pressure_country_government_nordic
				}
				activate_targeted_decision = {
					target = NOR
					decision = SOV_pressure_country_government_nordic
				}
				activate_targeted_decision = {
					target = DEN
					decision = SOV_pressure_country_government_nordic
				}
			}
		}
	}
	### Eastern Diplo ###
	focus = {
		id = SOV_far_east_fortification
		icon = GFX_goal_SOV_far_east_fortification
		x = 7
		y = 0
		relative_position_id = SOV_policy_of_collective_security
		cost = 3

		search_filters = {

		}
		select_effect = {
		}
		completion_reward = {
			activate_mission = SOV_danger_of_border_friction
			JAP = {
				activate_targeted_decision = {
					target = JAP
					decision = SOV_border_conflict_warning_JAP
				}
			}
			add_timed_idea = {
				idea = SOV_eyes_to_the_east
				days = 182
			}
			563 = {
				#CHITA
				if = {
					limit = {
						is_controlled_by = ROOT
					}
					custom_effect_tooltip = SOV_far_east_fortification_forts_4
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 4719
								id = 12622
							}
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 10559
							}
							instant_build = yes
						}
					}
				}
			}
			561 = {
				#AMUR
				if = {
					limit = {
						is_controlled_by = ROOT
					}
					custom_effect_tooltip = SOV_far_east_fortification_forts_4
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 12543
								id = 7851
								id = 10678
							}
							instant_build = yes
						}
						add_building_construction = {
							#Set like this for stupid tooltip purposes
							type = bunker
							level = 1
							province = {
								id = 12657
							}
							instant_build = yes
						}
					}
				}
			}
			657 = {
				#BIROBIDZHAN
				if = {
					limit = {
						is_controlled_by = ROOT
					}
					custom_effect_tooltip = SOV_far_east_fortification_forts_10
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 10655
								id = 7801
								id = 10722
								id = 7672
							}
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 7763
								id = 4725
								id = 4805
							}
							instant_build = yes
						}
					}
				}
			}
			409 = {
				#KHABAROVSK
				if = {
					limit = {
						is_controlled_by = ROOT
					}
					custom_effect_tooltip = SOV_far_east_fortification_forts_4
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 12189
							}
							instant_build = yes
						}
						add_building_construction = {
							#Set like this for stupid tooltip purposes
							type = bunker
							level = 2
							province = {
								id = 10466
							}
							instant_build = yes
						}
					}
				}
			}
			408 = {
				#VLADIVOSTOK
				if = {
					limit = {
						is_controlled_by = ROOT
					}
					custom_effect_tooltip = SOV_far_east_fortification_forts_10
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 11643
								id = 6686
								id = 664
								id = 6684
								id = 3787
								id = 6838
							}
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = {
								id = 3977
								id = 957
							}
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = SOV_the_threat_from_the_land_of_the_rising_sun
		icon = GFX_focus_attack_japan
		mutually_exclusive = { focus = SOV_reconcile_japan }
		prerequisite = { focus = SOV_far_east_fortification }
		relative_position_id = SOV_far_east_fortification
		x = 1
		y = 1
		cost = 1
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
			modifier = {
				factor = 10
				is_historical_focus_on = yes
			}
		}
		available = {
			any_country = {
				SOV_is_free_chinese_tag = yes
				has_war_with = JAP
			}
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
			FOCUS_FILTER_HISTORICAL
		}
		completion_reward = {
			add_political_power = 25
			JAP = {
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_supported_china_bad
				}
			}
			every_other_country = {
				limit = {
					SOV_is_free_chinese_tag = yes
				}
				if = {
					limit = {
						ROOT = {
							has_government = communism
						}
					}
					add_ideas = SOV_support_in_china_communism
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = democratic
						}
					}
					add_ideas = SOV_support_in_china_democratic
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = fascism
						}
					}
					add_ideas = SOV_support_in_china_fascism
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = neutrality
						}
					}
					add_ideas = SOV_support_in_china_neutrality
				}
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_supported_china_good
				}
			}
		}
	}

	focus = {
		id = SOV_reconcile_japan
		icon = GFX_goal_generic_befriend_japan
		mutually_exclusive = { focus = SOV_the_threat_from_the_land_of_the_rising_sun }
		prerequisite = { focus = SOV_far_east_fortification }
		x = 4
		y = 1
		relative_position_id = SOV_far_east_fortification
		cost = 2
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		bypass = {
			NOT = {
				country_exists = JAP
			}
		}
		available = {
			NOT = {
				has_war_with = JAP
			}
			is_subject = no
			NOT = {
				JAP = { has_government = fascism }
			}
		}
		search_filters = {
		}
		completion_reward = {
			JAP = {
				country_event = {
					id = NSB_soviet_foreign_politics_events.262
					hours = 12
					random_hours = 6
				}
				custom_effect_tooltip = if_they_accept
				effect_tooltip = {
					add_opinion_modifier = {
						target = SOV
						modifier = border_conflict_reconciled
					}
					transfer_state = 655
					diplomatic_relation = {
						country = SOV
						relation = non_aggression_pact
						active = yes
					}
				}
			}
		}
	}
	focus = {
		id = SOV_soviet_japanese_pact_against_usa_focus
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = SOV_reconcile_japan
		}
		x = 0
		y = 2
		relative_position_id = SOV_reconcile_japan
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			country_exists = JAP
			NOT = {
				has_war_with = JAP
			}
			is_subject = no
			JAP = {
				SOV_is_valid_subject = yes
			}
		}
		search_filters = {
		}
		completion_reward = {
			#Event
			JAP = {
				country_event = {
					id = NSB_soviet_foreign_politics_events.263
					hours = 8
					random_hours = 4
				}
			}
			#Potential effects
			custom_effect_tooltip = if_they_accept
			effect_tooltip = {
				#War
				if = {
					limit = {
						JAP = {
							has_war_with = USA
						}
						NOT = {
							SOV = {
								has_war_with = USA
							}
						}
					}
					SOV = {
						add_to_war = {
							targeted_alliance = JAP
							enemy = USA
							hostility_reason = asked_to_join
						}
					}
				}
				else_if = {
					limit = {
						SOV = {
							has_war_with = USA
						}
						NOT = {
							JAP = {
								has_war_with = USA
							}
						}
					}
					JAP = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = USA
							hostility_reason = asked_to_join
						}
					}
				}
				else_if = {
					limit = {
						NOT = {
							SOV = {
								has_war_with = USA
							}
						}
						NOT = {
							JAP = {
								has_war_with = USA
							}
						}
					}
					SOV = {
						declare_war_on = {
							target = USA
							type = annex_everything
						}
					}
					JAP = {
						add_to_war = {
							targeted_alliance = SOV
							enemy = USA
							hostility_reason = asked_to_join
						}
					}
				}
				#Diplo stuff
				JAP = {
					if = {
						limit = {
							NOT = {
								has_non_aggression_pact_with = SOV
							}
						}
						diplomatic_relation = {
							country = SOV
							relation = non_aggression_pact
							active = yes
						}
					}
				}
				#Claims
				463 = {
					add_claim_by = SOV
				}
				#Alaska
				650 = {
					add_claim_by = SOV
				}
				#Atu Island
				632 = {
					add_claim_by = JAP
				}
				#Wake Island
				631 = {
					add_claim_by = JAP
				}
				#Midway Island
				629 = {
					add_claim_by = JAP
				}
				#Hawaii
				630 = {
					add_claim_by = JAP
				}
				#Johnston Atoll
				727 = {
					add_claim_by = JAP
				}
				#Line Islands
				642 = {
					add_claim_by = JAP
				}
				#Phoenix Island
				638 = {
					add_claim_by = JAP
				}
				#Guam
				#Relations stuff
				JAP = {
					add_opinion_modifier = {
						target = SOV
						modifier = SOV_soviet_japanese_pact_against_usa
					}
				}
				#Targeted NS
				SOV = {
					add_timed_idea = {
						idea = SOV_soviet_japanese_anti_usa_pact
						days = 365
					}
				}
				JAP = {
					add_timed_idea = {
						idea = SOV_soviet_japanese_anti_usa_pact
						days = 365
					}
				}
			}
		}
	}
	focus = {
		id = SOV_recover_alaska
		icon = GFX_focus_SOV_recover_alaska
		prerequisite = { focus = SOV_soviet_japanese_pact_against_usa_focus
		}
		x = 0
		y = 2
		relative_position_id = SOV_soviet_japanese_pact_against_usa_focus
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
			NOT = {
				has_country_flag = SOV_paranoia_system_active_flag
			}
			is_subject = no
		}
		bypass = {
			463 = {
				is_owned_by = ROOT
			}
			650 = {
				is_owned_by = ROOT
			}
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		completion_reward = {
			if = {
				limit = {
					463 = {
						NOT = {
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 463
			}
			if = {
				limit = {
					650 = {
						NOT = {
							is_claimed_by = ROOT
						}
					}
				}
				add_state_claim = 650
			}
			if = {
				#ONE CONTROLLER
				limit = {
					463 = {
						controller = {
							controls_state = 650
						}
					}
				}
				if = {
					limit = {
						463 = {
							controller = {
								NOT = {
									has_war_with = ROOT
								}
							}
						}
					}
					463 = {
						controller = {
							country_event = {
								id = NSB_soviet_foreign_politics_events.30
								hours = 4
								random_hours = 2
							}
							custom_effect_tooltip = if_they_accept
							effect_tooltip = {
								ROOT = {
									transfer_state = 463
								}
								#ALASKA
								ROOT = {
									transfer_state = 650
								}
								#ATTU ISLAND
								add_opinion_modifier = {
									target = ROOT
									modifier = SOV_pressured_our_government
								}
							}
						}
					}
				}
			}
			else = {
				#TWO DIFFERENT CONTROLLERS
				if = {
					limit = {
						463 = {
							controller = {
								NOT = {
									has_war_with = ROOT
								}
							}
						}
					}
					463 = {
						controller = {
							country_event = {
								id = NSB_soviet_foreign_politics_events.30
								hours = 4
								random_hours = 2
							}
							custom_effect_tooltip = if_they_accept
							effect_tooltip = {
								ROOT = {
									transfer_state = 463
								}
								#ALASKA
								add_opinion_modifier = {
									target = ROOT
									modifier = SOV_pressured_our_government
								}
							}
						}
					}
				}
				if = {
					limit = {
						650 = {
							controller = {
								NOT = {
									has_war_with = ROOT
								}
							}
						}
					}
					650 = {
						controller = {
							country_event = {
								id = NSB_soviet_foreign_politics_events.30
								hours = 4
								random_hours = 2
							}
							custom_effect_tooltip = if_they_accept
							effect_tooltip = {
								ROOT = {
									transfer_state = 650
								}
								#ATTU ISLAND
								add_opinion_modifier = {
									target = ROOT
									modifier = SOV_pressured_our_government
								}
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = SOV_the_gobi_gambit
		icon = GFX_focus_generic_befriend_sinkiang
		prerequisite = { focus = SOV_far_east_fortification }
		x = -1
		y = 1
		relative_position_id = SOV_far_east_fortification
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			#SOV controls the states in which railway lines will be built
			controls_state = 405			#TASHKENT
			controls_state = 404			#KYZYL ORDA
			controls_state = 732			#PAMIR
			controls_state = 586			#ALMA-ATA
			OR = {
				AND = {
					#Relevant states under Soviet control
					controls_state = 617					#URUMQI
					controls_state = 618					#DZUNGARIA
				}
				SIK = {
					#Relevant states under Sinkiang control
					NOT = {
						has_war_with = ROOT
					}
					controls_state = 617					#URUMQI
					controls_state = 618					#DZUNGARIA
				}
			}
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_resource = {
				type = oil
				amount = 10
				state = 617
			}
			SIK = {
				add_popularity = {
					ideology = communism
					popularity = 1
				}
				give_resource_rights = {
					receiver = SOV
					state = 619
				}
				give_resource_rights = {
					receiver = SOV
					state = 617
				}
			}
			if = {
				#If SOV controls the relevant states (for whatever weird reason -.-), then insta-build
				limit = {
					controls_state = 617					#URUMQI
					controls_state = 618					#DZUNGARIA
				}
				# Tashkent - Frunze - Alma-Ata - Urumqi
				build_railway = {
					path = {
						1459
						10148
						4686
						12397
						12340
						12640
						7706
						12583
						4224
						1591
						4845
						12601
						7850
						4709
					}
				}
				#Supply Hub in Alma-Ata
				586 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 1591
						instant_build = yes
					}
				}
				custom_effect_tooltip = SOV_sinkiang_decisions_available_tt
			}
			else = {
				#If SIK in control of them
				SIK = {
					country_event = {
						id = NSB_soviet_foreign_politics_events.270
						hours = 6
						random_hours = 6
					}
				}
				# IF THEY ACCEPT
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					add_opinion_modifier = {
						target = SIK
						modifier = SOV_complied_with_our_demands
					}
					# Tashkent - Frunze - Alma-Ata - Urumqi
					build_railway = {
						path = {
							1459
							10148
							4686
							12397
							12340
							12640
							7706
							12583
							4224
							1591
							4845
							12601
							7850
							4709
						}
					}
					#Supply Hub in Alma-Ata
					586 = {
						add_building_construction = {
							type = supply_node
							level = 1
							province = 1591
							instant_build = yes
						}
					}
					custom_effect_tooltip = SOV_sinkiang_decisions_available_tt
				}
				# IF THEY REFUSE
				custom_effect_tooltip = if_they_refuse_tt
				effect_tooltip = {
					add_opinion_modifier = {
						target = SIK
						modifier = SOV_rejected_our_demands
					}
					# Tashkent - Frunze - Alma-Ata
					build_railway = {
						path = {
							1459
							10148
							4686
							12397
							12340
							12640
							7706
							12583
							4224
							1591
						}
					}
					#Supply Hub in Alma-Ata
					586 = {
						add_building_construction = {
							type = supply_node
							level = 1
							province = 1591
							instant_build = yes
						}
					}
					custom_effect_tooltip = SOV_sinikiang_influence_refuse_tt
				}
			}
			#custom_effect_tooltip = SOV_volunteers_allowed_sinkiang_tt
		}
	}
	focus = {
		id = SOV_operation_zet
		icon = GFX_focus_chi_cooperation_with_the_nationalists
		mutually_exclusive = { focus = SOV_propose_a_soviet_republic focus = SOV_two_red_flags }
		prerequisite = { focus = SOV_the_threat_from_the_land_of_the_rising_sun }
		x = 0
		y = 1
		relative_position_id = SOV_the_threat_from_the_land_of_the_rising_sun
		cost = 2
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
			modifier = {
				factor = 10
				is_historical_focus_on = yes
			}
		}
		bypass = {
			NOT = {
				country_exists = CHI
			}
		}
		available = {
			NOT = {
				has_completed_focus = SOV_the_left_opposition
			}
			CHI = {
				has_completed_focus = CHI_mission_to_the_soviet_union
			}
			NOT = {
				has_war_with = CHI
			}
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
			FOCUS_FILTER_ARMY_XP
			FOCUS_FILTER_HISTORICAL
		}
		completion_reward = {
			custom_effect_tooltip = SOV_operation_zet_tt
			588 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = SOV
								is_subject_of = SOV
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			40 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = SOV
								is_subject_of = SOV
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			570 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = SOV
								is_subject_of = SOV
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			618 = {
				if = {
					limit = {
						OR = {
							CHI = { controls_state = 601 }
							any_other_country = {
								is_in_faction_with = CHI
								controls_state = 601
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			760 = {
				if = {
					limit = {
						OR = {
							CHI = { controls_state = 601 }
							any_other_country = {
								is_in_faction_with = CHI
								controls_state = 601
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			939 = {
				if = {
					limit = {
						OR = {
							CHI = { controls_state = 601 }
							any_other_country = {
								is_in_faction_with = CHI
								controls_state = 601
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			283 = {
				if = {
					limit = {
						OR = {
							CHI = { controls_state = 601 }
							any_other_country = {
								is_in_faction_with = CHI
								controls_state = 601
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			add_political_power = 25
			diplomatic_relation = {
				country = CHI
				relation = non_aggression_pact
				active = yes
			}
			set_rule = {
				can_send_volunteers = yes
			}
			CHI = {
				add_opinion_modifier = { target = SOV modifier = operation_zet_chi }
				country_event = chi_armor.855
			}
			JAP = {
				add_opinion_modifier = { target = SOV modifier = operation_zet_jap }
			}
		}
	}
	focus = {
		id = SOV_two_red_flags
		icon = GFX_focus_chi_cooperation_with_the_communists
		mutually_exclusive = { focus = SOV_propose_a_soviet_republic focus = SOV_operation_zet }
		prerequisite = { focus = SOV_the_threat_from_the_land_of_the_rising_sun }
		x = 2
		y = 1
		relative_position_id = SOV_the_threat_from_the_land_of_the_rising_sun
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		bypass = {
			OR = {
				NOT = {
					country_exists = PRC
				}
				owns_state = 622
			}
		}
		available = {
			has_government = communism
			NOT = {
				has_war_with = PRC
			}
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			PRC = {
				add_opinion_modifier = {
					#Good relations with Mao
					target = ROOT
					modifier = SOV_cooperating_with_us
				}
				add_relation_modifier = {
					target = ROOT
					modifier = SOV_soviet_chinese_relations
				}
				every_other_country = {
					limit = {
						SOV_is_free_chinese_tag = yes
					}
					add_opinion_modifier = {
						#Bad Relations with other Chinese tags
						target = ROOT
						modifier = SOV_cooperating_with_other
					}
				}
			}
			activate_targeted_decision = {
				target = PRC
				decision = SOV_send_infantry_equipment_asia
			}
			custom_effect_tooltip = SOV_volunteers_allowed_mao_tt
		}
	}
	focus = {
		id = SOV_propose_a_soviet_republic
		icon = GFX_goal_SOV_formation_ssr
		prerequisite = { focus = SOV_the_threat_from_the_land_of_the_rising_sun }
		prerequisite = { focus = SOV_the_gobi_gambit }
		relative_position_id = SOV_the_threat_from_the_land_of_the_rising_sun
		mutually_exclusive = { focus = SOV_two_red_flags focus = SOV_operation_zet }
		x = -2
		y = 1

		cost = 3

		available = {
			OR = {
				AND = {
					#Relevant states under Soviet control
					controls_state = 617					#URUMQI
					controls_state = 618					#DZUNGARIA
				}
				SIK = {
					#Relevant states under Sinkiang control
					NOT = {
						has_war_with = ROOT
					}
					controls_state = 617					#URUMQI
					controls_state = 618					#DZUNGARIA
				}
			}
			is_subject = no
			CHI = {
				surrender_progress > 0.4
			}
		}


		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_DIPLOMACY }

		completion_reward = {
			hidden_effect = {
				#Decrease SIK's desire to join Chinese faction (and other AI strategies)
				SOV_approach_sinkiang_diplomacy_effect = yes
				SIK = {
					add_ai_strategy = {
						#This is added in Proposing a repiblic + all 3 investment decisions
						type = alliance
						id = SOV
						value = 4
					}
				}
			}
			country_event = {
				id = soviet.82
			}
		}
	}
	focus = {
		id = SOV_development_aid_for_eastern_allies
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = SOV_the_gobi_gambit }
		x = -2
		y = 1
		relative_position_id = SOV_the_gobi_gambit
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			any_allied_country = {
				capital_scope = {
					is_on_continent = asia
				}
				is_major = no
			}
			num_of_civilian_factories_available_for_projects > 2
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		select_effect = {
			add_ideas = SOV_development_of_eastern_allies
		}
		completion_reward = {
			#Tooltip purposes (Select Effect)
			custom_effect_tooltip = SOV_focus_select_effect_tt
			effect_tooltip = {
				add_ideas = SOV_development_of_eastern_allies
			}
			#(Complete Effect)
			custom_effect_tooltip = SOV_focus_complete_effect_tt
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					capital_scope = {
						is_on_continent = asia
					}
					is_major = no
				}
				country_event = {
					id = NSB_soviet_foreign_politics_events.10
					hours = 2
					random_hours = 1
				}
				custom_effect_tooltip = if_they_accept
				custom_effect_tooltip = SOV_development_aid_for_eastern_allies_tt
			}
			hidden_effect = {
				remove_ideas = SOV_development_of_eastern_allies
			}
		}
	}

	focus = {
		id = SOV_war_measures_in_the_east
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = SOV_development_aid_for_eastern_allies }
		x = 0
		y = 1
		relative_position_id = SOV_development_aid_for_eastern_allies
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_war_measures_scope_tt
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					capital_scope = {
						is_on_continent = asia
					}
					is_major = no
				}
				country_event = {
					id = NSB_soviet_foreign_politics_events.11
					hours = 2
					random_hours = 1
				}
				custom_effect_tooltip = if_they_accept
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_war_measures_allies
						days = 1095
					}
				}
			}
		}
	}

	focus = {
		id = SOV_fortify_mongolian_border
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = SOV_war_measures_in_the_east }
		x = 2
		y = 1
		relative_position_id = SOV_war_measures_in_the_east
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			MON = {
				is_in_faction_with = ROOT
				has_full_control_of_state = 330
				has_full_control_of_state = 954
				has_full_control_of_state = 789
			}
			is_subject = no
		}
		search_filters = {
		}
		completion_reward = {
			MON = {
				country_event = {
					id = NSB_soviet_foreign_politics_events.12
					hours = 2
					random_hours = 1
				}
			}
			custom_effect_tooltip = if_they_accept
			custom_effect_tooltip = SOV_fortify_mongolian_border_forts_tt
		}
	}

	focus = {
		id = SOV_annex_tannu_tuva
		icon = GFX_goal_SOV_annex_tannu_tuva
		prerequisite = { focus = SOV_war_measures_in_the_east
		}
		x = 0
		y = 1
		relative_position_id = SOV_war_measures_in_the_east
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		completion_reward = {
			TAN = {
				country_event = {
					id = soviet.14
				}
			}
		}
	}
	focus = {
		id = SOV_secure_the_far_east
		icon = GFX_focus_usa_focus_on_asia
		prerequisite = { focus = SOV_two_red_flags focus = SOV_operation_zet focus = SOV_propose_a_soviet_republic }
		relative_position_id = SOV_operation_zet
		x = 0
		y = 1

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {
			has_global_flag = JAP_khalkhin_gol
			if = {
				limit = { is_ai = no }
				army_manpower_in_state = {
					state = 408
					amount > 104000
				}
				army_manpower_in_state = {
					state = 409
					amount > 26000
				}
				army_manpower_in_state = {
					state = 657
					amount > 91000
				}
				army_manpower_in_state = {
					state = 561
					amount > 52000
				}
				army_manpower_in_state = {
					state = 563
					amount > 65000
				}
			}
		}

		bypass = {
			NOT = {
				country_exists = JAP
				country_exists = MAN
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_war_support = 0.1
			add_stability = 0.05
			custom_effect_tooltip = siberia_secured
			set_global_flag = siberia_secured
		}
	}
	focus = {
		id = SOV_prepare_a_war_with_japan
		icon = GFX_focus_AST_war_japan
		prerequisite = { focus = SOV_secure_the_far_east }
		x = 0
		y = 1
		relative_position_id = SOV_secure_the_far_east
		cost = 4
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		bypass = {
			has_war_with = JAP
		}
		available = {
			surrender_progress < 0.05
			has_country_flag = SOV_army_reform_3
			is_subject = no
			country_exists = JAP
			NOT = {
				JAP = {
					is_in_faction_with = ROOT
				}
			}
		}

		completion_reward = {
			add_timed_idea = {
				idea = SOV_preparations_for_soviet_japanese_war
				days = 365
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					SOV_is_chinese_tag = yes
					is_in_faction_with = ROOT
				}
				hidden_effect = {
					country_event = NSB_soviet_foreign_politics_events.251
				}
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_preparations_for_soviet_japanese_war_china
						days = 365
					}
				}
			}
			#allows SOV_seize_manchuria decision
		}
	}
	focus = {
		id = SOV_end_the_khalkhin_gol_conflict
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_prepare_a_war_with_japan
		}
		x = 1
		y = 1
		relative_position_id = SOV_prepare_a_war_with_japan
		cost = 4
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		mutually_exclusive = {
			focus = SOV_recover_the_kuril_islands
		}
		available = {
			surrender_progress < 0.01
			country_exists = JAP
			NOT = {
				is_in_faction_with = JAP
			}
			NOT = {
				has_war_together_with = JAP
			}
			761 = {
				#Hulunbuir
				controller = {
					NOT = {
						is_in_faction_with = ROOT
					}
				}
			}
			is_subject = no
		}
		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_end_the_khalkhin_gol_conflict_wargoal_tt
			hidden_effect = {
				every_country = {
					limit = {
						OR = {
							tag = JAP
							AND = {
								SOV_is_chinese_tag = yes
								is_in_faction_with = JAP
							}
						}
					}
					ROOT = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
						}
					}
				}
			}
			add_state_claim = 761			#Hulunbuir
			if = {
				limit = {
					has_idea = SOV_preparations_for_soviet_japanese_war
				}
				remove_ideas = SOV_preparations_for_soviet_japanese_war
				every_country = {
					limit = {
						is_in_faction_with = ROOT
						has_idea = SOV_preparations_for_soviet_japanese_war_china
					}
					remove_ideas = SOV_preparations_for_soviet_japanese_war_china
				}
			}
			add_timed_idea = {
				idea = SOV_soviet_japanese_reckoning
				days = 180
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					OR = {
						SOV_is_chinese_tag = yes
						capital_scope = {
							is_on_continent = asia
						}
					}
				}
				hidden_effect = {
					country_event = NSB_soviet_foreign_politics_events.252
				}
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_soviet_japanese_reckoning_china
						days = 180
					}
				}
			}
			if = {
				limit = {
					is_in_faction_with = MON
					612 = {
						controller = {
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				MON = {
					add_state_claim = 612					#Chahar
					add_state_claim = 611					#South Chahar
				}
			}
		}
	}
	focus = {
		id = SOV_recover_the_kuril_islands
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_prepare_a_war_with_japan }
		x = -1
		y = 1
		relative_position_id = SOV_prepare_a_war_with_japan
		cost = 4
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		mutually_exclusive = {
			focus = SOV_end_the_khalkhin_gol_conflict
		}
		available = {
			surrender_progress < 0.01
			country_exists = JAP
			NOT = {
				JAP = {
					is_in_faction_with = ROOT
				}
			}
			JAP = {
				controls_state = 555
			}
			NOT = {
				has_war_with = JAP
			}
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_HISTORICAL
		}
		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = JAP
				expire = 0
				generator = {
					537
					555
				}
			}
			if = {
				limit = {
					has_idea = SOV_preparations_for_soviet_japanese_war
				}
				remove_ideas = SOV_preparations_for_soviet_japanese_war
				every_country = {
					limit = {
						is_in_faction_with = ROOT
						has_idea = SOV_preparations_for_soviet_japanese_war_china
					}
					remove_ideas = SOV_preparations_for_soviet_japanese_war_china
				}
			}
			add_timed_idea = {
				idea = SOV_soviet_japanese_reckoning
				days = 180
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
					SOV_is_chinese_tag = yes
					is_in_faction_with = ROOT
				}
				hidden_effect = {
					country_event = NSB_soviet_foreign_politics_events.252
				}
				effect_tooltip = {
					add_timed_idea = {
						idea = SOV_soviet_japanese_reckoning_china
						days = 180
					}
				}
			}
			custom_effect_tooltip = SOV_recover_the_kuril_islands_decisions_tt
		}
	}
	focus = {
		id = SOV_middle_east_diplomacy
		icon = GFX_focus_TUR_treaty_of_saadabad
		prerequisite = { focus = SOV_anti_capitalist_policies }
		x = 3
		y = 1
		relative_position_id = SOV_policy_of_individual_security
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		bypass = {
			NOT = {
				country_exists = IRQ
				country_exists = PER
				country_exists = AFG
				country_exists = SAU
			}
		}
		available = {
			is_subject = no
		}
		search_filters = {
			FOCUS_FILTER_DIPLOMACY
		}
		completion_reward = {
			if = {
				limit = {
					country_exists = IRQ
				}
				IRQ = {
					if = {
						limit = {
							ROOT = {
								has_government = fascism
							}
						}
						add_timed_idea = {
							idea = fascist_influence_weak
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = democratic
							}
						}
						add_timed_idea = {
							idea = democratic_influence_weak
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = communism
							}
						}
						add_timed_idea = {
							idea = communist_influence_weak
							days = 1095
						}
					}
					hidden_effect = {
						country_event = {
							id = generic.1
						}
					}
				}
			}
			if = {
				limit = {
					country_exists = PER
				}
				PER = {
					if = {
						limit = {
							ROOT = {
								has_government = fascism
							}
						}
						add_timed_idea = {
							idea = fascist_influence_weak
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = democratic
							}
						}
						add_timed_idea = {
							idea = democratic_influence_weak
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = communism
							}
						}
						add_timed_idea = {
							idea = communist_influence_weak
							days = 1095
						}
					}
					hidden_effect = {
						country_event = {
							id = generic.1
						}
					}
				}
			}
			if = {
				limit = {
					country_exists = AFG
				}
				AFG = {
					if = {
						limit = {
							ROOT = {
								has_government = fascism
							}
						}
						add_timed_idea = {
							idea = fascist_influence_weak
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = democratic
							}
						}
						add_timed_idea = {
							idea = democratic_influence_weak
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = communism
							}
						}
						add_timed_idea = {
							idea = communist_influence_weak
							days = 1095
						}
					}
					hidden_effect = {
						country_event = {
							id = generic.1
						}
					}
				}
			}
			if = {
				limit = {
					country_exists = SAU
				}
				SAU = {
					if = {
						limit = {
							ROOT = {
								has_government = fascism
							}
						}
						add_timed_idea = {
							idea = fascist_influence_weak
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = democratic
							}
						}
						add_timed_idea = {
							idea = democratic_influence_weak
							days = 1095
						}
					}
					if = {
						limit = {
							ROOT = {
								has_government = communism
							}
						}
						add_timed_idea = {
							idea = communist_influence_weak
							days = 1095
						}
					}
					hidden_effect = {
						country_event = {
							id = generic.1
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_the_southern_thrust
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = SOV_middle_east_diplomacy
		}
		mutually_exclusive = {
			focus = SOV_preemptive_invasion_of_iran
		}
		x = 1
		y = 1
		relative_position_id = SOV_middle_east_diplomacy
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				has_war_with = GER
				factor = 0
			}
			modifier = {
				factor = 0
				has_civil_war = yes
			}
			modifier = {
				AND = {
					has_war_with = ENG
					surrender_progress > 0.3
				}
				factor = 0
			}
			modifier = {
				has_war_with = RAJ
				factor = 5
			}
		}
		bypass = {
			PER = {
				NOT = {
					owns_state = 419
				}
				NOT = {
					owns_state = 420
				}
				NOT = {
					owns_state = 266
				}
				NOT = {
					owns_state = 416
				}
			}
			IRQ = {
				NOT = {
					owns_state = 676
				}
				NOT = {
					owns_state = 291
				}
			}
			AFG = {
				NOT = {
					owns_state = 267
				}
				NOT = {
					owns_state = 415
				}
			}
		}
		available = {
			OR = {
				country_exists = IRQ
				country_exists = PER
				country_exists = AFG
				country_exists = SAU
			}
			is_subject = no
		}
		will_lead_to_war_with = PER
		will_lead_to_war_with = IRQ
		will_lead_to_war_with = AFG
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		completion_reward = {
			if = {
				limit = {
					PER = {
						OR = {
							owns_state = 419
							owns_state = 420
							owns_state = 266
							owns_state = 416
						}
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = PER
					expire = 0
					generator = {
						419
						420
						266
						416
					}
				}
			}
			if = {
				limit = {
					IRQ = {
						OR = {
							owns_state = 676
							owns_state = 291
						}
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = IRQ
					expire = 0
					generator = {
						676
						291
					}
				}
			}
			if = {
				limit = {
					AFG = {
						OR = {
							owns_state = 267
							owns_state = 415
						}
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = AFG
					expire = 0
					generator = {
						267
						415
					}
				}
			}
			ENG = {
				add_opinion_modifier = {
					target = SOV
					modifier = middle_east_expansionism
				}
			}
			FRA = {
				add_opinion_modifier = {
					target = SOV
					modifier = middle_east_expansionism
				}
			}
			USA = {
				add_opinion_modifier = {
					target = SOV
					modifier = middle_east_expansionism
				}
			}
		}
	}
	focus = {
		id = SOV_the_khakimov_proposal
		icon = GFX_focus_generic_befriend_saudi_arabia
		prerequisite = { focus = SOV_the_southern_thrust
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_southern_thrust
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			is_subject = no
			country_exists = SAU
			NOT = {
				has_war_with = SAU
			}
		}
		search_filters = {
		}
		completion_reward = {
			SAU = {
				add_ideas = SOV_ambassador_karim_khakimov				#adds +35 communism acceptance and -50 for other ideologies
				add_opinion_modifier = {
					target = SOV
					modifier = SOV_cordial_relations_developed_by_soviet_diplomat
				}
				hidden_effect = {
					country_event = {
						id = NSB_soviet_foreign_politics_events.211
						hours = 8
						random_hours = 4
					}
				}
			}
			activate_targeted_decision = {
				target = SAU
				decision = SOV_pressure_country_government_middle_east
			}
			activate_targeted_decision = {
				target = SAU
				decision = SOV_promote_ideology_rallies_middle_east
			}
		}
	}
	focus = {
		id = SOV_preemptive_invasion_of_iran
		icon = GFX_focus_generic_attack_iran
		prerequisite = { focus = SOV_middle_east_diplomacy focus = SOV_mol_rib_pact }
		mutually_exclusive = {
			focus = SOV_the_southern_thrust
		}
		x = -1
		y = 1
		relative_position_id = SOV_middle_east_diplomacy
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		available = {
			NOT = { has_country_flag = soviet_union_defeated }
			country_exists = PER
			NOT = {
				has_war_with = PER
			}
			is_subject = no
			any_enemy_country = {
				is_major = yes
			}
			656 = {
				controller = {
					NOT = {
						is_in_faction_with = ENG
					}
				}
			}
			444 = {
				controller = {
					NOT = {
						is_in_faction_with = ENG
					}
				}
			}
			923 = {
				controller = {
					NOT = {
						is_in_faction_with = ENG
					}
				}
			}
		}
		bypass = {
			controls_state = 420
			controls_state = 419
			controls_state = 266
		}
		search_filters = {
			FOCUS_FILTER_HISTORICAL
		}
		completion_reward = {
			PER = {
				set_country_flag = SOV_ultimatum_sent_flag
				country_event = {
					id = NSB_soviet_foreign_politics_events.210
					hours = 16
					random_hours = 8
				}
			}
			effect_tooltip = {
				custom_effect_tooltip = if_they_accept_tt
				ROOT = {
					puppet = PER
				}
				custom_effect_tooltip = if_they_refuse_tt
				effect_tooltip = {
					activate_mission = SOV_preparations_for_operation_countenance
					custom_effect_tooltip = SOV_preparations_for_operation_countenance_tt
				}
				custom_effect_tooltip = SOV_preemptive_invasion_of_iran_tt
			}
		}
	}
	focus = {
		id = SOV_support_afghan_ideology
		icon = GFX_focus_generic_befriend_afghanistan
		prerequisite = { focus = SOV_preemptive_invasion_of_iran
		}
		x = 0
		y = 1
		relative_position_id = SOV_preemptive_invasion_of_iran
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_civil_war = yes
			}
		}
		bypass = {
			NOT = {
				country_exists = AFG
			}
		}
		available = {
			NOT = {
				has_war_with = AFG
			}
			is_subject = no
		}
		search_filters = {

		}
		completion_reward = {
			#activate_targeted_decision = {
			#	target = AFG
			#	decision = SOV_pressure_country_government_middle_east
			#}
			activate_targeted_decision = {
				target = AFG
				decision = SOV_promote_ideology_rallies_middle_east
			}
		}
	}
	focus = {
		id = SOV_claims_against_turkey
		icon = GFX_focus_generic_attack_turkey
		prerequisite = { focus = SOV_support_afghan_ideology focus = SOV_the_khakimov_proposal }
		relative_position_id = SOV_support_afghan_ideology
		x = 1
		y = 1

		cost = 3

		ai_will_do = {
			factor = 1
		}

		available = {
			has_defensive_war = no
			TUR = {
				exists = yes
				NOT = { has_war_with = SOV }
			}
		}

		bypass = {
			OR = {
				TUR = {
					exists = no
					has_war_with = SOV
				}
				AND = {
					owns_state = 354
					owns_state = 352
				}
			}

		}
		search_filters = { FOCUS_FILTER_ANNEXATION }

		completion_reward = {
			hidden_effect = {
				TUR = {
					354 = {
						ROOT = {
							add_state_claim = PREV
						}
					}
					352 = {
						ROOT = {
							add_state_claim = PREV
						}
					}
				}
			}
			add_named_threat = {
				threat = 1
				name = SOV_claims_against_turkey
			}
			country_event = {
				id = soviet.78
			}
		}
	}


	############################################
	############### STALIN BRANCH ##############
	############################################

	focus = {
		id = SOV_socialism_in_one_country
		icon = GFX_focus_SOV_socialism_in_one_country
		mutually_exclusive = { focus = SOV_the_path_of_marxism_leninism focus = SOV_beaten_but_not_defeated  }
		x = 62
		y = 0
		cost = 4
		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					AND = {
						has_completed_focus = SOV_the_path_of_marxism_leninism
						has_completed_focus = SOV_left_opposition_coup
					}
					AND = {
						has_completed_focus = SOV_the_path_of_marxism_leninism
						has_completed_focus = SOV_coup_detat
					}
					AND = {
						has_completed_focus = SOV_beaten_but_not_defeated
						has_completed_focus = SOV_the_hands_do
					}
				}
			}
		}


		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
			FOCUS_FILTER_HISTORICAL
		}
		completion_reward = {
			add_political_power = 25
			custom_effect_tooltip = SOV_socialism_in_one_country_tt
			add_to_variable = { SOV_the_politburo_communism_drift = 0.05 }
			add_to_variable = { SOV_the_politburo_boost_ideology_mission_factor = -0.5 }
			add_to_variable = { SOV_the_politburo_drift_defence_factor = 0.05 }
			add_to_variable = { SOV_fyp_production_factory_efficiency_gain_factor = 0.05 }
			add_to_variable = { SOV_academy_of_sciences_research_speed_factor = 0.02 }
		}
	}
	focus = {
		id = SOV_the_stalin_constitution
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = SOV_socialism_in_one_country }
		x = 0
		y = 1
		relative_position_id = SOV_socialism_in_one_country
		cost = 3

		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_to_variable = {
				SOV_the_politburo_political_power_factor = 0.05
			}
			add_to_variable = {
				SOV_the_politburo_drift_defence_factor = 0.05
			}
			custom_effect_tooltip = SOV_the_stalin_constitution_ns_tt
			add_stability = 0.05
			add_timed_idea = {
				idea = celebration_of_the_constitution
				days = 42
			}
			SOV_paranoia_low_decrease_effect = yes
		}
	}
	focus = {
		id = SOV_stalins_cult_of_personality
		icon = GFX_focus_fra_loyalty_stalin
		prerequisite = { focus = SOV_the_stalin_constitution }
		x = 0
		y = 1
		relative_position_id = SOV_the_stalin_constitution
		cost = 3
		available = {
			has_country_flag = {
				flag = SOV_third_moscow_trial_flag
				days > 175
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_purge_focus_days_cult_tt
				has_country_flag = {
					flag = SOV_third_moscow_trial_flag
					days > 175
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_PROPAGANDA
		}
		completion_reward = {
			add_political_power = 25
			add_country_leader_trait = personality_cult
			custom_effect_tooltip = unlock_propaganda_campaign_tt
			#unlock_decision_tooltip = SOV_propaganda_stalin
			custom_effect_tooltip = propaganda_campaign_requirement_tt
		}
	}
	focus = {
		id = SOV_inheritor_of_the_mantle_of_lenin
		icon = GFX_focus_SOV_stalins_cult_of_personality
		prerequisite = { focus = SOV_stalins_cult_of_personality }
		x = -1
		y = 1
		relative_position_id = SOV_stalins_cult_of_personality
		cost = 3
		mutually_exclusive = {
			focus = SOV_the_faithful_servant_of_lenin
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_5_or_greater_tt
				check_variable = {
					SOV_propaganda_campaigns_taken = 5
					compare = greater_than_or_equals
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_WAR_SUPPORT
			FOCUS_FILTER_HISTORICAL
		}
		completion_reward = {
			add_war_support = 0.05
			add_country_leader_trait = stalin_inheritor_of_lenin
		}
	}
	focus = {
		id = SOV_brilliant_genius
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = SOV_inheritor_of_the_mantle_of_lenin }
		x = -1
		y = 1
		relative_position_id = SOV_inheritor_of_the_mantle_of_lenin
		cost = 3
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_10_or_greater_tt
				check_variable = {
					SOV_propaganda_campaigns_taken = 10
					compare = greater_than_or_equals
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			#Academies of Sciences decisions are 50% cheaper
			divide_variable = {
				SOV_national_academy_of_sciences_construction_cost = 2
			}
			custom_effect_tooltip = SOV_brilliant_genius_academies_of_sciences_tt
			if = {
				limit = {
					has_completed_focus = SOV_leader_of_the_party_and_the_people
				}
				swap_ruler_traits = {
					remove = stalin_inheritor_of_lenin_leader
					add = stalin_inheritor_of_lenin_final
				}
			}
			else = {
				swap_ruler_traits = {
					remove = stalin_inheritor_of_lenin
					add = stalin_inheritor_of_lenin_genius
				}
			}
		}
	}
	focus = {
		id = SOV_the_faithful_servant_of_lenin
		icon = GFX_goal_SOV_the_faithful_servant_of_lenin
		prerequisite = { focus = SOV_stalins_cult_of_personality }
		x = 1
		y = 1
		relative_position_id = SOV_stalins_cult_of_personality
		cost = 3
		mutually_exclusive = {
			focus = SOV_inheritor_of_the_mantle_of_lenin
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_5_or_greater_tt
				check_variable = {
					SOV_propaganda_campaigns_taken = 5
					compare = greater_than_or_equals
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_stability = 0.1
			add_country_leader_trait = stalin_servant_of_lenin
		}
	}
	focus = {
		id = SOV_ban_excessive_hero_worship
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = SOV_the_faithful_servant_of_lenin }
		x = 1
		y = 1
		relative_position_id = SOV_the_faithful_servant_of_lenin
		cost = 3
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_10_or_greater_tt
				check_variable = {
					SOV_propaganda_campaigns_taken = 10
					compare = greater_than_or_equals
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_ban_excessive_hero_worship_dec_cost_tt
			SOV_foreign_politics_decision_cost_reduction_effect = yes
			if = {
				limit = {
					has_completed_focus = SOV_leader_of_the_party_and_the_people
				}
				swap_ruler_traits = {
					remove = stalin_servant_of_lenin_leader
					add = stalin_servant_of_lenin_final
				}
			}
			else = {
				swap_ruler_traits = {
					remove = stalin_servant_of_lenin
					add = stalin_servant_of_lenin_worship
				}
			}
		}
	}
	focus = {
		id = SOV_leader_of_the_party_and_the_people
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = SOV_inheritor_of_the_mantle_of_lenin focus = SOV_the_faithful_servant_of_lenin }
		x = 1
		y = 1
		relative_position_id = SOV_inheritor_of_the_mantle_of_lenin
		cost = 3
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_10_or_greater_tt
				check_variable = {
					SOV_propaganda_campaigns_taken = 10
					compare = greater_than_or_equals
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_political_power = 50
			#Swap Stalin's Trait
			if = {
				#INHERITOR BRANCH
				limit = {
					has_completed_focus = SOV_inheritor_of_the_mantle_of_lenin
				}
				if = {
					limit = {
						has_completed_focus = SOV_brilliant_genius
					}
					swap_ruler_traits = {
						remove = stalin_inheritor_of_lenin_genius
						add = stalin_inheritor_of_lenin_final
					}
				}
				else = {
					swap_ruler_traits = {
						remove = stalin_inheritor_of_lenin
						add = stalin_inheritor_of_lenin_leader
					}
				}
			}
			else_if = {
				#SERVANT BRANCH
				limit = {
					has_completed_focus = SOV_the_faithful_servant_of_lenin
				}
				if = {
					limit = {
						has_completed_focus = SOV_ban_excessive_hero_worship
					}
					swap_ruler_traits = {
						remove = stalin_servant_of_lenin_worship
						add = stalin_servant_of_lenin_final
					}
				}
				else = {
					swap_ruler_traits = {
						remove = stalin_servant_of_lenin
						add = stalin_servant_of_lenin_leader
					}
				}
			}
			else = {
				custom_effect_tooltip = SOV_leader_of_the_party_and_the_people_trait_tt
			}
		}
	}
	focus = {
		id = SOV_great_commander
		icon = GFX_focus_generic_military_dictatorship
		prerequisite = { focus = SOV_inheritor_of_the_mantle_of_lenin }
		prerequisite = { focus = SOV_leader_of_the_party_and_the_people }
		x = -1
		y = 1
		relative_position_id = SOV_leader_of_the_party_and_the_people
		cost = 3
		mutually_exclusive = {
			focus = SOV_architect_of_communism
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_15_or_greater_tt
				check_variable = {
					SOV_propaganda_campaigns_taken = 15
					compare = greater_than_or_equals
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
		}
		completion_reward = {
			add_country_leader_trait = stalin_great_commander
			if = {
				limit = {
					is_ai = no
				}
				add_field_marshal_role = {
					character = "SOV_iosif_stalin"
					traits = {
						old_guard
						politically_connected
						media_personality
						harsh_leader
					}
					skill = 3
					attack_skill = 1
					defense_skill = 3
					planning_skill = 3
					logistics_skill = 3
					legacy_id = 0
				}
			}
		}
	}
	focus = {
		id = SOV_architect_of_communism
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_the_faithful_servant_of_lenin }
		prerequisite = { focus = SOV_leader_of_the_party_and_the_people }
		x = 1
		y = 1
		relative_position_id = SOV_leader_of_the_party_and_the_people
		cost = 3
		mutually_exclusive = {
			focus = SOV_great_commander
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_15_or_greater_tt
				check_variable = {
					SOV_propaganda_campaigns_taken = 15
					compare = greater_than_or_equals
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_country_leader_trait = stalin_architect_of_communism
		}
	}
	focus = {
		id = SOV_father_of_nations
		icon = GFX_focus_SOV_father_of_nations
		prerequisite = { focus = SOV_great_commander focus = SOV_architect_of_communism }
		x = 1
		y = 1
		relative_position_id = SOV_great_commander
		cost = 3
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_20_or_greater_tt
				check_variable = {
					SOV_propaganda_campaigns_taken = 20
					compare = greater_than_or_equals
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_MANPOWER
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			swap_ruler_traits = {
				remove = stalin_heart_of_steel
				add = stalin_father_of_nations
			}
			hidden_effect = {
				play_song = "comintern_war_1"		#TODO_Manu: Too abrupt (just like speeches) -> Pending feedback for removal
			}
		}
	}

	focus = {
		id = SOV_great_purge
		icon = GFX_goal_SOV_great_purge
		prerequisite = { focus = SOV_socialism_in_one_country }
		x = -5
		y = 1
		relative_position_id = SOV_socialism_in_one_country
		available = {
			NOT = {
				has_country_flag = counter_purge
			}
			has_government = communism
			date > 1936.7.1
		}
		cost = 3
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}

		select_effect = {
			set_country_flag = SOV_paranoia_do_not_cancel_focus_flag			#This focus cannot be canceled
			country_event = {
			 	id = soviet.24
			 	days = 3
			}
			set_country_flag = SOV_purge_started
			add_ideas = SOV_politicized_military
		}
		completion_reward = {
			#(Select Effect)
			custom_effect_tooltip = SOV_focus_select_effect_tt
			effect_tooltip = {
				add_ideas = SOV_politicized_military
			}
			#(Complete Effect)
			custom_effect_tooltip = SOV_focus_complete_effect_tt
			add_timed_idea = {
				idea = officers_purged
				days = 2100
			}
			hidden_effect = {
				country_event = {
					id = soviet.37
					days = 110
				}
			}
			swap_ideas = {
				remove_idea = trotskyite_plot_nsb
				add_idea = trotskyite_plot_purged
			}
			add_ideas = fear_from_the_purge

			custom_effect_tooltip = SOV_great_purge_tt3
			add_to_variable = { SOV_the_politburo_max_command_power = 50 }
			add_to_variable = { SOV_the_politburo_drift_defence_factor = 0.3 }
			add_to_variable = { SOV_academy_of_sciences_research_speed_factor = -0.05 }

			hidden_effect = {
				subtract_from_variable = { SOV_army_political_power_gain = 0.15 }
				subtract_from_variable = { SOV_army_influence = 3 }
			}
		}
	}
	focus = {
		id = SOV_the_zinovyevite_terrorist_center
		icon = GFX_focus_SOV_purge_zinovyevists
		prerequisite = { focus = SOV_great_purge }
		x = 0
		y = 1
		relative_position_id = SOV_great_purge
		cost = 3

		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		select_effect = {
			set_country_flag = SOV_paranoia_do_not_cancel_focus_flag			#This focus cannot be canceled
		}
		completion_reward = {
			clr_country_flag = SOV_paranoia_do_not_cancel_focus_flag
			set_country_flag = {
				flag = SOV_paranoia_random_purge_cooldown_from_focus_flag
				days = 15
			}
			#Used to prevent random purges from popping up while this is active
			set_country_flag = SOV_first_moscow_trial_flag			#Used to unlock the next purge focus
			SOV_paranoia_high_increase_effect = yes

			#HISTORICAL
			country_event = sov_armor.701
			custom_effect_tooltip = SOV_will_trigger_a_great_purge_tt

			if = {
				limit = {
					has_character = SOV_grigory_zinovyev
				}
				SOV_grigory_zinovyev = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			if = {
				limit = {
					has_character = SOV_lev_kamenev
				}
				SOV_lev_kamenev = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			if = {
				limit = {
					has_character = SOV_ivan_smirnov
				}
				SOV_ivan_smirnov = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			if = {
				limit = {
					has_character = SOV_grigory_sokolnikov
				}
				SOV_grigory_sokolnikov = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			if = {
				limit = {
					has_character = SOV_aleksandr_shlyapnikov
				}
				SOV_aleksandr_shlyapnikov = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			swap_ideas = {
				remove_idea = fear_from_the_purge
				add_idea = fear_from_the_purge_2
			}
		}
	}
	focus = {
		id = SOV_the_anti_soviet_trotskyist_center
		icon = GFX_focus_SOV_purge_trotskyists
		prerequisite = { focus = SOV_the_zinovyevite_terrorist_center
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_zinovyevite_terrorist_center
		cost = 3
		available = {
			has_country_flag = {
				flag = SOV_first_moscow_trial_flag
				days > 175
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_purge_focus_days_tt
				has_country_flag = {
					flag = SOV_first_moscow_trial_flag
					days > 175
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		select_effect = {
			set_country_flag = SOV_paranoia_do_not_cancel_focus_flag			#This focus cannot be canceled
		}
		completion_reward = {
			clr_country_flag = SOV_paranoia_do_not_cancel_focus_flag
			set_country_flag = {
				flag = SOV_paranoia_random_purge_cooldown_from_focus_flag
				days = 15
			}
			#Used to prevent random purges from popping up while this is active
			set_country_flag = SOV_second_moscow_trial_flag			#Used to unlock the next purge focus
			SOV_paranoia_high_increase_effect = yes

			#HISTORICAL
			country_event = sov_armor.702
			custom_effect_tooltip = SOV_will_trigger_a_great_purge_tt

			if = {
				limit = {
					has_character = SOV_karl_radek
				}
				SOV_karl_radek = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			if = {
				limit = {
					has_character = SOV_ivar_smilga
				}
				SOV_ivar_smilga = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			if = {
				limit = {
					has_character = SOV_yevgeny_preobrazhensky
				}
				SOV_yevgeny_preobrazhensky = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			if = {
				limit = {
					has_character = SOV_martemyan_ryutin
				}
				SOV_martemyan_ryutin = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			if = {
				limit = {
					has_character = SOV_nikolay_ustryalov
				}
				SOV_nikolay_ustryalov = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			swap_ideas = {
				remove_idea = fear_from_the_purge_2
				add_idea = fear_from_the_purge_3
			}

			hidden_effect = {
				swap_ruler_traits = {
					remove = stalin_political_paranoia
					add = stalin_political_paranoia_advanced
				}
				add_to_variable = {
					SOV_paranoia_weekly_modifiers_amount = 1
				}
				SOV_paranoia_modifier_update_gui_tooltip = yes
			}
			custom_effect_tooltip = SOV_increase_weekly_paranoia_in_trait_tt
		}
	}
	focus = {
		id = SOV_the_military_conspiracy
		icon = GFX_focus_SOV_military_purge
		prerequisite = { focus = SOV_the_anti_soviet_trotskyist_center
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_anti_soviet_trotskyist_center
		cost = 3
		available = {
			has_country_flag = {
				flag = SOV_second_moscow_trial_flag
				days > 175
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_purge_focus_days_military_tt
				has_country_flag = {
					flag = SOV_second_moscow_trial_flag
					days > 175
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		select_effect = {
			set_country_flag = SOV_paranoia_do_not_cancel_focus_flag			#This focus cannot be canceled
		}
		completion_reward = {
			clr_country_flag = SOV_paranoia_do_not_cancel_focus_flag
			set_country_flag = {
				flag = SOV_paranoia_random_purge_cooldown_from_focus_flag
				days = 15
			}
			#Used to prevent random purges from popping up while this is active
			set_country_flag = SOV_trial_of_the_generals_flag			#Used to unlock the next purge focus
			SOV_paranoia_high_increase_effect = yes

			#Historical
			country_event = sov_armor.703
			custom_effect_tooltip = SOV_will_trigger_a_great_purge_tt

			if = {
				limit = {
					has_character = SOV_mikhail_tukhachevsky
				}
				SOV_mikhail_tukhachevsky = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			if = {
				limit = {
					has_character = SOV_aleksandr_yegorov
				}
				SOV_aleksandr_yegorov = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			if = {
				limit = {
					has_character = SOV_vasily_blyukher
				}
				SOV_vasily_blyukher = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			if = {
				limit = {
					has_character = SOV_vitaly_primakov
				}
				SOV_vitaly_primakov = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			swap_ideas = {
				remove_idea = fear_from_the_purge_3
				add_idea = fear_from_the_purge_4
			}

			set_country_flag = SOV_stalinist_military_flag			#New Generals have more chances of being Stalinists after this
		}
	}
	focus = {
		id = SOV_the_bloc_of_rights_and_trotskyites
		icon = GFX_focus_SOV_purge_bukharinists
		prerequisite = { focus = SOV_the_military_conspiracy
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_military_conspiracy
		cost = 3
		available = {
			has_country_flag = {
				flag = SOV_trial_of_the_generals_flag
				days > 175
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_purge_focus_days_rights_tt
				has_country_flag = {
					flag = SOV_trial_of_the_generals_flag
					days > 175
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		select_effect = {
			set_country_flag = SOV_paranoia_do_not_cancel_focus_flag			#This focus cannot be canceled
		}
		completion_reward = {
			clr_country_flag = SOV_paranoia_do_not_cancel_focus_flag
			set_country_flag = {
				flag = SOV_paranoia_random_purge_cooldown_from_focus_flag
				days = 15
			}
			#Used to prevent random purges from popping up while this is active
			set_country_flag = SOV_third_moscow_trial_flag			#Used to unlock the next purge focus

			#HISTORICAL
			country_event = sov_armor.704
			custom_effect_tooltip = SOV_will_trigger_a_great_purge_tt

			if = {
				limit = {
					has_character = SOV_nikolay_bukharin
				}
				SOV_nikolay_bukharin = { set_character_flag = SOV_targeted_for_purge_flag }
			}

			if = {
				limit = {
					has_character = SOV_aleksey_rykov
				}
				SOV_aleksey_rykov = { set_character_flag = SOV_targeted_for_purge_flag }
			}

			if = {
				limit = {
					has_character = SOV_mikhail_tomsky
				}
				SOV_mikhail_tomsky = { set_character_flag = SOV_targeted_for_purge_flag }
			}
			swap_ideas = {
				remove_idea = fear_from_the_purge_4
				add_idea = fear_from_the_purge
			}

			SOV_remove_paranoia_effect = yes			#REMOVE PARANOIA SYSTEM
		}
	}

	focus = {
		id = SOV_the_kulak_operation
		icon = GFX_focus_spr_masters_of_our_own_fate
		prerequisite = { focus = SOV_the_zinovyevite_terrorist_center }
		x = 2
		y = 1
		relative_position_id = SOV_the_zinovyevite_terrorist_center
		cost = 4
		available = {
			has_country_flag = {
				flag = SOV_first_moscow_trial_flag
				days > 350
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_purge_focus_days_tt
				has_country_flag = {
					flag = SOV_first_moscow_trial_flag
					days > 350
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_to_variable = { SOV_fyp_consumer_goods_expected_value = -0.04 }
			hidden_effect = {
				add_to_variable = { SOV_peasants_attitude = 1 }
				add_to_variable = { SOV_peasants_influence = 1 }
			}
			custom_effect_tooltip = SOV_the_kulak_operation_tt
			add_stability = -0.05
			SOV_paranoia_low_decrease_effect = yes
		}
	}
	focus = {
		id = SOV_the_polish_operation
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_the_kulak_operation }
		x = 0
		y = 2
		relative_position_id = SOV_the_kulak_operation
		cost = 4

		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_to_variable = { SOV_the_politburo_political_power_factor = 0.1 }
			add_to_variable = { SOV_the_politburo_max_surrender_limit_offset = 0.1 }
			hidden_effect = {
				add_to_variable = { SOV_peasants_attitude = 1 }
				add_to_variable = { SOV_peasants_influence = 1 }
			}
			custom_effect_tooltip = SOV_the_polish_operation_tt
			SOV_konstantin_rokossovsky = {
				custom_effect_tooltip = SOV_sent_to_gulag_flag
				set_character_flag = SOV_sent_to_gulag_flag
			}
			add_stability = -0.05
			SOV_paranoia_low_decrease_effect = yes
		}
	}

	focus = {
		id = SOV_end_the_terror
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_the_bloc_of_rights_and_trotskyites }
		x = -1
		y = 1
		relative_position_id = SOV_the_bloc_of_rights_and_trotskyites
		cost = 3
		available = {
			has_idea = SOV_lavrenty_beriya
			has_country_flag = {
				flag = SOV_trial_of_the_generals_flag
				days > 300
			}
			custom_trigger_tooltip = {
				tooltip = SOV_last_purge_focus_days_rights_tt
				has_country_flag = {
					flag = SOV_trial_of_the_generals_flag
					days > 300
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_INTERNAL_AFFAIRS
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_end_the_terror_tt
			hidden_effect = {
				add_to_variable = { SOV_peasants_attitude = 1 }
				add_to_variable = { SOV_peasants_influence = 2 }
			}
			unlock_decision_tooltip = SOV_release_generals_from_gulag
			add_stability = 0.1
			if = {
				limit = {
					has_idea = fear_from_the_purge_4
				}
				remove_ideas = fear_from_the_purge_4
			}
			if = {
				limit = {
					has_idea = fear_from_the_purge_3
				}
				remove_ideas = fear_from_the_purge_3
			}
			if = {
				limit = {
					has_idea = fear_from_the_purge_2
				}
				remove_ideas = fear_from_the_purge_2
			}
			else = {
				remove_ideas = fear_from_the_purge
			}
			add_to_variable = {
				SOV_the_politburo_political_power_factor = 0.05
			}
		}
	}
	focus = {
		id = SOV_behead_the_snake
		icon = GFX_focus_SOV_behead_the_snake
		prerequisite = { focus = SOV_the_bloc_of_rights_and_trotskyites }
		x = 1
		y = 1
		relative_position_id = SOV_the_bloc_of_rights_and_trotskyites
		cost = 5

		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = SOV_behead_the_snake_lar_tt
				create_operative_leader = {
					name = "Ramón Mercader"
					GFX = GFX_portrait_SOV_ramon_mercader
					traits = {
						operative_tough
						operative_infiltrator
					}
					bypass_recruitment = no
					available_to_spy_master = yes
					nationalities = {
						SOV
						SPR
						MEX
					}
				}
				#Extra operative slot
				set_variable = {
					SOV_the_politburo_operative_slot = 1
				}
				custom_effect_tooltip = SOV_behead_the_snake_ns_tt
			}
			else = {
				custom_effect_tooltip = SOV_behead_the_snake_no_lar_tt
			}
			if = {
				limit = {
					has_idea = trotskyite_plot_purged
				}
				swap_ideas = {
					remove_idea = trotskyite_plot_purged
					add_idea = trotskyite_plot_purged_2
				}
			}
			else_if = {
				limit = {
					has_idea = trotskyite_plot_purged_2
				}
				remove_ideas = trotskyite_plot_purged_2
			}
			SOV_paranoia_high_decrease_effect = yes
		}
	}
	############## NKVD #################
	focus = {
		id = SOV_nkvd_primacy
		icon = GFX_goal_SOV_nkvd_primacy
		prerequisite = { focus = SOV_great_purge focus = SOV_the_path_of_marxism_leninism }
		x = -4
		y = 1
		relative_position_id = SOV_great_purge
		cost = 3

		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			custom_effect_tooltip = SOV_formation_of_the_nkvd_tt
			hidden_effect = {
				add_to_variable = { SOV_commissars_attitude = 1 }
				add_to_variable = { SOV_commissars_political_power_gain = 0.2 }
				add_to_variable = { SOV_commissars_stability_factor = 0.1 }
			}
			add_ideas = nkvd
			SOV_paranoia_medium_increase_effect = yes
		}
	}

	focus = {
		id = SOV_nkvd_divisions
		icon = GFX_goal_generic_build_army_usa
		prerequisite = { focus = SOV_nkvd_primacy }
		x = 0
		y = 1
		relative_position_id = SOV_nkvd_primacy
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 10
				any_claim = yes
				has_war = yes
			}
		}

		available = {
			threat > 0.45
		}
		completion_reward = {
			custom_effect_tooltip = SOV_nkvd_divisions_tt
			custom_effect_tooltip = SOV_nkvd_upgrade_tooltip
			hidden_effect = {
				add_to_variable = { SOV_commissars_influence = 2 }
			}
			add_units_to_division_template = {
				template_name = "NKVD Strelkovaya Diviziya"
				regiments = {
					heavy_infantry = 0
					heavy_infantry = 1
					heavy_infantry = 2
					heavy_infantry = 2
					heavy_infantry = 2
					artillery_brigade = 3
					artillery_brigade = 3
				}
				support = {
					normal_engineer = 0
					artillery = 0
					anti_tank = 0
				}
			}
			hidden_effect = {
				division_template = {
					name = "Motostrelkovaya Diviziya"		# Represents Moscow Proletariat Division in 1936 and later NKVD motor rifle divisions; after 1938-40, Motor Rifle Divisions had +1 mot regiment (3 bns)
					division_names_group = SOV_MOT_01
					template_counter = 166

					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized = { x = 0 y = 2 }

						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }

						motorized = { x = 2 y = 0 }
						motorized = { x = 2 y = 1 }
						motorized = { x = 2 y = 2 }

						motorized_artillery_brigade = { x = 3 y = 0 }
						motorized_artillery_brigade = { x = 3 y = 1 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						armoured_recon = { x = 0 y = 1 }
						motorized_logistics_company = { x = 0 y = 2 }
						anti_air = { x = 0 y = 3 }
						anti_tank = { x = 0 y = 4 }
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Moskva Proletarskaya Motostrelk. Div.\" division_template = \"Motostrelkovaya Diviziya\" start_experience_factor = 0.4 start_equipment_factor = 0.75"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"1ya NKVD Motostrelkovaya Div.\" division_template = \"Motostrelkovaya Diviziya\" start_experience_factor = 0.4 start_equipment_factor = 0.75"
					owner = ROOT
				}
			}
			swap_ideas = {
				remove_idea = nkvd
				add_idea = nkvd_2
			}
		}
	}
	focus = {
		id = SOV_barrier_troops
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = SOV_nkvd_divisions }
		x = 1
		y = 1
		relative_position_id = SOV_nkvd_divisions
		cost = 2
		available = {
			has_war = yes
			surrender_progress > 0.24
		}
		ai_will_do = {
			factor = 2
		}
		search_filters = {
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = {
			add_ideas = order_227_1
			unlock_decision_tooltip = SOV_order_227
		}
	}
	focus = {
		id = SOV_peoples_militia
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = SOV_barrier_troops }
		x = 0
		y = 1
		relative_position_id = SOV_barrier_troops
		cost = 3
		available = {
			has_war = yes
			surrender_progress > 0.34
		}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			custom_effect_tooltip = SOV_peoples_militias
			hidden_effect = {
				division_template = {
					name = "Narodnoe Opolcheniye Divisíon"
					is_locked = yes
					division_names_group = SOV_GAR_01
					priority = 0
					regiments = {
						heavy_militia = { x = 0 y = 0 }
						heavy_militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 0 y = 3 }

						heavy_militia = { x = 1 y = 0 }
						heavy_militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
						militia = { x = 1 y = 3 }

						heavy_militia = { x = 2 y = 0 }
						heavy_militia = { x = 2 y = 1 }
						militia = { x = 2 y = 2 }
						militia = { x = 2 y = 3 }

						heavy_militia = { x = 3 y = 0 }
						militia = { x = 3 y = 1 }
						militia = { x = 3 y = 2 }
					}
					support = {
						normal_engineer = { x = 0 y = 0 }
						horse_logistics_company = { x = 0 y = 1 }
						recon = { x = 0 y = 2 }
						artillery = { x = 0 y = 3 }
						anti_tank = { x = 0 y = 4 }
					}
				}
			}
		}
	}
	focus = {
		id = SOV_penal_battalions
		icon = GFX_focus_SOV_penal_battalions
		prerequisite = { focus = SOV_peoples_militia }
		x = 0
		y = 1
		relative_position_id = SOV_peoples_militia
		cost = 3
		available = {
			has_war = yes
		}
		search_filters = {
		}
		completion_reward = {
			#Upgrade NKVD to 30 width with Penal + cheaper decision
			custom_effect_tooltip = SOV_penal_battalions_spawn_tt
			hidden_effect = {
				set_technology = {
					penal_infantry = 1
					popup = no
				}
				division_template = {
					name = "Shtrafnaya Chast"
					division_names_group = SOV_PEN_01
					is_locked = yes
					priority = 0
					regiments = {
						penal_battalion = { x = 0 y = 0 }
						penal_battalion = { x = 0 y = 1 }
						penal_battalion = { x = 0 y = 2 }

						penal_battalion = { x = 1 y = 0 }
						penal_battalion = { x = 1 y = 1 }
						penal_battalion = { x = 1 y = 2 }

						penal_battalion = { x = 2 y = 0 }
						penal_battalion = { x = 2 y = 1 }
						penal_battalion = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				add_units_to_division_template = {
					template_name = "NKVD Strelkovaya Diviziya"
					regiments = {
						penal_battalion = 4
						penal_battalion = 4
						penal_battalion = 4
						penal_battalion = 4
					}
				}
			}
		}
	}
	focus = {
		id = SOV_conscript_men_into_labour
		icon = GFX_goal_generic_propaganda_communism
		prerequisite = { focus = SOV_nkvd_divisions }
		x = -1
		y = 1
		relative_position_id = SOV_nkvd_divisions
		cost = 2
		available = {
			has_war = yes
			any_enemy_country = {
				is_major = yes
			}
		}
		ai_will_do = {
			factor = 40
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = {
			if = {
				limit = {
					NOT = { has_idea = conscript_men_into_the_factories }
				}
				add_ideas = conscript_men_into_the_factories
			}
			else = {
				add_political_power = 150
			}
			economy_fatigue_level_up_3 = yes
		}
	}
	focus = {
		id = SOV_smersh
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_conscript_men_into_labour }
		x = 0
		y = 1
		relative_position_id = SOV_conscript_men_into_labour
		cost = 3

		ai_will_do = {
			factor = 40
		}
		search_filters = {
			FOCUS_FILTER_PROPAGANDA
		}
		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_ideas = SOV_smersh
			}
			else = {
				add_ideas = SOV_smersh_no_lar
			}
		}
	}
	focus = {
		id = SOV_organization_of_the_partisans
		icon = GFX_focus_focus_fra_maquis
		prerequisite = { focus = SOV_smersh }
		x = 0
		y = 1
		relative_position_id = SOV_smersh
		cost = 3
		available = {
			any_owned_state = {
				controller = {
					has_war_with = ROOT
				}
			}
		}
		ai_will_do = {
			factor = 80
		}
		search_filters = {
			FOCUS_FILTER_PROPAGANDA
		}
		completion_reward = {
			if = {
				limit = {
					has_government = communism
				}
				show_unit_leaders_tooltip = SOV_vasily_korzh
				show_unit_leaders_tooltip = SOV_sidor_kovpak
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
						has_government = communism
					}
					create_operative_leader = {
						name = "Dmitry Medvedev"
						GFX = GFX_Portrait_dmitry_medvedev
						female = yes
						traits = {
							operative_demolition_expert
							operative_commando
						}
						bypass_recruitment = no
						available_to_spy_master = yes
						nationalities = {
							SOV
						}
					}
				}
				add_ideas = SOV_central_headquarters_of_the_partisan_movement
			}
			else = {
				add_ideas = SOV_central_headquarters_of_the_partisan_movement_no_lar
			}
		}
	}


	#################### ALT HISOTRY

	focus = {
		id = SOV_the_path_of_marxism_leninism
		icon = GFX_focus_SOV_the_path_of_marxism_leninism
		mutually_exclusive = { focus = SOV_socialism_in_one_country focus = SOV_beaten_but_not_defeated }
		x = 82
		y = 0
		cost = 3

		offset = {
			x = -10
			y = 0
			trigger = {
				OR = {
					has_completed_focus = SOV_left_opposition_coup
					has_completed_focus = SOV_coup_detat
				}
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
			}
		}
		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = SOV_great_purge }
				NOT = { has_completed_focus = SOV_beaten_but_not_defeated }
			}
		}


		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			add_political_power = 25
			custom_effect_tooltip = SOV_the_path_of_marxism_leninism_tt
			add_to_variable = { SOV_the_politburo_communism_drift = 0.05 }
			add_to_variable = { SOV_the_politburo_drift_defence_factor = 0.05 }
			IF = {
				limit = {
					has_dlc = "No Step Back"
				}
				mark_focus_tree_layout_dirty = yes
			}
			hidden_effect = {
				SOV_semyon_budyonny = {
					add_unit_leader_trait = trait_SOV_stalinist
				}
				SOV_kliment_voroshilov = {
					add_unit_leader_trait = trait_SOV_stalinist
				}
				SOV_grigory_kulik = {
					add_unit_leader_trait = trait_SOV_stalinist
				}
			}
		}
	}

	############## INTERNAL BRANCH ###############

	focus = {
		id = SOV_new_soviet_person
		icon = GFX_goal_SOV_new_soviet_society
		prerequisite = { focus = SOV_socialism_in_one_country focus = SOV_the_path_of_marxism_leninism }
		relative_position_id = SOV_the_path_of_marxism_leninism
		x = -14
		y = 1
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		completion_reward = {
			add_political_power = 50
			if = {
				limit = {
					is_ai = no
				}
				add_ideas = mandatory_army_service
			}
			add_ideas = women_in_the_workforce

			custom_effect_tooltip = SOV_new_soviet_person_tt
			hidden_effect = {
				subtract_from_variable = { SOV_peasants_influence = 1 }
			}
		}
	}
	focus = {
		id = SOV_socialist_realism_people
		icon = GFX_goal_SOV_socialist_realism_people
		prerequisite = { focus = SOV_new_soviet_person }
		x = 0
		y = 1
		relative_position_id = SOV_new_soviet_person
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = socialist_realism_1
		}
	}
	focus = {
		id = SOV_socialist_realism_workforce
		icon = GFX_goal_SOV_socialist_realism_workforce
		prerequisite = { focus = SOV_socialist_realism_people }
		prerequisite = { focus = SOV_expand_the_agitprop }
		x = 0
		y = 1
		relative_position_id = SOV_socialist_realism_people
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_5_or_greater_tt
				check_variable = {
					SOV_propaganda_campaigns_taken = 5
					compare = greater_than_or_equals
				}
			}
		}
		available_if_capitulated = yes
		completion_reward = {
			swap_ideas = {
				remove_idea = socialist_realism_1
				add_idea = socialist_realism_2
			}
		}
	}
	focus = {
		id = SOV_socialist_realism_army
		icon = GFX_goal_SOV_socialist_realism_army
		prerequisite = { focus = SOV_socialist_realism_workforce }
		prerequisite = { focus = SOV_social_militarism }
		x = 1
		y = 1
		relative_position_id = SOV_socialist_realism_workforce
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_10_or_greater_tt
				check_variable = {
					SOV_propaganda_campaigns_taken = 10
					compare = greater_than_or_equals
				}
			}
		}
		available_if_capitulated = yes
		completion_reward = {
			swap_ideas = {
				remove_idea = socialist_realism_2
				add_idea = socialist_realism_3
			}
		}
	}
	focus = {
		id = SOV_socialist_realism_partisans
		icon = GFX_goal_SOV_socialist_realism_partisans
		prerequisite = { focus = SOV_socialist_realism_army }
		x = 0
		y = 1
		relative_position_id = SOV_socialist_realism_army
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_propaganda_campaigns_taken_20_or_greater_tt
				check_variable = {
					SOV_propaganda_campaigns_taken = 20
					compare = greater_than_or_equals
				}
			}
		}
		available_if_capitulated = yes
		completion_reward = {
			swap_ideas = {
				remove_idea = socialist_realism_3
				add_idea = socialist_realism_4
			}
		}
	}

	focus = {
		id = SOV_militarized_schools
		icon = GFX_goal_generic_military_academy
		prerequisite = { focus = SOV_new_soviet_person }
		x = 2
		y = 1
		relative_position_id = SOV_new_soviet_person
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = militarized_schools
		}
	}
	focus = {
		id = SOV_social_militarism
		icon = GFX_focus_ITA_il_sol_dell_avvenire
		prerequisite = { focus = SOV_militarized_schools }
		x = 0
		y = 1
		relative_position_id = SOV_militarized_schools
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		completion_reward = {
			swap_ideas = {
				remove_idea = militarized_schools
				add_idea = militarized_schools_2
			}
		}
	}
	focus = {
		id = SOV_expand_the_agitprop
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_new_soviet_person }
		x = -2
		y = 1
		relative_position_id = SOV_new_soviet_person
		cost = 3

		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_PROPAGANDA
		}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.2
			}
			custom_effect_tooltip = unlock_propaganda_campaign_tt
			unlock_decision_tooltip = SOV_Commissars_patriotic_fighting
			unlock_decision_tooltip = SOV_Workers_intensify_aircraft_production
			unlock_decision_tooltip = SOV_Workers_intensify_armament_production
			unlock_decision_tooltip = SOV_agitprop_propaganda_peace
			unlock_decision_tooltip = SOV_Peasants_lessons_from_russia
		}
	}

	focus = {
		id = SOV_revive_the_stakhanovite_movement
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SOV_expand_the_agitprop }
		x = 0
		y = 1
		relative_position_id = SOV_expand_the_agitprop
		cost = 3

		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_ideas = SOV_stakhanovite_movement
		}
	}

	focus = {
		id = SOV_expand_komsomol_memebership
		icon = GFX_goal_SOV_komsomol
		prerequisite = { focus = SOV_revive_the_stakhanovite_movement }
		x = 0
		y = 1
		relative_position_id = SOV_revive_the_stakhanovite_movement
		cost = 3
		available = {
			OR = {
				owns_state = 91
				owns_state = 93
				owns_state = 94
				owns_state = 95
				owns_state = 96
				owns_state = 89
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_PROPAGANDA
		}
		ai_will_do = {
			factor = 1.5
		}
		completion_reward = {
			add_political_power = 25
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			custom_effect_tooltip = SOV_expand_komsomol_memebership_tt
			hidden_effect = {
				add_to_variable = { SOV_workers_influence = 3 }
				add_to_variable = { SOV_workers_attitude = 1 }
			}
			economy_fatigue_level_down_4 = yes
		}
	}

	focus = {
		id = SOV_patriarch_of_all_russia
		icon = GFX_focus_SOV_patriarch_of_all_russia
		prerequisite = { focus = SOV_expand_komsomol_memebership }
		x = 0
		y = 1
		relative_position_id = SOV_expand_komsomol_memebership
		cost = 3
		available = {
			has_completed_focus = SOV_socialism_in_one_country
			surrender_progress > 0.24
			any_enemy_country = {
				is_major = yes
			}
		}
		search_filters = {
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_EMERGENCY
		}
		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			custom_effect_tooltip = SOV_reestablish_the_Patriarchate_tt
			hidden_effect = {
				set_variable = { SOV_peasants_stability_factor = 0.15 }
				set_variable = { SOV_peasants_attitude = 3 }
				add_to_variable = { SOV_peasants_influence = 2 }
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_patriarch_sergy
		}
	}

	################################################################################################################
	#   ### ### ###      ##  ###  ###   ##   ## ### ### ###  ##  #  #     ### #   #  ##  #   #  #  ## ### #   # ###
	#   #   #    #      #  # #  # #  # #  # #    #   #   #  #  # ## #     #    # #  #  # #   #  # #    #  #   # #
	#   ##  ##   #      #  # ###  ###  #  #  #   #   #   #  #  # # ##     ##    #   #    #   #  #  #   #   # #  ##
	#   #   #    #      #  # #    #    #  #   #  #   #   #  #  # #  #     #    # #  #  # #   #  #   #  #   # #  #
	### ### #    #       ##  #    #     ##  ##  ###  #  ###  ##  #  #     ### #   #  ##  ###  ##  ##  ###   #   ###
	################################################################################################################
	focus = {
		id = SOV_the_left_opposition
		icon = GFX_focus_fra_loyalty_trotzky
		prerequisite = { focus = SOV_the_path_of_marxism_leninism }
		mutually_exclusive = { focus = SOV_the_right_opposition }
		x = -7
		y = 1
		relative_position_id = SOV_the_path_of_marxism_leninism
		cost = 3

		allow_branch = {
		}

		available = {
			SOV_soviet_civil_war_not_started = yes
			custom_trigger_tooltip = {
				tooltip = SOV_no_major_purge_tt
				check_variable = {
					SOV_great_purge_counter < 1
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 75
			# SOV_paranoia_high_increase_effect = yes
			custom_effect_tooltip = SOV_the_left_opposition_tt
			set_variable = { SOV_left_opposition_army_support = 0.25 }
			set_variable = { SOV_left_opposition_navy_support = 0.05 }
			set_variable = { SOV_left_opposition_air_support = 0.15 }
			hidden_effect = {
				# Factionalism start modifier
				add_dynamic_modifier = { modifier = SOV_factionalism_modifier }
				country_event = {
					id = NSB_soviet_paranoia_system_events.01
					hours = 6
					random_hours = 24
				}
				random_owned_state = {
					limit = {
						NOT = { state = 214 }
						NOT = { state = 192 }
						NOT = { state = 651 }
						NOT = { state = 137 }
						NOT = { state = 405 }
						NOT = { state = 571 }
					}
					set_state_flag = SOV_stalinist_state
				}
				# Launch the first Stalinist counter measures
				SOV_launch_stalinist_counter_measure = yes
				SOV_get_centre_military_support = yes
			}
			add_to_variable = { SOV_the_politburo_political_power_factor = 0.05 }
			add_to_variable = { SOV_the_politburo_drift_defence_factor = 0.05 }
			custom_effect_tooltip = SOV_the_stalin_constitution_ns_tt
		}
	}

	focus = {
		id = SOV_the_fourth_international
		icon = GFX_goal_support_fourth_int
		prerequisite = { focus = SOV_the_left_opposition }
		x = -3
		y = 1
		relative_position_id = SOV_the_left_opposition
		cost = 2
		bypass = {
			has_global_flag = SOV_soviet_civil_war
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_major_purge_tt
				check_variable = { SOV_great_purge_counter > 0 }
			}
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			add_political_power = 120
			SOV_paranoia_very_low_increase_effect = yes
			news_event = {
				id = nsb_news.200
				hours = 2
				random_hours = 2
			}
		}
	}

	focus = {
		id = SOV_bring_old_trotskyists_back
		icon = GFX_goal_tripartite_pact
		prerequisite = { focus = SOV_the_left_opposition }
		x = -1
		y = 1
		relative_position_id = SOV_the_left_opposition
		cost = 3
		bypass = {
			custom_trigger_tooltip = {
				tooltip = SOV_bring_old_trotskyists_back_trigger_tt
				NOT = {
					has_character = SOV_karl_radek
				}
				NOT = {
					has_character = SOV_yevgeny_preobrazhensky
				}
			}
		}
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			custom_effect_tooltip = SOV_bring_old_trotskyists_back_effect_tt			#Radek and Preobrazhensky already set as algined to left oppo
			SOV_paranoia_low_increase_effect = yes
		}
	}
	focus = {
		id = SOV_organize_the_wreckers
		icon = GFX_focus_SOV_organize_wreckers
		prerequisite = { focus = SOV_the_left_opposition
		}
		x = 1
		y = 1
		relative_position_id = SOV_the_left_opposition
		cost = 2
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			set_country_flag = SOV_organize_wreckers_flag
			add_political_power = 50
			custom_effect_tooltip = SOV_organize_the_wreckers_tt
		}
	}
	focus = {
		id = SOV_integrate_smirnovs_bloc
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = SOV_the_left_opposition
		}
		x = 0
		y = 2
		relative_position_id = SOV_the_left_opposition
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
			SOV_has_selected_hq = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
				SOV_ivan_smirnov = {
					has_character_flag = SOV_character_purged_flag
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			add_political_power = 50
			custom_effect_tooltip = SOV_integrate_smirnovs_bloc_tt
			hidden_effect = {
				#Liberate and exile advisors
				SOV_ivan_smirnov = {
					#Already set as algined to left oppo
					clr_character_flag = SOV_imprisoned_flag
					set_character_flag = SOV_exiled_flag
					set_portraits = {
						army = {
							small = "GFX_idea_SOV_ivan_smirnov"
						}
					}
				}
				SOV_ivar_smilga = {
					#Already set as algined to left oppo
					clr_character_flag = SOV_imprisoned_flag
					set_character_flag = SOV_exiled_flag
					set_portraits = {
						army = {
							small = "GFX_idea_SOV_ivar_smilga"
						}
					}
				}
				SOV_aleksandr_shlyapnikov = {
					#Already set as algined to left oppo
					clr_character_flag = SOV_imprisoned_flag
					set_character_flag = SOV_exiled_flag
					set_portraits = {
						army = {
							small = "GFX_idea_SOV_aleksandr_shlyapnikov"
						}
					}
				}
				# Add support in armed forces
				add_to_variable = {
					SOV_left_opposition_army_support = 0.05
				}
				add_to_variable = {
					SOV_left_opposition_navy_support = 0.05
				}
				add_to_variable = {
					SOV_left_opposition_air_support = 0.05
				}
				# Set a few states to join
				random_owned_state = {
					limit = {
						OR = {
							state = 399
							state = 398
							state = 400
							state = 406
							state = 402
							state = 407
						}
						#NOT = { has_state_flag = SOV_left_opposition_state }
						#NOT = { has_state_flag = SOV_right_opposition_state }
						#NOT = { has_state_flag = SOV_stalinist_state }
					}
					# set_state_flag = SOV_left_opposition_state
					set_state_flag = SOV_opposition_partisans_flag
				}
				random_owned_state = {
					limit = {
						OR = {
							state = 399
							state = 398
							state = 400
							state = 406
							state = 402
							state = 407
						}
						#NOT = { has_state_flag = SOV_left_opposition_state }
						#NOT = { has_state_flag = SOV_right_opposition_state }
						#NOT = { has_state_flag = SOV_stalinist_state }
					}
					#set_state_flag = SOV_left_opposition_state
					set_state_flag = SOV_opposition_partisans_flag
				}
			}
		}
	}
	focus = {
		id = SOV_left_eliminate_right
		icon = GFX_focus_SOV_purge_bukharinists
		prerequisite = { focus = SOV_the_left_opposition }
		mutually_exclusive = { focus = SOV_cooperation_against_stalin }
		x = 2
		y = 2
		relative_position_id = SOV_the_left_opposition
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			# Target Right Opposition politician
			custom_effect_tooltip = SOV_left_eliminate_right_tt
			# custom_effect_tooltip = SOV_divert_purge_attention_tt
			# Modify factionalism
			custom_effect_tooltip = SOV_eliminate_opposition_factionalism_tt
			add_to_variable = {
				SOV_factionalism_political_power_factor = 0.05
			}
			SOV_nikolay_bukharin = {
				set_character_flag = SOV_potential_target_flag
			}
			SOV_mikhail_tomsky = {
				set_character_flag = SOV_potential_target_flag
			}
			SOV_aleksey_rykov = {
				set_character_flag = SOV_potential_target_flag
			}
		}
	}
	focus = {
		id = SOV_committee_in_exile
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = SOV_the_fourth_international }
		prerequisite = { focus = SOV_bring_old_trotskyists_back }
		x = 0
		y = 2
		relative_position_id = SOV_the_fourth_international
		cost = 2
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			has_global_flag = SOV_soviet_civil_war
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			custom_effect_tooltip = SOV_committee_in_exile_tt
		}
	}
	focus = {
		id = SOV_approach_tukhachevsky
		icon = GFX_focus_SOV_approach_tukahchevsky
		prerequisite = { focus = SOV_integrate_smirnovs_bloc
		}
		x = -1
		y = 1
		relative_position_id = SOV_integrate_smirnovs_bloc
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
				NOT = {
					has_character = SOV_mikhail_tukhachevsky
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_very_low_increase_effect = yes
			custom_effect_tooltip = SOV_approach_tukhachevsky_tt
			hidden_effect = {
				SOV_mikhail_tukhachevsky = {
					add_unit_leader_trait = trait_SOV_trotskyist
					remove_unit_leader_trait = trait_SOV_stalinist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				random_unit_leader = {
					limit = {
						NOT = {
							has_trait = trait_SOV_trotskyist
						}
						NOT = {
							has_trait = trait_SOV_stalinist
						}
						NOT = {
							has_trait = trait_SOV_bukharinist
						}
						NOT = {
							has_trait = trait_SOV_monarchist_sympathizer
						}
					}
					add_unit_leader_trait = trait_SOV_trotskyist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				random_unit_leader = {
					limit = {
						NOT = {
							has_trait = trait_SOV_trotskyist
						}
						NOT = {
							has_trait = trait_SOV_stalinist
						}
						NOT = {
							has_trait = trait_SOV_bukharinist
						}
						NOT = {
							has_trait = trait_SOV_monarchist_sympathizer
						}
					}
					add_unit_leader_trait = trait_SOV_trotskyist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				random_unit_leader = {
					limit = {
						NOT = {
							has_trait = trait_SOV_trotskyist
						}
						NOT = {
							has_trait = trait_SOV_stalinist
						}
						NOT = {
							has_trait = trait_SOV_bukharinist
						}
						NOT = {
							has_trait = trait_SOV_monarchist_sympathizer
						}
					}
					add_unit_leader_trait = trait_SOV_trotskyist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				# Add support in armed forces
				add_to_variable = {
					SOV_left_opposition_army_support = 0.08
				}
				add_to_variable = {
					SOV_left_opposition_navy_support = 0.05
				}
				add_to_variable = {
					SOV_left_opposition_air_support = 0.05
				}
				# add another state for Partisans
				random_owned_state = {
					limit = {
						OR = {
							state = 236
							state = 406
							state = 407
							state = 249
							state = 250
							state = 401
							state = 194
							state = 201
							state = 204
							state = 206
						}
						NOT = {
							has_state_flag = SOV_left_opposition_state
						}
						NOT = {
							has_state_flag = SOV_right_opposition_state
						}
						NOT = {
							has_state_flag = SOV_stalinist_state
						}
						NOT = {
							has_state_flag = SOV_opposition_partisans_flag
						}
					}
					set_state_flag = SOV_opposition_partisans_flag
				}
				SOV_get_centre_military_support = yes
			}
		}
	}
	focus = {
		id = SOV_approach_primakov
		icon = GFX_focus_SOV_approach_primakov
		prerequisite = { focus = SOV_integrate_smirnovs_bloc
		}
		x = 1
		y = 1
		relative_position_id = SOV_integrate_smirnovs_bloc
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
				NOT = {
					has_character = SOV_vitaly_primakov
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_very_low_increase_effect = yes
			custom_effect_tooltip = SOV_approach_primakov_tt
			hidden_effect = {
				SOV_vitaly_primakov = {
					add_unit_leader_trait = trait_SOV_trotskyist
					remove_unit_leader_trait = trait_SOV_stalinist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				random_unit_leader = {
					limit = {
						NOT = {
							has_trait = trait_SOV_trotskyist
						}
						NOT = {
							has_trait = trait_SOV_stalinist
						}
						NOT = {
							has_trait = trait_SOV_bukharinist
						}
						NOT = {
							has_trait = trait_SOV_monarchist_sympathizer
						}
					}
					add_unit_leader_trait = trait_SOV_trotskyist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				random_unit_leader = {
					limit = {
						NOT = {
							has_trait = trait_SOV_trotskyist
						}
						NOT = {
							has_trait = trait_SOV_stalinist
						}
						NOT = {
							has_trait = trait_SOV_bukharinist
						}
						NOT = {
							has_trait = trait_SOV_monarchist_sympathizer
						}
					}
					add_unit_leader_trait = trait_SOV_trotskyist
					set_character_flag = SOV_aligned_left_opposition_flag
				}
				# Add support in armed forces
				add_to_variable = {
					SOV_left_opposition_army_support = 0.08
				}
				add_to_variable = {
					SOV_left_opposition_navy_support = 0.05
				}
				add_to_variable = {
					SOV_left_opposition_air_support = 0.1
				}
				# add another state for partisans
				random_owned_state = {
					limit = {
						OR = {
							state = 234
							state = 227
							state = 235
							state = 238
							state = 237
						}
						NOT = {
							has_state_flag = SOV_left_opposition_state
						}
						NOT = {
							has_state_flag = SOV_right_opposition_state
						}
						NOT = {
							has_state_flag = SOV_stalinist_state
						}
						NOT = {
							has_state_flag = SOV_opposition_partisans_flag
						}
					}
					set_state_flag = SOV_opposition_partisans_flag
				}
				SOV_get_centre_military_support = yes
			}
		}
	}
	focus = {
		id = SOV_funds_for_the_cause
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = SOV_approach_tukhachevsky
			focus = SOV_approach_primakov
			focus = SOV_committee_in_exile
		}
		x = 0
		y = 1
		relative_position_id = SOV_approach_tukhachevsky
		cost = 2
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_funds_for_the_cause_tt
			add_political_power = 50
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = ROOT
					}
					OR = {
						is_major = yes
						tag = MEX
					}
					OR = {
						has_government = democratic
						has_government = communism
					}
				}
				country_event = {
					id = NSB_soviet_civil_war_common.118
					days = 3
					random_days = 5
				}
			}
		}
	}
	focus = {
		id = SOV_left_opposition_coup
		icon = GFX_focus_spr_masters_of_our_own_fate
		prerequisite = { focus = SOV_approach_tukhachevsky
			focus = SOV_approach_primakov
		}
		x = 1
		y = 2
		relative_position_id = SOV_approach_tukhachevsky
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
			if = {
				limit = {
					is_ai = yes
					has_war = yes
				}
				date > 1940.1.1	#Some event spawned wars need to be given a chance to breathe for a bit, if they've happened by the time we get here. Beyond a certain date, we stop caring.
			}
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		search_filters = {
		}
		completion_reward = {
			SOV_opposition_support_medium_increase_effect = yes
			custom_effect_tooltip = SOV_left_opposition_coup_tt
			add_to_variable = {
				SOV.SOV_left_opposition_army_support = 0.05
			}
			add_to_variable = {
				SOV.SOV_left_opposition_navy_support = 0.05
			}
			add_to_variable = {
				SOV.SOV_left_opposition_air_support = 0.05
			}
			hidden_effect = {
				country_event = {
					id = NSB_soviet_communist_civil_war.001
					hours = 1
				}
				SOV_get_centre_military_support = yes
			}
			custom_effect_tooltip = SOV_exiled_advisors_available_tt
			IF = {
				limit = {
					has_idea = trotskyite_plot_nsb
				}
				effect_tooltip = {
					remove_ideas = trotskyite_plot_nsb
				}
			}
			mark_focus_tree_layout_dirty = yes
		}
	}
	focus = {
		id = SOV_the_vanguard_of_the_true_revolution
		icon = GFX_focus_spr_torchbearers_of_tomorrow
		prerequisite = { focus = SOV_left_opposition_coup
		}
		prerequisite = { focus = SOV_funds_for_the_cause
		}
		x = 0
		y = 2
		relative_position_id = SOV_funds_for_the_cause
		cost = 2
		available = {
			has_global_flag = SOV_soviet_civil_war
			NOT = {
				has_global_flag = SOV_soviet_civil_war_over
			}
		}
		search_filters = {
		}
		completion_reward = {
			every_other_country = {
				limit = {
					NOT = {
						has_war_with = ROOT
					}
					communism > 0.05
				}
				country_event = {
					id = NSB_soviet_communist_civil_war.004
					days = 2
				}
			}
			hidden_effect = {
				country_event = {
					id = NSB_soviet_communist_civil_war.005
					days = 18					# should be at least 13 days more than the other event
				}
			}
		}
	}
	focus = {
		id = SOV_long_live_the_workers_government
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = SOV_left_opposition_coup }
		x = 1
		y = 1
		relative_position_id = SOV_left_opposition_coup
		cost = 3
		available = {
			has_global_flag = SOV_soviet_civil_war_over
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_workers_government_idea
				days = 730
			}
			add_stability = 0.1
			add_political_power = 100
			add_ideas = SOV_politicized_military_keep
			hidden_effect = {
				set_rule = {
					can_join_factions = yes
				}
				set_rule = {
					can_create_factions = yes
				}
			}
			create_faction = FOURTH_INTERNATIONAL_FACTION
			add_to_variable = { SOV_fyp_production_factory_efficiency_gain_factor = 0.05 }
			add_to_variable = { SOV_academy_of_sciences_research_speed_factor = 0.02 }
			custom_effect_tooltip = SOV_long_live_the_workers_government_tt
		}
	}

	focus = {
		id = SOV_left_purges
		icon = GFX_focus_SOV_the_last_purge
		prerequisite = { focus = SOV_left_opposition_coup
		}
		mutually_exclusive = {
			focus = SOV_return_democracy_to_the_party
		}
		x = 3
		y = 1
		relative_position_id = SOV_left_opposition_coup
		cost = 3
		available = {
			has_global_flag = SOV_soviet_civil_war_over
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			custom_effect_tooltip = SOV_left_purges_tt
			IF = {
				limit = {
					has_character = SOV_nikolay_bukharin
				}
				retire_character = SOV_nikolay_bukharin
			}
			IF = {
				limit = {
					has_character = SOV_aleksey_rykov
				}
				retire_character = SOV_aleksey_rykov
			}
			IF = {
				limit = {
					has_character = SOV_mikhail_tomsky
				}
				retire_character = SOV_mikhail_tomsky
			}
			IF = {
				limit = {
					has_character = SOV_grigory_zinovyev
				}
				retire_character = SOV_grigory_zinovyev
			}
			IF = {
				limit = {
					has_character = SOV_martemyan_ryutin
				}
				retire_character = SOV_martemyan_ryutin
			}
			IF = {
				limit = {
					has_character = SOV_mikhail_kalinin
				}
				retire_character = SOV_mikhail_kalinin
			}
			IF = {
				limit = {
					has_character = SOV_nikita_khrushchyov
				}
				retire_character = SOV_nikita_khrushchyov
			}
			IF = {
				limit = {
					has_character = SOV_vsevolod_merkulov
				}
				retire_character = SOV_vsevolod_merkulov
			}
			set_variable = {
				SOV_factionalism_political_power_factor = 0
			}
			custom_effect_tooltip = SOV_left_right_purges_factionalism_tt
		}
	}
	focus = {
		id = SOV_the_builder_of_the_red_army
		icon = GFX_focus_SOV_builder_of_the_red_army
		prerequisite = { focus = SOV_long_live_the_workers_government
		}
		x = -1
		y = 1
		relative_position_id = SOV_long_live_the_workers_government
		mutually_exclusive = {
			focus = SOV_reigniting_the_revolutionary_spirit
		}
		cost = 3
		available = {
			SOV_lev_trotsky = {
				is_country_leader = yes
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_RESEARCH
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			army_experience = 50
			add_tech_bonus = {
				name = SOV_the_builder_of_the_red_army
				uses = 2
				bonus = 0.5
				category = artillery
				category = infantry_weapons
			}
			add_field_marshal_role = {
				character = SOV_lev_trotsky
				traits = {
					media_personality
					organisational_leader
				}
				skill = 4
				attack_skill = 3
				defense_skill = 1
				planning_skill = 4
				logistics_skill = 4
			}
		}
	}
	focus = {
		id = SOV_reigniting_the_revolutionary_spirit
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_long_live_the_workers_government
		}
		x = 1
		y = 1
		relative_position_id = SOV_long_live_the_workers_government
		mutually_exclusive = {
			focus = SOV_the_builder_of_the_red_army
		}
		cost = 3

		search_filters = {
			FOCUS_FILTER_MANPOWER
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_revolutionary_spirit_idea
				days = 365
			}
		}
	}
	focus = {
		id = SOV_the_permanent_revolution
		icon = GFX_focus_ETH_callout_to_the_world
		prerequisite = { focus = SOV_left_opposition_coup }
		prerequisite = { focus = SOV_committee_in_exile }
		x = 0
		y = 3
		relative_position_id = SOV_committee_in_exile
		cost = 3
		available = {
			has_global_flag = SOV_soviet_civil_war_over
		}
		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_the_permanent_revolution_decisions_tt
			division_template = {
				#Template for Permanent Revolution decisions
				name = "Trotskyist Revolutionary Militias"
				priority = 1
				is_locked = yes
				division_names_group = SOV_INF_02
				regiments = {
					heavy_militia = { x = 0 y = 0 }
					heavy_militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					militia = { x = 0 y = 3 }

					heavy_militia = { x = 1 y = 0 }
					heavy_militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
					militia = { x = 1 y = 3 }
				}
				support = {
					engineer = { x = 0 y = 0 }
				}
			}
			IF = {
				limit = {
					SOV_lev_trotsky = {
						is_country_leader = yes
					}
				}
				swap_ruler_traits = {
					remove = permanent_revolutionary
					add = triumphant_revolutionary
				}
			}
			ELSE = {
				effect_tooltip = {
					custom_effect_tooltip = SOV_the_permanent_revolution_trotsky_trait_tt
					add_trait = {
						character = SOV_lev_trotsky
						slot = country_leader
						trait = triumphant_revolutionary
					}
				}
			}
			custom_effect_tooltip = SOV_the_permanent_revolution_tt
			add_to_variable = { SOV_the_politburo_max_command_power = 50 }
			add_to_variable = { SOV_the_politburo_drift_defence_factor = 0.3 }
			add_to_variable = { SOV_the_politburo_boost_ideology_mission_factor = 0.2 }
			if = {
				limit = { has_dlc = "La Resistance" }
				#Extra operative slot
				add_to_variable = {
					SOV_the_politburo_operative_slot = 1
				}
				custom_effect_tooltip = SOV_behead_the_snake_ns_tt
				if = {
					limit = {
						NOT = { has_done_agency_upgrade = upgrade_psycho_warfare }
					}
					upgrade_intelligence_agency = upgrade_psycho_warfare
				}
			}
		}
	}
	focus = {
		id = SOV_depoliticize_the_military
		icon = GFX_focus_generic_little_entente
		prerequisite = {
			focus = SOV_the_builder_of_the_red_army
			focus = SOV_reigniting_the_revolutionary_spirit
		}
		x = -1
		y = 1
		relative_position_id = SOV_the_builder_of_the_red_army
		cost = 3

		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			add_to_variable = {
				SOV_the_red_army_max_command_power_mult = 0.1
			}
			custom_effect_tooltip = SOV_depoliticize_the_military_ns_tt
			army_experience = 150
			if = {
				limit = {
					has_idea = SOV_politicized_military_keep
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military_keep
					add_idea = SOV_politicized_military_swap
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_politicized_military_keep_humanism
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military_keep_humanism
					add_idea = SOV_politicized_military_swap_humanism
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SOV_politicized_military
					add_idea = SOV_politicized_military_swap
				}
			}
		}
	}
	focus = {
		id = SOV_system_decentralization
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_the_builder_of_the_red_army
			focus = SOV_reigniting_the_revolutionary_spirit
		}
		x = 1
		y = 1
		relative_position_id = SOV_the_builder_of_the_red_army
		cost = 3

		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_WAR_SUPPORT
		}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			add_ideas = SOV_system_decentralization_idea
		}
	}
	focus = {
		id = SOV_strengthen_heavy_industry
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_the_builder_of_the_red_army
			focus = SOV_reigniting_the_revolutionary_spirit
		}
		x = 1
		y = 1
		relative_position_id = SOV_reigniting_the_revolutionary_spirit
		cost = 3
		available = {
			has_global_flag = SOV_soviet_civil_war_over
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_tech_bonus = {
				name = SOV_strengthen_heavy_industry
				ahead_reduction = 1
				uses = 2
				category = industry
				category = infantry_weapons
			}
			random_owned_controlled_state = {
				prioritize = {
					252
					254
				}
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = {
					256
					239
					260
				}
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = {
					195
					214
					213
					408
					137
				}
				limit = {
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
					is_coastal = yes
				}
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SOV_a_global_class_struggle
		icon = GFX_focus_ger_great_red_menace
		prerequisite = { focus = SOV_the_permanent_revolution
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_permanent_revolution
		cost = 3
		available = {
			surrender_progress < 0.15
		}
		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_a_global_class_struggle_decision_tt
			add_named_threat = {
				threat = 10
				name = SOV_a_global_class_struggle
			}
			every_country = {
				limit = {
					OR = {
						tag = ENG
						is_in_faction_with = ENG
						is_subject_of = ENG
					}
				}
				add_timed_idea = {
					idea = comintern_influence
					days = 1095
				}
				add_opinion_modifier = {
					target = SOV
					modifier = communist_insurgants
				}
			}
			every_country = {
				limit = {
					OR = {
						tag = FRA
						is_subject_of = FRA
					}
				}
				add_timed_idea = {
					idea = comintern_influence
					days = 1095
				}
				add_opinion_modifier = {
					target = SOV
					modifier = communist_insurgants
				}
			}
			every_country = {
				limit = {
					OR = {
						tag = USA
						is_subject_of = USA
					}
				}
				add_timed_idea = {
					idea = comintern_influence
					days = 1095
				}
				add_opinion_modifier = {
					target = SOV
					modifier = communist_insurgants
				}
			}
			every_country = {
				limit = {
					OR = {
						tag = GER
						is_subject_of = GER
					}
				}
				add_timed_idea = {
					idea = comintern_influence
					days = 1095
				}
				add_opinion_modifier = {
					target = SOV
					modifier = communist_insurgants
				}
			}
			every_country = {
				limit = {
					OR = {
						tag = HOL
						is_subject_of = HOL
					}
				}
				add_timed_idea = {
					idea = comintern_influence
					days = 1095
				}
				add_opinion_modifier = {
					target = SOV
					modifier = communist_insurgants
				}
			}
			every_country = {
				limit = {
					OR = {
						tag = BEL
						is_subject_of = BEL
					}
				}
				add_timed_idea = {
					idea = comintern_influence
					days = 1095
				}
				add_opinion_modifier = {
					target = SOV
					modifier = communist_insurgants
				}
			}
		}
	}
	focus = {
		id = SOV_all_power_to_the_soviets
		icon = GFX_goal_support_communism
		prerequisite = { focus = SOV_system_decentralization
		}
		x = 0
		y = 1
		relative_position_id = SOV_system_decentralization
		cost = 3

		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_ideas = SOV_the_local_soviets_idea
		}
	}
	focus = {
		id = SOV_regional_development
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_all_power_to_the_soviets }
		x = 0
		y = 1
		relative_position_id = SOV_all_power_to_the_soviets
		mutually_exclusive = {
			focus = SOV_strengthen_the_trade_unions
		}
		cost = 3

		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_political_power = 150
			every_owned_state = {
				limit = {
					OR = {
						state = 202						# Kiev
						state = 229						# Azerbaijan
						state = 230						# Armenia
						state = 231						# Georgia
						state = 405						# tashkent
						state = 408						# Vladivostok
						state = 584						# Askabad
						state = 586						# Alma Ata
						state = 654						# Oyrot
						state = 732						# Pamir
						state = 743						# Dushanbe
						state = 206						# minsk
					}
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
			}
		}
	}
	focus = {
		id = SOV_autonomous_soviet_republics
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = SOV_regional_development }
		x = 0
		y = 1
		relative_position_id = SOV_regional_development
		cost = 3

		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_autonomous_soviet_republics_tt
			# Georgia
			IF = {
				limit = {
					231 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				release_autonomy = {
					target = GEO
					autonomy_state = autonomy_puppet
					freedom_level = 0.5
				}
				GEO = {
					add_ideas = {
						SOV_system_decentralization_idea
						SOV_the_local_soviets_idea
					}
				}
			}
			# Armenia
			IF = {
				limit = {
					230 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				release_autonomy = {
					target = ARM
					autonomy_state = autonomy_puppet
					freedom_level = 0.5
				}
				ARM = {
					add_ideas = {
						SOV_system_decentralization_idea
						SOV_the_local_soviets_idea
					}
				}
			}
			# Axerbaijan
			IF = {
				limit = {
					229 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				release_autonomy = {
					target = AZR
					autonomy_state = autonomy_puppet
					freedom_level = 0.5
				}
				AZR = {
					add_ideas = {
						SOV_system_decentralization_idea
						SOV_the_local_soviets_idea
					}
				}
			}
			# Belarus
			IF = {
				limit = {
					206 = {
						is_owned_and_controlled_by = ROOT
					}
				}
				release_autonomy = {
					target = BLR
					autonomy_state = autonomy_puppet
					freedom_level = 0.5
				}
				BLR = {
					add_ideas = {
						SOV_system_decentralization_idea
						SOV_the_local_soviets_idea
					}
				}
			}
		}
	}
	focus = {
		id = SOV_international_union_of_soviet_republics
		icon = GFX_focus_SOV_international_union_of_soviet_republics
		prerequisite = { focus = SOV_autonomous_soviet_republics }
		x = 0
		y = 1
		relative_position_id = SOV_autonomous_soviet_republics
		cost = 3

		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_to_variable = {
				SOV_factionalism_overlord_trade_cost_factor = -0.1
			}
			add_to_variable = {
				SOV_factionalism_popularity_stability_cost_factor = 0.1
			}
			custom_effect_tooltip = SOV_international_union_of_soviet_republics_tt
			every_country = {
				limit = {
					is_subject_of = ROOT
				}
				add_ideas = {
					SOV_puppet_international_of_soviet_republics_idea
				}
				custom_effect_tooltip = SOV_international_union_of_soviet_republics_puppet_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = {
							is_capital = yes
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_begin_the_revolution
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = { focus = SOV_a_global_class_struggle }
		x = 0
		y = 1
		relative_position_id = SOV_a_global_class_struggle

		available = {
			if = {
				limit = { is_ai = yes }
				has_completed_focus = SOV_lessons_of_war
				has_completed_focus = SOV_a_secure_industrial_base
			}
		}
		bypass = {
			OR = {
				NOT = {
					country_exists = POL
				}
				POL = {
					has_capitulated = yes
				}
				POL = {
					is_in_faction_with = ROOT
				}
			}
		}
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		completion_reward = {
			if = {
				limit = {
					country_exists = POL
					POL = {
						NOT = {
							has_government = communism
						}
					}
					POL = {
						communism > 0.25
					}
				}
				POL = {
					start_civil_war = {
						ideology = communism
						size = 0.25
					}
				}
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = POL
							has_government = communism
						}
						SOV = {
							annex_country = {
								target = PREV
								transfer_troops = yes
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					country_exists = POL
					POL = {
						NOT = {
							has_government = communism
						}
					}
				}
				custom_effect_tooltip = SOV_trotsky_revolution
				add_war_support = 0.05
				create_wargoal = {
					type = annex_everything
					target = POL
					expire = 0
				}
			}
			else_if = {
				limit = {
					country_exists = POL
					POL = {
						has_government = communism
					}
				}
				POL = {
					country_event = generic.5
				}
			}
			if = {
				limit = {
					POL = {
						is_guaranteed_by = FRA
					}
					FRA = {
						doesnt_have_disjointed_government = no
					}
				}
				FRA = {
					diplomatic_relation = {
						country = POL
						relation = guarantee
						active = no
					}
					add_ai_strategy = {
						type = ignore
						id = "POL"
						value = 100
					}
				}
				POL = {
					add_opinion_modifier = {
						target = FRA
						modifier = western_betrayal
					}
				}
			}
		}
	}
	focus = {
		id = SOV_balkan_thrust
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SOV_begin_the_revolution
		}
		x = 0
		y = 1
		relative_position_id = SOV_begin_the_revolution
		cost = 3
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}
		}
		bypass = {
			AND = {
				OR = {
					NOT = {
						country_exists = ROM
					}
					ROM = {
						is_in_faction_with = ROOT
					}
				}
				OR = {
					NOT = {
						country_exists = BUL
					}
					BUL = {
						is_in_faction_with = ROOT
					}
				}
			}
		}
		completion_reward = {
			if = {
				limit = {
					country_exists = ROM
					ROM = {
						NOT = {
							has_government = communism
						}
					}
					ROM = {
						communism > 0.25
					}
				}
				ROM = {
					start_civil_war = {
						ideology = communism
						size = 0.2
					}
				}
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = ROM
							has_government = communism
						}
						SOV = {
							annex_country = {
								target = PREV
								transfer_troops = yes
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					country_exists = ROM
					ROM = {
						NOT = {
							has_government = communism
						}
					}
				}
				custom_effect_tooltip = SOV_trotsky_revolution
				add_war_support = 0.05
				create_wargoal = {
					type = annex_everything
					target = ROM
					expire = 0
				}
			}
			else_if = {
				limit = {
					country_exists = ROM
					ROM = {
						has_government = communism
					}
					NOT = {
						is_in_faction_with = ROM
					}
				}
				ROM = {
					country_event = generic.5
				}
			}
			if = {
				limit = {
					country_exists = BUL
					BUL = {
						NOT = {
							has_government = communism
						}
					}
					BUL = {
						communism > 0.25
					}
				}
				BUL = {
					start_civil_war = {
						ideology = communism
						size = 0.2
					}
				}
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = BUL
							has_government = communism
						}
						SOV = {
							annex_country = {
								target = PREV
								transfer_troops = yes
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					country_exists = BUL
					BUL = {
						NOT = {
							has_government = communism
						}
					}
				}
				custom_effect_tooltip = SOV_trotsky_revolution
				add_war_support = 0.05
				create_wargoal = {
					type = annex_everything
					target = BUL
					expire = 0
				}
			}
			else_if = {
				limit = {
					country_exists = BUL
					BUL = {
						has_government = communism
					}
					NOT = {
						is_in_faction_with = BUL
					}
				}
				BUL = {
					country_event = generic.5
				}
			}
			if = {
				limit = {
					ROM = {
						is_guaranteed_by = FRA
					}
					FRA = {
						doesnt_have_disjointed_government = no
					}
				}
				FRA = {
					diplomatic_relation = {
						country = ROM
						relation = guarantee
						active = no
					}
					add_ai_strategy = {
						type = ignore
						id = "ROM"
						value = 100
					}
				}
				ROM = {
					add_opinion_modifier = {
						target = FRA
						modifier = western_betrayal
					}
				}
			}
			if = {
				limit = {
					BUL = {
						is_guaranteed_by = FRA
					}
					FRA = {
						doesnt_have_disjointed_government = no
					}
				}
				FRA = {
					diplomatic_relation = {
						country = BUL
						relation = guarantee
						active = no
					}
					add_ai_strategy = {
						type = ignore
						id = "BUL"
						value = 100
					}
				}
				BUL = {
					add_opinion_modifier = {
						target = FRA
						modifier = western_betrayal
					}
				}
			}
		}
	}
	focus = {
		id = SOV_european_upheaval
		icon = GFX_focus_generic_strike_at_democracy3
		prerequisite = { focus = SOV_balkan_thrust }
		x = 0
		y = 1
		relative_position_id = SOV_balkan_thrust
		cost = 20
		available = {
			any_country = {
				OR = {
					original_tag = ENG
					original_tag = FRA
					original_tag = SPR
					original_tag = POR
					original_tag = HOL
					original_tag = BEL
					original_tag = LUX
					original_tag = GER
					original_tag = CZE
					original_tag = AUS
					original_tag = HUN
					original_tag = YUG
					original_tag = GRE
					original_tag = ALB
					original_tag = ITA
					original_tag = SWI
					original_tag = DEN
					original_tag = SWE
					original_tag = NOR
					OR = {
						NOT = {
							has_government = communism
						}
						AND = {
							communism > 0.25
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1940.1.1
			}
		}
		completion_reward = {
			add_war_support = 0.2
			custom_effect_tooltip = SOV_trotsky_revolution
			every_country = {
				limit = {
					exists = yes
					OR = {
						original_tag = ENG
						original_tag = FRA
						original_tag = SPR
						original_tag = POR
						original_tag = HOL
						original_tag = BEL
						original_tag = LUX
						original_tag = GER
						original_tag = CZE
						original_tag = AUS
						original_tag = HUN
						original_tag = YUG
						original_tag = GRE
						original_tag = ALB
						original_tag = ITA
						original_tag = SWI
						original_tag = DEN
						original_tag = SWE
						original_tag = NOR
					}
					NOT = {
						has_government = communism
					}
					communism > 0.25
				}
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
			every_country = {
				limit = {
					exists = yes
					OR = {
						original_tag = ENG
						original_tag = FRA
						original_tag = SPR
						original_tag = POR
						original_tag = HOL
						original_tag = BEL
						original_tag = LUX
						original_tag = GER
						original_tag = CZE
						original_tag = AUS
						original_tag = HUN
						original_tag = YUG
						original_tag = GRE
						original_tag = ALB
						original_tag = ITA
						original_tag = SWI
						original_tag = DEN
						original_tag = SWE
						original_tag = NOR
					}
					has_government = communism
					NOT = {
						is_in_faction_with = ROOT
					}
				}
				country_event = generic.5
			}
			every_country = {
				limit = {
					has_civil_war = yes
					OR = {
						original_tag = ENG
						original_tag = FRA
						original_tag = SPR
						original_tag = POR
						original_tag = HOL
						original_tag = BEL
						original_tag = LUX
						original_tag = GER
						original_tag = CZE
						original_tag = AUS
						original_tag = HUN
						original_tag = YUG
						original_tag = GRE
						original_tag = ALB
						original_tag = ITA
						original_tag = SWI
						original_tag = DEN
						original_tag = SWE
						original_tag = NOR
					}
					has_government = communism
				}
				SOV = {
					annex_country = {
						target = PREV
						transfer_troops = yes
					}
				}
			}
			if = {
				limit = {
					country_exists = ENG
					ENG = {
						NOT = {
							has_government = communism
						}
					}
					ENG = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = ENG
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = FRA
					FRA = {
						NOT = {
							has_government = communism
						}
					}
					FRA = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = FRA
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = SPR
					SPR = {
						NOT = {
							has_government = communism
						}
					}
					SPR = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = SPR
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = POR
					POR = {
						NOT = {
							has_government = communism
						}
					}
					POR = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = POR
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = HOL
					HOL = {
						NOT = {
							has_government = communism
						}
					}
					HOL = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = HOL
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = BEL
					BEL = {
						NOT = {
							has_government = communism
						}
					}
					BEL = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = BEL
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = LUX
					LUX = {
						NOT = {
							has_government = communism
						}
					}
					LUX = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = LUX
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = GER
					GER = {
						NOT = {
							has_government = communism
						}
					}
					GER = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = GER
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = CZE
					CZE = {
						NOT = {
							has_government = communism
						}
					}
					CZE = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = CZE
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = AUS
					AUS = {
						NOT = {
							has_government = communism
						}
					}
					AUS = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = AUS
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = HUN
					HUN = {
						NOT = {
							has_government = communism
						}
					}
					HUN = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = HUN
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = YUG
					YUG = {
						NOT = {
							has_government = communism
						}
					}
					YUG = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = YUG
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = SWI
					SWI = {
						NOT = {
							has_government = communism
						}
					}
					SWI = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = SWI
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = GRE
					GRE = {
						NOT = {
							has_government = communism
						}
					}
					GRE = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = GRE
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = DEN
					DEN = {
						NOT = {
							has_government = communism
						}
					}
					DEN = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = DEN
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = SWE
					SWE = {
						NOT = {
							has_government = communism
						}
					}
					SWE = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = SWE
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = NOR
					NOR = {
						NOT = {
							has_government = communism
						}
					}
					NOR = {
						NOT = {
							communism > 0.25
						}
					}
				}
				create_wargoal = {
					type = annex_everything
					target = NOR
					expire = 0
				}
			}
		}
	}
	focus = {
		id = SOV_the_onslaught_on_colonialism
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = { focus = SOV_european_upheaval
		}
		x = -1
		y = 1
		relative_position_id = SOV_european_upheaval
		cost = 3
		available = {
			surrender_progress < 0.05
		}
		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_the_onslaught_on_colonialism_decision_tt
		}
	}
	focus = {
		id = SOV_carry_revolution_east
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_european_upheaval
		}
		x = 1
		y = 1
		relative_position_id = SOV_european_upheaval
		cost = 3
		available = {
			surrender_progress < 0.05
		}
		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_carry_revolution_east_decision_tt
		}
	}
	focus = {
		id = SOV_the_end_of_the_imperialist_era
		icon = GFX_focus_por_latin_american_communism
		prerequisite = { focus = SOV_the_onslaught_on_colonialism
			focus = SOV_carry_revolution_east
		}
		x = 1
		y = 1
		relative_position_id = SOV_the_onslaught_on_colonialism
		cost = 3
		available = {
			surrender_progress < 0.05
		}
		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_the_end_of_the_imperialist_era_decision_tt
		}
	}
	########################################################################################################
	###  ###  ##  #  # ###      ##  ###  ###   ##   ## ### ### ###  ##  #  #     #  # #  # ###  ##  #  # ###
	#  #  #  #    #  #  #      #  # #  # #  # #  # #    #   #   #  #  # ## #     #  # ## #  #  #  # #  # #
	###   #  # ## ####  #      #  # ###  ###  #  #  #   #   #   #  #  # # ##     #  # # ##  #  #  # #  # ##
	#  #  #  #  # #  #  #      #  # #    #    #  #   #  #   #   #  #  # #  #     #  # #  #  #   ##  #  # #
	#  # ###  ##  #  #  #       ##  #    #     ##  ##  ###  #  ###  ##  #  #      ##  #  # ###    #  ##  ###
	########################################################################################################
	focus = {
		id = SOV_the_right_opposition
		icon = GFX_focus_SOV_bukharinists
		prerequisite = { focus = SOV_the_path_of_marxism_leninism }
		allow_branch = {
			has_dlc = "No Step Back"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = SOV_great_purge }
				NOT = { has_completed_focus = SOV_beaten_but_not_defeated }
			}
		}
		mutually_exclusive = { focus = SOV_the_left_opposition }
		x = 13
		y = 0
		relative_position_id = SOV_the_left_opposition
		cost = 3

		available = {
			SOV_soviet_civil_war_not_started = yes
			custom_trigger_tooltip = {
				tooltip = SOV_no_major_purge_tt
				check_variable = {
					SOV_great_purge_counter < 1
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 75
			# SOV_paranoia_medium_increase_effect = yes
			custom_effect_tooltip = SOV_the_right_opposition_tt
			set_variable = { SOV_right_opposition_army_support = 0.1 }
			set_variable = { SOV_right_opposition_navy_support = 0.05 }
			set_variable = { SOV_right_opposition_air_support = 0.1 }
			hidden_effect = {
				# Factionalism start modifier
				add_dynamic_modifier = {
					modifier = SOV_factionalism_modifier
				}
				country_event = {
					id = NSB_soviet_paranoia_system_events.01
					hours = 6
					random_hours = 24
				}
				random_owned_state = {
					limit = {
						NOT = {
							state = 214
						}
						NOT = {
							state = 192
						}
						NOT = {
							state = 651
						}
						NOT = {
							state = 137
						}
						NOT = {
							state = 405
						}
						NOT = {
							state = 571
						}
					}
					set_state_flag = SOV_stalinist_state
				}
				# Launch the first Stalinist counter measures
				SOV_launch_stalinist_counter_measure = yes
				SOV_get_centre_military_support = yes
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_nikolay_bukharin
			show_ideas_tooltip = SOV_aleksey_rykov
			show_ideas_tooltip = SOV_mikhail_tomsky
		}
	}
	focus = {
		id = SOV_the_need_for_policy_changes
		icon = GFX_focus_hol_abandon_the_gold_standard
		prerequisite = { focus = SOV_the_right_opposition }
		x = 0
		y = 1
		relative_position_id = SOV_the_right_opposition
		cost = 3

		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			add_political_power = 75
			custom_effect_tooltip = SOV_the_need_for_policy_changes_tt
			add_to_variable = { SOV_the_politburo_political_power_factor = 0.05 }
			add_to_variable = { SOV_the_politburo_drift_defence_factor = 0.05 }
			custom_effect_tooltip = SOV_the_stalin_constitution_ns_tt
		}
	}
	focus = {
		id = SOV_reverse_the_collectivization_process
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = SOV_the_right_opposition
		}
		x = 3
		y = 1
		relative_position_id = SOV_the_right_opposition
		cost = 3

		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			SOV_paranoia_medium_increase_effect = yes
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
			custom_effect_tooltip = SOV_reverse_the_collectivization_process_tt
			add_to_variable = {
				SOV_factionalism_building_slots_factor = -0.1
			}
			add_to_variable = {
				SOV_factionalism_popularity_stability_cost_factor = 0.1
			}
		}
	}
	focus = {
		id = SOV_organize_uprisings_in_the_country
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SOV_the_need_for_policy_changes
		}
		x = 2
		y = 1
		relative_position_id = SOV_the_need_for_policy_changes
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			add_stability = -0.05
			hidden_effect = {
				country_event = {
					id = NSB_soviet_communist_civil_war.007
					days = 5
					random_days = 3
				}
			}
			custom_effect_tooltip = SOV_organize_uprisings_in_the_country_tt
		}
	}
	focus = {
		id = SOV_dissent_in_the_party
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_the_need_for_policy_changes
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_need_for_policy_changes
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			add_political_power = 100
			SOV_opposition_support_high_increase_effect = yes
		}
	}
	focus = {
		id = SOV_eliminate_the_left
		icon = GFX_focus_SOV_purge_trotskyists
		prerequisite = { focus = SOV_the_need_for_policy_changes
		}
		mutually_exclusive = {
			focus = SOV_cooperation_against_stalin
		}
		x = -2
		y = 1
		relative_position_id = SOV_the_need_for_policy_changes
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			custom_effect_tooltip = SOV_eliminate_the_left_tt
			# custom_effect_tooltip = SOV_divert_purge_attention_tt
			custom_effect_tooltip = SOV_eliminate_opposition_factionalism_tt
			add_to_variable = {
				SOV_factionalism_political_power_factor = 0.05
			}
			SOV_karl_radek = {
				set_character_flag = SOV_potential_target_flag
			}
			SOV_ivar_smilga = {
				set_character_flag = SOV_potential_target_flag
			}
			SOV_yevgeny_preobrazhensky = {
				set_character_flag = SOV_potential_target_flag
			}
		}
	}
	focus = {
		id = SOV_concessions_to_foreign_powers
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = SOV_reverse_the_collectivization_process }
		mutually_exclusive = { focus = SOV_covert_support_for_spanish_poum }
		x = 3
		y = 1
		relative_position_id = SOV_reverse_the_collectivization_process
		cost = 2
		available = {
			NOT = {
				has_country_flag = SOV_soviet_civil_war_over
			}
			# you should be able to do this during the CW as well
			SOV_has_selected_hq = yes
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			custom_effect_tooltip = SOV_concessions_to_foreign_powers_tt
		}
	}
	focus = {
		id = SOV_covert_support_for_spanish_poum
		icon = GFX_focus_SOV_support_spanish_poum
		mutually_exclusive = { focus = SOV_concessions_to_foreign_powers }
		prerequisite = { focus = SOV_reverse_the_collectivization_process }
		x = 1
		y = 1
		relative_position_id = SOV_reverse_the_collectivization_process
		allow_branch = {
			has_dlc = "La Resistance"
			has_dlc = "No Step Back"
			NOT = {
				has_completed_focus = SOV_socialism_in_one_country
			}
			NOT = {
				has_completed_focus = SOV_beaten_but_not_defeated
			}
		}

		cost = 2
		available = {
			SOV_soviet_civil_war_not_started = yes
			NOT = {
				has_global_flag = scw_over
			}
			#Allowed Soviets to do this before SCW starts, so that they can make Spanish AI go POUM
			OR = {
				NOT = {
					has_global_flag = SPR_anarchist_uprising_flag
				}
				AND = {
					country_exists = SPC
					NOT = {
						has_war_with = SPC
					}
					SPC = {
						has_completed_focus = SPR_the_anti_fascist_workers_revolution
					}
				}
			}
		}
		bypass = {
			SPR = {
				#Tooltip purposes
				OR = {
					has_global_flag = scw_over
					AND = {
						has_global_flag = SPR_anarchist_uprising_flag
						OR = {
							NOT = {
								SPC = {
									has_completed_focus = SPR_the_anti_fascist_workers_revolution
								}
							}
							NOT = {
								country_exists = SPC
							}
						}
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			set_global_flag = SOV_covert_support_for_poum_flag
			custom_effect_tooltip = SOV_covert_support_for_spanish_poum_tt
			unlock_decision_category_tooltip = SOV_soviet_aid_to_poum_decision_category
			custom_effect_tooltip = SOV_if_poum_wins_tt
		}
	}
	focus = {
		id = SOV_undermine_stalins_authority
		icon = GFX_focus_ger_bulwark_against_bolshevism
		prerequisite = { focus = SOV_organize_uprisings_in_the_country
		}
		x = -1
		y = 1
		relative_position_id = SOV_organize_uprisings_in_the_country
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_medium_increase_effect = yes
			SOV_iosif_stalin = {
				swap_country_leader_traits = {
					remove = stalin_political_paranoia
					add = stalin_authority_undermined
				}
			}
			add_to_variable = {
				SOV_paranoia_weekly_modifiers_amount = 1
			}
			SOV_paranoia_modifier_update_gui_tooltip = yes
			custom_effect_tooltip = SOV_undermine_stalins_authority_paranoia_tt
		}
	}
	focus = {
		id = SOV_clandestine_cells
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_organize_uprisings_in_the_country
		}
		x = 1
		y = 1
		relative_position_id = SOV_organize_uprisings_in_the_country
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 50
			custom_effect_tooltip = SOV_clandestine_cells_tt
			set_country_flag = SOV_organize_wreckers_flag
		}
	}
	focus = {
		id = SOV_the_plan_for_the_coup
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SOV_undermine_stalins_authority
		}
		prerequisite = { focus = SOV_clandestine_cells
		}
		x = 1
		y = 1
		relative_position_id = SOV_undermine_stalins_authority
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
			NOT = {
				has_idea = SOV_lavrenty_beriya
			}
		}
		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_the_plan_for_the_coup_tt
		}
	}
	focus = {
		id = SOV_the_socialist_bulwark
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_covert_support_for_spanish_poum
		}
		x = 0
		y = 2
		relative_position_id = SOV_covert_support_for_spanish_poum
		cost = 2
		available = {
			has_global_flag = SOV_soviet_civil_war_over
			custom_trigger_tooltip = {
				tooltip = SOV_poum_exists_tt
				SPC = {
					exists = yes
					has_completed_focus = SPR_the_anti_fascist_workers_revolution
				}
			}
		}
		search_filters = {
		}
		completion_reward = {
			add_political_power = 75
			add_stability = 0.1
			add_war_support = 0.1
			IF = {
				limit = {
					NOT = {
						has_rule = can_join_factions
					}
				}
				set_rule = {
					can_join_factions = yes
				}
			}
			#Join SCW if still ongoing
			if = {
				limit = {
					SPR_scw_in_progress = yes
				}
				if = {
					limit = {
						country_exists = SPA
					}
					add_to_war = {
						targeted_alliance = SPC
						enemy = SPA
						hostility_reason = asked_to_join
					}
				}
				if = {
					limit = {
						country_exists = SPC
					}
					add_to_war = {
						targeted_alliance = SPC
						enemy = SPD
						hostility_reason = asked_to_join
					}
				}
				if = {
					limit = {
						country_exists = SPB
					}
					add_to_war = {
						targeted_alliance = SPC
						enemy = SPB
						hostility_reason = asked_to_join
					}
				}
				effect_tooltip = {
					give_military_access = SPC
					SPC = {
						give_military_access = ROOT
					}
				}
				hidden_effect = {
					diplomatic_relation = {
						country = SPC
						relation = military_access
						active = yes
					}
					SPC = {
						diplomatic_relation = {
							country = SOV
							relation = military_access
							active = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = {
						has_global_flag = scw_over
					}
				}
				custom_effect_tooltip = SOV_the_socialist_bulwark_join_war_tt
			}
			#Invite to faction if SCW is over
			if = {
				limit = {
					is_in_faction = yes
					NOT = {
						is_in_faction_with = SPC
					}
					has_global_flag = scw_over
				}
				SPC = {
					country_event = {
						id = generic.5
						hours = 8
						random_hours = 4
					}
				}
			}
		}
	}
	focus = {
		id = SOV_coup_detat
		icon = GFX_focus_spr_masters_of_our_own_fate
		prerequisite = { focus = SOV_dissent_in_the_party
		}
		x = 0
		y = 3
		relative_position_id = SOV_dissent_in_the_party
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		search_filters = {
		}
		completion_reward = {
			# Stalin dead
			IF = {
				limit = {
					NOT = {
						has_character = SOV_iosif_stalin
					}
				}
				custom_effect_tooltip = SOV_coup_detat_success_tt
				hidden_effect = {
					set_global_flag = SOV_soviet_civil_war_over
					SOV_remove_paranoia_effect = yes
					country_event = {
						id = NSB_soviet_communist_civil_war.002
						hours = 1
					}
					# Renaming of cities
					country_event = {
						id = NSB_soviet_civil_war_common.010
						days = 14
						random_days = 7
					}
				}
			}
			# NOT Ready
			ELSE = {
				SOV_opposition_support_medium_increase_effect = yes
				custom_effect_tooltip = SOV_coup_detat_civil_war_tt
				add_to_variable = {
					SOV.SOV_right_opposition_army_support = 0.1
				}
				add_to_variable = {
					SOV.SOV_right_opposition_navy_support = 0.1
				}
				add_to_variable = {
					SOV.SOV_right_opposition_air_support = 0.1
				}
				hidden_effect = {
					country_event = {
						id = NSB_soviet_communist_civil_war.003
						hours = 1
					}
				}
				SOV_get_centre_military_support = yes
			}
			custom_effect_tooltip = SOV_exiled_advisors_available_tt
			mark_focus_tree_layout_dirty = yes
		}
	}
	focus = {
		id = SOV_right_purges
		icon = GFX_focus_SOV_the_last_purge
		prerequisite = { focus = SOV_coup_detat
		}
		mutually_exclusive = {
			focus = SOV_return_democracy_to_the_party
		}
		x = -2
		y = 1
		relative_position_id = SOV_coup_detat
		cost = 3

		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			custom_effect_tooltip = SOV_right_purges_tt
			IF = {
				limit = {
					has_character = SOV_lev_trotsky
				}
				SOV_lev_trotsky = {
					retire = yes
				}
			}
			IF = {
				limit = {
					has_character = SOV_ivan_smirnov
				}
				SOV_ivan_smirnov = {
					retire = yes
				}
			}
			IF = {
				limit = {
					has_character = SOV_ivar_smilga
				}
				SOV_ivar_smilga = {
					retire = yes
				}
			}
			IF = {
				limit = {
					has_character = SOV_aleksandr_shlyapnikov
				}
				SOV_aleksandr_shlyapnikov = {
					retire = yes
				}
			}
			custom_effect_tooltip = SOV_left_right_purges_factionalism_tt
			set_variable = {
				SOV_factionalism_political_power_factor = 0
			}
			IF = {
				limit = {
					has_idea = trotskyite_plot_nsb
				}
				remove_ideas = trotskyite_plot_nsb
			}
		}
	}
	focus = {
		id = SOV_the_power_of_the_peasantry
		icon = GFX_focus_SOV_breadbasket_of_the_union
		prerequisite = { focus = SOV_coup_detat }
		x = 0
		y = 1
		relative_position_id = SOV_coup_detat
		cost = 3
		available = {
			NOT = {
				has_global_flag = SOV_soviet_civil_war_over
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_MANPOWER
		}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			add_timed_idea = {
				idea = SOV_support_of_the_peasants_idea
				days = 365
			}
		}
	}
	focus = {
		id = SOV_curtailment_of_the_collective_farms
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = { focus = SOV_coup_detat
		}
		x = 2
		y = 1
		relative_position_id = SOV_coup_detat
		cost = 3

		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_MANPOWER
		}
		completion_reward = {
			#custom_effect_tooltip = SOV_curtailment_of_the_collective_farms_tt
			add_ideas = SOV_curtailment_collective_farms_idea
		}
	}
	focus = {
		id = SOV_administrative_reforms
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_curtailment_of_the_collective_farms
		}
		mutually_exclusive = {
			focus = SOV_a_new_theory_of_revolution
		}
		x = -3
		y = 1
		relative_position_id = SOV_curtailment_of_the_collective_farms
		cost = 3
		available = {
			has_character = SOV_aleksey_rykov
		}
		search_filters = {
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_stability = 0.05
			add_ideas = SOV_administrative_reforms_idea
		}
	}
	focus = {
		id = SOV_a_new_theory_of_revolution
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_curtailment_of_the_collective_farms
		}
		mutually_exclusive = {
			focus = SOV_administrative_reforms
		}
		x = -1
		y = 1
		relative_position_id = SOV_curtailment_of_the_collective_farms
		cost = 3
		available = {
			SOV_nikolay_bukharin = {
				is_country_leader = yes
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			add_political_power = 75
			IF = {
				limit = {
					has_character = SOV_nikolay_bukharin
				}
				if = {
					limit = {
						SOV_nikolay_bukharin = {
							is_country_leader = yes
						}
					}
					swap_ruler_traits = {
						remove = defender_of_the_peasantry
						add = hero_of_the_peasantry
					}
				}
				else = {
					effect_tooltip = {
						add_trait = {
							character = SOV_nikolay_bukharin
							slot = country_leader
							trait = hero_of_the_peasantry
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_back_to_the_nep
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = SOV_curtailment_of_the_collective_farms
		}
		x = 2
		y = 1
		relative_position_id = SOV_curtailment_of_the_collective_farms
		cost = 3
		available = {
			has_war = no
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_back_to_the_nep_new_economy_law
			add_ideas = new_economic_policy
			add_timed_idea = {
				idea = SOV_workers_government_idea
				days = 365
			}
			add_stability = 0.05
			add_popularity = {
				ideology = democratic
				popularity = -0.1
			}
		}
	}
	focus = {
		id = SOV_planned_economy
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = SOV_back_to_the_nep
		}
		x = -2
		y = 1
		relative_position_id = SOV_back_to_the_nep
		cost = 3

		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			if = {
				limit = {
					num_subjects > 0
				}
				every_subject_country = {
					country_event = {
						id = NSB_soviet_planned_economy.1
					}
					effect_tooltip = {
						add_tech_bonus = {
							name = SOV_planned_economy
							bonus = 0.5
							uses = 2
							category = industry
						}
						add_ideas = new_economic_policy
					}
				}
			}
			else = {
				custom_effect_tooltip = SOV_planned_economy_subjects_tt
				effect_tooltip = {
					country_event = {
						id = NSB_soviet_planned_economy.1
					}
					add_tech_bonus = {
						name = SOV_planned_economy
						bonus = 0.5
						uses = 2
						category = industry
					}
					add_ideas = new_economic_policy
				}
			}
			custom_effect_tooltip = SOV_planned_economy_dynamic_modifier_tt
			hidden_effect = {
				add_dynamic_modifier = {
					modifier = SOV_planned_economy_dynamic_modifier
				}
			}
		}
	}
	focus = {
		id = SOV_paced_industrialization
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = SOV_back_to_the_nep
		}
		x = 0
		y = 1
		relative_position_id = SOV_back_to_the_nep
		cost = 3

		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			random_owned_controlled_state = {
				prioritize = {
					252
					254
				}
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = {
					256
					239
					260
				}
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = SOV_the_trade_union_as_labor_organizer
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SOV_back_to_the_nep
		}
		x = 2
		y = 1
		relative_position_id = SOV_back_to_the_nep
		cost = 3
		available = {
			has_idea = SOV_mikhail_tomsky
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			remove_trait = {
				character = SOV_mikhail_tomsky
				slot = political_advisor
				trait = right_trade_unionist
			}
			add_trait = {
				character = SOV_mikhail_tomsky
				slot = political_advisor
				trait = chair_of_the_unions
			}
		}
	}
	focus = {
		id = SOV_incorporate_local_organizations
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = SOV_administrative_reforms
			focus = SOV_a_new_theory_of_revolution
		}
		x = 0
		y = 2
		relative_position_id = SOV_administrative_reforms
		cost = 3

		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_ideas = SOV_local_organizations_idea
		}
	}
	focus = {
		id = SOV_for_the_common_good
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = SOV_incorporate_local_organizations
		}
		prerequisite = { focus = SOV_international_revolutionary_marxist_centre
		}
		x = 0
		y = 1
		relative_position_id = SOV_incorporate_local_organizations
		cost = 3
		mutually_exclusive = {
			focus = SOV_strengthen_the_trade_unions
		}
		available = {
			is_faction_leader = yes
		}
		search_filters = {
		}
		completion_reward = {
			every_subject_country = {
				country_event = {
					id = NSB_soviet_for_the_common_good.1
					hours = 4
				}
				custom_effect_tooltip = if_they_accept
				effect_tooltip = {
					add_ideas = SOV_for_the_common_good_subjects
					add_autonomy_score = {
						value = -100
						localization = SOV_for_the_common_good
					}
				}
			}
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					is_subject = no
				}
				country_event = {
					id = NSB_soviet_for_the_common_good.1
					hours = 4
				}
				custom_effect_tooltip = if_they_accept
				effect_tooltip = {
					add_ideas = SOV_for_the_common_good_allies
					if = {
						limit = {
							has_dlc = "Death or Dishonor"
						}
						add_relation_modifier = {
							target = ROOT
							modifier = SOV_for_the_common_good_relation
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_victory_over_devastation		#SOV_get_rich_develop_the_country
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = SOV_for_the_common_good
		}
		x = 0
		y = 1
		relative_position_id = SOV_for_the_common_good
		cost = 3

		search_filters = {
		}
		completion_reward = {
			set_variable = {
				SOV_planned_economy_party_popularity_stability_factor = 0.15
			}
			#Victory Over Devastation
			set_variable = {
				SOV_planned_economy_max_surrender_limit_offset = 0.1
			}
			#Victory Over Devastation
			set_variable = {
				SOV_planned_economy_industry_repair_factor = 0.1
			}
			#Victory Over Devastation
			set_variable = {
				SOV_planned_economy_consumer_goods_expected_value = -0.02
			}
			#Victory Over Devastation
			custom_effect_tooltip = SOV_victory_over_devastation_tt
			#Industrial Relocation duration halved
			divide_variable = {
				SOV_industrial_relocation_days = 2
			}
			custom_effect_tooltip = SOV_victory_over_devastation_industrial_relocation_tt
		}
	}
	focus = {
		id = SOV_socialist_humanism
		icon = GFX_goal_generic_research		#GFX_focus_generic_socialist_science
		prerequisite = { focus = SOV_victory_over_devastation
		}
		x = 0
		y = 1
		relative_position_id = SOV_victory_over_devastation
		cost = 3

		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_stability = 0.1
			add_war_support = -0.1
			add_research_slot = 1
			if = {
				limit = {
					has_idea = SOV_politicized_military
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military
					add_idea = SOV_politicized_military_humanism
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_politicized_military_keep
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military_keep
					add_idea = SOV_politicized_military_keep_humanism
				}
			}
			else_if = {
				limit = {
					has_idea = SOV_politicized_military_swap
				}
				swap_ideas = {
					remove_idea = SOV_politicized_military_swap
					add_idea = SOV_politicized_military_swap_humanism
				}
			}
		}
	}
	focus = {
		id = SOV_international_revolutionary_marxist_centre
		icon = GFX_focus_spr_unify_the_london_bureau
		prerequisite = { focus = SOV_a_new_theory_of_revolution focus = SOV_administrative_reforms }
		prerequisite = { focus = SOV_planned_economy }
		x = 0
		y = 2
		relative_position_id = SOV_a_new_theory_of_revolution
		cost = 3
		available = {
			surrender_progress < 0.1
			OR = {
				is_faction_leader = yes
				is_in_faction = no
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 75
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			IF = {
				limit = {
					NOT = {
						has_completed_focus = SOV_the_socialist_bulwark
					}
				}
				set_rule = {
					can_join_factions = yes
				}
			}
			if = {
				limit = {
					is_faction_leader = yes
				}
				set_faction_name = SOV_international_revolutionary_marxist_centre_faction_name
			}
			else_if = {
				limit = {
					is_in_faction = no
				}
				create_faction = SOV_international_revolutionary_marxist_centre_faction_name
				every_subject_country = {
					ROOT = {
						add_to_faction = PREV
					}
				}
			}
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					NOT = {
						has_country_leader_ideology = stalinism
					}
				}
				set_country_leader_ideology = marxism
				custom_effect_tooltip = SOV_international_revolutionary_marxist_centre_marxism_tt
			}
			if = {
				limit = {
					any_other_country = {
						has_government = communism
						NOT = {
							has_country_leader_ideology = stalinism
						}
						is_in_faction = no
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				custom_effect_tooltip = SOV_international_revolutionary_marxist_centre_allies_tt
				every_other_country = {
					limit = {
						has_government = communism
						NOT = {
							has_country_leader_ideology = stalinism
						}
						is_in_faction = no
						NOT = {
							has_war_with = ROOT
						}
					}
					add_opinion_modifier = {
						modifier = SOV_international_socialist_association
						target = ROOT
					}
					country_event = {
						id = generic.5
						hours = 8
						random_hours = 8
					}
				}
			}
			else = {
				custom_effect_tooltip = SOV_international_revolutionary_marxist_centre_no_allies_tt
				effect_tooltip = {
					every_other_country = {
						limit = {
							has_government = communism
							NOT = {
								has_country_leader_ideology = stalinism
							}
							is_in_faction = no
							NOT = {
								has_war_with = ROOT
							}
						}
						add_opinion_modifier = {
							modifier = SOV_international_socialist_association
							target = ROOT
						}
						country_event = {
							id = generic.5
							hours = 8
							random_hours = 8
						}
					}
				}
			}
			if = {
				#Stalinists hate us
				limit = {
					any_other_country = {
						has_country_leader_ideology = stalinism
					}
				}
				custom_effect_tooltip = SOV_international_revolutionary_marxist_centre_stalinists_tt
				every_other_country = {
					limit = {
						has_country_leader_ideology = stalinism
					}
					add_opinion_modifier = {
						modifier = SOV_international_socialist_association_bad
						target = ROOT
					}
				}
			}
			else = {
				custom_effect_tooltip = SOV_international_revolutionary_marxist_centre_stalinists_tt
				every_other_country = {
					limit = {
						has_country_leader_ideology = stalinism
					}
					add_opinion_modifier = {
						modifier = SOV_international_socialist_association_bad
						target = ROOT
					}
				}
			}
		}
	}
	focus = {
		id = SOV_a_sustainable_economy
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = SOV_paced_industrialization
		}
		x = 0
		y = 1
		relative_position_id = SOV_paced_industrialization
		cost = 3
		available = {
			has_idea = new_economic_policy
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = new_economic_policy
				add_idea = new_economic_policy_2
			}
		}
	}
	focus = {
		id = SOV_the_enemies_of_the_people
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		prerequisite = { focus = SOV_international_revolutionary_marxist_centre
		}
		x = 0
		y = 1
		relative_position_id = SOV_international_revolutionary_marxist_centre
		cost = 3
		available = {
			surrender_progress < 0.05
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			every_other_country = {
				limit = {
					is_neighbor_of = ROOT
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
				ROOT = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PREV
					}
				}
			}
			every_country = {
				limit = {
					OR = {
						tag = ROOT
						is_in_faction_with = ROOT
					}
				}
				add_timed_idea = {
					idea = SOV_enemies_of_the_people_idea
					days = 365
				}
			}
		}
	}
	focus = {
		id = SOV_proclaim_soviet_hegemony
		icon = GFX_focus_SOV_proclaim_soviet_hegemony
		prerequisite = { focus = SOV_the_enemies_of_the_people
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_enemies_of_the_people
		cost = 3
		available = {
			surrender_progress < 0.01
		}
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_war_support = 0.1
			add_timed_idea = {
				idea = SOV_soviet_hegemony_idea
				days = 730
			}
		}
	}
	################################################################################################################################
	###  ###  ##  #  # ###     #   ### ### ###      ##  ###  ###   ##   ## ### ### ###  ##  #  #      ##   ##  #   # #   #  ##  #  #
	#  #  #  #    #  #  #      #   #   #    #      #  # #  # #  # #  # #    #   #   #  #  # ## #     #  # #  # ## ## ## ## #  # ## #
	###   #  # ## ####  #      #   ##  ##   #      #  # ###  ###  #  #  #   #   #   #  #  # # ##     #    #  # # # # # # # #  # # ##
	#  #  #  #  # #  #  #      #   #   #    #      #  # #    #    #  #   #  #   #   #  #  # #  #     #  # #  # #   # #   # #  # #  #
	#  # ###  ##  #  #  #      ### ### #    #       ##  #    #     ##  ##  ###  #  ###  ##  #  #      ##   ##  #   # #   #  ##  #  #
	################################################################################################################################
	focus = {
		id = SOV_military_support
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = SOV_the_left_opposition
			focus = SOV_the_right_opposition
		}
		x = 9
		y = 1
		relative_position_id = SOV_the_left_opposition
		mutually_exclusive = {
			focus = SOV_divert_attention_towards_military
		}
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_medium_increase_effect = yes
			custom_effect_tooltip = SOV_military_support_tt
			hidden_effect = {
				IF = {
					limit = {
						SOV_is_left_opposition = yes
					}
					add_to_variable = {
						SOV_left_opposition_army_support = 0.07
					}
					clamp_variable = {
						var = SOV.SOV_left_opposition_army_support
						max = 0.9
						min = 0.1
					}
				}
				ELSE_IF = {
					limit = {
						SOV_is_right_opposition = yes
					}
					add_to_variable = {
						SOV_right_opposition_army_support = 0.05
					}
					clamp_variable = {
						var = SOV.SOV_right_opposition_army_support
						max = 0.9
						min = 0.1
					}
				}
				SOV_get_centre_military_support = yes
				IF = {
					#Align a valid Field Marshal, if possible
					limit = {
						any_army_leader = {
							is_field_marshal = yes
							NOT = {
								is_character = SOV_mikhail_tukhachevsky
							}
							#Has his own focus in the left oppo, probably wouldn't go with the right oppo straight away
							NOT = {
								has_trait = trait_SOV_stalinist
							}
							NOT = {
								has_trait = trait_SOV_bukharinist
							}
							NOT = {
								has_trait = trait_SOV_trotskyist
							}
							NOT = {
								has_trait = trait_SOV_monarchist_sympathizer
							}
						}
					}
					random_army_leader = {
						limit = {
							is_field_marshal = yes
							NOT = {
								is_character = SOV_mikhail_tukhachevsky
							}
							#Has his own focus in the left oppo, probably wouldn't go with the right oppo straight away
							NOT = {
								has_trait = trait_SOV_stalinist
							}
							NOT = {
								has_trait = trait_SOV_bukharinist
							}
							NOT = {
								has_trait = trait_SOV_trotskyist
							}
							NOT = {
								has_trait = trait_SOV_monarchist_sympathizer
							}
						}
						IF = {
							limit = {
								SOV_is_left_opposition = yes
							}
							add_unit_leader_trait = trait_SOV_trotskyist
							set_character_flag = SOV_aligned_left_opposition_flag
						}
						ELSE_IF = {
							limit = {
								SOV_is_right_opposition = yes
							}
							add_unit_leader_trait = trait_SOV_bukharinist
							set_character_flag = SOV_aligned_right_opposition_flag
						}
					}
				}
				ELSE = {
					random_army_leader = {
						limit = {
							NOT = {
								is_character = SOV_mikhail_tukhachevsky
							}
							#Has his own focus in the left oppo, probably wouldn't go with the right oppo straight away
							NOT = {
								is_character = SOV_vitaly_primakov
							}
							#Has his own focus in the left oppo, probably wouldn't go with the right oppo straight away
							NOT = {
								has_trait = trait_SOV_stalinist
							}
							NOT = {
								has_trait = trait_SOV_bukharinist
							}
							NOT = {
								has_trait = trait_SOV_trotskyist
							}
							NOT = {
								has_trait = trait_SOV_monarchist_sympathizer
							}
						}
						IF = {
							limit = {
								SOV_is_left_opposition = yes
							}
							add_unit_leader_trait = trait_SOV_trotskyist
							set_character_flag = SOV_aligned_left_opposition_flag
						}
						ELSE_IF = {
							limit = {
								SOV_is_right_opposition = yes
							}
							add_unit_leader_trait = trait_SOV_bukharinist
							set_character_flag = SOV_aligned_right_opposition_flag
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_divert_attention_towards_military
		icon = GFX_focus_SOV_military_purge
		prerequisite = { focus = SOV_the_left_opposition
			focus = SOV_the_right_opposition
		}
		mutually_exclusive = {
			focus = SOV_military_support
		}
		x = 11
		y = 1
		relative_position_id = SOV_the_left_opposition
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			custom_effect_tooltip = SOV_divert_purge_attention_tt
			#hidden_effect = {
			#	SOV_pick_regular_purge_army_type_effect = yes
			#}
		}
	}
	focus = {
		id = SOV_gain_support_from_party_members
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_the_left_opposition
			focus = SOV_the_right_opposition
		}
		x = 7
		y = 1
		relative_position_id = SOV_the_left_opposition
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			add_political_power = 100
			custom_effect_tooltip = SOV_gain_support_from_party_members_tt
			hidden_effect = {
				if = {
					limit = {
						SOV_is_left_opposition = yes
					}
					SOV_mikhail_kalinin = {
						set_character_flag = SOV_aligned_left_opposition_flag
						clr_character_flag = SOV_safe_from_purge_flag
					}
					SOV_vsevolod_merkulov = {
						set_character_flag = SOV_aligned_left_opposition_flag
						clr_character_flag = SOV_safe_from_purge_flag
					}
					SOV_nikita_khrushchyov = {
						set_character_flag = SOV_aligned_left_opposition_flag
						clr_character_flag = SOV_safe_from_purge_flag
					}
				}
			}
		}
	}
	focus = {
		id = SOV_sway_the_railway_workers
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SOV_the_left_opposition focus = SOV_the_right_opposition }
		x = 3
		y = 1
		relative_position_id = SOV_the_left_opposition
		cost = 2
		available = {
			SOV_has_selected_hq = yes
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			custom_effect_tooltip = SOV_sway_the_railway_workers_tt
			set_country_flag = SOV_supply_hub_flag
		}
	}
	focus = {
		id = SOV_infiltrate_the_nkvd
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = SOV_the_left_opposition
			focus = SOV_the_right_opposition
		}
		x = 5
		y = 1
		relative_position_id = SOV_the_left_opposition
		cost = 2
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_high_decrease_effect = yes
			custom_effect_tooltip = SOV_infiltrate_the_nkvd_tt
			set_country_flag = SOV_nkvd_aligned_flag
			IF = {
				limit = {
					SOV_is_right_opposition = yes
				}
				custom_effect_tooltip = SOV_infiltrate_the_nkvd_coup_tt
			}
		}
	}
	focus = {
		id = SOV_cooperation_against_stalin
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SOV_gain_support_from_party_members
		}
		mutually_exclusive = {
			focus = SOV_left_eliminate_right
			focus = SOV_eliminate_the_left
		}
		x = 0
		y = 1
		relative_position_id = SOV_gain_support_from_party_members
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_decrease_effect = yes
			IF = {
				limit = {
					SOV_is_left_opposition = yes
				}
				custom_effect_tooltip = SOV_cooperation_against_stalin_left_tt
				hidden_effect = {
					SOV_nikolay_bukharin = {
						set_character_flag = SOV_aligned_left_opposition_flag
					}
					SOV_aleksey_rykov = {
						set_character_flag = SOV_aligned_left_opposition_flag
					}
				}
			}
			ELSE_IF = {
				limit = {
					SOV_is_right_opposition = yes
				}
				custom_effect_tooltip = SOV_cooperation_against_stalin_right_tt
				hidden_effect = {
					SOV_karl_radek = {
						set_character_flag = SOV_aligned_right_opposition_flag
					}
					SOV_yevgeny_preobrazhensky = {
						set_character_flag = SOV_aligned_right_opposition_flag
					}
				}
			}
			ELSE = {
				custom_effect_tooltip = SOV_cooperation_against_stalin_other_tt
			}
			# Modify Factionalism - change tooltip if changing values!!!
			custom_effect_tooltip = SOV_cooperation_against_stalin_factionalism_tt
			add_to_variable = {
				SOV_factionalism_foreign_minister_cost_factor = -0.15
			}
			add_to_variable = {
				SOV_factionalism_interior_minister_cost_factor = -0.15
			}
			add_to_variable = {
				SOV_factionalism_economic_minister_cost_factor = -0.15
			}
			add_to_variable = {
				SOV_factionalism_transport_minister_cost_factor = -0.15
			}
			add_to_variable = {
				SOV_factionalism_intelligence_minister_cost_factor = -0.15
			}
			add_to_variable = {
				SOV_factionalism_political_advisor_cost_factor = -0.15
			}
			add_to_variable = {
				SOV_factionalism_political_power_factor = -0.05
			}
			add_to_variable = {
				SOV_factionalism_popularity_stability_cost_factor = -0.1
			}
		}
	}
	focus = {
		id = SOV_align_the_zinovyevites
		icon = GFX_focus_SOV_zinovyevists
		prerequisite = { focus = SOV_cooperation_against_stalin
		}
		x = -1
		y = 1
		relative_position_id = SOV_cooperation_against_stalin
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			custom_effect_tooltip = SOV_align_the_zinovyevites_tt
			# Modify Factionalism - change tooltip if changing values!!!
			custom_effect_tooltip = SOV_align_the_zinovyevites_factionalism_tt
			add_to_variable = {
				SOV_factionalism_political_power_factor = -0.05
			}
			hidden_effect = {
				if = {
					limit = {
						SOV_is_left_opposition = yes
					}
					SOV_grigory_zinovyev = {
						set_character_flag = SOV_aligned_left_opposition_flag
						clr_character_flag = SOV_imprisoned_flag
						set_character_flag = SOV_exiled_flag
						set_portraits = {
							army = {
								small = "GFX_idea_SOV_grigory_zinovyev"
							}
						}
					}
					SOV_lev_kamenev = {
						set_character_flag = SOV_aligned_left_opposition_flag
						clr_character_flag = SOV_imprisoned_flag
						set_character_flag = SOV_exiled_flag
						set_portraits = {
							army = {
								small = "GFX_idea_SOV_lev_kamenev"
							}
						}
					}
				}
				else_if = {
					limit = {
						SOV_is_right_opposition = yes
					}
					SOV_grigory_zinovyev = {
						set_character_flag = SOV_aligned_right_opposition_flag
						clr_character_flag = SOV_imprisoned_flag
						set_character_flag = SOV_exiled_flag
						set_portraits = {
							army = {
								small = "GFX_idea_SOV_grigory_zinovyev"
							}
						}
					}
					SOV_lev_kamenev = {
						set_character_flag = SOV_aligned_right_opposition_flag
						clr_character_flag = SOV_imprisoned_flag
						set_character_flag = SOV_exiled_flag
						set_portraits = {
							army = {
								small = "GFX_idea_SOV_lev_kamenev"
							}
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_liberate_ryutin
		icon = GFX_focus_CZE_german_puppet
		prerequisite = { focus = SOV_cooperation_against_stalin
		}
		x = 1
		y = 1
		relative_position_id = SOV_cooperation_against_stalin
		cost = 3
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			custom_effect_tooltip = SOV_liberate_ryutin_tt
			IF = {
				limit = {
					SOV_is_left_opposition = yes
				}
				566 = {
					set_state_flag = SOV_left_opposition_state
				}
				hidden_effect = {
					SOV_martemyan_ryutin = {
						set_character_flag = SOV_aligned_left_opposition_flag
						clr_character_flag = SOV_imprisoned_flag
						set_character_flag = SOV_exiled_flag
						set_portraits = {
							army = {
								small = "GFX_idea_SOV_martemyan_ryutin"
							}
						}
					}
				}
			}
			ELSE_IF = {
				limit = {
					SOV_is_right_opposition = yes
				}
				566 = {
					set_state_flag = SOV_right_opposition_state
				}
				hidden_effect = {
					SOV_martemyan_ryutin = {
						set_character_flag = SOV_aligned_right_opposition_flag
						clr_character_flag = SOV_imprisoned_flag
						set_character_flag = SOV_exiled_flag
						set_portraits = {
							army = {
								small = "GFX_idea_SOV_martemyan_ryutin"
							}
						}
					}
				}
			}
		}
	}
	focus = {
		id = SOV_return_democracy_to_the_party
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = SOV_cooperation_against_stalin }
		mutually_exclusive = {
			focus = SOV_left_purges
			focus = SOV_right_purges
		}
		x = 0
		y = 4
		relative_position_id = SOV_cooperation_against_stalin
		cost = 3
		available = {
			has_global_flag = SOV_soviet_civil_war_over
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			# Modify Factionalism - change tooltip if changing values!!!
			custom_effect_tooltip = SOV_return_democracy_to_the_party_factionalism_tt
			add_to_variable = {
				SOV_factionalism_political_power_factor = -0.05
			}
			IF = {
				limit = {
					SOV_is_left_opposition = yes
				}
				custom_effect_tooltip = SOV_return_democracy_to_the_party_unlock_right_tt
			}
			ELSE = {
				custom_effect_tooltip = SOV_return_democracy_to_the_party_unlock_left_tt
			}
			IF = {
				limit = {
					has_idea = trotskyite_plot_nsb
				}
				remove_ideas = trotskyite_plot_nsb
			}
			hidden_effect = {
				set_portraits = {
					character = SOV_ivan_smirnov
					army = {
						small = "GFX_idea_SOV_ivan_smirnov"
					}
				}
				set_portraits = {
					character = SOV_ivar_smilga
					army = {
						small = "GFX_idea_SOV_ivar_smilga"
					}
				}
				set_portraits = {
					character = SOV_aleksandr_shlyapnikov
					army = {
						small = "GFX_idea_SOV_aleksandr_shlyapnikov"
					}
				}
			}
		}
	}
	focus = {
		id = SOV_marsh_of_the_proletariat
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_return_democracy_to_the_party focus = SOV_left_purges focus = SOV_right_purges }
		cost = 3
		x = 0
		y = 1
		relative_position_id = SOV_return_democracy_to_the_party
		completion_reward = {
			add_to_variable = { SOV_the_politburo_political_power_factor = 0.1 }
			add_to_variable = { SOV_the_politburo_max_surrender_limit_offset = 0.1 }
			add_to_variable = { SOV_fyp_consumer_goods_expected_value = -0.04 }
			custom_effect_tooltip = SOV_marsh_of_the_proletariat_tt

			if = {
				limit = { check_variable = { SOV_workers_industrial_capacity_factory < 0.2 } }
				add_to_variable = { SOV_workers_industrial_capacity_factory = 0.2 }
				custom_effect_tooltip = SOV_socialist_science_tt
			}
			add_to_variable = { SOV_workers_influence = 1 }
			add_to_variable = { SOV_workers_attitude = 1 }

			add_to_variable = { SOV_peasants_attitude = 2 }
			add_to_variable = { SOV_peasants_influence = 2 }
		}
	}
	focus = {
		id = SOV_eradicate_stalinism
		icon = GFX_goal_SOV_eradicate_stalinism
		prerequisite = { focus = SOV_marsh_of_the_proletariat}
		cost = 3
		x = 0
		y = 1
		relative_position_id = SOV_marsh_of_the_proletariat
		completion_reward = {
			custom_effect_tooltip = SOV_end_the_terror_tt
			custom_effect_tooltip = SOV_reestablish_the_Patriarchate_tt
			hidden_effect = {
				set_variable = { SOV_peasants_stability_factor = 0.1 }
				set_variable = { SOV_peasants_attitude = 3 }
				add_to_variable = { SOV_peasants_influence = 2 }
			}
			add_to_variable = { SOV_the_politburo_political_power_factor = 0.05 }
		}
	}
	focus = {
		id = SOV_revolutionary_army
		icon = GFX_focus_YUG_pan_slavic_congress
		prerequisite = { focus = SOV_eradicate_stalinism }
		x = 0
		y = 1
		relative_position_id = SOV_eradicate_stalinism
		cost = 3
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			set_technology = { revolutionary_army = 1 }
			custom_effect_tooltip = revolutionary_army_tt
			army_experience = 10
			add_ideas = every_man_must_do_there_duty
			if = {
				limit = {
					NOT = {
						has_idea = offer_better_wages
					}
					NOT = {
						has_idea = mandatory_army_service
					}
					NOT = {
						has_idea = incentivise_employability_oppertunities
					}
					NOT = {
						has_idea = conscript_men_into_the_factories
					}
				}
				add_ideas = mandatory_army_service
			}
			if = {
				limit = {
					has_idea = no_propaganda
				}
				add_ideas = light_propaganda_effort
			}
		}
	}
	focus = {
		id = SOV_strengthen_the_trade_unions
		icon = GFX_focus_generic_treaty
		prerequisite = {
			focus = SOV_all_power_to_the_soviets
			focus = SOV_incorporate_local_organizations
		}
		x = 6
		y = 1
		relative_position_id = SOV_all_power_to_the_soviets
		mutually_exclusive = {
			focus = SOV_regional_development
		}
		cost = 3
		mutually_exclusive = {
			focus = SOV_for_the_common_good
		}

		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_political_power = 70
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			add_ideas = SOV_strong_trade_unions_idea
		}
	}
	focus = {
		id = SOV_the_peoples_revolution
		icon = GFX_focus_por_workers_of_iberia
		prerequisite = { focus = SOV_strengthen_the_trade_unions }
		x = 0
		y = 1
		relative_position_id = SOV_strengthen_the_trade_unions
		cost = 3

		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_MANPOWER
		}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			add_ideas = SOV_the_peoples_revolution_idea
		}
	}
	focus = {
		id = SOV_the_supreme_soviet
		icon = GFX_focus_SOV_the_supreme_soviet
		prerequisite = { focus = SOV_the_peoples_revolution
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_peoples_revolution
		cost = 3
		available = {
			has_government = communism
		}
		search_filters = {
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_country_leader_role = {
				character = "SOV_supreme_soviet"
				country_leader = {
					ideology = marxism
					traits = {
						strong_party_discipline
					}
					expire = "1965.3.1"
				}
				promote_leader = yes
			}
		}
	}
	#   #  ##  #  #  ##  ###   ##  #  # ###  ## ###     ###  ###   ##  #  #  ##  #  #
	## ## #  # ## # #  # #  # #  # #  #  #  #    #      #  # #  # #  # ## # #  # #  #
	# # # #  # # ## #### ###  #    ####  #   #   #      ###  ###  #### # ## #    ####
	#   # #  # #  # #  # #  # #  # #  #  #    #  #      #  # #  # #  # #  # #  # #  #
	#   #  ##  #  # #  # #  #  ##  #  # ### ##   #      ###  #  # #  # #  #  ##  #  #
	focus = {
		id = SOV_beaten_but_not_defeated
		icon = GFX_goal_generic_war_with_comintern
		x = 15
		y = 0
		relative_position_id = SOV_the_path_of_marxism_leninism
		offset = {
			x = -22
			y = 0
			trigger = { #All commie branches hide except for Stalinist
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = SOV_beaten_but_not_defeated
			}
		}
		offset = {
			x = -20
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = SOV_the_hands_do #Stalinist branch hides
			}
		}
		allow_branch = {
			has_dlc = "No Step Back"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				AND = {
					NOT = { has_completed_focus = SOV_the_path_of_marxism_leninism }
					NOT = { has_completed_focus = SOV_socialism_in_one_country }
				}
			}
		}
		mutually_exclusive = { focus = SOV_the_path_of_marxism_leninism focus = SOV_socialism_in_one_country }
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			always = no #Remove later
			#custom_trigger_tooltip = {
			#	tooltip = SOV_no_major_purge_tt
			#	check_variable = {
			#		SOV_great_purge_counter < 1
			#	}
			#}
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			custom_effect_tooltip = focus_tree_coming_in_94 #Remove later
			#custom_effect_tooltip = SOV_beaten_but_not_defeated_tt
			#add_political_power = 25
			#hidden_effect = {
			#	country_event = {
			#		id = NSB_soviet_paranoia_system_events.01					# Trigger paranoia if not already active
			#		hours = 6
			#		random_hours = 24
			#	}
			#	set_variable = {
			#		SOV_exiles_army_support = 0.1
			#	}
			#	set_variable = {
			#		SOV_exiles_navy_support = 0.02
			#	}
			#	set_variable = {
			#		SOV_exiles_air_support = 0.02
			#	}
			#	# Launch the first Stalinist counter measures
			#	SOV_launch_stalinist_counter_measure = yes
			#	SOV_get_centre_military_support = yes
			#}
			#mark_focus_tree_layout_dirty = yes
		}
	}
	focus = {
		id = SOV_unification_of_the_exiles
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = SOV_beaten_but_not_defeated }
		x = 5
		y = 1
		relative_position_id = SOV_beaten_but_not_defeated

		allow_branch = {
			always = no
		}

		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			add_political_power = 75
			SOV_paranoia_low_increase_effect = yes
			custom_effect_tooltip = SOV_unification_of_the_exiles_tt
		}
	}
	focus = {
		id = SOV_womens_fascist_movement
		icon = GFX_focus_SOV_womens_fascist_movement
		prerequisite = { focus = SOV_unification_of_the_exiles
		}
		x = -2
		y = 1
		relative_position_id = SOV_unification_of_the_exiles
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_MANPOWER
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			custom_effect_tooltip = SOV_fascist_womens_movement_tt
			effect_tooltip = {
				add_ideas = SOV_fascist_womens_movement_idea
			}
			set_country_flag = SOV_fascist_womens_movement_flag
		}
	}
	focus = {
		id = SOV_the_true_tsars
		icon = GFX_focus_SOV_the_true_tsars
		prerequisite = { focus = SOV_unification_of_the_exiles
		}
		x = 0
		y = 1
		relative_position_id = SOV_unification_of_the_exiles
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_MANPOWER
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			custom_effect_tooltip = SOV_the_true_tsars_tt
			effect_tooltip = {
				add_ideas = SOV_the_true_tsars_idea
			}
			set_country_flag = SOV_the_true_tsars_flag
		}
	}
	focus = {
		id = SOV_national_unification
		icon = GFX_goal_generic_military_economy_large
		prerequisite = { focus = SOV_unification_of_the_exiles
		}
		x = 2
		y = 1
		relative_position_id = SOV_unification_of_the_exiles
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.15
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			custom_effect_tooltip = SOV_national_unification_tt
			set_country_flag = SOV_national_unification_flag
		}
	}
	focus = {
		id = SOV_embrace_the_black_hundreds
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = SOV_womens_fascist_movement
			focus = SOV_the_true_tsars
			focus = SOV_national_unification
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_true_tsars
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV_has_selected_hq = yes
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		available_if_capitulated = yes
		search_filters = {
		}
		completion_reward = {
			set_country_flag = SOV_embrace_the_black_hundreds_flag
			custom_effect_tooltip = SOV_embrace_the_black_hundreds_tt
			add_political_power = 50
		}
	}
	focus = {
		id = SOV_covert_operations
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_embrace_the_black_hundreds }
		x = -3
		y = 1
		relative_position_id = SOV_embrace_the_black_hundreds
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV_soviet_civil_war_not_started = yes
		}

		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_political_power = 50
			custom_effect_tooltip = SOV_covert_operations_tt
		}
	}
	focus = {
		id = SOV_muster_the_old_guard
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = SOV_embrace_the_black_hundreds
		}
		x = -1
		y = 1
		relative_position_id = SOV_embrace_the_black_hundreds
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		available_if_capitulated = yes
		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_muster_the_old_guard_tt
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			set_country_flag = SOV_muster_the_old_guard_flag
		}
	}
	focus = {
		id = SOV_approach_semyonov
		icon = GFX_focus_SOV_approach_semyonov
		prerequisite = { focus = SOV_embrace_the_black_hundreds
		}
		x = 3
		y = 1
		relative_position_id = SOV_embrace_the_black_hundreds
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV_soviet_civil_war_not_started = yes
		}

		available_if_capitulated = yes
		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_approach_semyonov_tt
			add_command_power = 25
		}
	}
	focus = {
		id = SOV_fascist_youth_union
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = SOV_embrace_the_black_hundreds
		}
		x = 1
		y = 1
		relative_position_id = SOV_embrace_the_black_hundreds
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		available_if_capitulated = yes
		search_filters = {
		}
		completion_reward = {
			set_country_flag = SOV_fascist_youth_union_flag
			custom_effect_tooltip = SOV_fascist_youth_union_tt
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
		}
	}
	focus = {
		id = SOV_tolkachi
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = SOV_muster_the_old_guard
			focus = SOV_fascist_youth_union
		}
		x = 1
		y = 1
		relative_position_id = SOV_muster_the_old_guard
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		available_if_capitulated = yes
		search_filters = {
		}
		completion_reward = {
			set_country_flag = SOV_tolkachi_flag
			custom_effect_tooltip = SOV_tolkachi_tt
		}
	}
	focus = {
		id = SOV_south_manchuria_railway
		icon = GFX_focus_SOV_south_manchuria_railway
		prerequisite = { focus = SOV_muster_the_old_guard
			focus = SOV_fascist_youth_union
		}
		x = 1
		y = 1
		relative_position_id = SOV_fascist_youth_union
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV_soviet_civil_war_not_started = yes
		}

		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			SOV_paranoia_low_increase_effect = yes
			custom_effect_tooltip = SOV_sway_the_railway_workers_tt
			set_country_flag = SOV_supply_hub_flag
		}
	}
	focus = {
		id = SOV_organize_wreckers
		icon = GFX_focus_SOV_organize_wreckers
		prerequisite = { focus = SOV_muster_the_old_guard
			focus = SOV_fascist_youth_union
		}
		x = -1
		y = 1
		relative_position_id = SOV_muster_the_old_guard
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV_soviet_civil_war_not_started = yes
		}

		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_SOV_POLITICAL_PARANOIA
		}
		completion_reward = {
			set_country_flag = SOV_organize_wreckers_flag
			SOV_paranoia_medium_increase_effect = yes
			custom_effect_tooltip = SOV_organize_wreckers_tt
		}
	}
	focus = {
		id = SOV_the_eyes_fear
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = SOV_tolkachi
			focus = SOV_organize_wreckers
			focus = SOV_south_manchuria_railway
		}
		x = 0
		y = 1
		relative_position_id = SOV_tolkachi
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV = {
				OR = {
					fascism > 0.25
					neutrality > 0.25
				}
			}
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		available_if_capitulated = yes
		search_filters = {
		}
		completion_reward = {
			#create unit after war begins - 15 infantry, split between ukraine and siberia (7 and 8)
			set_country_flag = Sov_the_eyes_fear_flag
			custom_effect_tooltip = SOV_the_eyes_fear_tt
		}
	}
	focus = {
		id = SOV_the_hands_do
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SOV_the_eyes_fear
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_eyes_fear
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			SOV_soviet_civil_war_not_started = yes
		}
		bypass = {
			OR = {
				has_global_flag = SOV_soviet_civil_war_over
				has_global_flag = SOV_soviet_civil_war
			}
		}
		available_if_capitulated = yes
		search_filters = {
		}
		completion_reward = {
			country_event = {
				id = NSB_Soviet_fascist_civil_war.001
				hours = 6
				random_hours = 6
			}
			SOV_opposition_support_high_increase_effect = yes
			SOV_increase_opposition_army_support = yes
			custom_effect_tooltip = SOV_the_hands_do_tt
			mark_focus_tree_layout_dirty = yes
		}
	}
	focus = {
		id = SOV_call_for_aid
		icon = GFX_goal_tripartite_pact
		prerequisite = { focus = SOV_the_hands_do
		}
		x = 3
		y = 1
		relative_position_id = SOV_the_hands_do
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
		}
		completion_reward = {
			every_other_country = {
				limit = {
					is_major = yes
					OR = {
						has_government = fascism
						AND = {
							tag = JAP
							has_government = neutrality
						}
						AND = {
							tag = ITA
							has_government = neutrality
						}
						AND = {
							tag = GER
							has_government = neutrality
						}
						AND = {
							tag = ENG
							has_government = neutrality
						}
					}
				}
				add_timed_idea = {
					idea = SOV_national_brotherhood_idea
					days = 730
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_support_for_exiles
				}
				add_ai_strategy = {
					type = send_volunteers_desire
					id = SOV
					value = 400
				}
				add_ai_strategy = {
					type = send_lend_lease_desire
					id = SOV
					value = 300
				}
			}
		}
	}
	focus = {
		id = SOV_request_imperial_protection
		icon = GFX_focus_jap_showa_restoration
		prerequisite = { focus = SOV_call_for_aid
		}
		x = 0
		y = 1
		relative_position_id = SOV_call_for_aid
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0				# No point asking for japanese help if we are winning, unless we get stuck
				surrender_progress < 0.1
				SOS = {
					surrender_progress > 0.5
				}
				date < 1938.6.1
			}
			modifier = {
				factor = 0				# Never ask if we are close to winning, unless we are close to 1940
				SOS = {
					surrender_progress > 0.75
				}
				date < 1939.8.1
			}
			modifier = {
				factor = 0				# Don't risk getting dragged into Chinese war unless desperate
				surrender_progress < 0.5
				JAP = {
					has_war = yes
				}
			}
		}
		available = {
			has_global_flag = SOV_soviet_civil_war
			OR = {
				has_country_flag = SOV_CSW_transfer_vladivostok_flag
				has_country_flag = SOV_CSW_transfer_sakhalin_flag
			}
		}
		available_if_capitulated = yes
		search_filters = {
		}
		completion_reward = {
			JAP = {
				country_event = {
					id = NSB_soviet_civil_war_common.121
					days = 2
					random_days = 3
				}
			}
			custom_effect_tooltip = SOV_request_imperial_protection_tt
		}
	}
	focus = {
		id = SOV_sabotage_behind_enemy_lines
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = SOV_the_hands_do
		}
		x = -1
		y = 1
		relative_position_id = SOV_the_hands_do
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
		}
		completion_reward = {
			unlock_decision_tooltip = {
				decision = SOV_sabotage_behind_enemy_lines_decision
				show_effect_tooltip = yes
				show_modifiers = no
			}
			#hidden_effect = {
			#	every_state = {
			#		limit = {
			#			OR = {
			#				is_owned_by = SOV
			#				is_owned_by = SOS
			#			}
			#
			#		}
			#		damage_units = {
			#			state = THIS
			#			limit = { tag = SOS }
			#			org_damage = 0.15
			#			str_damage = 0.01
			#			ratio = yes
			#			army = yes
			#		}
			#	}
			#}
		}
	}
	focus = {
		id = SOV_aristocratic_investments
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = SOV_the_hands_do
		}
		x = 1
		y = 1
		relative_position_id = SOV_the_hands_do
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_aristocratic_investments_idea
				days = 730
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_national_unification_factory_bonus_flag
			}
			random_owned_controlled_state = {
				limit = {
					Not = {
						has_state_flag = SOV_national_unification_factory_bonus_flag
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			#TODO jo remove this once the civil war ends
		}
	}
	focus = {
		id = SOV_consolidate_power
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_the_hands_do
		}
		x = 0
		y = 2
		relative_position_id = SOV_the_hands_do
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			has_global_flag = SOV_soviet_civil_war_over
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_consolidate_power
				days = 365
			}
			custom_effect_tooltip = SOV_consolidate_power_tt
		}
	}
	focus = {
		id = SOV_rebuild_the_nation
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = SOV_consolidate_power
		}
		x = 0
		y = 1
		relative_position_id = SOV_consolidate_power
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			has_war = no
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_rebuild_the_nation
				days = 540
			}
		}
	}
	focus = {
		id = SOV_bringing_breakaways_back_to_the_fold
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SOV_consolidate_power
		}
		x = 2
		y = 1
		relative_position_id = SOV_consolidate_power
		mutually_exclusive = {
			focus = SOV_offer_autonomy_to_former_soviet_republics
		}
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			any_country = {
				has_country_flag = SOV_breakaway_country_flag
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			every_country = {
				limit = {
					has_country_flag = SOV_breakaway_country_flag
				}
				ROOT = {
					create_wargoal = {
						type = take_core_state
						target = PREV
					}
				}
			}
		}
	}
	focus = {
		id = SOV_offer_autonomy_to_former_soviet_republics
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_consolidate_power
		}
		x = 4
		y = 1
		relative_position_id = SOV_consolidate_power
		mutually_exclusive = {
			focus = SOV_bringing_breakaways_back_to_the_fold
		}
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			any_country = {
				has_country_flag = SOV_breakaway_country_flag
			}
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			every_country = {
				limit = {
					has_country_flag = SOV_breakaway_country_flag
					NOT = {
						is_in_faction_with = ROOT
					}
				}
				country_event = {
					id = NSB_soviet_nationalist.002
					days = 3
					random_days = 3
				}
			}
		}
	}
	focus = {
		id = SOV_restore_the_glory_of_the_motherland
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_rebuild_the_nation
		}
		x = 0
		y = 1
		relative_position_id = SOV_rebuild_the_nation
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_ideas = SOV_restore_the_glory_of_the_motherland
		}
	}
	###  ### #   ###  ##  ###  ##  #  #  ##      ## ### #  # ### ###
	#  # #   #    #  #     #  #  # #  # #       #    #  #  # #   #   {~._.~}
	###  ##  #    #  # ##  #  #  # #  #  #       #   #  #  # ##  ##   ( Y )
	#  # #   #    #  #  #  #  #  # #  #   #       #  #  #  # #   #   ()~*~()
	#  # ### ### ###  ##  ###  ##   ##  ##      ##   #   ##  #   #   (_)-(_)
	focus = {
		id = SOV_article_124
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = SOV_beaten_but_not_defeated }
		x = 2
		y = 1
		relative_position_id = SOV_beaten_but_not_defeated
		cost = 3

		allow_branch = {
			always = no #Remove later
		}

		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_ideas = SOV_church_power_1
		}
	}
	focus = {
		id = SOV_reopen_novodevichi
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = SOV_article_124
		}
		x = 0
		y = 2
		relative_position_id = SOV_article_124
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		available = {
			has_full_control_of_state = 219
		}
		completion_reward = {
			add_political_power = 75
			add_popularity = {
				ideology = communism
				popularity = -0.1
			}
		}
	}
	focus = {
		id = SOV_rebuild_the_savior_cathedral
		icon = GFX_focus_SOV_rebuild_the_savior_cathedral
		prerequisite = { focus = SOV_reopen_novodevichi }
		x = 0
		y = 2
		relative_position_id = SOV_reopen_novodevichi
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_INDUSTRY
		}
		available = {
			has_full_control_of_state = 219
		}
		completion_reward = {
			add_stability = 0.1
			add_timed_idea = {
				idea = SOV_rebuild_the_savior_cathedral
				days = 365
			}
		}
	}
	focus = {
		id = SOV_the_synod
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SOV_reopen_novodevichi
		}
		x = 2
		y = 2
		relative_position_id = SOV_reopen_novodevichi
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			SOV_increase_church_power = yes
		}
	}
	focus = {
		id = SOV_the_declaration
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_the_synod
		}
		x = 0
		y = 2
		relative_position_id = SOV_the_synod
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_the_declaration_tt
		}
	}
	focus = {
		id = SOV_return_of_the_rocor
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = SOV_the_declaration
		}
		prerequisite = { focus = SOV_consolidate_power
		}
		prerequisite = { focus = SOV_reformalize_the_role_of_the_patriarchate
		}
		x = 0
		y = 3
		relative_position_id = SOV_the_declaration
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			custom_effect_tooltip = SOV_the_return_of_the_rocor_tt
			add_popularity = {
				ideology = communism
				popularity = -0.1
			}
		}
	}
	focus = {
		id = SOV_reformalize_the_role_of_the_patriarchate
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = SOV_rebuild_the_savior_cathedral
		}
		prerequisite = { focus = SOV_the_synod
		}
		x = 0
		y = 4
		relative_position_id = SOV_rebuild_the_savior_cathedral
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			SOV_increase_church_power = yes
		}
	}
	focus = {
		id = SOV_reconvene_the_zemsky_sobor
		icon = GFX_focus_SOV_zemsky_sobor
		prerequisite = { focus = SOV_consolidate_power
		}
		prerequisite = { focus = SOV_reformalize_the_role_of_the_patriarchate
		}
		x = 4
		y = 2
		relative_position_id = SOV_consolidate_power
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			has_civil_war = no
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
		}
		completion_reward = {
			add_ideas = SOV_romanov_spirit_idea
			custom_effect_tooltip = SOV_reconvene_the_zemsky_sobor_tt
			country_event = NSB_soviet_fascist_tsarist.14
			SOV_aleksandr_kazembek = {
				clr_character_flag = SOV_exiled_flag
			}
			SOV_anastasy_vonsyatsky = {
				clr_character_flag = SOV_exiled_flag
			}
			custom_effect_tooltip = SOV_recognized_country_tt
			set_rule = {
				can_join_factions = yes
			}
		}
	}
	focus = {
		id = SOV_constitutional_monarchy
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = SOV_reconvene_the_zemsky_sobor }
		x = 6
		y = 1
		relative_position_id = SOV_reconvene_the_zemsky_sobor
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available = {
			has_civil_war = no
		}

		available_if_capitulated = yes

		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = -0.3
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.2
			}
		}
	}

	focus = {
		id = SOV_the_sobors_choice
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = SOV_constitutional_monarchy }
		x = 0
		y = 1
		relative_position_id = SOV_constitutional_monarchy
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			# recruit_character = SOV_tsar_vsevolod_ivanovich
			set_politics = {
				ruling_party = neutrality
				elections_allowed = yes
			}
			add_popularity = {
				ideology = democratic
				popularity = .1
			}
			add_popularity = {
				ideology = neutrality
				popularity = .1
			}
		}
	}
	###   ##   ## ###      ##  ### #   # ### #       #   #  ##  ###
	#  # #  # #    #      #  #  #  #   #  #  #       #   # #  # #  #
	###  #  #  #   #      #     #   # #   #  #       # # # #### ###
	#    #  #   #  #      #  #  #   # #   #  #       # # # #  # #  #
	#     ##  ##   #       ##  ###   #   ### ###      # #  #  # #  #
	focus = {
		id = SOV_dismantle_the_zemsky_sobor
		icon = GFX_goal_support_fascism
		prerequisite = { focus = SOV_reconvene_the_zemsky_sobor
		}
		mutually_exclusive = {
			focus = SOV_romanov_reconstruction
		}
		x = 5
		y = 1
		relative_position_id = SOV_reconvene_the_zemsky_sobor
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			hidden_effect = {
				set_temp_variable = {
					var = dismantle_the_zemsky_sobor_var
					value = party_popularity@fascism
				}
				subtract_from_temp_variable = {
					var = dismantle_the_zemsky_sobor_var
					value = 1
				}
				multiply_temp_variable = {
					var = dismantle_the_zemsky_sobor_var
					value = 0.5
				}
			}
			custom_effect_tooltip = SOV_dismantle_the_zemsky_sobor_tt
			add_stability = dismantle_the_zemsky_sobor_var
			retire_character = SOV_tsar_vladimir_kirillovich
			add_ideas = SOV_tsar_vladimir_i
			set_politics = {
				ruling_party = fascism
				elections_allowed = yes
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.15
			}
			promote_character = SOV_konstantin_rodzayevsky
			add_ideas = SOV_national_brotherhood_idea
			news_event = {
				id = nsb_news.401
				hours = 12
			}
			IF = {
				limit = {
					has_idea = SOV_uncertain_counter_revolution_idea
				}
				remove_ideas = SOV_uncertain_counter_revolution_idea
			}
		}
	}
	focus = {
		id = SOV_russian_corporate_state
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = SOV_dismantle_the_zemsky_sobor
		}
		x = 2
		y = 1
		relative_position_id = SOV_dismantle_the_zemsky_sobor
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = SOV_russian_corporate_state_2IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			add_ideas = SOV_russian_corporate_state
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_russian_corporate_state_2IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					NOT = {
						has_state_flag = SOV_russian_corporate_state_2IC
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_russian_corporate_state_2IC
			}
			add_ideas = SOV_russian_corporate_state
		}
	}
	focus = {
		id = SOV_romanov_reconstruction
		icon = GFX_focus_generic_monarchy_2
		prerequisite = { focus = SOV_reconvene_the_zemsky_sobor
		}
		mutually_exclusive = {
			focus = SOV_dismantle_the_zemsky_sobor
		}
		x = -5
		y = 1
		relative_position_id = SOV_reconvene_the_zemsky_sobor
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_timed_idea = {
				idea = SOV_romanov_reconstruction
				days = 730
			}
			IF = {
				limit = {
					has_idea = SOV_uncertain_counter_revolution_idea
				}
				remove_ideas = SOV_uncertain_counter_revolution_idea
			}
		}
	}
	focus = {
		id = SOV_capital_of_the_tsars
		icon = GFX_focus_generic_monarchy_2
		prerequisite = { focus = SOV_romanov_reconstruction
		}
		x = -2
		y = 1
		relative_position_id = SOV_romanov_reconstruction
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			if = {
				limit = {
					195 = {
						is_capital = no
					}
				}
				set_capital = {
					state = 195
				}
			}
			195 = {
				if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 5
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 6
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 4
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 3
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
				add_dynamic_modifier = {
					modifier = SOV_capital_of_the_tsars
				}
				custom_effect_tooltip = SOV_capital_of_the_tsars_tt
			}
		}
	}
	focus = {
		id = SOV_church_candidates
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = SOV_romanov_reconstruction
			focus = SOV_dismantle_the_zemsky_sobor
		}
		x = 5
		y = 1
		relative_position_id = SOV_romanov_reconstruction
		cost = 3
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_completed_focus = SOV_dismantle_the_zemsky_sobor
					}
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
				SOV_increase_church_power = yes
			}
			if = {
				limit = {
					has_completed_focus = SOV_dismantle_the_zemsky_sobor
				}
				add_stability = 0.05
				SOV_increase_church_power = yes
			}
		}
	}
	focus = {
		id = SOV_reinstitute_the_mestnichestvo
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = SOV_romanov_reconstruction
		}
		x = -5
		y = 1
		relative_position_id = SOV_romanov_reconstruction
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_MANPOWER
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_ideas = SOV_honest_serfdom_idea
		}
	}
	focus = {
		id = SOV_the_iron_wall_of_russian_resolve
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SOV_reinstitute_the_mestnichestvo
		}
		x = -1
		y = 1
		relative_position_id = SOV_reinstitute_the_mestnichestvo
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_RESEARCH
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			#	add_tech_bonus = {
			#		name = SOV_the_iron_wall_of_russian_resolve
			#		bonus = 0.5
			#		uses = 1
			#		technology = super_heavy_tank_chassis
			#	}
			add_ideas = SOV_the_iron_wall_of_russian_resolve
		}
	}
	focus = {
		id = SOV_my_brothers_keeper
		icon = GFX_focus_SOV_my_brothers_keeper
		prerequisite = { focus = SOV_reinstitute_the_mestnichestvo
		}
		prerequisite = { focus = SOV_the_triple_entente
		}
		x = 0
		y = 2
		relative_position_id = SOV_reinstitute_the_mestnichestvo
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		available = {
			is_subject = no
		}
		completion_reward = {
			every_other_country = {
				limit = {
					OR = {
						tag = DEN
						tag = GRE
						tag = GER
						tag = NOR
						#tag = SPA
						#tag = ENG
						#tag = ROM
					}
					NOT = {
						is_in_faction_with = ROOT
					}
				}
				SOV = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = PREV
					}
				}
			}
		}
	}
	focus = {
		id = SOV_the_rightful_heir_to_the_empire
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SOV_church_candidates
		}
		mutually_exclusive = {
			focus = SOV_panslavic_nationalism
		}
		x = 0
		y = 2
		relative_position_id = SOV_church_candidates
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
		}
		available = {
			is_subject = no
		}
		completion_reward = {
			random_country = {
				limit = {
					owns_state = 2
				}
				SOV = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = {
							2
						}
					}
				}
			}
			random_country = {
				limit = {
					owns_state = 454
				}
				SOV = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = {
							454
						}
					}
				}
			}
			random_country = {
				limit = {
					owns_state = 797
				}
				SOV = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = {
							797
						}
					}
				}
			}
			add_state_claim = 2
			add_state_claim = 797
			add_state_claim = 454
		}
	}
	focus = {
		id = SOV_the_third_rome
		icon = GFX_focus_SOV_third_rome
		prerequisite = { focus = SOV_the_rightful_heir_to_the_empire
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_rightful_heir_to_the_empire
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
			FOCUS_FILTER_STABILITY
			FOCUS_FILTER_WAR_SUPPORT
		}
		completion_reward = {
			add_ideas = SOV_legacy_of_rome
			set_cosmetic_tag = SOV_ROME
			if = {
				limit = {
					NOT = {
						has_government = neutrality
					}
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
			}
			remove_ideas = SOV_tsar_vladimir_i
			custom_effect_tooltip = SOV_the_third_rome_tt
			promote_character = SOV_metropolitan_meletius
			set_country_leader_name = {
				ideology = neutrality
				name = SOV_patriarch_meletius
			}
			custom_effect_tooltip = SOV_the_third_rome_tt_2
			country_event = NSB_soviet_fascist_tsarist.15
		}
	}
	focus = {
		id = SOV_vengeance_for_the_yoke
		icon = GFX_focus_generic_attack_mongolia
		prerequisite = { focus = SOV_romanov_reconstruction
			focus = SOV_dismantle_the_zemsky_sobor
		}
		x = -3
		y = 1
		relative_position_id = SOV_dismantle_the_zemsky_sobor
		cost = 3
		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = MON
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		available = {
			is_subject = no
		}
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = MON
			}
		}
	}
	focus = {
		id = SOV_westward_bound
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = SOV_romanov_reconstruction
			focus = SOV_dismantle_the_zemsky_sobor
		}
		x = 1
		y = 1
		relative_position_id = SOV_romanov_reconstruction
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		available = {
			has_full_control_of_state = 213
			has_full_control_of_state = 214
			has_full_control_of_state = 208
		}
		completion_reward = {
			# Murmansk
			213 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 1
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 3134
					instant_build = yes
				}
				if = {
					limit = {
						air_base < 4
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						air_base < 4
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						air_base < 5
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
			}
			# Onega
			215 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			# Olonets
			216 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			# Arkhangelsk
			214 = {
				if = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			#Supply Hub in Luga
			208 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 181
					instant_build = yes
				}
			}
			#Volkhov-Murmansk
			build_railway = {
				path = {
					3134
					11117
					9201
					6181
					3121
					9162
					3008
					86
					3189
					9159
					94
					6021
					11175
					155
					11092
					3033
					9118
					11159
					90
					6057
					11153
					11059
					70
				}
			}
			#Leningrad-Volkhov
			build_railway = {
				path = {
					9197
					11068
				}
			}
			#Vologda-Arkhangelsk
			build_railway = {
				path = {
					9131
					9199
					75
					72
					9130
					3130
					11171
					312
					13889
				}
			}
		}
	}
	focus = {
		id = SOV_the_triple_entente
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = SOV_westward_bound
		}
		prerequisite = { focus = SOV_romanov_reconstruction
		}
		x = -4
		y = 1
		relative_position_id = SOV_westward_bound
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
		}
		available = {
			is_subject = no
			ENG = {
				NOT = {
					has_government = communism
				}
				NOT = {
					has_completed_focus = ENG_back_german_hegemony
				}
			}
			FRA = {
				NOT = {
					has_government = communism
				}
				NOT = {
					has_completed_focus = FRA_establish_spheres_of_influence
				}
			}
		}
		bypass = {
			ENG = {
				OR = {
					AND = {
						is_in_faction = yes
						is_faction_leader = no
					}
					has_war_with = ROOT
				}
			}
			FRA = {
				OR = {
					AND = {
						is_in_faction = yes
						is_faction_leader = no
					}
					has_war_with = ROOT
				}
			}
		}
		completion_reward = {
			if = {
				limit = {
					ENG = {
						is_faction_leader = yes
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				ENG = {
					country_event = {
						id = NSB_soviet_fascist_tsarist.16
						hours = 6
					}
				}
			}
			else_if = {
				limit = {
					FRA = {
						is_faction_leader = yes
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				FRA = {
					country_event = {
						id = NSB_soviet_fascist_tsarist.16
						hours = 6
					}
				}
			}
			else_if = {
				limit = {
					ENG = {
						is_faction_leader = no
					}
					FRA = {
						is_faction_leader = no
					}
					OR = {
						ENG = {
							is_in_faction = no
							NOT = {
								has_war_with = ROOT
							}
						}
						FRA = {
							is_in_faction = no
							NOT = {
								has_war_with = ROOT
							}
						}
					}
				}
				create_faction = TRIPLE_ENTENTE
				ENG = {
					country_event = {
						id = NSB_soviet_fascist_tsarist.16
						hours = 6
					}
				}
				FRA = {
					country_event = {
						id = NSB_soviet_fascist_tsarist.16
						hours = 6
					}
				}
			}
			else = {
				create_faction = TRIPLE_ENTENTE
			}
		}
	}
	focus = {
		id = SOV_our_slavic_commitments
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SOV_the_triple_entente
		}
		mutually_exclusive = {
			focus = SOV_panslavic_nationalism
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_triple_entente
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		available = {
			is_subject = no
		}
		completion_reward = {
			add_ideas = SOV_our_slavic_commitments
			give_guarantee = CZE
			give_guarantee = POL
			give_guarantee = YUG
			give_guarantee = BUL
			news_event = {
				id = nsb_news.406
				hours = 12
			}
		}
	}
	focus = {
		id = SOV_the_old_enemy
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_westward_bound
		}
		x = -2
		y = 1
		relative_position_id = SOV_westward_bound
		cost = 3
		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = SWE
		search_filters = {
		}
		available = {
			is_subject = no
		}
		bypass = {
			SWE = {
				OR = {
					exists = no
					has_war_with = SOV
					is_subject_of = SOV
				}
			}
		}
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = SWE
			}
		}
	}
	focus = {
		id = SOV_secure_finland
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_westward_bound
		}
		x = 0
		y = 1
		relative_position_id = SOV_westward_bound
		cost = 3
		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = FIN
		search_filters = {
		}
		available = {
			is_subject = no
		}
		bypass = {
			FIN = {
				OR = {
					exists = no
					has_war_with = SOV
					is_subject_of = SOV
				}
			}
		}
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = FIN
			}
		}
	}
	focus = {
		id = SOV_secure_the_baltics
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_westward_bound
		}
		x = 2
		y = 1
		relative_position_id = SOV_westward_bound
		cost = 3
		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = EST
		will_lead_to_war_with = LIT
		will_lead_to_war_with = LAT
		search_filters = {
		}
		available = {
			is_subject = no
		}
		bypass = {
			EST = {
				OR = {
					exists = no
					has_war_with = SOV
					is_subject_of = SOV
				}
			}
			LAT = {
				OR = {
					exists = no
					has_war_with = SOV
					is_subject_of = SOV
				}
			}
			LIT = {
				OR = {
					exists = no
					has_war_with = SOV
					is_subject_of = SOV
				}
			}
		}
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = EST
			}
			create_wargoal = {
				type = annex_everything
				target = LIT
			}
			create_wargoal = {
				type = annex_everything
				target = LAT
			}
		}
	}
	focus = {
		id = SOV_panslavic_nationalism
		icon = GFX_focus_SOV_panslavic_nationalism
		prerequisite = { focus = SOV_secure_the_baltics
		}
		prerequisite = { focus = SOV_secure_finland
		}
		prerequisite = { focus = SOV_the_old_enemy
		}
		mutually_exclusive = {
			focus = SOV_the_rightful_heir_to_the_empire
			focus = SOV_our_slavic_commitments
		}
		x = 0
		y = 1
		relative_position_id = SOV_secure_finland
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		completion_reward = {
			effect_tooltip = {
				every_country = {
					limit = {
						OR = {
							tag = POL
							tag = BUL
							tag = YUG
							tag = CZE
						}
						NOT = {
							has_war_with = ROOT
						}
					}
					country_event = {
						id = NSB_soviet_fascist_tsarist.1
						days = 3
					}
					ROOT = {
						annex_country = {
							target = PREV
							transfer_troops = yes
						}
					}
				}
			}
			custom_effect_tooltip = SOV_panslavic_nationalism_tt
			hidden_effect = {
				every_country = {
					limit = {
						OR = {
							tag = POL
							tag = BUL
							tag = YUG
							tag = CZE
						}
						NOT = {
							has_war_with = ROOT
						}
					}
					country_event = {
						id = NSB_soviet_fascist_tsarist.1
						days = 3
					}
				}
			}
			every_country = {
				limit = {
					NOT = {
						tag = POL
						tag = BUL
						tag = YUG
						tag = CZE
					}
					OR = {
						controls_state = 9
						controls_state = 69
						controls_state = 70
						controls_state = 71
						controls_state = 72
						controls_state = 73
						controls_state = 74
						controls_state = 75
						controls_state = 664
						controls_state = 48
						controls_state = 211
						controls_state = 212
						controls_state = 801
						controls_state = 97
						controls_state = 85
						controls_state = 762
						controls_state = 90
						controls_state = 88
						controls_state = 92
						controls_state = 91
						controls_state = 95
						controls_state = 94
						controls_state = 86
						controls_state = 98
						controls_state = 89
						controls_state = 10
						controls_state = 96
						controls_state = 784
						controls_state = 93
						controls_state = 87
						controls_state = 104
						controls_state = 109
						controls_state = 103
						controls_state = 1022
						controls_state = 999
						controls_state = 804
						controls_state = 802
						controls_state = 106
						controls_state = 105
						controls_state = 108
						controls_state = 107
						controls_state = 102
						controls_state = 803
						controls_state = 45
						controls_state = 764
					}
				}
				ROOT = {
					create_wargoal = {
						type = take_state_focus
						generator = {
							9
							69
							70
							71
							72
							73
							74
							75
							664
							48
							211
							212
							801
							97
							85
							762
							90
							88
							92
							91
							95
							94
							86
							98
							89
							10
							96
							784
							93
							87
							104
							109
							103
							999
							804
							802
							106
							105
							108
							107
							102
							803
							45
							764
						}
						target = PREV
					}
				}
			}
		}
	}
	focus = {
		id = SOV_the_fate_of_romania
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_our_slavic_commitments
			focus = SOV_panslavic_nationalism
		}
		x = 2
		y = 1
		relative_position_id = SOV_our_slavic_commitments
		cost = 3
		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = ROM
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		available = {
			is_subject = no
			country_exists = ROM
		}
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = ROM
			}
		}
	}
	focus = {
		id = SOV_pacify_the_rim
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = SOV_dismantle_the_zemsky_sobor
			focus = SOV_romanov_reconstruction
		}
		x = -1
		y = 1
		relative_position_id = SOV_dismantle_the_zemsky_sobor
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		available = {
			has_full_control_of_state = 408
			has_full_control_of_state = 409
			has_full_control_of_state = 657
		}
		completion_reward = {
			408 = {
				if = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
			}
			409 = {
				if = {
					limit = {
						air_base < 5
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}
			657 = {
				if = {
					limit = {
						air_base < 4
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
			}
			# Krasnoyarsk-Irkutsk
			build_railway = {
				path = {
					12691
					12621
					1876
					1813
					10549
					10661
					12540
					4797
				}
			}
			# Chita-Belogorsk
			build_railway = {
				path = {
					4677
					7725
					10559
					12543
					7851
					10678
					12657
					7763
					4725
				}
			}
		}
	}
	focus = {
		id = SOV_eastern_expansion
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_pacify_the_rim
		}
		prerequisite = { focus = SOV_dismantle_the_zemsky_sobor
		}
		x = 5
		y = 1
		relative_position_id = SOV_pacify_the_rim
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
		}
		completion_reward = {
			add_ideas = SOV_siberian_lessons
			every_owned_state = {
				limit = {
					OR = {
						state = 822
						state = 562
						state = 637
					}
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			637 = {
				if = {
					limit = {
						air_base < 4
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				add_building_construction = {
					type = naval_base
					level = 3
					instant_build = yes
					province = 4728
				}
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
			}
			408 = {
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 957
				}
			}
		}
	}
	focus = {
		id = SOV_intervention_in_the_americas
		icon = GFX_focus_SOV_ivan_plays_baseball
		prerequisite = { focus = SOV_eastern_expansion
		}
		x = 1
		y = 1
		relative_position_id = SOV_eastern_expansion
		mutually_exclusive = {
			focus = SOV_into_central_asia
		}
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
		}
		available = {
			is_subject = no
		}
		completion_reward = {
			if = {
				limit = {
					is_in_faction = no
				}
				create_faction = NPTO
			}
			effect_tooltip = {
				every_other_country = {
					limit = {
						any_owned_state = {
							is_capital = yes
							is_on_continent = south_america
						}
						NOT = {
							has_government = fascism
						}
					}
					add_timed_idea = {
						idea = SOV_russian_political_influence
						days = 730
					}
				}
			}
			custom_effect_tooltip = SOV_intervention_in_the_americas_tt
			hidden_effect = {
				every_other_country = {
					limit = {
						any_owned_state = {
							is_capital = yes
							is_on_continent = south_america
						}
						NOT = {
							has_government = fascism
						}
					}
					country_event = {
						id = NSB_soviet_fascist_tsarist.4
						days = 3
						random_days = 4
					}
					set_country_flag = SOV_political_influence_americas_flag
				}
			}
			every_other_country = {
				limit = {
					any_owned_state = {
						is_capital = yes
						is_on_continent = south_america
					}
					has_government = fascism
					is_in_faction = no
				}
				country_event = {
					id = NSB_soviet_fascist_tsarist.5
					days = 3
					random_days = 4
				}
			}
			news_event = {
				id = nsb_news.403
				days = 35
				random_days = 34
			}
		}
	}
	focus = {
		id = SOV_restore_the_old_eastern_empire
		icon = GFX_focus_SOV_old_eastern_empire
		prerequisite = { focus = SOV_intervention_in_the_americas
		}
		x = 0
		y = 1
		relative_position_id = SOV_intervention_in_the_americas
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		available = {
			is_subject = no
		}
		completion_reward = {
			create_wargoal = {
				type = take_state_focus
				target = CAN
				generator = {
					471
					739
					740
					473
				}
			}
			create_wargoal = {
				type = take_state_focus
				target = USA
				generator = {
					463
					386
					385
				}
			}
		}
	}
	focus = {
		id = SOV_into_central_asia
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_eastern_expansion
		}
		x = -1
		y = 1
		relative_position_id = SOV_eastern_expansion
		mutually_exclusive = {
			focus = SOV_intervention_in_the_americas
		}
		cost = 3
		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = AFG
		will_lead_to_war_with = PER
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		available = {
			is_subject = no
		}
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = AFG
			}
			create_wargoal = {
				type = annex_everything
				target = PER
			}
		}
	}
	focus = {
		id = SOV_the_last_break_southward
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SOV_into_central_asia
		}
		x = 0
		y = 1
		relative_position_id = SOV_into_central_asia
		cost = 3
		ai_will_do = {
			factor = 1
		}
		will_lead_to_war_with = IRQ
		will_lead_to_war_with = TUR
		will_lead_to_war_with = FRA
		will_lead_to_war_with = RAJ
		will_lead_to_war_with = PAK
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		available = {
			is_subject = no
		}
		completion_reward = {
			create_wargoal = {
				type = annex_everything
				target = IRQ
			}
			if = {
				limit = {
					NOT = {
						has_completed_focus = SOV_the_rightful_heir_to_the_empire
					}
				}
				create_wargoal = {
					type = annex_everything
					target = TUR
				}
			}
			create_wargoal = {
				type = take_state_focus
				target = FRA
				generator = {
					553
					554
					677
					680
					799
				}
			}
			if = {
				limit = {
					country_exists = PAK
				}
				create_wargoal = {
					type = annex_everything
					target = PAK
				}
			}
			create_wargoal = {
				type = annex_everything
				target = RAJ
			}
		}
	}
	focus = {
		id = SOV_rebuild_the_far_eastern_fleet
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = SOV_pacify_the_rim
		}
		x = 0
		y = 1
		relative_position_id = SOV_pacify_the_rim
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_NAVY_XP
		}
		completion_reward = {
			navy_experience = 10
			408 = {
				if = {
					limit = {
						free_building_slots = {
							building = dockyard
							size > 3
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = dockyard
						level = 4
						instant_build = yes
					}
				}
			}
			409 = {
				if = {
					limit = {
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			637 = {
				if = {
					limit = {
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = SOV_modernize_the_far_eastern_fleet
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = SOV_rebuild_the_far_eastern_fleet
		}
		x = -2
		y = 1
		relative_position_id = SOV_rebuild_the_far_eastern_fleet
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_RESEARCH
			FOCUS_FILTER_NAVY_XP
		}
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = SOV_modernize_the_far_eastern_fleet
				bonus = 0.5
				uses = 4
				category = dd_tech
				category = cl_tech
				category = ca_tech
				category = bb_tech
				category = cv_tech
				category = ss_tech
			}
			add_timed_idea = {
				idea = SOV_modernize_the_far_eastern_fleet
				days = 730
			}
		}
	}
	focus = {
		id = SOV_memories_of_1905
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SOV_rebuild_the_far_eastern_fleet
		}
		mutually_exclusive = {
			focus = SOV_japanese_overtures
		}
		x = 0
		y = 1
		relative_position_id = SOV_rebuild_the_far_eastern_fleet
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_WAR_SUPPORT
			FOCUS_FILTER_INDUSTRY
			FOCUS_FILTER_NAVY_XP
		}
		completion_reward = {
			navy_experience = 15
			408 = {
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 957
				}
			}
			add_timed_idea = {
				idea = SOV_memories_of_1905_idea
				days = 365
			}
		}
	}
	focus = {
		id = SOV_the_lonely_island
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = SOV_memories_of_1905
		}
		x = 0
		y = 1
		relative_position_id = SOV_memories_of_1905
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
			FOCUS_FILTER_ANNEXATION
		}
		completion_reward = {
			if = {
				limit = {
					OR = {
						NOT = {
							has_completed_focus = SOV_request_imperial_protection
						}
						NOT = {
							is_subject_of = JAP
						}
					}
				}
				create_wargoal = {
					type = take_state_focus
					target = JAP
					generator = {
						536
						537
						555
					}
				}
			}
			if = {
				limit = {
					has_completed_focus = SOV_request_imperial_protection
					is_subject_of = JAP
				}
				if = {
					limit = {
						has_war_together_with = JAP
					}
					every_enemy_country = {
						SOV = {
							white_peace = PREV
						}
					}
				}
				JAP = {
					set_autonomy = {
						target = SOV
						autonomy_state = autonomy_free
					}
				}
				leave_faction = yes
				create_wargoal = {
					type = puppet_wargoal_focus
					target = JAP
				}
			}
		}
	}
	focus = {
		id = SOV_an_empire_in_the_pacific
		icon = GFX_focus_SOV_pacific_empire
		prerequisite = { focus = SOV_the_lonely_island
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_lonely_island
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
		}
		completion_reward = {
			custom_effect_tooltip = SOV_an_empire_in_the_pacific_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							is_core_of = SIK
							is_core_of = XSM
							is_core_of = SHX
							is_core_of = PRC
							is_core_of = CHI
							is_core_of = YUN
							is_core_of = GXC
							is_core_of = MEN
							is_core_of = MAN
						}
					}
					add_claim_by = ROOT
				}
			}
			add_ideas = SOV_an_empire_in_the_pacific_idea
		}
	}
	focus = {
		id = SOV_the_berlin_moscow_axis
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = SOV_pacify_the_rim
		}
		x = 2
		y = 1
		relative_position_id = SOV_pacify_the_rim
		cost = 3
		ai_will_do = {
			factor = 1
		}
		bypass = {
			is_in_faction_with = GER
			GER = {
				is_faction_leader = yes
			}
		}
		search_filters = {
		}
		available = {
			is_subject = no
			is_in_faction = no
			GER = {
				is_faction_leader = yes
				has_government = fascism
			}
		}
		completion_reward = {
			GER = {
				country_event = {
					id = NSB_soviet_fascist_tsarist.22
					hours = 6
				}
			}
		}
	}
	focus = {
		id = SOV_japanese_overtures
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_the_berlin_moscow_axis
		}
		mutually_exclusive = {
			focus = SOV_memories_of_1905
		}
		x = 0
		y = 1
		relative_position_id = SOV_the_berlin_moscow_axis
		cost = 3
		ai_will_do = {
			factor = 1
		}
		search_filters = {
		}
		available = {
			is_subject = no
			is_in_faction_with = GER
			GER = {
				is_faction_leader = yes
			}
			JAP = {
				is_in_faction = no
				has_government = fascism
			}
		}
		completion_reward = {
			GER = {
				country_event = {
					id = NSB_soviet_fascist_tsarist.25
					hours = 6
				}
			}
		}
	}
}