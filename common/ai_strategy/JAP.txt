	# befriend
# conquer
# antagonize
# build_ship
# build_army
# unit_ratio
# build_building
# research_tech
# garrison
# protect
# influence

JAP_roles = {
	allowed = {
		original_tag = JAP
	}
	enable = {
		always = yes
	}
	abort = {
		always = no
	}

	#land units

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 90
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = 10
	}
}

JAP_build_up_1936 = {
	allowed = {
		original_tag = JAP
	}
	enable = {
		has_war = no
		date < 1936.8.1
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = fuel_silo
		value = 8
	}
}

JAP_build_up_1937 = {
	allowed = {
		original_tag = JAP
	}
	enable = {
		date > 1937.1.1
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 500
	}
}

JAP_build_some_factories_jeez = {
	allowed = {
		tag = JAP
	}
	enable = {
		date > 1939.1.2
	}
	abort = {
		OR = {
			num_of_military_factories > 400
			CHI = { is_subject_of = JAP }
		}
	}

	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 15
	}
}

JAP_attack_hawaii = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = USA
		NOT = {
			has_full_control_of_state = 629
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		state = 629
		value = 100
	}
}

JAP_dont_ally_with_SOV = {
	allowed = {
		tag = JAP
	}
	enable = {
		country_exists = SOV
		NOT = {
			has_war_with = SOV
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = alliance
		id = "SOV"
		value = -1000
	}
}

JAP_northern_expansion = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_completed_focus = JAP_non_aggression_pact_with_the_usa
		country_exists = SOV
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "SOV"
		value = 500
	}

	ai_strategy = {
		type = antagonize
		id = "SOV"
		value = 200
	}
}

MEN_mengjiang = {
	allowed = {
		tag = MEN
	}
	enable = {
		NOT = { has_war_with = MON }
		NOT = { has_war_with = MAN }
		date < 1937.9.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "SHX"
		value = 500
	}
}

JAP_chinese_war_invasions_1 = { #Historical invasion of Shandong
	allowed = {
		tag = JAP
	}
	enable = {
		NOT = {
			has_idea = JAP_navy_slighted
		}
		has_war_with = CHI
		has_war_with = SHA
		608 = { is_controlled_by = JAP }
		date > 1937.11.1
		date < 1938.4.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control

		area = east_china

		ordertype = invasion
		execute_order = yes
	}

	#ai_strategy = {
	#	type = invade
	#	id = "SHA"
	#	value = 1000
	#}
}

JAP_chinese_war_invasions_2 = { #If japan is failing
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		NOT = { has_war_with = SOV }
		OR = {
			608 = { #Beijing
				CONTROLLER = {
					has_War_with = JAP
				}
			}
			924 = { #Shanghai
				CONTROLLER = {
					has_War_with = JAP
				}
			}
		}
		597 = { #Shandong
			CONTROLLER = {
				has_War_with = JAP
			}
		}
		596 = { #Zhejiang
			CONTROLLER = {
				has_War_with = JAP
			}
		}
		595 = { #Fujian
			CONTROLLER = {
				has_War_with = JAP
			}
		}
		592 = { #Guangzhou
			CONTROLLER = {
				has_War_with = JAP
			}
		}
		date > 1938.4.1
		date < 1940.1.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control

		area = east_china

		ordertype = invasion
		execute_order = yes
	}

	ai_strategy = {
		type = invade
		id = "CHI"
		value = 4000
	}
}

JAP_chinese_war_invasions_3 = { #Invade the coastline
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		NOT = { has_war_with = SOV }
		OR = {
			NOT = { has_war_with = SHA }
			NOT = { country_exists = SHA }
		}
		608 = { #Bejing
			is_fully_controlled_by = controller
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		1011 = { #Central Hebei
			is_fully_controlled_by = controller
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		614 = { #S Hebei
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		614 = { #S Hebei
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		597 = { #Shandong
			is_fully_controlled_by = controller
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		925 = { #Jiangsu
			is_fully_controlled_by = controller
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		606 = { #Anhui
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		598 = { #Nanjing
			is_fully_controlled_by = controller
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		date > 1939.1.1
		date < 1940.1.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control

		area = east_china

		ordertype = invasion
		execute_order = yes
	}

	ai_strategy = {
		type = front_control

		area = shanghai_china

		ordertype = invasion
		execute_order = yes
	}

	ai_strategy = {
		type = front_control

		area = south_china

		ordertype = invasion
		execute_order = yes
	}

	ai_strategy = {
		type = invade
		id = "CHI"
		value = 2000
	}

	ai_strategy = {
		type = invade
		id = "SOV"
		value = -4000
	}
}

chinese_war_invasions_4 = { #Dont Invade the coastline
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		OR = {
			date < 1939.1.1
			AND = {
				NOT = {
					608 = { #Bejing
						is_fully_controlled_by = controller
						CONTROLLER = {
							OR = {
								tag = JAP
								is_subject_of = JAP
							}
						}
					}
				}
				NOT = {
					1011 = { #Central Hebei
						is_fully_controlled_by = controller
						CONTROLLER = {
							OR = {
								tag = JAP
								is_subject_of = JAP
							}
						}
					}
				}
				NOT = {
					614 = { #S Hebei
						CONTROLLER = {
							OR = {
								tag = JAP
								is_subject_of = JAP
							}
						}
					}
				}
				NOT = {
					614 = { #S Hebei
						CONTROLLER = {
							OR = {
								tag = JAP
								is_subject_of = JAP
							}
						}
					}
				}
				NOT = {
					597 = { #Shandong
						is_fully_controlled_by = controller
						CONTROLLER = {
							OR = {
								tag = JAP
								is_subject_of = JAP
							}
						}
					}
				}
				NOT = {
					925 = { #Jiangsu
						is_fully_controlled_by = controller
						CONTROLLER = {
							OR = {
								tag = JAP
								is_subject_of = JAP
							}
						}
					}
				}
				NOT = {
					606 = { #Anhui
						CONTROLLER = {
							OR = {
								tag = JAP
								is_subject_of = JAP
							}
						}
					}
				}
				NOT = {
					598 = { #Nanjing
						is_fully_controlled_by = controller
						CONTROLLER = {
							OR = {
								tag = JAP
								is_subject_of = JAP
							}
						}
					}
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "CHI"
		value = -5000
	}
}

JAP_chinese_prep = {
	allowed = {
		tag = JAP
	}

	enable = {
		OR = {
			has_government = fascism
			has_government = neutrality
		}
		NOT = { 608 = { is_controlled_by = JAP } }
		NOT = { 608 = { is_controlled_by = RNC } }
		NOT = { 608 = { is_controlled_by = PGC } }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "MEN"
		value = 1000
	}
}

JAP_chinese_prep_2 = {
	allowed = {
		tag = JAP
	}
	enable = {
		NOT = {
			has_completed_focus = JAP_strike_south_doctrine
			has_completed_focus = JAP_strike_north_doctrine
			has_completed_focus = JAP_address_the_he_umezu_agreement
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		area = east_china
		value = 150
	}

	ai_strategy = {
		type = front_unit_request

		area = shanghai_china
		value = 250
	}

	ai_strategy = {
		type = front_unit_request

		state = 924
		value = 25
	}


	ai_strategy = {
		type = antagonize
		id = "CHI"
		value = 500
	}
	ai_strategy = {
		type = conquer
		id = "CHI"
		value = 500
	}
	ai_strategy = {
		type = conquer
		id = "HPC"
		value = 500
	}
	ai_strategy = {
		type = area_priority
		id = east_china
		value = 1000
	}

	ai_strategy = {
		type = area_priority
		id = shanghai_china
		value = 1000
	}

	ai_strategy = {
		type = area_priority
		id = south_china
		value = 400
	}

	ai_strategy = {
		type = area_priority
		id = philippines
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = central_pacific
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = south_pacific
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = oceania
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = australia_new_zealand
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = east_asia
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = malaysia
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = japan
		value = -500
	}
}

JAP_shanghai_request = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		NOT = {
			has_completed_focus = JAP_strike_south_doctrine
			has_completed_focus = JAP_strike_north_doctrine
			has_completed_focus = JAP_address_the_he_umezu_agreement
		}
		OR = {
			598 = { CONTROLLER = { has_war_with = ROOT } }
			613 = { CONTROLLER = { has_war_with = ROOT } }
			924 = { CONTROLLER = { has_war_with = ROOT } }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		area = shanghai_china
		value = 250
	}
}

JAP_chinese_war_early = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		date < 1938.1.1
		NOT = {
			OR = {
				has_war_with = USA
				620 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
			}
		}
	}
	abort_when_not_enabled = yes


	ai_strategy = {
		type = front_control
		priority = 100
		tag = CHI
		ordertype = front
		execution_type = rush
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		priority = 100
		tag = SHA
		ordertype = front
		execution_type = rush
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		priority = 100
		tag = HPC
		ordertype = front
		execution_type = rush
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		tag = SHX
		ordertype = front
		execution_type = careful
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		tag = PRC
		ordertype = front
		execution_type = careful
		execute_order = yes
	}

	ai_strategy = {
		type = front_unit_request

		area = north_china
		value = -80
	}

	ai_strategy = {
		type = front_unit_request
		strategic_region = 143
		value = 25
	}
}


JAP_shanghai_grab_it_2 = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		date > 1938.1.1
		date < 1939.1.1
		NOT = {
			OR = {
				has_war_with = USA
				620 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		priority = 100
		tag = CHI
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		priority = 100
		tag = SHA
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		priority = 100
		tag = HPC
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		tag = SHX
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		tag = PRC
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}

	ai_strategy = {
		type = front_unit_request

		area = north_china
		value = -80
	}

	ai_strategy = {
		type = front_unit_request
		strategic_region = 143
		value = 25
	}
}

JAP_kill_the_chinese_navy = {
	allowed = {
		original_tag = JAP
	}
	enable = {
		has_war_with = CHI
		NOT = {
			has_war_with = ENG
			has_war_with = USA
			has_war_with = RAJ
			has_war_with = AST
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = strike_force_home_base
		id = 77
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 76
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 75
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 240
	}
}

JAP_chinese_war_2 = {
	allowed = {
		tag = JAP
	}
	enable = {
		NOT = {
			620 = {
				CONTROLLER = {
					OR = {
						tag = JAP
						is_in_faction_with = JAP
						is_subject_of = JAP
					}
				}
			}
		}
		has_war_with = CHI
		NOT = {
			AND = {
				date > 1944.4.19
				date > 1944.12.31
			}
		}
		OR = {
			date > 1939.1.1
			has_war_with = USA
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		priority = 100
		tag = CHI
		ordertype = front
		execution_type = careful
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		tag = SHA
		ordertype = front
		execution_type = careful
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		tag = HPC
		ordertype = front
		execution_type = rush
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		tag = SHX
		ordertype = front
		execution_type = careful
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		tag = PRC
		ordertype = front
		execution_type = careful
		execute_order = yes
	}
}

JAP_chinese_war_2_wuhan_taken = {
	allowed = {
		tag = JAP
	}
	enable = {
		620 = {
			CONTROLLER = {
				OR = {
					tag = JAP
					is_in_faction_with = JAP
					is_subject_of = JAP
				}
			}
		}
		has_war_with = CHI
		NOT = {
			AND = {
				date > 1944.4.19
				date > 1944.12.31
			}
		}
		OR = {
			date > 1939.1.1
			has_war_with = USA
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		priority = 100
		tag = CHI
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}

	ai_strategy = {
		type = front_control
		tag = SHA
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}

	ai_strategy = {
		type = front_control
		tag = HPC
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}

	ai_strategy = {
		type = front_control
		tag = SHX
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}

	ai_strategy = {
		type = front_control
		tag = PRC
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}
}



JAP_chinese_war_3_ichi_go = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		AND = {
			date > 1944.4.19
			date > 1944.12.31
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		priority = 100
		tag = CHI
		ordertype = front
		execution_type = rush
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		priority = 100
		tag = SHA
		ordertype = front
		execution_type = rush
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		priority = 100
		tag = HPC
		ordertype = front
		execution_type = rush
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		tag = SHX
		ordertype = front
		execution_type = rush
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		tag = PRC
		ordertype = front
		execution_type = rush
		execute_order = yes
	}

	ai_strategy = {
		type = front_unit_request

		area = north_china
		value = -80
	}

	ai_strategy = {
		type = front_unit_request
		strategic_region = 143
		value = 25
	}
}

JAP_chinese_war_4 = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		date > 1940.1.1
		OR = {
			AND = {
				598 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
				613 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
				924 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
				606 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
				620 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
				925 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
				597 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
				614 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
				1011 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
				927 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
				611 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
				743 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
				937 = {
					CONTROLLER = {
						OR = {
							tag = JAP
							is_in_faction_with = JAP
							is_subject_of = JAP
						}
					}
				}
			}
			has_war_with = USA
		}
	}
	abort_when_not_enabled = yes


	ai_strategy = {
		type = invade
		id = "CHI"
		value = -5000
	}
}

JAP_bomb_chonqing = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strategic_air_importance
		id = 214
		value = 80000 #value of stocked main front in active combat is usually around 35,000
	}
}

JAP_anti_bombing = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = USA
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strategic_air_importance
		id = 154
		value = 10000 #value of stocked main front in active combat is usually around 35,000
	}
}

JAP_keep_that_oil_coming = {
	allowed = {
		original_tag = JAP
	}
	enable = {
		has_war = yes
		NOT = {
			has_war_with = USA
		}
		NOT = {
			has_country_flag = embargoed_by_USA
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = diplo_action_desire
		id = USA
		target = improve_relation
		value = 2000
	}
}

JAP_generic_southern_expansion = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_completed_focus = JAP_strike_south_doctrine
		date > 1941.6.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "PHI"
		value = 500
	}

	ai_strategy = {
		type = conquer
		id = "INS"
		value = 500
	}

	ai_strategy = {
		type = conquer
		id = "MAL"
		value = 500
	}

	ai_strategy = {
		type = conquer
		id = "BRM"
		value = 500
	}

	ai_strategy = {
		type = front_unit_request

		area = east_asia
		value = 100
	}

	ai_strategy = {
		type = front_unit_request

		area = malaysia
		value = 100
	}
}

JAP_first_southern_expansion = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_completed_focus = JAP_strike_south_doctrine
		NOT = {
			AND = {
				country_exists = IPI
				country_exists = IPM
				country_exists = IPP
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "CHI"
		value = -4000
	}

	ai_strategy = {
		type = invade
		id = "ENG"
		value = -1000
	}

	#ai_strategy = {
	#	type = front_unit_request
	#
	#	area = philippines
	#	value = 150
	#}

	ai_strategy = {
		type = conquer
		id = "PHI"
		value = 500
	}

	ai_strategy = {
		type = conquer
		id = "INS"
		value = 500
	}

	ai_strategy = {
		type = conquer
		id = "MAL"
		value = 500
	}

	ai_strategy = {
		type = area_priority
		id = philippines
		value = 5000
	}

	ai_strategy = {
		type = area_priority
		id = oceania
		value = 5000
	}

	ai_strategy = {
		type = area_priority
		id = australia_new_zealand
		value = -2000
	}

	ai_strategy = {
		type = area_priority
		id = china_coast
		value = 5000
	}
}

Japan_phillipines_push = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = PHI
		PHI = {
			has_capitulated = no
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		tag = PHI
		ordertype = front
		execution_type = rush
		execute_order = yes
		manual_attack = yes
	}
}

Japan_malaya_push = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = MAL
		MAL = {
			has_capitulated = no
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		tag = MAL
		ordertype = front
		execution_type = rush
		execute_order = yes
		manual_attack = yes
	}
}

Japan_indonesia_push = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = INS
		OR = {
			INS = {
				has_capitulated = no
			}
			NOT = {
				country_exists = IPI
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		tag = INS
		ordertype = front
		execution_type = rush
		execute_order = yes
		manual_attack = yes
	}

	ai_strategy = {
		type = front_unit_request
		state = 335
		value = 50
	}
}

Japan_malaya_done = {
	allowed = {
		tag = JAP
	}
	enable = {
		country_exists = IPI
		country_exists = IPM
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "MAL"
		value = -1000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = MAL
		value = -1000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = IPM
		value = -1000
	}
}

Japan_indonesia_done = {
	allowed = {
		tag = JAP
	}
	enable = {
		country_exists = IPI
		country_exists = IPM
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "INS"
		value = -1000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = INS
		value = -1000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = IPI
		value = -1000
	}
}

#Japan_phillipines_done = {
#	allowed = {
#		tag = JAP
#	}
#	enable = {
#		country_exists = IPP
#	}
#	abort_when_not_enabled = yes
#
#	ai_strategy = {
#		type = invade
#		id = "PHI"
#		value = -1000
#	}
#}

Japan_fight_the_US = {
	allowed = {
		tag = JAP
	}
	enable = {
		INS = {
			has_capitulated = yes
		}
		PHI = {
			has_capitulated = yes
		}
		MAL = {
			has_capitulated = yes
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "AST"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "NZL"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "RAJ"
		value = -2000
	}
}

##############################################################

JAP_protect_our_expansion = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war = yes
		date > 1944.1.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = garrison
		value = 40
	}
}

JAP_complete_southern_expansion = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_completed_focus = JAP_strike_south_doctrine
	}
	abort = {
		MAL = { has_capitulated = yes }
		PHI = { has_capitulated = yes }
		INS = { has_capitulated = yes }
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 47 #MED
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 48 #MED
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 249 #MED
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 219 #MED
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 68 #MED
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 169 #MED
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 29 #MED
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 168 #MED
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 218 #MED
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 269 #MED
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 202 #MED
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 69 #MED
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 327 #central med
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 176 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 227 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 228 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 96 #N Emperor
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 114 #cenral ne pacific
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 232 #e central pacific
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 110 #e central pacific
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 107 #e central pacific
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 175 #s central pacific
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 172 #pacific line ridge
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 95 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 83 #Solomon Sea
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 81 #Coral Sea
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 86 #Tasman Sea
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 341 #Tasman Basin
		value = 2000
	}

	ai_strategy = {
		type = area_priority
		id = central_pacific
		value = 500
	}

	ai_strategy = {
		type = area_priority
		id = south_pacific
		value = 500
	}

	ai_strategy = {
		type = area_priority
		id = china_coast
		value = 100
	}

	ai_strategy = {
		type = area_priority
		id = oceania
		value = 500
	}

	ai_strategy = {
		type = area_priority
		id = east_asia
		value = 500
	}
}

JAP_strike_usa = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_completed_focus = JAP_strike_south_doctrine
		country_exists = USA
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = antagonize
		id = "USA"
		value = 200
	}

	ai_strategy = {
		type = antagonize
		id = "PHI"
		value = 200
	}
}

JAP_if_usa_gets_too_strong_stop_invading = {
	allowed = {
		tag = JAP
	}
	enable = {
		date > 1943.1.1
		has_war_with = USA
		JAP = {
			naval_strength_ratio = {
				tag = USA
				ratio < 0.5
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "USA"
		value = -1000
	}
	ai_strategy = {
		type = invade
		id = "ENG"
		value = -1000
	}
	ai_strategy = {
		type = invade
		id = "INS"
		value = -1000
	}
	ai_strategy = {
		type = invade
		id = "MAL"
		value = -1000
	}
	ai_strategy = {
		type = invade
		id = "PHI"
		value = -1000
	}
	ai_strategy = {
		type = invade
		id = "AST"
		value = -1000
	}
	ai_strategy = {
		type = invade
		id = "UKO"
		value = -1000
	}
}

japan_no_lend_lease = {
	allowed = {
		OR = {
			tag = JAP
			tag = SIA
			is_subject_of = JAP
		}	
	}
	enable = {
		always = yes
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_lend_lease_desire
		id = "GER"
		value = -2000
	}

	ai_strategy = {
		type = support
		id = "GER"
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = GER
		target = lend_lease
		value = -5000
	}
	
	ai_strategy = {
		type = diplo_action_acceptance
		id = GER
		target = incoming_lend_lease
		value = -5000
	}
	
	ai_strategy = {
		type = send_lend_lease_desire
		id = "ITA"
		value = -2000
	}

	ai_strategy = {
		type = support
		id = "ITA"
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_acceptance
		id = ITA
		target = lend_lease
		value = -5000
	}
	
	ai_strategy = {
		type = diplo_action_acceptance
		id = ITA
		target = incoming_lend_lease
		value = -5000
	}
	
	ai_strategy = {
		type = diplo_action_acceptance
		id = GER
		target = docking_rights
		value = -5000
	}
	
	ai_strategy = {
		type = diplo_action_acceptance
		id = ITA
		target = docking_rights
		value = -5000
	}
	
	ai_strategy = {
		type = diplo_action_acceptance
		id = GER
		target = offer_docking_rights
		value = -5000
	}
	
	ai_strategy = {
		type = diplo_action_acceptance
		id = ITA
		target = offer_docking_rights
		value = -5000
	}
}

#Stop naval invading india and the middle east you idiot AI
JAP_no_touching_india = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = USA
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "RAJ"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "UKM"
		value = -2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 111 #e central pacific
		value = 2000
	}
}

# "I can run wild for six monthsâ€¦ after that, I have no expectation of success"
JAP_hush_yamamoto_its_gonna_be_ok = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_completed_focus = JAP_strike_south_doctrine
		country_exists = USA
		NOT = { has_war_with = USA }
	}

	abort = {
		OR = {
			has_war_with = USA
			NOT = {
				country_exists = USA
			}
		}
	}

	ai_strategy = {
		type = consider_weak
		id = "USA"
		value = 75
	}
}

JAP_conserve_fuel_for_usa_fight = {
	allowed = {
		tag = JAP
	}
	enable = {
		date < 1941.1.1
		NOT = { has_war_with = USA }
		NOT = { has_war_with = ENG }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_mission_threshold
		id = "MISSION_CONVOY_ESCORT"
		value = 150 #puts our threshold at 250
	}
}

JAP_germany_ally = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_completed_focus = JAP_technological_exchanges
		country_exists = GER
		GER = { has_government = ROOT }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = befriend
		id = "GER"
		value = 200
	}
}

JAP_template_design = {
	allowed = {
		original_tag = JAP
	}
	enable = {
		date > 1940.1.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = template_prio
		id = infantry
		value = -10
	}

	ai_strategy = {
		type = template_prio
		id = motorized
		value = 10
	}

	ai_strategy = {
		type = template_prio
		id = cavalry
		value = -100
	}

	ai_strategy = {
		type = template_prio
		id = light_armor
		value = -10
	}

	ai_strategy = {
		type = template_prio
		id = medium_armor
		value = 60
	}

	ai_strategy = {
		type = template_prio
		id = modern_armor
		value = 80
	}

	ai_strategy = {
		type = template_prio
		id = heavy_armor
		value = -100
	}

	ai_strategy = {
		type = template_prio
		id = paratroopers
		value = -10
	}

	ai_strategy = {
		type = template_prio
		id = mechanized
		value = -50
	}
}

# hey dynamic targets would be swole as f*
JAP_all_china_must_prosper_in_my_prosperity_sphere_SIK = {
	allowed = {
		tag = JAP
	}

	enable = {
		OR = {
			NOT = { country_exists = CHI }
			CHI = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		country_exists = SIK
		OR = {
			NOT = { SIK = { is_in_faction_with = SOV } }
			AND = {
				SIK = { is_in_faction_with = SOV }
				has_war_with = SOV
			}
		}
		NOT = {
			YUN = {
				OR = {
					is_in_faction_with = JAP
					is_puppet_of = JAP
				}
			}
		}
	}

	abort = {
		NOT = { country_exists = SIK }
		SIK = {
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "SIK"
		value = 5000
	}
}
JAP_all_china_must_prosper_in_my_prosperity_sphere_XSM = {
	allowed = {
		tag = JAP
	}

	enable = {
		OR = {
			NOT = { country_exists = CHI }
			CHI = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		country_exists = XSM
		NOT = {
			YUN = {
				OR = {
					is_in_faction_with = JAP
					is_puppet_of = JAP
				}
			}
		}
	}

	abort = {
		NOT = { country_exists = XSM }
		XSM = {
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "XSM"
		value = 5000
	}
}
JAP_all_china_must_prosper_in_my_prosperity_sphere_GXC = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			NOT = { country_exists = CHI }
			CHI = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		country_exists = GXC
		NOT = {
			YUN = {
				OR = {
					is_in_faction_with = JAP
					is_puppet_of = JAP
				}
			}
		}
	}

	abort = {
		NOT = { country_exists = GXC }
		GXC = {
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "GXC"
		value = 5000
	}
}
JAP_all_china_must_prosper_in_my_prosperity_sphere_SHX = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			NOT = { country_exists = CHI }
			CHI = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		country_exists = SHX
		NOT = {
			YUN = {
				OR = {
					is_in_faction_with = JAP
					is_puppet_of = JAP
				}
			}
		}
	}

	abort = {
		NOT = { country_exists = SHX }
		SHX = {
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "SHX"
		value = 5000
	}
}
JAP_all_china_must_prosper_in_my_prosperity_sphere_YUN = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			NOT = { country_exists = CHI }
			CHI = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		country_exists = YUN
		NOT = {
			YUN = {
				OR = {
					is_in_faction_with = JAP
					is_puppet_of = JAP
				}
			}
		}
	}

	abort = {
		NOT = { country_exists = YUN }
		YUN = {
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "YUN"
		value = 5000
	}

}
all_china_must_prosper_in_my_prosperity_sphere_PRC = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			NOT = { country_exists = CHI }
			CHI = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		country_exists = PRC
		NOT = {
			YUN = {
				OR = {
					is_in_faction_with = JAP
					is_puppet_of = JAP
				}
			}
		}
	}

	abort = {
		NOT = { country_exists = PRC }
		PRC = {
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "PRC"
		value = 5000
	}
}
JAP_all_china_must_prosper_in_my_prosperity_sphere_GUC = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			NOT = { country_exists = CHI }
			CHI = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		country_exists = GUC
		NOT = {
			YUN = {
				OR = {
					is_in_faction_with = JAP
					is_puppet_of = JAP
				}
			}
		}
	}

	abort = {
		NOT = { country_exists = GUC }
		GUC = {
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "GUC"
		value = 5000
	}
}
JAP_all_china_must_prosper_in_my_prosperity_sphere_XIK = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			NOT = { country_exists = CHI }
			CHI = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		country_exists = XIK
		NOT = {
			YUN = {
				OR = {
					is_in_faction_with = JAP
					is_puppet_of = JAP
				}
			}
		}
	}

	abort = {
		NOT = { country_exists = XIK }
		XIK = {
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "XIK"
		value = 5000
	}
}
JAP_all_china_must_prosper_in_my_prosperity_sphere_SIC = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			NOT = { country_exists = CHI }
			CHI = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		country_exists = SIC
		NOT = {
			YUN = {
				OR = {
					is_in_faction_with = JAP
					is_puppet_of = JAP
				}
			}
		}
	}

	abort = {
		NOT = { country_exists = SIC }
		SIC = {
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "SIC"
		value = 5000
	}
}
JAP_all_china_must_prosper_in_my_prosperity_sphere_SHA = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			NOT = { country_exists = CHI }
			CHI = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		country_exists = SHA
		NOT = {
			YUN = {
				OR = {
					is_in_faction_with = JAP
					is_puppet_of = JAP
				}
			}
		}
	}

	abort = {
		NOT = { country_exists = SHA }
		SHA = {
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "SHA"
		value = 5000
	}
}
JAP_all_china_must_prosper_in_my_prosperity_sphere_HPC = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			NOT = { country_exists = CHI }
			CHI = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		country_exists = HPC
		NOT = {
			YUN = {
				OR = {
					is_in_faction_with = JAP
					is_puppet_of = JAP
				}
			}
		}
	}

	abort = {
		NOT = { country_exists = HPC }
		HPC = {
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "HPC"
		value = 5000
	}
}
JAP_all_china_must_prosper_in_my_prosperity_sphere_NEA = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			NOT = { country_exists = CHI }
			CHI = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		country_exists = NEA
		NOT = {
			YUN = {
				OR = {
					is_in_faction_with = JAP
					is_puppet_of = JAP
				}
			}
		}
	}

	abort = {
		NOT = { country_exists = NEA }
		NEA = {
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
	}

	ai_strategy = {
		type = antagonize
		id = "NEA"
		value = 5000
	}
}

JAP_china_is_weak = {
	allowed = {
		tag = JAP
	}
	enable = {
		date < 1939.10.1
		NOT = { has_war_with = CHI } # only underestimate the japanese before the war
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = consider_weak
		id = "CHI"
		value = 50
	}
}

JAP_push_burma_and_malaya = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			is_in_faction_with = SIA
			SIA = { is_subject_of = JAP }
			has_war_with = USA
			date > 1941.11.1
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = protect
		id = "SIA"
		value = 200
	}

	ai_strategy = {
		type = antagonize
		id = "FRA"
		value = 200
	}

	ai_strategy = {
		type = antagonize
		id = "RAJ"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "RAJ"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "ENG"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "MAL"
		value = 200
	}

	ai_strategy = {
		type = force_defend_ally_borders
		id = "SIA"
		value = 1000
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = east_asia
	}

	ai_strategy = {
		type = area_priority
		id = east_asia
		value = 5000
	}

	ai_strategy = {
		type = area_priority
		id = malaysia
		value = 5000
	}

	ai_strategy = {
		type = protect
		id = "SIA"
		value = 200
	}
}

JAP_dont_overstack_burma_and_malaya = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			has_war_with = USA
			date > 1941.11.1
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		tag = BRM
		value = -50
	}

	ai_strategy = {
		type = front_unit_request
		strategic_region = 188
		value = -50
	}
}

SIA_siams_job = {
	allowed = {
		tag = SIA
	}
	enable = {
		is_in_faction_with = JAP
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = antagonize
		id = "FRA"
		value = 200
	}

	ai_strategy = {
		type = antagonize
		id = "RAJ"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "RAJ"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "ENG"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "MAL"
		value = 200
	}

	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = east_asia
	}

	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = malaysia
	}
}

JAP_building_boats_is_great = {
	allowed = {
		tag = JAP
	}
	enable = {
		num_of_civilian_factories_available_for_projects > 15
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = dockyard_to_military_factory_ratio
		value = 40  #aim for a 2-1 ratio on naval factories
	}
}

JAP_cant_afford_war_with_SOV = {
	allowed = {
		tag = JAP
	}
	enable = {
		country_exists = SOV
		has_government = fascism
		OR = {
			has_war_with = CHI
			has_war_with = FRA
			has_war_with = ENG
			has_war_with = USA
		}
	}
	abort = {
		OR = {
			NOT = {
				country_exists = SOV
			}
			has_war_with = SOV
		}
	}

	ai_strategy = {
		type = befriend
		id = "SOV"
		value = 50
	}

	ai_strategy = {
		type = invade
		id = "SOV"
		value = -150
	}

	ai_strategy = {
		type = antagonize
		id = "SOV"
		value = -200
	}

	ai_strategy = {
		type = conquer
		id = "SOV"
		value = -1000
	}

	ai_strategy = {
		type = declare_war
		id = "SOV"
		value = -2000
	}
}

JAP_dont_mess_with_volunteers = { # Reverse strategy
	reversed = yes
	allowed = {
		NOT = { tag = JAP }
	}
	enable = {
		date < 1941.6.1
		JAP = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}

		capital_scope = {
			is_on_continent = europe # lets not mess with europe
		}
	}

	abort = {
		date > 1941.6.1 #lets go global later yo
		JAP = {
			OR = {
				NOT = {	has_government = fascism }
				NOT = {	has_government = neutrality }
			}
		}
	}

	ai_strategy = {
		type = send_volunteers_desire
		id = "JAP"
		value = -500
	}
}

JAP_naval_role_ratios_historical = {
	allowed = {
		has_dlc = "Man the Guns"
		original_tag = JAP
	}
	enable = {
		date < 1936.8.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = role_ratio
		id = naval_capital_bb
		value = -120
	}

	ai_strategy = {
		type = role_ratio
		id = naval_capital_shbb
		value = 3
	}

	ai_strategy = {
		type = role_ratio
		id = naval_carrier_light
		value = 5
	}

	ai_strategy = {
		type = role_ratio
		id = naval_carrier
		value = 15
	}

	ai_strategy = {
		type = role_ratio
		id = naval_submarine
		value = 50
	}

	ai_strategy = {
		type = role_ratio
		id = naval_screen
		value = 100
	}

	ai_strategy = {
		type = role_ratio
		id = naval_escort
		value = 30
	}

	ai_strategy = {
		type = role_ratio
		id = naval_cruiser_light
		value = 32
	}

	ai_strategy = {
		type = role_ratio
		id = naval_cruiser_heavy
		value = -50
	}

	ai_strategy = {
		type = role_ratio
		id = naval_mine_sweeper
		value = 5
	}

	ai_strategy = {
		type = role_ratio
		id = naval_mine_layer
		value = 5
	}
	# general building directives
	ai_strategy = {
		type = unit_ratio
		id = capital_ship
		value = 2
	}

	ai_strategy = {
		type = unit_ratio
		id = carrier
		value = 4
	}

	ai_strategy = {
		type = unit_ratio
		id = submarine
		value = 5
	}

	ai_strategy = {
		type = unit_ratio
		id = screen_ship
		value = 40
	}

	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = 20
	}
}

JAP_naval_role_ratios_historical_late = {
	allowed = {
		has_dlc = "Man the Guns"
		original_tag = JAP
	}

	enable = {
		date > 1936.8.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = role_ratio
		id = naval_capital_bb
		value = -200
	}

	ai_strategy = {
		type = role_ratio
		id = naval_capital_shbb
		value = -200
	}

	ai_strategy = {
		type = role_ratio
		id = naval_carrier_light
		value = -200
	}

	ai_strategy = {
		type = role_ratio
		id = naval_carrier
		value = -200
	}

	ai_strategy = {
		type = role_ratio
		id = naval_submarine
		value = -200
	}

	ai_strategy = {
		type = role_ratio
		id = naval_screen
		value = 500
	}

	ai_strategy = {
		type = role_ratio
		id = naval_escort
		value = 150
	}

	ai_strategy = {
		type = role_ratio
		id = naval_cruiser_light
		value = -200
	}

	ai_strategy = {
		type = role_ratio
		id = naval_cruiser_heavy
		value = -200
	}

	ai_strategy = {
		type = role_ratio
		id = naval_mine_sweeper
		value = -200
	}

	ai_strategy = {
		type = role_ratio
		id = naval_mine_layer
		value = -200
	}
	# general building directives
	ai_strategy = {
		type = unit_ratio
		id = capital_ship
		value = 3
	}

	ai_strategy = {
		type = unit_ratio
		id = carrier
		value = 4
	}

	ai_strategy = {
		type = unit_ratio
		id = submarine
		value = 5
	}

	ai_strategy = {
		type = unit_ratio
		id = screen_ship
		value = 40
	}

	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = 20
	}
}

JAP_doesnt_care_about_relation = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			has_war = yes
			date < 1940.1.1
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = pp_spend_priority
		id = relation
		value = -99
	}
}

# if china has fallen and we are going for USA we will end up at war with allies suddenly while maybe bordering them,
# but thats hard to guess for AI considering all the steps. So we warn it so it can prep vs the allies
JAP_early_part_beware_allies = {
	allowed = {
		tag = JAP
	}
	enable = {
		USA = { is_in_faction = no }
		focus_progress = {
			focus = JAP_preparations_to_secure_the_islands
			progress > 0
		}
		PHI = {	is_subject_of = USA }
		NOT = { has_war_together_with = ENG }
	}

	abort = {
		OR = {
			USA = { is_in_faction = yes } # they know where to stand so we can go back to regular logic
			has_war_together_with = ENG
		}
	}

	ai_strategy = {
		type = prepare_for_war
		id = "ENG"
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = "FRA"
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = "PHI"
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = "USA"
		value = 100
	}
	ai_strategy = {
		type = prepare_for_war
		id = "RAJ"
		value = 100
	}
}

JAP_USA_we_love_islands = {
	allowed = {
		OR = {
			tag = JAP
			tag = USA
		}
	}
	enable = {
		OR = {
			JAP = { has_war_with = USA }
			CHI = { is_subject_of = JAP }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = area_priority
		id = north_pacific
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = central_pacific
		value = 80
	}

	ai_strategy = {
		type = area_priority
		id = south_pacific
		value = 80
	}
}

#################################################################### AFO ########################################################################


JAP_avoid_europe = {
	allowed = {
		tag = JAP
	}
	enable = {
		NOT = {
			446 = {
				is_controlled_by = JAP
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 100
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 102
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 103
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 65
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 63
		value = 2000
	}

	ai_strategy = {
		type = invade
		id = "UKO"
		value = -2000
	}
}

JAP_protect_home = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			date > 1941.10.1
			has_war_with = USA
		}
		AND = {
			has_full_control_of_state = 528
			has_full_control_of_state = 529
			has_full_control_of_state = 530
			has_full_control_of_state = 531
			has_full_control_of_state = 532
			has_full_control_of_state = 535
			has_full_control_of_state = 282
			has_full_control_of_state = 534
			has_full_control_of_state = 533
			has_full_control_of_state = 536
		}
	}
	abort = {
		NOT = { has_war_with = USA }
		date > 1942.8.1
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# Pacific
		states = {
			629
			630
			631
			632
			638
			863
			646
			648
			645
			526
		}

		ratio = 0.2

		area = central_pacific

		subtract_invasions_from_need = no
	}
}

JAP_protect_home_theyre_too_close = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war = yes
		OR = {
			645 = { is_controlled_by = USA }
			645 = { is_controlled_by = ENG }
			526 = { is_controlled_by = USA }
			526 = { is_controlled_by = ENG }
			524 = { is_controlled_by = USA }
			524 = { is_controlled_by = ENG }
		}
	}
	abort = {
		has_war = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# japan
		states = {
			533
			282
			531
			529
			528
		}

		ratio = 0.8

		area = japan

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 90 # Coast of Japan
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 76
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 94
	}
}

JAP_operation_downfall = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			any_enemy_country = { controls_state = 528 }
			any_enemy_country = { controls_state = 529 }
			any_enemy_country = { controls_state = 530 }
			any_enemy_country = { controls_state = 531 }
			any_enemy_country = { controls_state = 532 }
			any_enemy_country = { controls_state = 535 }
			any_enemy_country = { controls_state = 282 }
			any_enemy_country = { controls_state = 534 }
			any_enemy_country = { controls_state = 533 }
			any_enemy_country = { controls_state = 536 }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		strategic_region = 154
		value = 200
	}
	ai_strategy = {
		type = front_unit_request
		tag = CHI
		value = -100
	}
	ai_strategy = {
		type = front_unit_request
		tag = RAJ
		value = -1000
	}
	ai_strategy = {
		type = front_control
		area = japan
		ordertype = front
		execute_order = yes
	}
}

JAP_conuering_india_means_you_get_cut_up = {
	allowed = {
		tag = JAP
	}
	enable = {
		975 = {
			OR = {
				is_controlled_by = JAP
				CONTROLLER = { is_in_faction_with = JAP }
				CONTROLLER = { is_subject_of = JAP }
			}
		}
		288 = {
			OR = {
				is_controlled_by = JAP
				CONTROLLER = { is_in_faction_with = JAP }
				CONTROLLER = { is_subject_of = JAP }
			}
		}
		640 = {
			OR = {
				is_controlled_by = JAP
				CONTROLLER = { is_in_faction_with = JAP }
				CONTROLLER = { is_subject_of = JAP }
			}
		}
		432 = {
			OR = {
				is_controlled_by = JAP
				CONTROLLER = { is_in_faction_with = JAP }
				CONTROLLER = { is_subject_of = JAP }
			}
		}
		430 = {
			OR = {
				is_controlled_by = JAP
				CONTROLLER = { is_in_faction_with = JAP }
				CONTROLLER = { is_subject_of = JAP }
			}
		}
		431 = {
			OR = {
				is_controlled_by = JAP
				CONTROLLER = { is_in_faction_with = JAP }
				CONTROLLER = { is_subject_of = JAP }
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		area = asia
		value = -100
	}
}
JAP_protect_conqured_lands = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war = yes
		NOT = { has_war_with = SOV }
		date > 1942.8.1
		AND = {
			has_full_control_of_state = 528
			has_full_control_of_state = 529
			has_full_control_of_state = 530
			has_full_control_of_state = 531
			has_full_control_of_state = 532
			has_full_control_of_state = 535
			has_full_control_of_state = 282
			has_full_control_of_state = 534
			has_full_control_of_state = 533
			has_full_control_of_state = 536
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# philippines
		states = {
			623
			327
			624
			627
		}

		ratio = 0.4

		area = philippines

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# east_asia
		states = {
			286
		}

		ratio = 0.6

		area = east_asia

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# malaysia
		states = {
			862
			336
		}

		ratio = 0.6

		area = malaysia

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# oceania
		states = {
			333
			334
			335
			672
		}

		ratio = 0.7

		area = oceania

		subtract_invasions_from_need = no
	}
}

JAP_protect_the_emperor = {
	allowed = {
		tag = JAP
	}

	enable = {
		OR = {
			528 = { CONTROLLER = { has_war_with = ROOT } }
			529 = { CONTROLLER = { has_war_with = ROOT } }
			530 = { CONTROLLER = { has_war_with = ROOT } }
			531 = { CONTROLLER = { has_war_with = ROOT } }
			532 = { CONTROLLER = { has_war_with = ROOT } }
			535 = { CONTROLLER = { has_war_with = ROOT } }
			282 = { CONTROLLER = { has_war_with = ROOT } }
			534 = { CONTROLLER = { has_war_with = ROOT } }
			533 = { CONTROLLER = { has_war_with = ROOT } }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		area = japan
		value = 1000
	}
}

MAN_help_in_northen_china = {
	allowed = {
		tag = MAN
	}
	enable = {
		NOT = { CHI = { is_puppet_of = JAP } }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = area_priority
		id = east_china
		value = 5000
	}

	ai_strategy = {
		type = antagonize
		id = "CHI"
		value = 500
	}
	ai_strategy = {
		type = conquer
		id = "CHI"
		value = 500
	}
	ai_strategy = {
		type = invade
		id = "CHI"
		value = -5000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 75 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 78 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 94
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 90
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 87
		value = 2000
	}

	ai_strategy = {
		type = area_priority
		id = south_china
		value = 100
	}

	ai_strategy = {
		type = area_priority
		id = north_pacific
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = central_pacific
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = south_pacific
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = china_coast
		value = -100
	}

	ai_strategy = {
		type = area_priority
		id = oceania
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = australia_new_zealand
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = east_asia
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = malaysia
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = philippines
		value = -5000
	}

	ai_strategy = {
		type = force_defend_ally_borders
		id = "JAP"
		value = 5000
	}
}

JAP_avoid_joining_preu = { #This is required due to declare_war command executing a reverse check

	allowed = {
		original_tag = JAP
		is_historical_focus_on = yes
	}

	enable = {
		date < 1945.1.1
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = alliance
		id = "PER"
		value = -400
	}
}

##################

RNC_protect_home = {
	allowed = {
		tag = RNC
	}
	enable = {
		has_war_with = CHI
	}
	abort = {
		NOT = { has_war_with = CHI }
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# shanghai_china
		states = {
			598
			613
			924
		}

		ratio = 0.5

		area = shanghai_china

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# east_china
		states = {
			597
			743
			937
		}

		ratio = 0.2

		area = east_china

		subtract_invasions_from_need = no
	}
}