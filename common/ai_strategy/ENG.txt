# befriend
# conquer
# antagonize
# build_ship
# build_army
# unit_ratio
# build_building
# research_tech
# garrison
# protect
# influence

############################################################################################################
##########################                    Production                          ##########################
############################################################################################################

ENG_unit_roles = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		always = yes
	}
	abort = {
		always = no
	}

	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -20
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = 0
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = 0
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = 5
	}

	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = 0
	}

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 60
	}

	ai_strategy = {
		type = role_ratio
		id = mechanized
		value = 50
	}

	ai_strategy = {
		type = role_ratio
		id = motorized
		value = 50
	}

	ai_strategy = {
		type = role_ratio
		id = armor
		value = 10
	}

	ai_strategy = {
		type = role_ratio
		id = heavy_armor
		value = 10
	}
}

ENG_WA_naval_production = {
	allowed = {
		has_dlc = "Man the Guns"
		original_tag = ENG
	}

	enable = {
		has_war = no
	}

	abort_when_not_enabled = yes

	################1:1 ratio

	ai_strategy = {
		type = role_ratio
		id = naval_screen
		value = 200
	}
	ai_strategy = {
		type = role_ratio
		id = naval_escort
		value = 450
	}

	ai_strategy = {
		type = role_ratio
		id = naval_capital_bb
		value = 5
	}

	ai_strategy = {
		type = role_ratio
		id = naval_mine_layer
		value = -1000
	}

	ai_strategy = {
		type = unit_ratio
		id = capital_ship
		value = 400
	}

	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = -1000
	}

	ai_strategy = {
		type = unit_ratio
		id = floating_harbor
		value = 20
	}

	#ai_strategy = {
	#	type = unit_ratio
	#	id = submarine
	#	value = 250
	#}

	#ai_strategy = {
	#	type = role_ratio
	#	id = cruiser_submarine
	#	value = 200
	#}
}

ENG_WA_naval_production_late = {
	allowed = {
		has_dlc = "Man the Guns"
		original_tag = ENG
	}

	enable = {
		has_war = yes
	}

	abort_when_not_enabled = yes

	################1:1 ratio

	ai_strategy = {
		type = role_ratio
		id = naval_screen
		value = 400
	}
	ai_strategy = {
		type = role_ratio
		id = naval_escort #Dont dilute main fleets with shitty frigates
		value = -1000
	}

	ai_strategy = {
		type = role_ratio
		id = naval_capital_bb
		value = 5
	}
	
	ai_strategy = {
		type = role_ratio
		id = naval_cruiser_light
		value = 30
	}

	ai_strategy = {
		type = role_ratio
		id = naval_mine_layer
		value = -1000
	}

	ai_strategy = {
		type = unit_ratio
		id = capital_ship
		value = 400
	}

	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = -1000
	}

	ai_strategy = {
		type = unit_ratio
		id = floating_harbor
		value = 20
	}

	#ai_strategy = {
	#	type = unit_ratio
	#	id = submarine
	#	value = 250
	#}

	#ai_strategy = {
	#	type = role_ratio
	#	id = cruiser_submarine
	#	value = 200
	#}
}


ENG_no_random_construction = {
	allowed = {
		tag = ENG
	}
	enable = {
		always = yes
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 0
	}

	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = -1000
	}
	###########################################################################

	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 857
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 127
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 859
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 123
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 961
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 126
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 338
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 858
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 125
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 860
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 129
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 128
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 122
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 130
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 132
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 131
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 133
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 121
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 136
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 120
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 119
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 988
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 1021
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 331
	}
	ai_strategy = {
		type = build_building
		id = industrial_complex
		value = -200
		target = 332
	}

	###########################################

	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 857
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 127
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 859
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 123
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 961
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 126
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 338
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 858
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 125
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 860
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 129
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 128
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 122
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 130
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 132
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 131
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 133
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 121
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 136
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 120
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 119
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 988
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 1021
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 331
	}
	ai_strategy = {
		type = build_building
		id = arms_factory
		value = -200
		target = 332
	}

	#############################################

	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 857
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 127
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 859
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 123
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 961
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 126
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 338
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 858
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 125
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 860
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 129
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 128
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 122
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 130
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 132
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 131
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 133
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 121
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 136
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 120
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 119
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 988
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 1021
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 331
	}
	ai_strategy = {
		type = build_building
		id = dockyard
		value = -200
		target = 332
	}
}

Allies_bombing_germany_is_too_costly = {
	allowed = {
		OR = {
			original_tag = USA
			original_tag = ENG
			original_tag = CAN
		}
	}
	enable = {
		date > 1941.10.1
		has_war_with = GER
		has_deployed_air_force_size = { size < 900 type = strategic_bomber }
	}
	abort = {
		if = {
			limit = {
				tag = USA
			}
			has_deployed_air_force_size = { size > 2100 type = strategic_bomber }
		}
		if = {
			limit = {
				tag = ENG
			}
			has_deployed_air_force_size = { size > 1500 type = strategic_bomber }
		}
	}

	ai_strategy = {
		type = strategic_air_importance
		id = 6
		value = -1000000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 7
		value = -1000000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 8
		value = -1000000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 294
		value = -1000000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 38
		value = -1000000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 296
		value = -1000000 #value of stocked main front in active combat is usually around 35,000
	}
}

allies_avoid_bombing_austria_prussia = { ######b17 doesnt have enough range
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = USA
		}
	}
	enable = {
		OR = {
			is_in_faction_with = ENG
			is_subject_of = ENG
		}
		NOT = {
			USA = { has_tech = usa_strategic_bomber_5 }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strategic_air_importance
		id = 294
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 38
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
}

battle_of_britain_priority = {
	allowed = {
		OR = {
			tag = ENG
			tag = USA
		}
	}
	enable = {
		is_in_faction_with = ENG
		has_war_with = GER
		GER = {
			is_ai = no
		}
		OR = {
			128 = { is_controlled_by = ENG }
			122 = { is_controlled_by = ENG }
			123 = { is_controlled_by = ENG }
			125 = { is_controlled_by = ENG }
			126 = { is_controlled_by = ENG }
			127 = { is_controlled_by = ENG }
			129 = { is_controlled_by = ENG }
			130 = { is_controlled_by = ENG }
			131 = { is_controlled_by = ENG }
			132 = { is_controlled_by = ENG }
			133 = { is_controlled_by = ENG }
			136 = { is_controlled_by = ENG }
			857 = { is_controlled_by = ENG }
			859 = { is_controlled_by = ENG }
			860 = { is_controlled_by = ENG }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strategic_air_importance
		id = 1
		value = 500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 2
		value = 500000 #value of stocked main front in active combat is usually around 35,000
	}
}

commonwealth_stop_spamming_pointless_lend_lease = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = CAN
			original_tag = AST
			original_tag = SAF
			original_tag = RAJ
			original_tag = NZL
		}
	}
	enable = {
		always = yes
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_lend_lease_desire
		id = "BRM"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "COS"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "NOR"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "UKE"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "UKM"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "HOL"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "PHI"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "MEX"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "ETH"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "IRE"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "GRE"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "BEL"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "CUB"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "HAI"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "COL"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "POL"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "FRA"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "UKN"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "UKT"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "UKO"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "MAL"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "NZL"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "RAJ"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "SAF"
		value = -1000
	}
	ai_strategy = {
		type = send_lend_lease_desire
		id = "CAN"
		value = -1000
	}
}

Commonwealth_stop_soviet_from_falling = {
	enable = {
		NOT = {
			tag = USA
		}
		is_in_faction_with = ENG
		NOT = { has_government = fascism }
		NOT = { is_in_faction_with = GER }
		NOT = { has_war_with = SOV }
		GER = {
			has_war_with = SOV
			has_war_with = ENG
		}
		SOV = {
			has_capitulated = no
		}
	}

	abort = {
		OR = {
			has_war_with = SOV
			NOT = { GER = { has_war_with = SOV } }
			is_in_faction_with = GER
			has_government = fascism
		}
	}

	ai_strategy = {
		type = support
		id = "SOV"
		value = 500
	}

	ai_strategy = {
		type = send_lend_lease_desire
		id = "SOV"
		value = 500
	}

	ai_strategy = {
		type = protect
		id = "SOV"
		value = 500
	}
}

ENG_FRA_allies_avoid_bombing_GER = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = CAN
			original_tag = RAJ
			original_tag = AST
		}
	}
	enable = {
		OR = {
			is_in_faction_with = ENG
			is_subject_of = ENG
		}
		date < 1941.10.1
		has_war_with = GER
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strategic_air_importance
		id = 5
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 6
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 7
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 8
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 294
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 22
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 38
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 296
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
}

Allies_avoid_bombing_occupied_allies = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		OR = {
			tag = ENG
			is_in_faction_with = ENG
			is_subject_of = ENG
		}
		any_enemy_country = { has_full_control_of_state = 19 }
		any_enemy_country = { has_full_control_of_state = 23 }
		any_enemy_country = { has_full_control_of_state = 30 }
		any_enemy_country = { has_full_control_of_state = 14 }
		any_enemy_country = { has_full_control_of_state = 15 }
		any_enemy_country = { has_full_control_of_state = 1016 }
		any_enemy_country = { has_full_control_of_state = 785 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strategic_air_importance
		id = 19
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 296
		value = -250000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 290
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 20
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 293
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 24
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 295
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 25
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 27
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 11
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 10
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 9
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 298
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 192
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 297
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
}

Allies_dont_logi_strike_during_bob = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		OR = {
			tag = ENG
			is_in_faction_with = ENG
			is_subject_of = ENG
		}
		any_enemy_country = { has_full_control_of_state = 19 }
		any_enemy_country = { has_full_control_of_state = 23 }
		any_enemy_country = { has_full_control_of_state = 30 }
		any_enemy_country = { has_full_control_of_state = 14 }
		any_enemy_country = { has_full_control_of_state = 15 }
		any_enemy_country = { has_full_control_of_state = 1016 }
		any_enemy_country = { has_full_control_of_state = 785 }
		NOT = {
			AND = {
				date > 1944.5.15
				date < 1944.7.1
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strategic_air_importance
		id = 239
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
}

Allies_dday_air = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		OR = {
			tag = ENG
			is_in_faction_with = ENG
			is_subject_of = ENG
		}
		NOT = {
			has_global_flag = ww2_has_ended
		}
		has_global_flag = fall_of_france
		has_war_with = GER
		OR = {
			AND = {
				date > 1944.5.15
				date < 1944.7.1
			}
			NOT = {
				AND = {
					any_enemy_country = { has_full_control_of_state = 19 }
					any_enemy_country = { has_full_control_of_state = 23 }
					any_enemy_country = { has_full_control_of_state = 30 }
					any_enemy_country = { has_full_control_of_state = 14 }
					any_enemy_country = { has_full_control_of_state = 15 }
					any_enemy_country = { has_full_control_of_state = 1016 }
					any_enemy_country = { has_full_control_of_state = 785 }
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strategic_air_importance
		id = 239
		value = 200000 #value of stocked main front in active combat is usually around 35,000
	}
}

Allies_husky_air = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = USA
		}
	}
	enable = {
		date > 1943.7.1
		date < 1943.11.1
		NOT = {
			has_global_flag = ww2_has_ended
		}
		has_global_flag = fall_of_france
		has_war_with = GER
		has_war_with = ITA
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strategic_air_importance
		id = 238
		value = 100000 #value of stocked main front in active combat is usually around 35,000
	}
}

Allies_avoid_bombing_occupied_uk = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
		}
	}
	enable = {
		OR = {
			is_in_faction_with = ENG
			is_subject_of = ENG
		}
		857 = { CONTROLLER = { has_war_with = ROOT } }
		127 = { CONTROLLER = { has_war_with = ROOT } }
		859 = { CONTROLLER = { has_war_with = ROOT } }
		123 = { CONTROLLER = { has_war_with = ROOT } }
		338 = { CONTROLLER = { has_war_with = ROOT } }
		858 = { CONTROLLER = { has_war_with = ROOT } }
		126 = { CONTROLLER = { has_war_with = ROOT } }
		961 = { CONTROLLER = { has_war_with = ROOT } }
		125 = { CONTROLLER = { has_war_with = ROOT } }
		860 = { CONTROLLER = { has_war_with = ROOT } }
		122 = { CONTROLLER = { has_war_with = ROOT } }
		128 = { CONTROLLER = { has_war_with = ROOT } }
		130 = { CONTROLLER = { has_war_with = ROOT } }
		129 = { CONTROLLER = { has_war_with = ROOT } }
		132 = { CONTROLLER = { has_war_with = ROOT } }
		131 = { CONTROLLER = { has_war_with = ROOT } }
		121 = { CONTROLLER = { has_war_with = ROOT } }
		133 = { CONTROLLER = { has_war_with = ROOT } }
		136 = { CONTROLLER = { has_war_with = ROOT } }
		120 = { CONTROLLER = { has_war_with = ROOT } }
	}
	abort_when_not_enabled = yes


	ai_strategy = {
		type = strategic_air_importance
		id = 1
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 2
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 3
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 4
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 6
		value = 20000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 8
		value = 20000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 38
		value = 20000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 294
		value = 200000 #value of stocked main front in active combat is usually around 35,000
	}
}

Allies_bomb_germany = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		OR = {
			is_in_faction_with = ENG
			is_subject_of = ENG
		}
		any_enemy_country = { has_full_control_of_state = 19 }
		any_enemy_country = { has_full_control_of_state = 23 }
		any_enemy_country = { has_full_control_of_state = 30 }
		any_enemy_country = { has_full_control_of_state = 14 }
		any_enemy_country = { has_full_control_of_state = 15 }
		any_enemy_country = { has_full_control_of_state = 1016 }
		any_enemy_country = { has_full_control_of_state = 785 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strategic_air_importance
		id = 5
		value = -750000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 19
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 290
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 20
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 293
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 24
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 295
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 25
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 207
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 26
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 154
		value = -7500 #value of stocked main front in active combat is usually around 35,000
	}
}

Allies_bomb_germany_2 = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		NOT = {
			OR = {
				any_state = {
					is_core_of = ITA
					controller = {
						is_in_faction_with = ENG
					}
				}
				AND = {
					date > 1943.7.1
					date < 1943.11.1
				}
			}
		}
		OR = {
			is_in_faction_with = ENG
			is_subject_of = ENG
		}
		OR = {
			has_global_flag = fall_of_france
			FRA = {
				has_capitulated = yes
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strategic_air_importance
		id = 21
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 23
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 238
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
}

Allies_dont_bomb_random_places = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		OR = {
			is_in_faction_with = ENG
			is_subject_of = ENG
		}
		NOT = {
			has_war_with = SOV
		}
		has_war_with = GER
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strategic_air_importance
		id = 270
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 22
		value = -1000000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 275
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 12
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 13
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 133
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 40
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 137
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 313
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 30
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 257
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 202
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 135
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 134
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 272
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 130
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 131
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 271
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 132
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 39
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 37
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 273
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 326
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 189
		value = -50000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 340
		value = -50000 #value of stocked main front in active combat is usually around 35,000
	}
}

############################################################################################################
##########################                    Diplomacy                          ###########################
############################################################################################################

ENG_dont_meddle_in_european_affairs = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_completed_focus = ENG_reassess_continental_commitments
	}
	abort = {
		always = no
	}

	ai_strategy = {
		type = diplo_action_desire
		id = FRA
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = ITA
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = EST
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = LAT
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = LIT
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = POL
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = AUS
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = CZE
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = ROM
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = HUN
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = YUG
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = BUL
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = GRE
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = SPR
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = POR
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = BEL
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = HOL
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = LUX
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = NOR
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = SWE
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = FIN
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = DEN
		target = guarantee
		value = -2000
	}

	ai_strategy = {
		type = diplo_action_desire
		id = SWI
		target = guarantee
		value = -2000
	}
}

ENG_FIN_is_too_far_to_protect = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_government = democratic
		threat < 0.8
		threat > 0.2
		country_exists = FIN
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = diplo_action_desire
		id = FIN
		target = guarantee
		value = -1000
	}
}

protect_poland_against_germany = {
	allowed = {
		tag = ENG
	}
	enable = {
		GER = { has_completed_focus = GER_end_of_czechoslovakia }
		NOT = { GER = { has_completed_focus = GER_danzig_or_war } }
		GER = { NOT = { has_war_with = POL } }
		country_exists = POL
	}
	abort = {
		NOT = { country_exists = POL }
	}

	ai_strategy = {
		type = befriend
		id = "POL"
		value = 200
	}
	ai_strategy = {
		type = alliance
		id = "POL"
		value = 200
	}
	ai_strategy = {
		type = diplo_action_desire
		id = POL
		target = guarantee
		value = 20
	}
}

protect_poland_against_germany_even_more = {
	allowed = {
		tag = ENG
	}
	enable = {
		GER = { has_completed_focus = GER_end_of_czechoslovakia }
		GER = { NOT = { has_war_with = POL } }
		country_exists = POL
	}
	abort = {
		NOT = { country_exists = POL }
	}

	ai_strategy = {
		type = protect
		id = "POL"
		value = 200
	}
	ai_strategy = {
		type = alliance
		id = "POL"
		value = 200
	}
}

defend_poland_against_germany = {
	allowed = {
		tag = ENG
	}
	enable = {
		GER = { has_war_with = POL }
		country_exists = POL
	}
	abort = {
		NOT = { country_exists = POL }
	}

	ai_strategy = {
		type = befriend
		id = "POL"
		value = 200
	}
	ai_strategy = {
		type = alliance
		id = "POL"
		value = 200
	}
}

ENG_allies_dont_ask_for_diplo_access_to_SOV = {
	enable = {
		ENG = {
			has_government = democratic
		}
		SOV = {
			has_government = communism
		}
		is_in_faction_with = ENG
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = diplo_action_desire
		id = SOV
		target = military_access
		value = -5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = TAN
		target = military_access
		value = -5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = MON
		target = military_access
		value = -5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = SOV
		target = docking_rights
		value = -5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = TAN
		target = docking_rights
		value = -5000
	}
	ai_strategy = {
		type = diplo_action_desire
		id = MON
		target = docking_rights
		value = -5000
	}
}

############################################################################################################
#############################                    HOME                          #############################
############################################################################################################

ENG_lifeline_of_the_empire = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = USA
		}
	}
	enable = {
		always = yes
	}
	abort = {
		always = yes
	}

	ai_strategy = {
		type = area_priority
		id = north_africa
		value = 30
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "UKN"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "UKW"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "UKO"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "UKT"
		value = 500
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "AST"
		value = 2000
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "NZL"
		value = 2000
	}

}

ENG_USA_baltic_trap = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = USA
		}
	}
	enable = {
		OR = {
			has_war = yes
			threat > 0.35
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 251 #Gulf of Bothnia
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 9 #upper baltic
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 206 #lower baltic
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 321 #Finland
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 207 #Danish Belt
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 250 #Skagerrak
		value = 2000
	}
}

ENG_trying_to_save_the_east_is_a_deathtrap = {
	allowed = {
		OR = {
			tag = ENG
			tag = USA
		}
	}
	enable = {
		has_war_with = GER
		date < 1943.1.1
	}

	abort = {
		date > 1942.1.1
		NOT = {  has_war_with = SOV }
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "NOR"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "SWE"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "FIN"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "POL"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "CZE"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "YUG"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "BEC"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "FRT"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "FRN"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "FRM"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "ALB"
		value = 500
	}
}

ENG_iberia_safe = { ############Trade can go past portugal
	enable = {
		is_in_faction_with = ENG # anyone in allies
		OR = {
			has_war_with = FRA
			has_war_with = GER
			has_war_with = ITA
		}
		NOT = {
			OR = {
				SPR = {
					is_in_faction_with = GER
				}
				POR = {
					is_in_faction_with = GER
				}
				has_war_with = SPR
				has_war_with = POR
				country_exists = RPT
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 49 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 112 #
		value = 2000
	}
}

ENG_iberia_in_the_axis = { ############# Rerout trade around portugal
	enable = {
		is_in_faction_with = ENG # anyone in allies
		NOT = {
			tag = USA
		}
		OR = {
			SPR = {
				is_in_faction_with = GER
			}
			POR = {
				is_in_faction_with = GER
			}
			has_war_with = SPR
			has_war_with = POR
			country_exists = RPT
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 47
		value = 1000
	}

	ai_strategy = {
		type = front_unit_request
		tag = POA
		value = -1000
	}
}

ENG_protect_home = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		always = yes
	}
	abort = {
		always = no
	}

	ai_strategy = {
		type = front_unit_request
		area = britain
		value = 80
	}

	ai_strategy = {
		type = garrison
		id = "ENG"
		value = -200
	}

	ai_strategy = {
		type = garrison
		value = -110
	}

	ai_strategy = {
		type = role_ratio
		id = garrison
		value = -100
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# britain
		states = {
			123
			127
			857
			125
			860
			126
			859
		}

		ratio = 2.6

		area = britain

		subtract_invasions_from_need = no
		subtract_fronts_from_need = yes
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 2

		# britain
		states = {
			857
		}

		ratio = 0.1

		area = britain

		subtract_invasions_from_need = no
		subtract_fronts_from_need = yes
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# spain
		states = {
			118
		}

		ratio = 0.15

		area = spain

		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# mediterranean
		states = {
			183
		}

		ratio = 0.1

		area = mediterranean

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# mediterranean
		states = {
			116
		}

		ratio = 0.1

		area = mediterranean

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# middle_east
		states = {
			659
		}

		ratio = 0.1

		area = middle_east

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# middle_east
		states = {
			309
		}

		ratio = 0.1

		area = middle_east

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# malaysia
		states = {
			336
		}

		ratio = 0.2

		area = malaysia

		subtract_invasions_from_need = no
	}
	
	ai_strategy = {
		type = naval_avoid_region
		id = 368
		value = 1000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 18
		value = -10000
	}
}

ENG_protect_africa = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		#NOT = {
		#	AND = {
		#		date < 1943.1.1
		#		OR = {
		#			casualties_inflicted_by = {
		#				opponent = GER
		#				thousands > 500
		#			}
		#			casualties_inflicted_by = {
		#				opponent = ITA
		#				thousands > 500
		#			}
		#		}
		#	}
		#}
		NOT = {
			OR = {
				AND = {
					date > 1944.1.1
					has_war_with = GER
					OR = {
						6 = { CONTROLLER = { is_in_faction_with = ROOT } }
						29 = { CONTROLLER = { is_in_faction_with = ROOT } }
						785 = { CONTROLLER = { is_in_faction_with = ROOT } }
						15 = { CONTROLLER = { is_in_faction_with = ROOT } }
						14 = { CONTROLLER = { is_in_faction_with = ROOT } }
						30 = { CONTROLLER = { is_in_faction_with = ROOT } }
						23 = { CONTROLLER = { is_in_faction_with = ROOT } }
						19 = { CONTROLLER = { is_in_faction_with = ROOT } }
						1016 = { CONTROLLER = { is_in_faction_with = ROOT } }
					}
				}
				OR = {
					any_country = {
						is_in_faction_with = ENG
						has_full_control_of_state = 115
					}
					any_country = {
						is_in_faction_with = ENG
						has_full_control_of_state = 1032
					}
				}
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# north_africa
		states = {
			452
			447
			923
		}

		ratio = 1.2

		area = north_africa

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# north_africa
		states = {
			454
		}

		ratio = 0.1

		area = north_africa

		subtract_invasions_from_need = no
	}
}

#commonwealth_abandon_africa_for_now = {
#	allowed = {
#		OR = {
#			tag = SAF
#			tag = AST
#			tag = NZL
#			tag = ENG
#			tag = RAJ
#		}
#	}
#	enable = {
#		date < 1943.1.1
#		OR = {
#			casualties_inflicted_by = {
#				opponent = GER
#				thousands > 500
#			}
#			casualties_inflicted_by = {
#				opponent = ITA
#				thousands > 500
#			}
#		}
#	}
#
#	abort_when_not_enabled = yes
#
#	ai_strategy = {
#		type = front_unit_request
#		strategic_region = 128
#		value = -1000
#	}
#	
#	ai_strategy = {
#		type = front_unit_request
#		strategic_region = 217
#		value = -1000
#	}
#	
#	ai_strategy = {
#		type = front_unit_request
#		strategic_region = 328
#		value = -1000
#	}
#	
#	ai_strategy = {
#		type = front_unit_request
#		strategic_region = 28
#		value = -1000
#	}
#}

commonwealth_protect_africa = {
	allowed = {
		OR = {
			tag = SAF
			tag = AST
			tag = NZL
		}
	}
	enable = {
		#NOT = {
		#	AND = {
		#		date < 1943.1.1
		#		OR = {
		#			casualties_inflicted_by = {
		#				opponent = GER
		#				thousands > 500
		#			}
		#			casualties_inflicted_by = {
		#				opponent = ITA
		#				thousands > 500
		#			}
		#		}
		#	}
		#}
		ENG = {
			is_ai = yes
		}
		is_in_faction_with = ENG
		NOT = {
			OR = {
				surrender_progress > 0
				has_war_with = JAP
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers

		order_id = 2

		# north_africa
		states = {
			447
			446
			923
		}

		ratio = 2.0

		area = north_africa

		subtract_invasions_from_need = no
		subtract_fronts_from_need = yes
	}
}

ENG_protect_ireland = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		GER = {
			has_war_with = IRE
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# ireland
		states = {
			135
			113
		}

		ratio = 0.3

		area = ireland

		subtract_invasions_from_need = no
		subtract_fronts_from_need = yes
	}
}



ENG_protect_home_navy = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		OR = {
			has_war = yes
			has_war = no
		}
		if = {
			limit = {
				AND = {
					has_war_with = GER
					has_global_flag = fall_of_france
				}
			}
			GER = {
				has_war_with = SOV
			}
			NOT = {
				572 = {
					CONTROLLER = {
						OR = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
						}
					}
				}
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = strike_force_home_base
		id = 16
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 365
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 18
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 173
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 249
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 68
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 29
	}
}

ENG_protect_home_navy_sealion = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		has_war_with = GER
		has_global_flag = fall_of_france
		OR = {
			NOT = {
				GER = {
					has_war_with = SOV
				}
			}
			has_global_flag = soviet_union_defeated
			572 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = strike_force_home_base
		id = 365
	}

	ai_strategy = {
		type = strike_force_home_base
		id = 18
	}
}

ENG_germany_is_winning = {
	allowed = {
		tag = ENG
	}
	enable = {
		217 = {
			CONTROLLER = {
				OR = {
					tag = GER
					is_subject_of = GER
					is_in_faction_with = GER
				}
			}
		}
		219 = {
			CONTROLLER = {
				OR = {
					tag = GER
					is_subject_of = GER
					is_in_faction_with = GER
				}
			}
		}
		date > 1944.1.1
		OR = {
			has_war_with = GER
			ENG = { has_war_with = GER }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# south england
		states = {
			123
			127
			857
			125
			860
			859
			130
		}

		ratio = 0.75

		area = britain

		subtract_invasions_from_need = no
	}
}

ENG_germany_has_won = {
	allowed = {
		tag = ENG
	}
	enable = {
		OR = {
			NOT = {
				GER = {
					has_war_with = SOV
				}
			}
			572 = {
				CONTROLLER = {
					OR = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
			}
		}
		961 = {
			CONTROLLER = {
				OR = {
					tag = GER
					is_subject_of = GER
					is_in_faction_with = GER
				}
			}
		}
		126 = {
			CONTROLLER = {
				OR = {
					tag = GER
					is_subject_of = GER
					is_in_faction_with = GER
				}
			}
		}
		133 = {
			CONTROLLER = {
				OR = {
					tag = GER
					is_subject_of = GER
					is_in_faction_with = GER
				}
			}
		}
		date > 1944.6.1
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# canada
		states = {
			331
			464
			468
		}

		ratio = 8.0

		area = canada

		subtract_invasions_from_need = no
	}
}

ENG_all_in = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_capitulated = no
		OR = {
			121 = { CONTROLLER = { has_war_with = ROOT } }
			122 = { CONTROLLER = { has_war_with = ROOT } }
			123 = { CONTROLLER = { has_war_with = ROOT } }
			125 = { CONTROLLER = { has_war_with = ROOT } }
			126 = { CONTROLLER = { has_war_with = ROOT } }
			127 = { CONTROLLER = { has_war_with = ROOT } }
			129 = { CONTROLLER = { has_war_with = ROOT } }
			130 = { CONTROLLER = { has_war_with = ROOT } }
			131 = { CONTROLLER = { has_war_with = ROOT } }
			132 = { CONTROLLER = { has_war_with = ROOT } }
			133 = { CONTROLLER = { has_war_with = ROOT } }
			136 = { CONTROLLER = { has_war_with = ROOT } }
			857 = { CONTROLLER = { has_war_with = ROOT } }
			859 = { CONTROLLER = { has_war_with = ROOT } }
			860 = { CONTROLLER = { has_war_with = ROOT } }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "UKM"
		value = 1000
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "UKE"
		value = 1000
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "UKO"
		value = 1000
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "UKT"
		value = 1000
	}

	ai_strategy = {
		type = area_priority
		id = britain
		value = 5000
	}

	ai_strategy = {
		type = area_priority
		id = britain_coast
		value = 5000
	}

	ai_strategy = {
		type = front_unit_request
		area = britain
		value = 500
	}

	ai_strategy = {
		type = area_priority
		id = north_africa
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = south_africa
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = middle_east
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = mediterranean
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = east_asia
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = malaysia
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = asia
		value = -5000
	}

	ai_strategy = {
		type = invade
		id = "ITA"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "YUG"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "VIC"
		value = -2000
	}
}

############################################################################################################
###########################                    Military                          ###########################
############################################################################################################

ENG_trying_to_save_benelux_is_deathtrap = {
	allowed = {
		OR = {
			tag = ENG
			tag = USA
		}
	}
	enable = {
		has_war_with = GER
		date < 1942.9.1
	}

	abort = {
		date > 1942.9.1
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "HOL"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "LUX"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "DEN"
		value = 500
	}
}

ENG_avoiding_early_deathtraps = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_war_with = GER
		is_in_faction_with = FRA
		date < 1941.10.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "GRE"
		value = 1000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 219 #Baleric Sea
		value = 2000
	}

	ai_strategy = {
		type = front_unit_request
		tag = GRE
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request
		strategic_region = 25
		value = -1000
	}
}

ENG_avoiding_deathtraps = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_war_with = GER
		any_enemy_country = {
			controls_state = 856
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		strategic_region = 25
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request
		tag = GRE
		value = -1000
	}
}

ENG_defense_of_el_alamein = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		NOT = {
			AND = {
				date > 1944.1.1
				has_war_with = GER
				any_country = {
					is_in_faction_with = ENG
					has_full_control_of_state = 115
				}
				any_country = {
					is_in_faction_with = ENG
					has_full_control_of_state = 1032
				}
				OR = {
					6 = { CONTROLLER = { is_in_faction_with = ROOT } }
					29 = { CONTROLLER = { is_in_faction_with = ROOT } }
					785 = { CONTROLLER = { is_in_faction_with = ROOT } }
					15 = { CONTROLLER = { is_in_faction_with = ROOT } }
					14 = { CONTROLLER = { is_in_faction_with = ROOT } }
					30 = { CONTROLLER = { is_in_faction_with = ROOT } }
					23 = { CONTROLLER = { is_in_faction_with = ROOT } }
					19 = { CONTROLLER = { is_in_faction_with = ROOT } }
					1016 = { CONTROLLER = { is_in_faction_with = ROOT } }
				}
			}
		}
		447 = {
			CONTROLLER = {
				OR = {
					is_in_faction_with = ENG
					is_subject_of = ENG
					tag = ENG
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		states = {
			447
		}

		ratio = 0.8

		subtract_fronts_from_need = no
	}
}

ENG_defense_of_kuwait= {
	allowed = {
		original_tag = ENG
	}
	enable = {
		656 = {
			CONTROLLER = {
				OR = {
					is_in_faction_with = ENG
					is_subject_of = ENG
					tag = ENG
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers

		order_id = 3

		states = {
			656
		}

		ratio = 0.02

		subtract_fronts_from_need = no
	}
}

ENG_bef_in_europe_garrison = {
	allowed = {
		tag = ENG
	}
	enable = {
		NOT = {
			has_global_flag = fall_of_france
		}
		has_war_with = GER
		is_in_faction_with = FRA
		FRA = { surrender_progress < 0.15 }
		casualties < 120000
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers

		order_id = 2

		# north_france
		states = {
			29
			785
		}

		ratio = 0.15

		subtract_invasions_from_need = no
		subtract_fronts_from_need = no
	}
}

Allies_stop_overstacking_italy = {
	allowed = {
		OR = {
			tag = ENG
			tag = USA
		}
	}
	enable = {
		has_war_with = ITA
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		strategic_region = 23
		value = -20
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 21
		value = -20
	}
}

Allies_stop_overstacking_italy_2 = {
	allowed = {
		OR = {
			tag = ENG
			tag = USA
		}
	}
	enable = {
		ITA = {
			has_government = democratic
			is_in_faction_with = ENG
			has_war_with = GER
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		strategic_region = 23
		value = -50
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 21
		value = -50
	}
}

Allies_dont_overstack_turkey = {
	allowed = {
		OR = {
			tag = USA
			tag = ENG
			tag = RAJ
			tag = NZL
			tag = AUS
			tag = FRA
			tag = CAN
		}
	}
	enable = {
		is_in_faction_with = TUR
		has_war_with = GER
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "TUR"
		value = 500
	}
}

ENG_bef_in_europe = {
	allowed = {
		tag = ENG
	}
	enable = {
		NOT = {
			has_global_flag = fall_of_france
		}
		#has_war_with = GER
		is_in_faction_with = FRA
		FRA = { surrender_progress < 0.15 }
		casualties < 120000
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		strategic_region = 239
		value = 75
	}

	ai_strategy = {
		type = force_defend_ally_borders
		id = "FRA"
		value = 100
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 7
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 6
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 5
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 20
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 21
		value = -1000
	}
}

ENG_bef_in_europe_leave = {
	allowed = {
		tag = ENG
	}
	enable = {
		NOT = {
			has_global_flag = fall_of_france
		}
		#has_war_with = GER
		is_in_faction_with = FRA
		OR = {
			casualties > 120000
			FRA = { surrender_progress > 0.14 }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "FRA"
		value = 500
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "BEL"
		value = 500
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 7
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 6
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 20
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 21
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 5
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		area = france
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		area = west_france
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		area = south_france
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		area = north_france
		value = -1000
	}
}

#ENG_protect_france_after_capitulation = {
#	enable = {
#		is_in_faction_with = FRA
#	}
#	abort = {
#		OR = {
#			date > 1941.1.1
#			AND = {
#				FRA = { has_capitulated = yes }
#				458 = { is_controlled_by = ITA }
#				460 = { is_controlled_by = ITA }
#				459 = { is_controlled_by = ITA }
#			}
#			AND = {
#				FRA = { has_capitulated = yes }
#				458 = { is_controlled_by = ITL }
#				460 = { is_controlled_by = ITL }
#				459 = { is_controlled_by = ITL }
#			}
#		}
#
#	}
#
#	ai_strategy = {
#		type = dont_defend_ally_borders
#		id = "FRA"
#		value = 500
#	}
#}

ENG_ignore_raj_until_invasion = {
	allowed = {
		NOT = { tag = RAJ }
	}
	enable = {
		is_in_faction_with = RAJ
		has_war_with = GER
		RAJ = { surrender_progress < 0.1 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = area_priority
		id = malaysia
		value = -5000 # dont suicide in the east
	}

	ai_strategy = {
		type = area_priority
		id = east_asia
		value = -5000 # dont suicide in the east
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "RAJ"
		value = 2000
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "BRM"
		value = 2000
	}
}

ENG_ignore_syria = {
	allowed = {
		OR = {
			tag = USA
			tag = ENG
		}
	}

	enable = {
		NOT = { has_war_with = FRS }
		OR = {
			NOT = { IRQ = { is_in_faction_with = ROOT } }
			IRQ = { has_capitulated = no }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		area = syria
		value = -4000
	}
}

ENG_ignore_iraq = {
	allowed = {
		OR = {
			tag = USA
			tag = ENG
		}
	}

	enable = {
		NOT = { has_war_with = IRQ }
		NOT = { IRQ = { has_government = fascism } }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		area = iraq
		value = -4000
	}
}

ENG_prepare_for_iraq = {
	allowed = {
		OR = {
			tag = USA
			tag = ENG
		}
	}

	enable = {
		NOT = { has_government = fascism }
		OR = {
			has_war_with = IRQ
			IRQ = { has_government = fascism }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "IRQ"
		value = 50
	}
}

ENG_iraq_invasion_check = {
	allowed = {
		tag = ENG
	}

	enable = {
		has_war_with = IRQ
		OR = {
			controls_state = 656
			any_allied_country = {
				controls_state = 656
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "IRQ"
		value = -2000
	}
}

ENG_tanks_in_africa = {
	allowed = {
		tag = ENG
	}
	enable = {
		NOT = {
			surrender_progress > 0
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_armor_score
		id = "ITL"
		value = 100
	}

	ai_strategy = {
		type = front_armor_score
		id = "ITA"
		value = 100
	}

	ai_strategy = {
		type = front_armor_score
		id = "GER"
		value = 100
	}
}

focus_on_land_War_in_north_africa = {
	allowed = {
		tag = ENG
	}
	enable = {
		OR = {
			446 = { is_controlled_by = ENG }
			447 = { is_controlled_by = ENG }
			453 = { is_controlled_by = ENG }
			446 = { is_controlled_by = UKE }
			447 = { is_controlled_by = UKE }
			453 = { is_controlled_by = UKE }
		}
		OR = {
			450 = { CONTROLLER = { has_war_with = ROOT } }
			663 = { CONTROLLER = { has_war_with = ROOT } }
			451 = { CONTROLLER = { has_war_with = ROOT } }
		}
		surrender_progress < 0.05
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = area_priority
		id = north_africa
		value = 200
	}

	ai_strategy = {
		type = front_unit_request
		area = north_africa
		value = 10
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 128
		value = 10000 #value of stocked main front in active combat is usually around 35,000
	}
	ai_strategy = {
		type = strategic_air_importance
		id = 328
		value = 10000 #value of stocked main front in active combat is usually around 35,000
	}
}

africa_war_no_RAJ = {
	allowed = {
		tag = ENG
	}
	enable = {
		NOT = {
			is_in_faction_with = RAJ
			RAJ = { is_subject_of = ENG }
		}
		OR = {
			446 = { is_controlled_by = ENG }
			447 = { is_controlled_by = ENG }
			453 = { is_controlled_by = ENG }
			446 = { is_controlled_by = UKE }
			447 = { is_controlled_by = UKE }
			453 = { is_controlled_by = UKE }
		}
		OR = {
			450 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			663 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			451 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			550 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			910 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			271 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			909 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			559 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			269 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
		}
		surrender_progress < 0.05
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = area_priority
		id = central_africa
		value = 200
	}

	ai_strategy = {
		type = front_unit_request
		area = central_africa
		value = 20
	}

#	ai_strategy = {
#		type = front_unit_request
#		area = north_africa
#		value = 10
#	}
}

ENG_africa_war_1 = {
	allowed = {
		tag = ENG
	}
	enable = {
		OR = {
			446 = { is_controlled_by = ENG }
			447 = { is_controlled_by = ENG }
			453 = { is_controlled_by = ENG }
			446 = { is_controlled_by = UKE }
			447 = { is_controlled_by = UKE }
			453 = { is_controlled_by = UKE }
		}
		OR = {
			is_in_faction_with = RAJ
			RAJ = { is_subject_of = ENG }
		}
		OR = {
			450 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			663 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			451 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			550 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			910 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			271 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			909 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			559 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
			269 = {
				CONTROLLER = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
						has_government = ROOT
					}
				}
			}
		}
		surrender_progress < 0.05
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		area = central_africa
		value = -200
	}

	ai_strategy = {
		type = front_unit_request
		area = north_africa
		value = -40
	}
}

ENG_africa_war_2 = {
	allowed = {
		tag = ENG
	}
	enable = {
		OR = {
			446 = { is_controlled_by = ENG }
			447 = { is_controlled_by = ENG }
			453 = { is_controlled_by = ENG }
			446 = { is_controlled_by = UKE }
			447 = { is_controlled_by = UKE }
			453 = { is_controlled_by = UKE }
		}
		OR = {
			450 = { CONTROLLER = { has_war_with = ROOT } }
			663 = { CONTROLLER = { has_war_with = ROOT } }
			451 = { CONTROLLER = { has_war_with = ROOT } }
		}
		NOT = {
			450 = { CONTROLLER = { has_war_with = ROOT } }
			663 = { CONTROLLER = { has_war_with = ROOT } }
			451 = { CONTROLLER = { has_war_with = ROOT } }
			550 = { CONTROLLER = { has_war_with = ROOT } }
			910 = { CONTROLLER = { has_war_with = ROOT } }
			271 = { CONTROLLER = { has_war_with = ROOT } }
			909 = { CONTROLLER = { has_war_with = ROOT } }
			559 = { CONTROLLER = { has_war_with = ROOT } }
			269 = { CONTROLLER = { has_war_with = ROOT } }
		}
		surrender_progress < 0.05
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = area_priority
		id = north_africa
		value = 200
	}

	ai_strategy = {
		type = front_unit_request
		area = north_africa
		value = -30
	}
}

ENG_africa_war_3 = {
	allowed = {
		tag = ENG
	}
	enable = {
		OR = {
			446 = { is_controlled_by = ENG }
			447 = { is_controlled_by = ENG }
			453 = { is_controlled_by = ENG }
			450 = { is_controlled_by = ENG }
			663 = { is_controlled_by = ENG }
			451 = { is_controlled_by = ENG }
			446 = { is_controlled_by = UKE }
			447 = { is_controlled_by = UKE }
			453 = { is_controlled_by = UKE }
			450 = { is_controlled_by = UKE }
			663 = { is_controlled_by = UKE }
			451 = { is_controlled_by = UKE }
		}
		surrender_progress < 0.05
		date > 1939.1.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = area_priority
		id = north_africa
		value = 200
	}

	ai_strategy = {
		type = front_control
		tag = ITA
		ordertype = front
		execution_type = balanced
	}

	ai_strategy = {
		type = front_control
		tag = ITL
		ordertype = front
		execution_type = balanced
	}

	ai_strategy = {
		type = front_unit_request
		area = north_africa
		value = -20
	}
}

commonwealth_stay_out_of_shithole = {
	allowed = {
		OR = {
			tag = ENG
			tag = AST
			tag = NZL
			tag = CAN
		}
	}
	enable = {
		always = yes
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		area = south_africa
		value = -25
	}

	ai_strategy = {
		type = front_unit_request

		area = central_africa
		value = -10
	}

	ai_strategy = {
		type = front_unit_request

		area = middle_east
		value = -25
	}

	ai_strategy = {
		type = front_unit_request

		area = asia
		value = -50
	}

	ai_strategy = {
		type = front_unit_request

		area = east_asia
		value = -80
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 340
		value = -80
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 167
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 140
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 184
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 185
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 183
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 17
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 338
		value = -1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 139
		value = -1000
	}
}

#africa_war_4 = {
#	enable = {
#		tag = ENG
#		OR = {
#			550 = { is_controlled_by = ITS }
#			910 = { is_controlled_by = ITS }
#			271 = { is_controlled_by = ITS }
#			909 = { is_controlled_by = ITS }
#			559 = { is_controlled_by = ITS }
#		}
#		ITS = {
#			divisions_in_state = {
#				type = infantry
#				size < 2
#				state = 550
#			}
#		}
#		ITS = {
#			divisions_in_state = {
#				type = infantry
#				size < 2
#				state = 910
#			}
#		}
#		ITS = {
#			divisions_in_state = {
#				type = infantry
#				size < 2
#				state = 271
#			}
#		}
#		ITS = {
#			divisions_in_state = {
#				type = infantry
#				size < 2
#				state = 909
#			}
#		}
#		ITS = {
#			divisions_in_state = {
#				type = infantry
#				size < 2
#				state = 559
#			}
#		}
#		ITA = {
#			divisions_in_state = {
#				type = infantry
#				size < 2
#				state = 550
#			}
#		}
#		ITA = {
#			divisions_in_state = {
#				type = infantry
#				size < 2
#				state = 910
#			}
#		}
#		ITA = {
#			divisions_in_state = {
#				type = infantry
#				size < 2
#				state = 271
#			}
#		}
#		ITA = {
#			divisions_in_state = {
#				type = infantry
#				size < 2
#				state = 909
#			}
#		}
#		ITA = {
#			divisions_in_state = {
#				type = infantry
#				size < 2
#				state = 559
#			}
#		}
#	}
#	abort_when_not_enabled = yes
#
#	ai_strategy = {
#		type = front_control
#		tag = ITS
#		ordertype = front
#		execute_order = yes
#	}
#}

ENG_USA_focus_on_europe = {
	allowed = {
		OR = {
			tag = USA
			tag = ENG
		}
	}

	enable = {
		date > 1942.1.1
		has_global_flag = FRA_already_surrendered
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		value = 150
		target = north_france
	}
	ai_strategy = {
		type = front_unit_request
		value = 150
		target = france
	}
	ai_strategy = {
		type = front_unit_request
		value = 150
		target = south_france
	}
	ai_strategy = {
		type = front_unit_request
		value = 150
		target = benelux
	}
	ai_strategy = {
		type = front_unit_request
		value = 150
		target = germany
	}
	ai_strategy = {
		type = front_unit_request
		value = 100
		target = italy
	}
	ai_strategy = {
		type = front_unit_request
		value = 100
		target = south_italy
	}
	ai_strategy = {
		type = front_unit_request
		value = 10
		target = north_africa
	}
}

ENG_gang_up_GER_with_USA = {
	allowed = {
		tag = ENG
	}
	enable = {
		FRA = {
			OR = {
				has_capitulated = yes
				exists = no
			}
		}
	}
	abort_when_not_enabled = yes
	# after FRA falls, both ENG and USA will try to help in europe and africa
	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = north_france
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = france
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = south_france
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = benelux
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = germany
	}
	ai_strategy = {
		type = front_unit_request
		value = 100
		target = italy
	}
	ai_strategy = {
		type = front_unit_request
		value = 100
		target = south_italy
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = north_africa
	}
}

ENG_accept_USA_access = {
	allowed = {
		tag = ENG
		USA = {
			is_ai = yes
		}
	}
	enable = {
		date > 1940.9.9
		USA = {
			NOT = {
				OR = {
					is_in_faction_with = ENG
					has_military_access_to = ENG
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = diplo_action_acceptance
		id = USA
		target = military_access
		value = 1000
	}
}

############################################################################################################
#############################                    Navy                          #############################
############################################################################################################

####################################### German theatre

minor_axis_nations_that_we_shoudlnt_invade = {
	enable = {
		OR = {
			is_in_faction_with = ENG # anyone in allies
			tag = FRA
		}
		OR = {
			has_war_with = GER
			has_war_with = ITA
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "RIT"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "ALB"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "HUN"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "ROM"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "BUL"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "FRA"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "SPR"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "CRO"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "VIC"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "YUG"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "GRE"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "PER"
		value = -2000
	}
}

denmark_is_a_deathtrap = {
	enable = {
		is_in_faction_with = ENG
		OR = {
			has_war_with = RDE
			has_war_with = DEN
		}
		OR = {
			RDE = { is_in_faction_with = GER }
			DEN = { is_in_faction_with = GER }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "RDE"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "DEN"
		value = -2000
	}
}

ENG_gibraltar_unit_clumping_fix = {
	allowed = {
		OR = {
			tag = ENG
			tag = CAN
			tag = USA
		}
	}
	enable = {
		NOT = {
			has_war_with = SPR
		}
		118 = {
			CONTROLLER = {
				OR = {
					tag = ENG
					is_in_faction_with = ENG
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		strategic_region = 41
		value = -1000
	}
}

#ENG_unit_clumping_fix_2 = {
#	allowed = {
#		tag = ENG
#	}
#	enable = {
#		num_divisions > 90
#	}
#	abort_when_not_enabled = yes
#
#	ai_strategy = {
#		type = front_unit_request
#		area = north_africa
#		value = -5
#	}
#}

ENG_soviets_are_no_threat = {
	allowed = {
		tag = ENG
	}
	enable = {
		NOT = {
			has_war_with = SOV
		}
		SOV = {
			has_war_with = GER
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		tag = SOV
		value = -1000
	}
}

ENG_oman_no_threat = {
	allowed = {
		tag = ENG
	}
	enable = {
		NOT = {
			has_war_with = OMA
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		tag = OMA
		value = -1000
	}
}

ENG_yemen_no_threat = {
	allowed = {
		tag = ENG
	}
	enable = {
		NOT = {
			has_war_with = YEM
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		tag = YEM
		value = -1000
	}
}

ENG_afg_are_no_threat = {
	allowed = {
		tag = ENG
	}
	enable = {
		NOT = {
			has_war_with = AFG
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		tag = AFG
		value = -1000
	}
}

ENG_sau_are_no_threat = {
	allowed = {
		tag = ENG
	}
	enable = {
		NOT = {
			has_war_with = SAU
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		tag = SAU
		value = -1000
	}
}

ENG_norway_invasion_hold = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		OR = {
			tag = ENG
			is_in_faction_with = ENG
		}
		country_exists = RNO
		OR = {
			NOT = {
				GER = { has_war_with = SOV }
			}
			GER = { is_ai = yes }
			num_divisions < 50
			any_enemy_country = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 1017
				}
			}
			any_enemy_country = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 143
				}
			}
			any_enemy_country = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 142
				}
			}
			any_enemy_country = {
				divisions_in_state = {
					type = infantry
					size > 5
					state = 110
				}
			}
			any_enemy_country = {
				divisions_in_state = {
					type = infantry
					size > 5
					state = 1020
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "NOR"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "SWE"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "FIN"
		value = 500
	}

	ai_strategy = {
		type = invade
		id = "RNO"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "SCA"
		value = -2000
	}
}

ENG_norway_invasion_fire = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		OR = {
			tag = ENG
			is_in_faction_with = ENG
		}
		country_exists = RNO
		GER = { has_war_with = SOV }
		GER = { is_ai = no }
		num_divisions > 50
		NOT = {
			OR = {
				any_enemy_country = {
					divisions_in_state = {
						type = infantry
						size > 2
						state = 1017
					}
				}
				any_enemy_country = {
					divisions_in_state = {
						type = infantry
						size > 2
						state = 143
					}
				}
				any_enemy_country = {
					divisions_in_state = {
						type = infantry
						size > 2
						state = 142
					}
				}
				any_enemy_country = {
					divisions_in_state = {
						type = infantry
						size > 5
						state = 110
					}
				}
				any_enemy_country = {
					divisions_in_state = {
						type = infantry
						size > 5
						state = 1020
					}
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "RNO"
		value = 1000
	}

	ai_strategy = {
		type = invade
		id = "SCA"
		value = 1000
	}

	ai_strategy = {
		type = front_control

		area = scandinavia

		ordertype = invasion
		execute_order = yes
	}
}

france_is_our_gateway = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		is_in_faction_with = ENG
		OR = {
			6 = { CONTROLLER = { has_war_with = ROOT } }
			29 = { CONTROLLER = { has_war_with = ROOT } }
			785 = { CONTROLLER = { has_war_with = ROOT } }
			15 = { CONTROLLER = { has_war_with = ROOT } }
			14 = { CONTROLLER = { has_war_with = ROOT } }
			30 = { CONTROLLER = { has_war_with = ROOT } }
			23 = { CONTROLLER = { has_war_with = ROOT } }
			19 = { CONTROLLER = { has_war_with = ROOT } }
		}
		OR = {
			ITA = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 6
				}
			}
			ITA = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 979
				}
			}
			ITA = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 34
				}
			}
			ITA = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 7
				}
			}
			ITA = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 35
				}
			}
			ITA = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 36
				}
			}
			ITA = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 56
				}
			}
			GER = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 6
				}
			}
			GER = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 979
				}
			}
			GER = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 34
				}
			}
			GER = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 7
				}
			}
			GER = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 35
				}
			}
			GER = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 36
				}
			}
			GER = {
				divisions_in_state = {
					type = infantry
					size > 2
					state = 56
				}
			}
			GER = {
				is_ai = yes
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "RHO"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "RBE"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "BEL"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "HOL"
		value = -2000
	}
}

ENG_dday_avoid_regions_france = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		is_in_faction_with = ENG
		GER = { has_war_with = ENG }
		AND = {
			14 = { CONTROLLER = { has_war_with = ROOT } }
			30 = { CONTROLLER = { has_war_with = ROOT } }
			23 = { CONTROLLER = { has_war_with = ROOT } }
			19 = { CONTROLLER = { has_war_with = ROOT } }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 42 #Bay of Biscay
		value = 2000
	}
}

ENG_dday_avoid_regions_norway = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		is_in_faction_with = ENG
		GER = { has_war_with = ENG }
		AND = {
			878 = { CONTROLLER = { has_war_with = ROOT } }
			144 = { CONTROLLER = { has_war_with = ROOT } }
			143 = { CONTROLLER = { has_war_with = ROOT } }
			142 = { CONTROLLER = { has_war_with = ROOT } }
			1017 = { CONTROLLER = { has_war_with = ROOT } }
			1018 = { CONTROLLER = { has_war_with = ROOT } }
			1019 = { CONTROLLER = { has_war_with = ROOT } }
			1020 = { CONTROLLER = { has_war_with = ROOT } }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 174 #Norwegian Coast
		value = 2000
	}
}

ENG_post_dday_invasions_hold = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		is_in_faction_with = ENG
		date < 1944.11.1
		has_war_with = GER
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "RGR"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "GRE"
		value = -2000
	}
}

####################################### Italy theatre

dont_do_invasions_on_ITA = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		is_in_faction_with = ENG
		NOT = {
			tag = ITA
		}
		NOT = {
			AND = {
				tag = USA
				date > 1944.12.1
				has_war_with = JAP
			}
		}
		OR = {
			AND = {
				date > 1944.3.1
				date < 1944.6.6
			}
			date < 1943.7.1
			AND = {
				any_country = {
					is_in_faction_with = ENG
					has_full_control_of_state = 115
				}
				any_country = {
					is_in_faction_with = ENG
					has_full_control_of_state = 1032
				}
				any_country = {
					is_in_faction_with = ENG
					has_full_control_of_state = 156
				}
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "ITA"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "ENG"
		value = -2000
	}

	ai_strategy = {
		type = area_priority
		id = italy
		value = -1000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = ITA
		value = -1000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = ENG
		value = -1000
	}

	ai_strategy = {
		type = invasion_unit_request
		area = italy
		value = -100
	}

	ai_strategy = {
		type = invade
		id = "YUG"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "ALB"
		value = -2000
	}
}

dont_do_invasions_on_ITA_fix = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		is_in_faction_with = ENG
		NOT = {
			tag = ITA
		}
		AND = {
			any_country = {
				is_in_faction_with = ENG
				has_full_control_of_state = 115
			}
			any_country = {
				is_in_faction_with = ENG
				has_full_control_of_state = 1032
			}
			any_country = {
				is_in_faction_with = ENG
				has_full_control_of_state = 156
			}
		}
		AND = {
			date > 1944.1.1
			date < 1944.1.15
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		tag = ITA
		ordertype = invasion
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		tag = ENG
		ordertype = invasion
		execute_order = yes
	}
}


ENG_prepare_war_against_ITA = {
	allowed = {
		tag = ENG
		is_historical_focus_on = yes
	}
	enable = {
		ITA = { has_government = fascism }
		date > 1938.1.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "ITA"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "ITL"
		value = 200
	}

#	ai_strategy = {
#		type = conquer
#		id = "ITS"
#		value = 200
#	}
}

ENG_war_against_ITL = {
	allowed = {
		OR = {
			original_tag = ENG
			original_tag = FRA
			original_tag = USA
			original_tag = RAJ
			original_tag = CAN
			original_tag = SAF
			original_tag = AUS
			original_tag = NZL
		}
	}
	enable = {
		is_in_faction_with = ENG
		OR = {
			has_war_with = ITL
			ITL = { has_government = fascism }
		}
		ITL = { has_capitulated = no }
		date > 1938.1.1
	}
	abort = {
		OR = {
			ITL = { has_capitulated = yes }
			ITL = { exists = no }
		}
	}

	ai_strategy = {
		type = conquer
		id = "ITL"
		value = 200
	}

	ai_strategy = {
		type = contain
		id = "ITL"
		value = 200
	}

	ai_strategy = {
		type = invade
		id = "ITL"
		value = -2000
	}
}

ENG_war_against_ITA_1 = {
	allowed = {
		OR = {
			tag = ENG
			tag = USA
		}
	}
	enable = {
		OR = {
			has_war_with = ITA
			has_war_with = GER
		}
		OR = {
			date < 1943.7.1
			448 = { is_controlled_by = ITA }
			449 = { is_controlled_by = ITA }
			450 = { is_controlled_by = ITA }
			451 = { is_controlled_by = ITA }
			661 = { is_controlled_by = ITA }
			662 = { is_controlled_by = ITA }
			663 = { is_controlled_by = ITA }

			665 = { is_controlled_by = ITA }
			458 = { is_controlled_by = ITA }
			460 = { is_controlled_by = ITA }

			448 = { is_controlled_by = ITL }
			449 = { is_controlled_by = ITL }
			450 = { is_controlled_by = ITL }
			451 = { is_controlled_by = ITL }
			661 = { is_controlled_by = ITL }
			662 = { is_controlled_by = ITL }
			663 = { is_controlled_by = ITL }

			665 = { is_controlled_by = ITL }
			458 = { is_controlled_by = ITL }
			460 = { is_controlled_by = ITL }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "ITA"
		value = 2000
	}

	ai_strategy = {
		type = contain
		id = "ITA"
		value = 200
	}

	ai_strategy = {
		type = invade
		id = "YUG"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "ITS"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "ITL"
		value = -2000
	}

	ai_strategy = {
		type = conquer
		id = "ITS"
		value = 500
	}

	ai_strategy = {
		type = contain
		id = "ITS"
		value = 200
	}

	ai_strategy = {
		type = front_unit_request
		area = central_africa
		value = -70
	}

	ai_strategy = {
		type = area_priority
		id = north_africa
		value = 70
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 202 #aegean sea
		value = 2000
	}
}

ENG_war_against_axis = {
	allowed = {
		tag = ENG
	}
	enable = {
		OR = {
			has_war_with = ITA
			has_war_with = GER
		}
		any_enemy_country = { has_full_control_of_state = 115 }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 169 #tyr sea
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 168 #adriatic sea
		value = 2000
	}
}

ENG_help_Greece_if_Africa_safe = {
	allowed = {
		original_tag = ENG
	}
	enable = {
		date > 1941.3.1
		is_in_faction_with = GRE
		GRE = { has_capitulated = no }
		AND = {
			451 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			450 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			449 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			448 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			661 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			662 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			663 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			665 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			458 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			460 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			513 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			459 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			461 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			447 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
			923 = {
				CONTROLLER = {
					NOT = { has_war_with = ENG }
				}
			}
		}

	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "GRE"
		value = -100
	}

	ai_strategy = {
		type = area_priority
		id = south_balkans
		value = 50 # dont suicide in the east
	}

	ai_strategy = {
		type = force_defend_ally_borders
		id = "GRE"
		value = 100
	}

	ai_strategy = {
		type = front_unit_request
		tag = GRE
		value = 100
	}

}

ENG_war_against_ITA_2 = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_war_with = ITA
		OR = {
			is_historical_focus_on = no
			date > 1943.7.1
		}
		NOT = {	451 = { CONTROLLER = { has_war_with = ROOT } } }
		NOT = {	450 = { CONTROLLER = { has_war_with = ROOT } } }
		NOT = {	449 = { CONTROLLER = { has_war_with = ROOT } } }
		NOT = {	448 = { CONTROLLER = { has_war_with = ROOT } } }
		NOT = {	661 = { CONTROLLER = { has_war_with = ROOT } } }
		NOT = {	662 = { CONTROLLER = { has_war_with = ROOT } } }
		NOT = {	663 = { CONTROLLER = { has_war_with = ROOT } } }

		NOT = {	665 = { CONTROLLER = { has_war_with = ROOT } } }
		NOT = {	458 = { CONTROLLER = { has_war_with = ROOT } } }
		NOT = {	460 = { CONTROLLER = { has_war_with = ROOT } } }
		NOT = {	513 = { CONTROLLER = { has_war_with = ROOT } } }
		NOT = {	459 = { CONTROLLER = { has_war_with = ROOT } } }
		NOT = {	461 = { CONTROLLER = { has_war_with = ROOT } } }
		115 = { is_controlled_by = ITA }
		1032 = { is_controlled_by = ITA }
		156 = { is_controlled_by = ITA }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		area = italy
		value = 100
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 50
		target = italy
	}
	ai_strategy = {
		type = front_unit_request
		area = south_italy
		value = 25
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 50
		target = south_italy
	}
}

ENG_war_against_ITA_3 = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_war_with = GER
		is_in_faction_with = ITA
		date > 1942.1.1
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = force_defend_ally_borders
		id = "ITA"
		value = 100
	}

	ai_strategy = {
		type = front_unit_request
		area = italy
		value = 100
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 50
		target = italy
	}
	ai_strategy = {
		type = front_unit_request
		area = south_italy
		value = 100
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 50
		target = south_italy
	}
}

ENG_war_against_VIC = {
	allowed = {
		tag = ENG
	}
	enable = {
		ENG = { has_government = democratic }
		country_exists = VIC
		NOT = { is_in_faction_with = VIC }
		OR = {
			has_war_with = VIC
			448 = { is_controlled_by = ENG }
			448 = { is_controlled_by = FRA }
			448 = { is_controlled_by = USA }
			448 = { is_controlled_by = UKE }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "VIC"
		value = 200
	}
}



ENG_try_to_avoid_the_med = {
	allowed = {
		NOT = { tag = GRE }
		NOT = { tag = YUG }
		NOT = { tag = TUR }
		NOT = { tag = ITA }
		NOT = { tag = USA }
	}
	enable = {
		is_in_faction_with = ENG
		OR = {
			448 = { is_controlled_by = ITA }
			448 = { is_controlled_by = ITL }
		}
		NOT = { is_in_faction_with = ITA }
		OR = {
			has_war_with = ITA
			has_war_with = GER
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 218 #North central med
		value = 2000
	}

	#ai_strategy = {
	#	type = naval_avoid_region
	#	id = 269 #central med
	#	value = 2000
	#}

	#ai_strategy = {
	#	type = naval_avoid_region
	#	id = 327 #central med
	#	value = 2000
	#}

	#ai_strategy = {
	#	type = naval_avoid_region
	#	id = 69 #East med
	#	value = 200
	#}
}

ENG_indian_sea_strategy = {
	allowed = {
		tag = ENG
	}
	enable = {
		date > 1938.1.1
		NOT = {
			has_global_flag = ww2_has_ended
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 335 #Andaman Sea
		value = 100
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 101 #indian ocean
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 71 #East indian ocean
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 99 #Far Eastern indian ocean
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 331 #
		value = 100
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 60 #
		value = 100
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 85 #
		value = 100
	}
}

ENG_sealion_cheese_fix = {
	allowed = {
		OR = {
			tag = USA
			tag = ENG
			tag = CAN
		}
	}
	enable = {
		126 = {
			CONTROLLER = {
				tag = ENG
			}
		}
		961 = {
			CONTROLLER = {
				tag = ENG
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		state = 136
		strategic_region = 3
		value = -2000
	}

	ai_strategy = {
		type = front_unit_request
		state = 120
		strategic_region = 3
		value = -2000
	}
}

sealion_is_happening = {
	allowed = {
		OR = {
			tag = ENG
			tag = USA
			tag = CAN
		}
	}

	enable = {
		OR = {
			122 = { CONTROLLER = { has_war_with = ROOT } }
			123 = { CONTROLLER = { has_war_with = ROOT } }
			125 = { CONTROLLER = { has_war_with = ROOT } }
			126 = { CONTROLLER = { has_war_with = ROOT } }
			127 = { CONTROLLER = { has_war_with = ROOT } }
			129 = { CONTROLLER = { has_war_with = ROOT } }
			130 = { CONTROLLER = { has_war_with = ROOT } }
			131 = { CONTROLLER = { has_war_with = ROOT } }
			132 = { CONTROLLER = { has_war_with = ROOT } }
			857 = { CONTROLLER = { has_war_with = ROOT } }
			859 = { CONTROLLER = { has_war_with = ROOT } }
			860 = { CONTROLLER = { has_war_with = ROOT } }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		strategic_region = 1
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}

	ai_strategy = {
		type = front_control
		strategic_region = 2
		ordertype = front
		execution_type = balanced
		execute_order = yes
	}

	ai_strategy = {
		type = strategic_air_importance
		id = 1
		value = 500000 #value of stocked main front in active combat is usually around 35,000
	}

	ai_strategy = {
		type = strategic_air_importance
		id = 2
		value = 500000 #value of stocked main front in active combat is usually around 35,000
	}

	ai_strategy = {
		type = strategic_air_importance
		id = 18
		value = -500000 #value of stocked main front in active combat is usually around 35,000
	}
}

sealion_is_happening_2 = {
	allowed = {
		tag = ENG
	}

	enable = {
		OR = {
			122 = { CONTROLLER = { has_war_with = ROOT } }
			123 = { CONTROLLER = { has_war_with = ROOT } }
			125 = { CONTROLLER = { has_war_with = ROOT } }
			126 = { CONTROLLER = { has_war_with = ROOT } }
			127 = { CONTROLLER = { has_war_with = ROOT } }
			129 = { CONTROLLER = { has_war_with = ROOT } }
			130 = { CONTROLLER = { has_war_with = ROOT } }
			131 = { CONTROLLER = { has_war_with = ROOT } }
			132 = { CONTROLLER = { has_war_with = ROOT } }
			857 = { CONTROLLER = { has_war_with = ROOT } }
			859 = { CONTROLLER = { has_war_with = ROOT } }
			860 = { CONTROLLER = { has_war_with = ROOT } }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		strategic_region = 1
		value = 1000
	}

	ai_strategy = {
		type = front_unit_request

		strategic_region = 2
		value = 650
	}
}

#ENG_sealion_imminent = {
#	allowed = {
#		NOT = { tag = GRE }
#		NOT = { tag = YUG }
#		NOT = { tag = TUR }
#		NOT = { tag = ITA }
#		NOT = { tag = USA }
#	}
#	enable = {
#		has_global_flag = fall_of_france
#		is_in_faction_with = ENG
#		NOT = {
#			OR = {
#				115 = { is_controlled_by = ENG }
#				1032 = { is_controlled_by = ENG }
#				is_in_faction_with = ITA
#			}
#		}
#		has_war_with = GER
#		OR = {
#			NOT = {
#				GER = {
#					has_war_with = SOV
#				}
#			}
#			has_global_flag = soviet_union_defeated
#		}
#	}
#
#	abort_when_not_enabled = yes
#
#	#ai_strategy = {
#	#	type = naval_avoid_region
#	#	id = 218 #central med
#	#	value = 2000
#	#}
#
#	#ai_strategy = {
#	#	type = naval_avoid_region
#	#	id = 269 #central med
#	#	value = 2000
#	#}
#
#	#ai_strategy = {
#	#	type = naval_avoid_region
#	#	id = 327 #central med
#	#	value = 2000
#	#}
#
#	ai_strategy = {
#		type = naval_avoid_region
#		id = 69 #central med
#		value = 2000
#	}
#}

ENG_med_is_lost = {
	allowed = {
		tag = ENG
	}
	enable = {
		OR = {
			448 = { is_controlled_by = ITA }
			448 = { is_controlled_by = ITL }
		}
		OR = {
			has_war_with = ITA
			has_war_with = GER
		}
		NOT = { is_in_faction_with = ITA }
		OR = {
			NOT = {
				118 = { is_controlled_by = ENG }
			}
			AND = {
				NOT = {
					447 = { is_controlled_by = ENG }
				}
				NOT = {
					447 = { is_controlled_by = UKE }
				}
			}
		}
		NOT = {
			116 = { is_controlled_by = ENG }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 29 #central med
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 218 #central med
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 68 #Algerian Coast
		value = 2000
	}
}

####################################### Japanese Theatre

ENG_fight_the_japanese = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_war_with = JAP
		NOT = { has_war_with = GER }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "JAP"
		value = 500
	}

	ai_strategy = {
		type = invade
		id = "JAP"
		value = 5000
	}

	ai_strategy = {
		type = invade
		id = "SIA"
		value = 2000
	}

	ai_strategy = {
		type = invade
		id = "IPP"
		value = 2000
	}

	ai_strategy = {
		type = invade
		id = "IPM"
		value = 2000
	}

	ai_strategy = {
		type = invade
		id = "IPI"
		value = 2000
	}

	ai_strategy = {
		type = invade
		id = "IPS"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "RNC"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "PGC"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "REF"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "MAN"
		value = -2000
	}
}

allies_fight_the_japanese = {
	allowed = {
		NOT = { tag = USA }
		NOT = { tag = ENG }
	}
	enable = {
		is_in_faction_with = ENG

		has_war_with = JAP
		NOT = { has_war_with = GER }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "JAP"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "JAP"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "SIA"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "IPP"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "IPM"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "IPI"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "IPS"
		value = -2000
	}
}

####################################### Other

ENG_atlantic_sea_zone_corridors = {
	enable = {
		is_in_faction_with = ENG
		OR = {
			has_war_with = FRA
			has_war_with = GER
			has_war_with = ITA
		}
	}
	abort_when_not_enabled = yes

	#ai_strategy = {
	#	type = naval_avoid_region
	#	id = 45 #
	#	value = 2000
	#}

	ai_strategy = {
		type = naval_avoid_region
		id = 244 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 51 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 56 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 57 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 58 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 310 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 256 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 59
		value = 100
	}
}

ENG_no_war_with_SOV = {
	allowed = {
		tag = ENG
	}
	enable = {
		date < 1944.1.1
		NOT = {
			has_war_with = SOV
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "SOV"
		value = -2000
	}
}

contain_the_kreigsmarine = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_war_with = GER
		NOR = { has_capitulated = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = strike_force_home_base
		id = 173 # Norwegian Trench
	}
}

ENG_german_bight = {
	allowed = {
		tag = ENG
	}
	enable = {
		GER = { has_government = fascism }
		NOT = {
			803 = {
				CONTROLLER = {
					is_in_faction_with = ENG
				}
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_avoid_region
		id = 242 #
		value = 2000
	}

	#ai_strategy = {
	#	type = naval_avoid_region
	#	id = 173 # Norwegian Trench
	#	value = 100
	#}
}

#ENG_dont_waste_ships_here = {
#	allowed = {
#		tag = ENG
#	}
#	enable = {
#		338 = { is_controlled_by = ENG }
#		122 = { is_controlled_by = ENG }
#		132 = { is_controlled_by = ENG }
#		133 = { is_controlled_by = ENG }
#	}
#
#	abort_when_not_enabled = yes
#	ai_strategy = {
#		type = naval_avoid_region
#		id = 241 #
#		value = 200
#	}
#}

ENG_ignore_japan_until_germany_is_dealt_with = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_war_with = GER
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "JAP"
		value = -2000
	}

	ai_strategy = {
		type = conquer
		id = "SIA"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "FIN"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "JAP"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "IPP"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "IPM"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "IPI"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "IPS"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "SIA"
		value = -2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 76 #
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 77 #
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 79 #
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 73 #Gulf of thailand
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 75 #South China Sea
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 93 #Java sea
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 99 #FarEasternIndianOcean
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 106
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 110
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 32
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 231
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 252
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 87
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 90
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 240
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 94
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 177
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 225
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 230
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 226
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 229
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 78
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 80
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 280
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 84
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 91
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 92
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 82
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 81
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 83
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 86
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 341 #Tasman Basin
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 98
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 178
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 227
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 228
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 180
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 224
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 222
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 221
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 95
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 96
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 97
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 223
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 233
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 105
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 234
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 306
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 309
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 175
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 172
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 113
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 179
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 237
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 111
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 89
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 115
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 176
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 232
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 114
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 171
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 88
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 352
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 351
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 350
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 349
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 353
		value = 2000
	}
	ai_strategy = {
		type = naval_avoid_region
		id = 354
		value = 2000
	}
}

ENG_no_invade_turkey = {
	enable = {
		OR = {
			is_in_faction_with = ENG
			is_in_faction_with = USA
		}
		NOT = { has_war_with = TUR }
		date > 1938.1.1
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "TUR"
		value = -2000
	}
}

ENG_red_hand = {
	allowed = {
		tag = ENG
	}
	enable = {
		NOT = {
			has_war_with = IRE
			is_in_faction_with = IRE
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		area = ireland
		value = -1000
	}

	ai_strategy = {
		type = invade
		id = "IRE"
		value = -2000
	}
}

ENG_FRA_allied_invasion_spam = {
	allowed = {
		OR = { tag = FRA tag = ENG }
	}
	enable = {
		date < 1941.12.1
		has_war = yes
	}
	abort_when_not_enabled = yes
	ai_strategy = { type = invade id = "GER" value = -1000 }
	ai_strategy = { type = invade id = "ITA" value = -1000 }
	ai_strategy = { type = invade id = "D02" value = -1000 }
	ai_strategy = { type = invade id = "D01" value = -1000 }
}

############################################################################################################
###########################                    Airforce                          ###########################
############################################################################################################

ENG_bomb_the_hell_out_of_the_axis = {
	allowed = {
		tag = ENG
	}
	enable = {
		has_war_with = GER
		OR = {
			GER = { has_war_with = USA }
			date > 1940.6.1
		}
	}
	abort = {
		NOT = { GER = { has_war_with = ENG } }
	}

	ai_strategy = {
		type = area_priority
		id = germany
		value = 4000 #more focus here
	}

	ai_strategy = {
		type = area_priority
		id = prussia
		value = 4000 #more focus here
	}

	ai_strategy = {
		type = area_priority
		id = austria
		value = 4000 #more focus here
	}

	ai_strategy = {
		type = area_priority
		id = north_france
		value = 1000 #more focus here
	}

	ai_strategy = {
		type = area_priority
		id = france
		value = 1000 #more focus here
	}

	ai_strategy = {
		type = area_priority
		id = south_france
		value = 1000 #more focus here
	}

	ai_strategy = {
		type = area_priority
		id = benelux
		value = 1000 #more focus here
	}

	ai_strategy = {
		type = area_priority
		id = italy
		value = 1000 #more focus here
	}

	ai_strategy = {
		type = area_priority
		id = south_italy
		value = 1000 #more focus here
	}

	ai_strategy = {
		type = area_priority
		id = north_china
		value = -2000
	}

	ai_strategy = {
		type = area_priority
		id = shanghai_china
		value = -2000
	}

	ai_strategy = {
		type = area_priority
		id = east_china
		value = -2000
	}

	ai_strategy = {
		type = area_priority
		id = south_china
		value = -2000
	}

	ai_strategy = {
		type = area_priority
		id = asia
		value = -1000
	}

	ai_strategy = {
		type = area_priority
		id = south_america
		value = -1000
	}
}

############################################################################################################
############################                    Allies                          ############################
############################################################################################################

CHI_civil_war_volunteers = {
	allowed = {
		OR = {
			tag = FRA
			tag = ITA
			tag = JAP
			tag = GER
			tag = SOV
			tag = ENG
			tag = USA
		}
	}
	enable = {
		CHI = {
			has_war_with = JAP
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = send_volunteers_desire
		id = "PRC"
		value = -2000
	}

	ai_strategy = {
		type = send_volunteers_desire
		id = "CHI"
		value = -5000
	}

	ai_strategy = {
		type = send_volunteers_desire
		id = "SHX"
		value = -5000
	}

	ai_strategy = {
		type = send_volunteers_desire
		id = "XSM"
		value = -5000
	}

	ai_strategy = {
		type = send_volunteers_desire
		id = "SIK"
		value = -5000
	}

	ai_strategy = {
		type = send_volunteers_desire
		id = "XIK"
		value = -5000
	}

	ai_strategy = {
		type = send_volunteers_desire
		id = "YUN"
		value = -5000
	}

	ai_strategy = {
		type = send_volunteers_desire
		id = "GUC"
		value = -5000
	}
}


ENG_ally_with_USA = {
	allowed = {
		tag = ENG
	}
	enable = {
		ENG = { has_government = democratic }
		USA = { has_government = democratic }
		OR = {
			ENG = {
				has_war = yes
				NOT = {
					has_war_with = USA
				}
			}
			USA = {
				has_completed_focus = USA_cash_and_carry_act
			}
		}
	}
	abort = {
		OR = {
			NOT = { USA = { has_government = democratic } }
			NOT = { ENG = { has_government = democratic } }
		}
	}

	ai_strategy = {
		type = alliance
		id = "USA"
		value = 2000
	}
}

# lets make sure the allies dont overcommit to invasions early on
ENG_ignore_south_america = {
	enable = {
		is_in_faction_with = ENG
		date > 1938.1.1
	}
	abort = {
		OR = {
			has_war_with = VEN
			has_war_with = BRA
		}
	}

	ai_strategy = {
		type = area_priority
		id = south_america
		value = -5000
	}
}


ENG_the_pacific_is_a_deathtrap = {
	allowed = {
		NOT = { tag = USA }
	}
	enable = {
		is_in_faction_with = ENG
		has_war = yes
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "BUL"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "RIT"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "ROM"
		value = -2000
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "MAL"
		value = 2000
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "INS"
		value = 2000
	}

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "PHI"
		value = 2000
	}
}

minor_allies_dont_invade = {
	allowed = {
		NOT = { original_tag = ENG }
		NOT = { original_tag = USA }
		NOT = { original_tag = CAN }
	}
	enable = {
		is_in_faction_with = ENG # anyone in allies
		has_war = yes
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "GER"
		value = -2000
	}
	ai_strategy = {
		type = invasion_unit_request
		tag = GER
		value = -100
	}
	ai_strategy = {
		type = invade
		id = "SOV"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "ITA"
		value = -2000
	}
	ai_strategy = {
		type = invasion_unit_request
		tag = ITA
		value = -100
	}

	ai_strategy = {
		type = invade
		id = "YUG"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "ALB"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "BUL"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "RIT"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "ROM"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "CRO"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "RGR"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "REN"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "RFR"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "RIT"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "RBE"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "RHO"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "RIT"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "RDE"
		value = -2000
	}
	ai_strategy = {
		type = invade
		id = "RNO"
		value = -2000
	}
}

minor_allies_stay_out_of_africa = {
	allowed = {
		NOT = { tag = ENG }
		NOT = { tag = USA }
		NOT = { tag = CAN }
		NOT = { tag = RAJ }
	}
	enable = {
		is_in_faction_with = ENG
		has_war = yes
		is_historical_focus_on = yes
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		area = north_africa
		value = -1000
	}
}
stay_in_west_europe = {
	allowed = {
		OR = {
			tag = SPR
			tag = POR
			tag = LUX
			tag = BEL
			tag = HOL
			tag = SWI
		}
	}
	enable = {
		is_in_faction_with = ENG # anyone in allies
	}

	abort_when_not_enabled = yes

	#East Europe

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "POL"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "CZE"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "HUN"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "ROM"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "YUG"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "ALB"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "GRE"
		value = 500
	}
}

stay_in_east_europe = {
	allowed = {
		OR = {
			tag = POL
			tag = CZE
			tag = HUN
			tag = ROM
			tag = YUG
			tag = ALB
			tag = GRE
		}
	}
	enable = {
		is_in_faction_with = ENG # anyone in allies
	}

	abort_when_not_enabled = yes

	#West Europe

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "ENG"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "FRA"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "SPR"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "POR"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "LUX"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "BEL"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "HOL"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "SWI"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "GER"
		value = 500
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "ITA"
		value = 500
	}
}

ENG_puppets_dont_build_divisions  = {
	allowed = {
		OR = {
			tag = UKE
			tag = UKM
			tag = UKT
			tag = UKN
			tag = UKW
			tag = UKO
		}
	}

	enable = {
		date > 1936.1.1
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = -200
	}
	ai_strategy = {
		type = build_army
		id = infantry
		value = -1
	}
}

BRM_neutral_strat = {
	allowed = {
		original_tag = BRM
	}
	enable = {
		tag = BRM
		NOT = {
			is_in_faction_with = SIA
		}
		NOT = {
			surrender_progress > 0
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "SIA"
		value = 100
	}
}


ENG_dont_guarantee_iran = {
	allowed = {
		tag = ENG
	}
	enable = {
		GER = {
			OR = {
				has_war_with = SOV
				has_completed_focus = GER_pressure_iran
			}
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = protect
		id = "PER"
		value = -1000
	}
}