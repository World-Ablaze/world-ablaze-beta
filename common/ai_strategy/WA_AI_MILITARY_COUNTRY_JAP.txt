############################################################################################################
# WA Military V2 - Japan Specific Allocation Rules
############################################################################################################

WA_AI_MIL_JAP_avoid_burma_malaya_overstack = {
	allowed = { tag = JAP }
	enable = {
		has_war = yes
		OR = {
			has_war_with = USA
			has_war_with = ENG
			has_war_with = RAJ
			has_war_with = BRM
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		tag = BRM
		value = -50
	}

	ai_strategy = {
		type = front_unit_request
		strategic_region = 188
		value = -25
	}
}

WA_AI_MIL_JAP_theatre_boost_home = {
	allowed = { tag = JAP }
	enable = {
		has_war = yes
		any_enemy_country = { is_major = yes }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = theatre_distribution_demand_increase
		id = 533
		value = 4
	}
}

JAP_attack_hawaii = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = USA
		NOT = {
			has_full_control_of_state = 629
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		state = 629
		value = 100
	}
}

JAP_chinese_war_invasions_1 = { #Historical invasion of Shandong
	allowed = {
		tag = JAP
	}
	enable = {
		NOT = {
			has_idea = JAP_navy_slighted
		}
		has_war_with = CHI
		has_war_with = SHA
		608 = { is_controlled_by = JAP }
		date > 1937.11.1
		date < 1938.4.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control

		area = east_china

		ordertype = invasion
		execute_order = yes
	}

	#ai_strategy = {
	#	type = invade
	#	id = "SHA"
	#	value = 1000
	#}
}

JAP_chinese_war_invasions_2 = { #If japan is failing
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		NOT = { has_war_with = SOV }
		OR = {
			608 = { #Beijing
				CONTROLLER = {
					has_War_with = JAP
				}
			}
			924 = { #Shanghai
				CONTROLLER = {
					has_War_with = JAP
				}
			}
		}
		597 = { #Shandong
			CONTROLLER = {
				has_War_with = JAP
			}
		}
		596 = { #Zhejiang
			CONTROLLER = {
				has_War_with = JAP
			}
		}
		595 = { #Fujian
			CONTROLLER = {
				has_War_with = JAP
			}
		}
		592 = { #Guangzhou
			CONTROLLER = {
				has_War_with = JAP
			}
		}
		date > 1938.4.1
		date < 1940.1.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control

		area = east_china

		ordertype = invasion
		execute_order = yes
	}

	ai_strategy = {
		type = invade
		id = "CHI"
		value = 4000
	}
}

JAP_chinese_war_invasions_3 = { #Invade the coastline
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		NOT = { has_war_with = SOV }
		OR = {
			NOT = { has_war_with = SHA }
			NOT = { country_exists = SHA }
		}
		608 = { #Bejing
			is_fully_controlled_by = controller
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		1011 = { #Central Hebei
			is_fully_controlled_by = controller
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		614 = { #S Hebei
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		614 = { #S Hebei
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		597 = { #Shandong
			is_fully_controlled_by = controller
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		925 = { #Jiangsu
			is_fully_controlled_by = controller
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		606 = { #Anhui
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		598 = { #Nanjing
			is_fully_controlled_by = controller
			CONTROLLER = {
				OR = {
					tag = JAP
					is_subject_of = JAP
				}
			}
		}
		date > 1939.1.1
		date < 1940.1.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control

		area = east_china

		ordertype = invasion
		execute_order = yes
	}

	ai_strategy = {
		type = front_control

		area = shanghai_china

		ordertype = invasion
		execute_order = yes
	}

	ai_strategy = {
		type = front_control

		area = south_china

		ordertype = invasion
		execute_order = yes
	}

	ai_strategy = {
		type = invade
		id = "CHI"
		value = 2000
	}

	ai_strategy = {
		type = invade
		id = "SOV"
		value = -4000
	}
}

JAP_chinese_prep = {
	allowed = {
		tag = JAP
	}

	enable = {
		OR = {
			has_government = fascism
			has_government = neutrality
		}
		NOT = { 608 = { is_controlled_by = JAP } }
		NOT = { 608 = { is_controlled_by = RNC } }
		NOT = { 608 = { is_controlled_by = PGC } }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = dont_defend_ally_borders
		id = "MEN"
		value = 1000
	}
}

JAP_chinese_prep_2 = {
	allowed = {
		tag = JAP
	}
	enable = {
		NOT = {
			has_completed_focus = JAP_strike_south_doctrine
			has_completed_focus = JAP_strike_north_doctrine
			has_completed_focus = JAP_address_the_he_umezu_agreement
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		area = east_china
		value = 150
	}

	ai_strategy = {
		type = front_unit_request

		area = shanghai_china
		value = 250
	}

	ai_strategy = {
		type = front_unit_request

		state = 924
		value = 25
	}


	ai_strategy = {
		type = antagonize
		id = "CHI"
		value = 500
	}
	ai_strategy = {
		type = conquer
		id = "CHI"
		value = 500
	}
	ai_strategy = {
		type = conquer
		id = "HPC"
		value = 500
	}
	ai_strategy = {
		type = area_priority
		id = east_china
		value = 1000
	}

	ai_strategy = {
		type = area_priority
		id = shanghai_china
		value = 1000
	}

	ai_strategy = {
		type = area_priority
		id = south_china
		value = 400
	}

	ai_strategy = {
		type = area_priority
		id = philippines
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = central_pacific
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = south_pacific
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = oceania
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = australia_new_zealand
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = east_asia
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = malaysia
		value = -500
	}

	ai_strategy = {
		type = area_priority
		id = japan
		value = -500
	}
}

JAP_shanghai_request = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		NOT = {
			has_completed_focus = JAP_strike_south_doctrine
			has_completed_focus = JAP_strike_north_doctrine
			has_completed_focus = JAP_address_the_he_umezu_agreement
		}
		OR = {
			598 = { CONTROLLER = { has_war_with = ROOT } }
			613 = { CONTROLLER = { has_war_with = ROOT } }
			924 = { CONTROLLER = { has_war_with = ROOT } }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		area = shanghai_china
		value = 250
	}
}

JAP_chinese_war_1 = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		date < 1938.1.1
		NOT = {
			OR = {
				has_war_with = USA
				casualties > 1000000
			}
		}
	}
	abort_when_not_enabled = yes


	ai_strategy = {
		type = front_control
		priority = 100
		country_trigger = {
			OR = {
				tag = CHI
				is_in_faction_with = CHI
			}
		}
		ordertype = front
		execution_type = rush
		execute_order = yes
	}

	ai_strategy = {
		type = front_unit_request

		area = north_china
		value = -80
	}

	ai_strategy = {
		type = front_unit_request
		strategic_region = 143
		value = 25
	}
}

JAP_chinese_war_2 = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		date > 1938.1.1
		date < 1941.1.1
		NOT = {
			OR = {
				has_war_with = USA
				casualties > 1000000
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		priority = 100
		country_trigger = {
			OR = {
				tag = CHI
				is_in_faction_with = CHI
			}
		}
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}

	ai_strategy = {
		type = front_unit_request

		area = north_china
		value = -80
	}

	ai_strategy = {
		type = front_unit_request
		strategic_region = 143
		value = 25
	}
}

JAP_chinese_war_3 = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		NOT = {
			AND = {
				date > 1944.4.19
				date < 1944.12.31
			}
		}
		OR = {
			date > 1941.1.1
			has_war_with = USA
			casualties > 1000000
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		priority = 100
		country_trigger = {
			OR = {
				tag = CHI
				is_in_faction_with = CHI
			}
		}
		ordertype = front
		execution_type = careful
		#execute_order = yes
	}
}

JAP_chinese_war_4 = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = CHI
		AND = {
			date > 1944.4.19
			date < 1944.12.31
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		priority = 100
		country_trigger = {
			OR = {
				tag = CHI
				is_in_faction_with = CHI
			}
		}
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}

	ai_strategy = {
		type = front_unit_request

		area = north_china
		value = -80
	}

	ai_strategy = {
		type = front_unit_request
		strategic_region = 143
		value = 25
	}
}

JAP_generic_southern_expansion = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_completed_focus = JAP_strike_south_doctrine
		date > 1941.6.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = conquer
		id = "PHI"
		value = 500
	}

	ai_strategy = {
		type = conquer
		id = "INS"
		value = 500
	}

	ai_strategy = {
		type = conquer
		id = "MAL"
		value = 500
	}

	ai_strategy = {
		type = conquer
		id = "BRM"
		value = 500
	}

	ai_strategy = {
		type = front_unit_request

		area = east_asia
		value = 100
	}

	ai_strategy = {
		type = front_unit_request

		area = malaysia
		value = 100
	}
}

JAP_first_southern_expansion = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_completed_focus = JAP_strike_south_doctrine
		NOT = {
			AND = {
				country_exists = IPI
				country_exists = IPM
				country_exists = IPP
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "CHI"
		value = -4000
	}

	ai_strategy = {
		type = invade
		id = "ENG"
		value = -1000
	}

	#ai_strategy = {
	#	type = front_unit_request
	#
	#	area = philippines
	#	value = 150
	#}

	ai_strategy = {
		type = conquer
		id = "PHI"
		value = 500
	}

	ai_strategy = {
		type = conquer
		id = "INS"
		value = 500
	}

	ai_strategy = {
		type = conquer
		id = "MAL"
		value = 500
	}

	ai_strategy = {
		type = area_priority
		id = philippines
		value = 5000
	}

	ai_strategy = {
		type = area_priority
		id = oceania
		value = 5000
	}

	ai_strategy = {
		type = area_priority
		id = australia_new_zealand
		value = -2000
	}

	ai_strategy = {
		type = area_priority
		id = china_coast
		value = 5000
	}
}

Japan_southern_expansion_1_prep = {
	allowed = {
		tag = JAP
	}
	enable = {
		date > 1941.12.1
		date < 1942.1.1
		OR = {
			has_war_with = INS
			has_war_with = MAL
			has_war_with = PHI
		}
		NOT = { surrender_progress > 0 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_invasion_focus
		value = 100
	}

	ai_strategy = {
		type = invade
		id = "PHI"
		value = 4000
	}

	ai_strategy = {
		type = invade
		id = "MAL"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "INS"
		value = -2000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = PHI
		value = 1000
	}

	ai_strategy = {
		type = front_control
		priority = 100
		tag = PHI
		#state = 327
		ordertype = invasion
		execution_type = careful
	}
}

Japan_southern_expansion_1_fire = {
	allowed = {
		tag = JAP
	}
	enable = {
		date > 1942.1.1
		date < 1942.1.15
		OR = {
			has_war_with = INS
			has_war_with = MAL
			has_war_with = PHI
		}
		NOT = { surrender_progress > 0 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_invasion_focus
		value = 100
	}

	ai_strategy = {
		type = invade
		id = "PHI"
		value = 4000
	}

	ai_strategy = {
		type = invade
		id = "MAL"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "INS"
		value = -2000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = PHI
		value = 1000
	}

	ai_strategy = {
		type = front_control
		priority = 100
		tag = PHI
		ordertype = invasion
		execution_type = careful
		execute_order = yes
	}
}

Japan_southern_expansion_2_prep = {
	allowed = {
		tag = JAP
	}
	enable = {
		date > 1942.1.15
		date < 1942.2.1
		OR = {
			has_war_with = INS
			has_war_with = MAL
			has_war_with = PHI
		}
		NOT = { surrender_progress > 0 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_invasion_focus
		value = 100
	}

	ai_strategy = {
		type = invade
		id = "MAL"
		value = 4000
	}

	ai_strategy = {
		type = invade
		id = "PHI"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "INS"
		value = -2000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = MAL
		value = 1000
	}

	ai_strategy = {
		type = front_control
		priority = 100
		tag = MAL
		#state = 327
		ordertype = invasion
		execution_type = careful
	}
}

Japan_southern_expansion_2_fire = {
	allowed = {
		tag = JAP
	}
	enable = {
		date > 1942.2.1
		date < 1942.2.15
		OR = {
			has_war_with = INS
			has_war_with = MAL
			has_war_with = PHI
		}
		NOT = { surrender_progress > 0 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_invasion_focus
		value = 100
	}

	ai_strategy = {
		type = invade
		id = "MAL"
		value = 4000
	}

	ai_strategy = {
		type = invade
		id = "PHI"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "INS"
		value = -2000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = MAL
		value = 1000
	}

	ai_strategy = {
		type = front_control
		priority = 100
		tag = MAL
		ordertype = invasion
		execution_type = careful
		execute_order = yes
	}
}

Japan_southern_expansion_3_prep = {
	allowed = {
		tag = JAP
	}
	enable = {
		date > 1942.2.15
		date < 1942.3.1
		OR = {
			has_war_with = INS
			has_war_with = MAL
			has_war_with = PHI
		}
		NOT = { surrender_progress > 0 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_invasion_focus
		value = 100
	}

	ai_strategy = {
		type = invade
		id = "INS"
		value = 4000
	}

	ai_strategy = {
		type = invade
		id = "PHI"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "MAL"
		value = -2000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = INS
		value = 1000
	}

	ai_strategy = {
		type = front_control
		priority = 100
		tag = INS
		#state = 327
		ordertype = invasion
		execution_type = careful
	}
}

Japan_southern_expansion_3_fire = {
	allowed = {
		tag = JAP
	}
	enable = {
		date > 1942.3.1
		date < 1942.3.15
		OR = {
			has_war_with = INS
			has_war_with = MAL
			has_war_with = PHI
		}
		NOT = { surrender_progress > 0 }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = naval_invasion_focus
		value = 100
	}

	ai_strategy = {
		type = invade
		id = "INS"
		value = 4000
	}

	ai_strategy = {
		type = invade
		id = "PHI"
		value = -2000
	}

	ai_strategy = {
		type = invade
		id = "MAL"
		value = -2000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = INS
		value = 1000
	}

	ai_strategy = {
		type = front_control
		priority = 100
		tag = INS
		ordertype = invasion
		execution_type = careful
		execute_order = yes
	}
}

Japan_phillipines_push = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = PHI
		PHI = {
			has_capitulated = no
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		tag = PHI
		ordertype = front
		execution_type = rush
		execute_order = yes
		manual_attack = yes
	}
}

Japan_malaya_push = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = MAL
		MAL = {
			has_capitulated = no
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		tag = MAL
		ordertype = front
		execution_type = rush
		execute_order = yes
		manual_attack = yes
	}
}

Japan_indonesia_push = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war_with = INS
		OR = {
			INS = {
				has_capitulated = no
			}
			NOT = {
				country_exists = IPI
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		tag = INS
		ordertype = front
		execution_type = rush
		execute_order = yes
		manual_attack = yes
	}

	ai_strategy = {
		type = front_unit_request
		state = 335
		value = 50
	}
}

Japan_malaya_done = {
	allowed = {
		tag = JAP
	}
	enable = {
		country_exists = IPI
		country_exists = IPM
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "MAL"
		value = -1000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = MAL
		value = -1000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = IPM
		value = -1000
	}
}

Japan_indonesia_done = {
	allowed = {
		tag = JAP
	}
	enable = {
		country_exists = IPI
		country_exists = IPM
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = invade
		id = "INS"
		value = -1000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = INS
		value = -1000
	}

	ai_strategy = {
		type = invasion_unit_request
		tag = IPI
		value = -1000
	}
}

JAP_protect_our_expansion = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war = yes
		date > 1944.1.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = garrison
		value = 40
	}
}

JAP_push_burma_and_malaya = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			is_in_faction_with = SIA
			SIA = { is_subject_of = JAP }
			has_war_with = USA
			date > 1941.11.1
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = protect
		id = "SIA"
		value = 200
	}

	ai_strategy = {
		type = antagonize
		id = "FRA"
		value = 200
	}

	ai_strategy = {
		type = antagonize
		id = "RAJ"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "RAJ"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "ENG"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "MAL"
		value = 200
	}

	ai_strategy = {
		type = force_defend_ally_borders
		id = "SIA"
		value = 1000
	}
	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = east_asia
	}

	ai_strategy = {
		type = area_priority
		id = east_asia
		value = 5000
	}

	ai_strategy = {
		type = area_priority
		id = malaysia
		value = 5000
	}

	ai_strategy = {
		type = protect
		id = "SIA"
		value = 200
	}
}

SIA_siams_job = {
	allowed = {
		tag = SIA
	}
	enable = {
		is_in_faction_with = JAP
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = antagonize
		id = "FRA"
		value = 200
	}

	ai_strategy = {
		type = antagonize
		id = "RAJ"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "RAJ"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "ENG"
		value = 200
	}

	ai_strategy = {
		type = conquer
		id = "MAL"
		value = 200
	}

	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = east_asia
	}

	ai_strategy = {
		type = force_defend_ally_borders
		value = 100
		target = malaysia
	}
}

JAP_protect_home = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			date > 1941.10.1
			has_war_with = USA
		}
		AND = {
			has_full_control_of_state = 528
			has_full_control_of_state = 529
			has_full_control_of_state = 530
			has_full_control_of_state = 531
			has_full_control_of_state = 532
			has_full_control_of_state = 535
			has_full_control_of_state = 282
			has_full_control_of_state = 534
			has_full_control_of_state = 533
			has_full_control_of_state = 536
		}
	}
	abort = {
		NOT = { has_war_with = USA }
		date > 1942.8.1
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# Pacific
		states = {
			629
			630
			631
			632
			638
			863
			646
			648
			645
			526
		}

		ratio = 0.2

		area = central_pacific

		subtract_invasions_from_need = no
	}
}

JAP_protect_home_theyre_too_close = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war = yes
		OR = {
			645 = { is_controlled_by = USA }
			645 = { is_controlled_by = ENG }
			526 = { is_controlled_by = USA }
			526 = { is_controlled_by = ENG }
			524 = { is_controlled_by = USA }
			524 = { is_controlled_by = ENG }
		}
	}
	abort = {
		has_war = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# japan
		states = {
			533
			282
			531
			529
			528
		}

		ratio = 0.8

		area = japan

		subtract_invasions_from_need = no
	}
}

JAP_operation_downfall = {
	allowed = {
		tag = JAP
	}
	enable = {
		OR = {
			any_enemy_country = { controls_state = 528 }
			any_enemy_country = { controls_state = 529 }
			any_enemy_country = { controls_state = 530 }
			any_enemy_country = { controls_state = 531 }
			any_enemy_country = { controls_state = 532 }
			any_enemy_country = { controls_state = 535 }
			any_enemy_country = { controls_state = 282 }
			any_enemy_country = { controls_state = 534 }
			any_enemy_country = { controls_state = 533 }
			any_enemy_country = { controls_state = 536 }
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		strategic_region = 154
		value = 200
	}
	#ai_strategy = {
	#	type = front_unit_request
	#	tag = CHI
	#	value = -50
	#}
	#ai_strategy = {
	#	type = front_unit_request
	#	tag = RAJ
	#	value = -200
	#}
	ai_strategy = {
		type = front_control
		area = japan
		ordertype = front
		execute_order = yes
	}
}

JAP_conuering_india_means_you_get_cut_up = {
	allowed = {
		tag = JAP
	}
	enable = {
		975 = {
			OR = {
				is_controlled_by = JAP
				CONTROLLER = { is_in_faction_with = JAP }
				CONTROLLER = { is_subject_of = JAP }
			}
		}
		288 = {
			OR = {
				is_controlled_by = JAP
				CONTROLLER = { is_in_faction_with = JAP }
				CONTROLLER = { is_subject_of = JAP }
			}
		}
		640 = {
			OR = {
				is_controlled_by = JAP
				CONTROLLER = { is_in_faction_with = JAP }
				CONTROLLER = { is_subject_of = JAP }
			}
		}
		432 = {
			OR = {
				is_controlled_by = JAP
				CONTROLLER = { is_in_faction_with = JAP }
				CONTROLLER = { is_subject_of = JAP }
			}
		}
		430 = {
			OR = {
				is_controlled_by = JAP
				CONTROLLER = { is_in_faction_with = JAP }
				CONTROLLER = { is_subject_of = JAP }
			}
		}
		431 = {
			OR = {
				is_controlled_by = JAP
				CONTROLLER = { is_in_faction_with = JAP }
				CONTROLLER = { is_subject_of = JAP }
			}
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		area = asia
		value = -100
	}
}

JAP_protect_conqured_lands = {
	allowed = {
		tag = JAP
	}
	enable = {
		has_war = yes
		NOT = { has_war_with = SOV }
		date > 1942.8.1
		AND = {
			has_full_control_of_state = 528
			has_full_control_of_state = 529
			has_full_control_of_state = 530
			has_full_control_of_state = 531
			has_full_control_of_state = 532
			has_full_control_of_state = 535
			has_full_control_of_state = 282
			has_full_control_of_state = 534
			has_full_control_of_state = 533
			has_full_control_of_state = 536
		}
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# philippines
		states = {
			623
			327
			624
			627
		}

		ratio = 0.4

		area = philippines

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# east_asia
		states = {
			286
		}

		ratio = 0.6

		area = east_asia

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# malaysia
		states = {
			862
			336
		}

		ratio = 0.6

		area = malaysia

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# oceania
		states = {
			333
			334
			335
			672
		}

		ratio = 0.7

		area = oceania

		subtract_invasions_from_need = no
	}
}

JAP_protect_the_emperor = {
	allowed = {
		tag = JAP
	}

	enable = {
		OR = {
			528 = { CONTROLLER = { has_war_with = ROOT } }
			529 = { CONTROLLER = { has_war_with = ROOT } }
			530 = { CONTROLLER = { has_war_with = ROOT } }
			531 = { CONTROLLER = { has_war_with = ROOT } }
			532 = { CONTROLLER = { has_war_with = ROOT } }
			535 = { CONTROLLER = { has_war_with = ROOT } }
			282 = { CONTROLLER = { has_war_with = ROOT } }
			534 = { CONTROLLER = { has_war_with = ROOT } }
			533 = { CONTROLLER = { has_war_with = ROOT } }
		}
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request

		area = japan
		value = 1000
	}
}

MAN_help_in_northen_china = {
	allowed = {
		tag = MAN
	}
	enable = {
		NOT = { CHI = { is_puppet_of = JAP } }
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = area_priority
		id = east_china
		value = 5000
	}

	ai_strategy = {
		type = antagonize
		id = "CHI"
		value = 500
	}
	ai_strategy = {
		type = conquer
		id = "CHI"
		value = 500
	}
	ai_strategy = {
		type = invade
		id = "CHI"
		value = -5000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 75 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 78 #
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 94
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 90
		value = 2000
	}

	ai_strategy = {
		type = naval_avoid_region
		id = 87
		value = 2000
	}

	ai_strategy = {
		type = area_priority
		id = south_china
		value = 100
	}

	ai_strategy = {
		type = area_priority
		id = north_pacific
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = central_pacific
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = south_pacific
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = china_coast
		value = -100
	}

	ai_strategy = {
		type = area_priority
		id = oceania
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = australia_new_zealand
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = east_asia
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = malaysia
		value = -5000
	}

	ai_strategy = {
		type = area_priority
		id = philippines
		value = -5000
	}

	ai_strategy = {
		type = force_defend_ally_borders
		id = "JAP"
		value = 5000
	}
}

RNC_protect_home = {
	allowed = {
		tag = RNC
	}
	enable = {
		has_war_with = CHI
	}
	abort = {
		NOT = { has_war_with = CHI }
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# shanghai_china
		states = {
			598
			613
			924
		}

		ratio = 0.5

		area = shanghai_china

		subtract_invasions_from_need = no
	}

	ai_strategy = {
		type = put_unit_buffers

		order_id = 1

		# east_china
		states = {
			597
			743
			937
		}

		ratio = 0.2

		area = east_china

		subtract_invasions_from_need = no
	}
}
