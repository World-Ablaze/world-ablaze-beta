add_namespace = usa_armor

country_event = {
	id = usa_armor.001
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = USA
		is_ai = yes
		has_tech = usa_anti_tank_1
		has_tech = usa_anti_air_1
		has_tech = usa_mechanized_td_1
		has_tech = usa_mechanized_artillery_1
		has_tech = usa_mechanized_aa_1
	}

	immediate = {
		#USA_mark_clark = {
		#	add_skill_level = 1
		#	add_attack = 1
		#	add_defense = 1
		#	add_planning = 1
		#}
		add_advisor_role = {
			character = "USA_mark_clark"
			advisor = {
				slot = high_command
				idea_token = USA_mark_clark
				ledger = army
				traits = {
					army_infantry_2
				}
				cost = 100
				ai_will_do = {
					base = 1
				}
			}
		}
		#USA_geoffrey_keyes = {
		#	add_skill_level = 4
		#	add_attack = 1
		#	add_defense = 1
		#	add_planning = 1
		#	add_logistics = 1
		#}
		add_advisor_role = {
			character = "USA_geoffrey_keyes"
			advisor = {
				slot = high_command
				idea_token = USA_geoffrey_keyes
				ledger = army
				traits = {
					army_armored_2
				}
				cost = 100
				ai_will_do = {
					base = 1
				}
			}
		}
		USA_lucian_truscott = {
			add_trait = { trait = cavalry_leader }
			#add_skill_level = 4
			#add_attack = 1
			#add_defense = 1
			#add_planning = 1
			#add_logistics = 1
		}
		add_advisor_role = {
			character = "USA_lucian_truscott"
			advisor = {
				slot = high_command
				idea_token = USA_lucian_truscott
				ledger = army
				traits = {
					army_cavalry_2
				}
				cost = 100
				ai_will_do = {
					base = 1
				}
			}
		}
		delete_unit_template_and_units = {
			division_template = "Garrison Brigade"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Mountain Division"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Marine Division"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Motorized-Division"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Marine Brigade"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Infantry Division"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Infantry Brigade Garrison"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Airborne Division"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Cavalry Division"
			disband = yes
		}
	}

	option = {}

}

country_event = {
	id = usa_armor.007
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = USA
		is_ai = yes
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			has_tech = usa_medium_tank_spg_2
		}
		else = {
			has_tech = usa_medium_2_spg
		}
	}

	immediate = {
	}

	option = {}
}

#
#country_event = {
#	id = usa_armor.008
#	hidden = yes
#
#	mean_time_to_happen = { days = 1 }
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = USA
#		is_ai = yes
#		if = {
#			limit = {
#				has_dlc = "No Step Back"
#			}
#			date > 1944.3.1
#		}
#		else = {
#			has_tech = usa_light_4_aa
#		}
#	}
#
#	immediate = {
#		set_country_flag = medium_armor_template_2_usa
#
#		division_template = {
#			name = "US Adv Medium Tank Division"
#			template_counter = 165
#			priority = 2
#
#			regiments = {
#				medium_armor = { x = 0 y = 0 }
#				medium_armor = { x = 0 y = 1 }
#				medium_armor = { x = 0 y = 2 }
#
#				medium_armor = { x = 1 y = 0 }
#				medium_armor = { x = 1 y = 1 }
#				medium_armor = { x = 1 y = 2 }
#
#				medium_armor = { x = 2 y = 0 }
#				medium_armor = { x = 2 y = 1 }
#				medium_tank_destroyer_brigade = { x = 2 y = 2 }
#				medium_sp_artillery_brigade = { x = 2 y = 3 }
#
#				mechanized = { x = 3 y = 0 }
#				mechanized = { x = 3 y = 1 }
#				mechanized = { x = 3 y = 2 }
#
#				mechanized = { x = 4 y = 0 }
#				mechanized = { x = 4 y = 1 }
#			}
#
#			support = {
#				assault_engineers = { x = 0 y = 0 }
#				mot_logistics_company = { x = 0 y = 1 }
#				mot_field_hospital = { x = 0 y = 2 }
#				mot_signal_company = { x = 0 y = 3 }
#				military_police = { x = 0 y = 4 }
#
#				armoured_recon = { x = 1 y = 0 }
#       		heavy_maintenance_company = { x = 1 y = 1 }
#       		medium_sp_artillery = { x = 1 y = 2 }
#       		light_sp_anti_air = { x = 1 y = 3 }
#			}
#		}
#	}
#
#	option = {}
#}

country_event = {
	id = usa_armor.009
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = USA
		is_ai = yes
		has_tech = usa_light_tank_aa_4
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			has_tech = usa_modern_tank_chassis_1
		}
		else = {
			has_tech = usa_modern_1
		}
	}

	immediate = {
		set_country_flag = modern_armor_template_1_usa
	}

	option = {}
}

country_event = {
	id = usa_armor.010
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = USA
		is_ai = yes
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			date > 1947.6.1
		}
		else = {
			has_tech = usa_modern_td_2
			has_tech = usa_modern_spg_2
			has_tech = usa_modern_aa_2
		}
	}

	immediate = {
	}

	option = {}
}

country_event = {
	id = usa_armor.999
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		has_tech = usa_amphibious_1
		has_tech = usa_mechanized_aa_1
		has_tech = usa_mechanized_td_1
		tag = USA
		is_ai = yes
		date > 1942.1.1
	}

	immediate = {
		add_advisor_role = {
			character = "USA_dwight_d_eisenhower"
			advisor = {
				slot = army_chief
				idea_token = USA_dwight_d_eisenhower
				ledger = army
				traits = {
					army_chief_offensive_1
				}
				cost = 100
				ai_will_do = {
					base = 100
				}
			}
		}
		add_advisor_role = {
			character = "USA_j_lawton_collins"
			advisor = {
				slot = high_command
				idea_token = USA_j_lawton_collins
				ledger = army
				traits = {
					army_artillery_1
				}
				cost = 100
				ai_will_do = {
					base = 1
				}
			}
		}
		deactivate_advisor = george_marshall
		activate_advisor = USA_dwight_d_eisenhower
		activate_advisor = USA_j_lawton_collins
	}

	option = {}
}

#
#country_event = {
#	id = usa_armor.603
#	hidden = yes
#
#	mean_time_to_happen = { days = 1 }
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = USA
#		is_ai = yes
#		has_tech = usa_destroyer_5
#		date > 1937.1.1
#	}
#
#	immediate = {
#		create_equipment_variant = {
#			name = "Somers Class Mine Layer"
#			type = usa_destroyer_hull_5
#			name_group = USA_MINELAYERS_HISTORICAL
#			parent_version = 0
#			modules = {
#				fixed_ship_engine_slot = usa_small_ship_engine_4
#				fixed_ship_fire_control_system_slot = ship_sonar_1
#				fixed_ship_radar_slot = empty
#				ship_battery_slot_1 = usa_ship_light_battery_6_x2
#				ship_battery_slot_2 = usa_ship_light_battery_6_x2
#				ship_battery_slot_3 = usa_ship_light_battery_6_x2
#				ship_battery_slot_4 = usa_ship_light_battery_6_x2
#				ship_anti_air_slot_1 = usa_ship_anti_air_1_2x1
#				ship_anti_air_slot_2 = empty
#				ship_anti_air_slot_3 = usa_ship_anti_air_5_2x4
#				torpedo_slot_1 = usa_ship_torpedo_4_2x4
#				torpedo_slot_2 = usa_ship_torpedo_4_1x4
#				depth_charge_rail_slot_1 = ship_mine_layer_1
#				depth_charge_rail_slot_2 = ship_mine_layer_1
#			}
#		}
#	}
#}

country_event = {
	id = usa_armor.812

	fire_only_once = yes

	hidden = yes

	trigger = {
		tag = USA
		is_ai = yes
		has_completed_focus = USA_cash_and_carry_act
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
	}
}

country_event = {
	id = usa_armor.890
	title = usa_armor.890.t
	desc = usa_armor.890.d
	picture = GFX_report_event_generic_conference

	fire_only_once = yes

	trigger = {
		original_tag = USA
		is_ai = yes
		OR = {
			date > 1941.7.1
			has_war = yes
		}
	}

	immediate = {
		USA_dwight_d_eisenhower = {
			promote_leader = yes
		}
		USA_dwight_d_eisenhower_ai = {
			promote_leader = yes
		}
		USA_geoffrey_keyes = {
			promote_leader = yes
		}
		USA_geoffrey_keyes_ai = {
			promote_leader = yes
		}
		USA_maurice_rose = {
			promote_leader = yes
		}
		USA_maurice_rose_ai = {
			promote_leader = yes
		}
		USA_courtney_hodges_ai = {
			promote_leader = yes
		}
		USA_j_lawton_collins_ai = {
			promote_leader = yes
		}
		if = {
			limit = {
				USA_harry_hopkins = { is_hired_as_advisor = yes }
			}
			deactivate_advisor = USA_harry_hopkins
			activate_advisor = USA_henry_stimson
			add_political_power = -150
		}
		activate_advisor = USA_donald_nelson
	}
	option = {}

}

country_event = {
	id = usa_armor.905
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = USA
		is_ai = yes
		date > 1942.6.1
	}

	immediate = {
		delete_unit_template_and_units = {
			division_template = "Malaya Infantry Brigade"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Infantry Division"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "National Guard Division"
			disband = yes
		}
		#delete_unit_template_and_units = {
		#	division_template = "Commandos"
		#	disband = yes
		#}
		delete_unit_template_and_units = {
			division_template = "Paratroopers"
			disband = yes
		}
		add_equipment_to_stockpile = { type = convoy_1 amount = 100 producer = USA }
        set_sub_doctrine = operational_destruction
        set_sub_doctrine = carousel_bombing
	}

	option = {}

}

country_event = {
	id = usa_armor.930
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = USA
		is_ai = yes
		is_in_faction_with = ENG
		date > 1944.6.5
		857 = { CONTROLLER = { tag = ENG } }
		127 = { CONTROLLER = { tag = ENG } }
		859 = { CONTROLLER = { tag = ENG } }
		123 = { CONTROLLER = { tag = ENG } }
		338 = { CONTROLLER = { tag = ENG } }
		858 = { CONTROLLER = { tag = ENG } }
		126 = { CONTROLLER = { tag = ENG } }
		961 = { CONTROLLER = { tag = ENG } }
		125 = { CONTROLLER = { tag = ENG } }
		860 = { CONTROLLER = { tag = ENG } }
		122 = { CONTROLLER = { tag = ENG } }
		128 = { CONTROLLER = { tag = ENG } }
		130 = { CONTROLLER = { tag = ENG } }
		129 = { CONTROLLER = { tag = ENG } }
		132 = { CONTROLLER = { tag = ENG } }
		131 = { CONTROLLER = { tag = ENG } }
		121 = { CONTROLLER = { tag = ENG } }
		133 = { CONTROLLER = { tag = ENG } }
		136 = { CONTROLLER = { tag = ENG } }
		120 = { CONTROLLER = { tag = ENG } }
		6 = { CONTROLLER = { has_war_with = ROOT } }
		29 = { CONTROLLER = { has_war_with = ROOT } }
		785 = { CONTROLLER = { has_war_with = ROOT } }
		15 = { CONTROLLER = { has_war_with = ROOT } }
		14 = { CONTROLLER = { has_war_with = ROOT } }
		30 = { CONTROLLER = { has_war_with = ROOT } }
		23 = { CONTROLLER = { has_war_with = ROOT } }
		19 = { CONTROLLER = { has_war_with = ROOT } }
		35 = { CONTROLLER = { has_war_with = ROOT } }
		7 = { CONTROLLER = { has_war_with = ROOT } }
		NOT = {
			29 = { is_controlled_by = FRA }
			14 = { is_controlled_by = FRA }
		}
		has_template = "US Infantry Division"
		has_template = "US Medium Tank Division"
	}

	immediate = {
		if = {
			limit = {
				NOT = {
					has_template = "Airborne Division"
				}
			}
			division_template = {
				name = "Airborne Division"
				template_counter = 26
				priority = 1

				division_names_group = USA_PAR_01

				regiments = {
					paratrooper = { x = 0 y = 0 }
					paratrooper = { x = 0 y = 1 }
					paratrooper = { x = 0 y = 2 }

					paratrooper = { x = 1 y = 0 }
					paratrooper = { x = 1 y = 1 }
					paratrooper = { x = 1 y = 2 }

					paratrooper = { x = 2 y = 0 }
					paratrooper = { x = 2 y = 1 }
					paratrooper = { x = 2 y = 2 }
				}

				support = {
					assault_engineers = { x = 0 y = 0 }

					recon = { x = 1 y = 0 }
				}
			}
		}
	}

	option = {}

}

country_event = {
	id = usa_armor.910
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = USA
		is_ai = yes
		date > 1944.1.15
		#not = {has_global_flag = disable_cheats}
	}

	immediate = {
		add_equipment_to_stockpile = { type = convoy_1 amount = 100 producer = USA }
	}

	option = {}

}

country_event = {
	id = usa_armor.922
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = USA
		is_ai = yes
		has_completed_focus = USA_empower_the_huac
		#not = {has_global_flag = disable_cheats}
	}

	immediate = {
	}

	option = {}
}

country_event = {
	id = usa_armor.941
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1943.1.1
		NOT = {
			has_country_flag = USA_refinery_construction_timer
		}
		tag = USA
		is_ai = yes
	}

	immediate = {
		deactivate_advisor = USA_roy_chapin
		activate_advisor = USA_harry_hopkins
		add_ideas = USA_general_motors
	}

	option = {}

}

country_event = {
	id = usa_armor.942
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		has_completed_focus = USA_budget_balancing
		tag = USA
		is_ai = yes
	}

	immediate = {
		activate_advisor = USA_henry_morgenthau
		add_political_power = -85
	}

	option = {}

}

country_event = {
	id = usa_armor.943
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		has_completed_focus = USA_synthetic_rubber_program
		has_country_flag = USA_refinery_construction_timer
		tag = USA
		is_ai = yes
	}

	immediate = {
		deactivate_advisor = USA_jesse_jones
		activate_advisor = USA_roy_chapin
		add_political_power = -85
		add_ideas = standard_oil_california
	}

	option = {}

}

country_event = {
	id = usa_armor.945
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		has_completed_focus = USA_expand_the_USMC
		tag = USA
		is_ai = yes
	}

	immediate = {
		add_advisor_role = {
			character = "USA_alexander_vandegrift"
			advisor = {
				slot = high_command
				idea_token = USA_alexander_vandegrift
				ledger = army
				traits = {
					army_commando_1
				}
				cost = 100
				ai_will_do = {
					base = 100
				}
			}
		}
		activate_advisor = USA_alexander_vandegrift
	}

	option = {}

}


