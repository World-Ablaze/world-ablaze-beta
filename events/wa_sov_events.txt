add_namespace = sov_armor

country_event = {
	id = sov_armor.001
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_tech = sov_motorised_infantry
	}

	immediate = {
		set_country_flag = motorized_template_sov
		set_country_flag = infantry_template_sov
		set_technology = {
			sov_light_assault_spg_1 = 1
		}

		division_template = {
			name = "Soviet Rifle Division"
			division_names_group = SOV_INF_01

			regiments = {
				heavy_infantry = { x = 0 y = 0 }
				heavy_infantry = { x = 0 y = 1 }
				heavy_infantry = { x = 0 y = 2 }
				heavy_infantry = { x = 0 y = 3 }

				heavy_infantry = { x = 1 y = 0 }
				heavy_infantry = { x = 1 y = 1 }
				heavy_infantry = { x = 1 y = 2 }

				heavy_infantry = { x = 2 y = 0 }
				heavy_infantry = { x = 2 y = 1 }
				heavy_infantry = { x = 2 y = 2 }

				artillery_brigade = { x = 3 y = 0 }
				artillery_brigade = { x = 3 y = 1 }
				anti_tank_brigade = { x = 3 y = 2 }
				anti_tank_brigade = { x = 3 y = 3 }
			}
			support = {
				engineer = { x = 0 y = 0 }
				horse_logistics_company = { x = 0 y = 1 }
				heavy_artillery = { x = 0 y = 2 }

				recon = { x = 1 y = 0 }
				military_police = { x = 1 y = 1 }
				anti_air = { x = 1 y = 2 }
				anti_tank = { x = 1 y = 3 }
			}
		}
		division_template = {
			name = "Soviet Shock Division"
			division_names_group = SOV_GRD_01
			priority = 2

			regiments = {
				mountaineers = { x = 0 y = 0 }
				mountaineers = { x = 0 y = 1 }
				mountaineers = { x = 0 y = 2 }

				mountaineers = { x = 1 y = 0 }
				mountaineers = { x = 1 y = 1 }
				mountaineers = { x = 1 y = 2 }

				mountaineers = { x = 2 y = 0 }
				mountaineers = { x = 2 y = 1 }
				mountaineers = { x = 2 y = 2 }

				pack_artillery_brigade = { x = 3 y = 0 }
				pack_artillery_brigade = { x = 3 y = 1 }

				anti_tank_brigade = { x = 4 y = 0 }
				anti_tank_brigade = { x = 4 y = 1 }
				anti_tank_brigade = { x = 4 y = 2 }
			}

			support = {
				shock_division_hq = { x = 0 y = 0 }
				motorized_logistics_company = { x = 0 y = 1 }
				field_hospital = { x = 0 y = 2 }
				signal_company = { x = 0 y = 3 }
				anti_tank = { x = 0 y = 4 }

				armoured_recon = { x = 1 y = 0 }
				engineer = { x = 1 y = 1 }
				heavy_artillery = { x = 1 y = 2 }
				maintenance_company = { x = 1 y = 3 }
			}
		}
		division_template = {
			name = "Soviet Light Tank Division"
			division_names_group = SOV_ARM_01
			template_counter = 137
			priority = 1

			regiments = {
				light_armor = { x = 0 y = 0 }
				light_armor = { x = 0 y = 1 }
				light_armor = { x = 0 y = 2 }

				light_armor = { x = 1 y = 0 }
				light_armor = { x = 1 y = 1 }
				light_armor = { x = 1 y = 2 }
				light_armor = { x = 1 y = 3 }

				light_armor = { x = 2 y = 0 }
				light_armor = { x = 2 y = 1 }
				light_armor = { x = 2 y = 2 }

				motorized = { x = 3 y = 0 }
				motorized = { x = 3 y = 1 }
				motorized = { x = 3 y = 2 }
				motorized = { x = 3 y = 3 }
				motorized = { x = 3 y = 4 }
			}

			support = {
				armored_engineer = { x = 0 y = 0 }
				motorized_logistics_company = { x = 0 y = 1 }
				field_hospital = { x = 0 y = 2 }
				signal_company = { x = 0 y = 3 }
				infantry_support = { x = 0 y = 4 }

				armoured_recon = { x = 1 y = 0 }
				heavy_maintenance_company = { x = 1 y = 1 }
				military_police = { x = 1 y = 2 }
				heavy_artillery = { x = 1 y = 3 }
				#anti_tank = { x = 1 y = 4 }
			}
		}
		division_template = {
			name = "Soviet Light Infantry Tank Division"
			division_names_group = SOV_ARM_01
			template_counter = 137
			priority = 1

			regiments = {
				light_support_armor = { x = 0 y = 0 }
				light_support_armor = { x = 0 y = 1 }
				light_support_armor = { x = 0 y = 2 }

				light_support_armor = { x = 1 y = 0 }
				light_support_armor = { x = 1 y = 1 }
				light_support_armor = { x = 1 y = 2 }
				light_support_armor = { x = 1 y = 3 }

				light_support_armor = { x = 2 y = 0 }
				light_support_armor = { x = 2 y = 1 }
				light_support_armor = { x = 2 y = 2 }

				motorized = { x = 3 y = 0 }
				motorized = { x = 3 y = 1 }
				motorized = { x = 3 y = 2 }
				motorized = { x = 3 y = 3 }
				motorized = { x = 3 y = 4 }
			}

			support = {
				armored_engineer = { x = 0 y = 0 }
				motorized_logistics_company = { x = 0 y = 1 }
				field_hospital = { x = 0 y = 2 }
				signal_company = { x = 0 y = 3 }
				infantry_support = { x = 0 y = 4 }

				armoured_recon = { x = 1 y = 0 }
				heavy_maintenance_company = { x = 1 y = 1 }
				military_police = { x = 1 y = 2 }
				heavy_artillery = { x = 1 y = 3 }
				#anti_tank = { x = 1 y = 4 }
			}
		}
		division_template = {
			name = "Soviet Garrison Division"
			division_names_group = SOV_GAR_01
			obsolete = yes
			regiments = {
				cavalry = { x = 0 y = 0 }
				cavalry = { x = 0 y = 1 }
				cavalry = { x = 0 y = 2 }

				cavalry = { x = 1 y = 0 }
				cavalry = { x = 1 y = 1 }
				cavalry = { x = 1 y = 2 }
			}
			support = {
				military_police = { x = 0 y = 0 }
			}
			priority = 0
		}
		delete_unit_template_and_units = {
			division_template = "Mekhanizirovaniy Korpus"
			disband = yes
		}
		#delete_unit_template_and_units = {
		#	division_template = "Tankovaya brigada"
		#	disband = yes
		#}
		delete_unit_template_and_units = {
			division_template = "Gornostrelkovaya Diviziya"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Sredniy Korpus"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Tyazhelyy Korpus"
			disband = yes
		}
		219 = {
			create_unit = {
				division = "division_template = \"Soviet Light Infantry Tank Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7"
				owner = SOV
				count = 18
			}
			create_unit = {
				division = "division_template = \"Soviet Light Tank Division\" start_experience_factor = 0.2 start_equipment_factor = 0.7"
				owner = SOV
				count = 6
			}
		}
		219 = {
			create_unit = {
				division = "division_template = \"Soviet Shock Division\" start_experience_factor = 0.6 start_equipment_factor = 0.1"
				owner = SOV
				count = 12
			}
		}
		set_country_flag = medium_armor_template_0_sov
		set_country_flag = sov_infantry_template

		SOV_georgy_zhukov = {
			promote_leader = yes
		}
		SOV_aleksandr_vasilevsky = {
			promote_leader = yes
		}
		SOV_konstantin_rokossovsky = {
			promote_leader = yes
		}
		SOV_vasily_kuznetsov = {
			promote_leader = yes
		}
		SOV_nikolay_vatutin = {
			promote_leader = yes
		}
		SOV_semyon_timoshenko = {
			promote_leader = yes
		}
		SOV_andrey_yeryomenko = {
			promote_leader = yes
		}
	}
	option = {}
}

#country_event = {
#	id = sov_armor.002
#	hidden = yes
#
#	mean_time_to_happen = { days = 1 }
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = SOV
#		is_ai = yes
#		has_template = "Soviet Medium Tank Division"
#	}
#
#	immediate = {
#		delete_units = {
#			division_template = "Soviet Light Tank Division"
#			disband = yes
#		}
#	}
#	option = {}
#}
#
#country_event = {
#	id = sov_armor.003
#	hidden = yes
#
#	mean_time_to_happen = { days = 1 }
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = SOV
#		is_ai = yes
#		has_tech = sov_mechanized_infantry_4
#	}
#
#	immediate = {
#		set_country_flag = mechanized_template_sov
#
#		division_template = {
#			name = "Soviet Mechanized Division"
#			division_names_group = SOV_MEC_01
#			template_counter = 136
#			priority = 1
#
#			regiments = {
#				mechanized = { x = 0 y = 0}
#				mechanized = { x = 0 y = 1}
#				motorized_rocket_brigade = { x = 0 y = 2}
#
#				mechanized = { x = 1 y = 0}
#				mechanized = { x = 1 y = 1}
#				motorized_rocket_brigade = { x = 1 y = 2}
#				scout_car = { x = 1 y = 3}
#
#				mechanized = { x = 2 y = 0 }
#				mechanized = { x = 2 y = 1 }
#				motorized_heavy_artillery_brigade = { x = 2 y = 2}
#
#				mechanized = { x = 3 y = 0 }
#				mechanized = { x = 3 y = 1 }
#				motorized_heavy_anti_tank_brigade = { x = 3 y = 2}
#
#				mechanized = { x = 4 y = 0 }
#				mechanized = { x = 4 y = 1 }
#				mechanized_anti_air_brigade = { x = 4 y = 2}
#			}
#
#			support = {
#				engineer = { x = 0 y = 0 }
#				motorized_logistics_company = { x = 0 y = 1 }
#				heavy_artillery = { x = 0 y = 2 }
#				mot_maintenance_company = { x = 0 y = 3 }
#				signal_company = { x = 0 y = 4 }
#
#				mobile_recon = { x = 1 y = 0 }
#				field_hospital = { x = 1 y = 1 }
#				anti_air = { x = 1 y = 2 }
#			}
#		}
#	}
#	option = {}
#}

########## Matching Template

country_event = {
	id = sov_armor.004
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			has_tech = sov_medium_tank_chassis_3
			has_tech = sov_light_assault_spg_1
		}
		else = {
			has_tech = sov_medium_3
		}
	}

	immediate = {

		division_template = {
			name = "Soviet Medium Tank Division"
			division_names_group = SOV_ARM_01
			template_counter = 139
			priority = 2

			regiments = {
				medium_armor = { x = 0 y = 0 }
				medium_armor = { x = 0 y = 1 }
				medium_armor = { x = 0 y = 2 }

				medium_armor = { x = 1 y = 0 }
				medium_armor = { x = 1 y = 1 }
				medium_armor = { x = 1 y = 2 }
				medium_armor = { x = 1 y = 3 }

				medium_armor = { x = 2 y = 0 }
				medium_armor = { x = 2 y = 1 }
				medium_armor = { x = 2 y = 2 }

				mechanized = { x = 3 y = 0 }
				mechanized = { x = 3 y = 1 }
				mechanized = { x = 3 y = 2 }
				mechanized = { x = 3 y = 3 }
				mechanized = { x = 3 y = 4 }
			}

			support = {
				armored_engineer = { x = 0 y = 0 }
				motorized_logistics_company = { x = 0 y = 1 }
				field_hospital = { x = 0 y = 2 }
				signal_company = { x = 0 y = 3 }
				motorized_anti_tank = { x = 0 y = 4 }

				armoured_recon = { x = 1 y = 0 }
				heavy_maintenance_company = { x = 1 y = 1 }
				military_police = { x = 1 y = 2 }
				heavy_artillery = { x = 1 y = 3 }
				heavy_anti_air = { x = 1 y = 4 }
			}
		}
	}

	option = {}
}

############## Modern Armor

country_event = {
	id = sov_armor.007
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_tech = sov_modern_tank_chassis_1
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			OR = {
				has_tech = sov_modern_tank_td_1
				date > 1945.7.1
			}
		}
		else = {
			has_tech = sov_modern_td_1
		}
	}

	immediate = {
		set_country_flag = modern_armor_template_1_sov
		division_template = {
			name = "Soviet Modern Tank Division"
			division_names_group = SOV_ARM_01
			template_counter = 141
			priority = 2

			regiments = {
				modern_armor = { x = 0 y = 0 }
				modern_armor = { x = 0 y = 1 }
				modern_armor = { x = 0 y = 2 }
				modern_armor = { x = 0 y = 3 }

				modern_armor = { x = 1 y = 0 }
				modern_armor = { x = 1 y = 1 }
				modern_armor = { x = 1 y = 2 }
				modern_armor = { x = 1 y = 3 }

				mechanized = { x = 2 y = 0 }
				mechanized = { x = 2 y = 1 }
				mechanized = { x = 2 y = 2 }
				mechanized = { x = 2 y = 3 }

				mechanized = { x = 3 y = 0 }
				mechanized = { x = 3 y = 1 }
				mechanized = { x = 3 y = 2 }

				modern_tank_destroyer_brigade = { x = 4 y = 0 }
				heavy_assault_brigade = { x = 4 y = 1 }
			}

			support = {
				armored_engineer_modern = { x = 0 y = 0 }
				motorized_logistics_company = { x = 0 y = 1 }
				field_hospital = { x = 0 y = 2 }
				signal_company = { x = 0 y = 3 }
				heavy_artillery = { x = 0 y = 4 }

				armoured_recon = { x = 1 y = 0 }
				heavy_maintenance_company_modern = { x = 1 y = 1 }
				light_sp_anti_air = { x = 1 y = 2 }
				modern_tank_destroyer = { x = 1 y = 3 }
				heavy_assault = { x = 1 y = 4 }
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.008
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			OR = {
				AND = {
					has_tech = sov_modern_tank_td_3
					has_tech = sov_modern_tank_aa_3
				}
				date > 1947.7.1
			}
		}
		else = {
			has_tech = sov_modern_td_3
			has_tech = sov_modern_aa_3
		}
	}

	immediate = {
		set_country_flag = modern_armor_template_1_sov

		division_template = {
			name = "Soviet Improved Modern Tank Division"
			division_names_group = SOV_ARM_01
			template_counter = 141
			priority = 2

			regiments = {
				modern_armor = { x = 0 y = 0 }
				modern_armor = { x = 0 y = 1 }
				modern_armor = { x = 0 y = 2 }
				modern_armor = { x = 0 y = 3 }

				modern_armor = { x = 1 y = 0 }
				modern_armor = { x = 1 y = 1 }
				modern_armor = { x = 1 y = 2 }
				modern_armor = { x = 1 y = 3 }

				modern_armor = { x = 2 y = 0 }
				modern_armor = { x = 2 y = 1 }
				modern_armor = { x = 2 y = 2 }
				modern_armor = { x = 2 y = 3 }

				mechanized = { x = 3 y = 0 }
				mechanized = { x = 3 y = 1 }
				mechanized = { x = 3 y = 2 }
				mechanized = { x = 3 y = 3 }
				mechanized = { x = 3 y = 4 }

				modern_tank_destroyer_brigade = { x = 4 y = 0 }
			}

			support = {
				engineer = { x = 0 y = 0 }
				motorized_logistics_company = { x = 0 y = 1 }
				field_hospital = { x = 0 y = 2 }
				signal_company = { x = 0 y = 3 }

				armoured_recon = { x = 1 y = 0 }
				heavy_maintenance_company_modern = { x = 1 y = 1 }
				modern_sp_anti_air = { x = 1 y = 2 }
				modern_tank_destroyer = { x = 1 y = 3 }
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.009
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			OR = {
				has_tech = sov_modern_tank_spg_4
				date > 1948.7.1
			}
		}
		else = {
			has_tech = sov_modern_spg_4
		}
	}

	immediate = {
		set_country_flag = modern_armor_template_1_sov

		division_template = {
			name = "Soviet Advanced Modern Tank Division"
			division_names_group = SOV_ARM_01
			template_counter = 142
			priority = 2

			regiments = {
				modern_armor = { x = 0 y = 0 }
				modern_armor = { x = 0 y = 1 }
				modern_armor = { x = 0 y = 2 }
				modern_armor = { x = 0 y = 3 }

				modern_armor = { x = 1 y = 0 }
				modern_armor = { x = 1 y = 1 }
				modern_armor = { x = 1 y = 2 }
				modern_armor = { x = 1 y = 3 }

				modern_armor = { x = 2 y = 0 }
				modern_armor = { x = 2 y = 1 }
				modern_armor = { x = 2 y = 2 }
				modern_armor = { x = 2 y = 3 }

				mechanized = { x = 3 y = 0 }
				mechanized = { x = 3 y = 1 }
				mechanized = { x = 3 y = 2 }
				mechanized = { x = 3 y = 3 }
				mechanized = { x = 3 y = 4 }

				modern_tank_destroyer_brigade = { x = 4 y = 0 }
			}

			support = {
				engineer = { x = 0 y = 0 }
				motorized_logistics_company = { x = 0 y = 1 }
				field_hospital = { x = 0 y = 2 }
				signal_company = { x = 0 y = 3 }

				armoured_recon = { x = 1 y = 0 }
				heavy_maintenance_company_modern = { x = 1 y = 1 }
				modern_sp_anti_air = { x = 1 y = 2 }
				modern_tank_destroyer = { x = 1 y = 3 }
				modern_sp_artillery = { x = 1 y = 4 }
			}
		}
	}

	option = {}
}

############## Heavy Armor

country_event = {
	id = sov_armor.010
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			date > 1940.7.1
		}
		else = {
			has_tech = sov_heavy_spg_2
		}
	}

	immediate = {
		set_country_flag = heavy_armor_template_1_sov

		# add_equipment_to_stockpile = { type = sov_heavy_equipment_2 amount = 1000 producer = SOV }

		division_template = {
			name = "Soviet Heavy Tank Division"
			division_names_group = SOV_GTC_01
			template_counter = 144
			priority = 2

			regiments = {
				heavy_armor = { x = 0 y = 0 }
				heavy_armor = { x = 0 y = 1 }
				heavy_armor = { x = 0 y = 2 }
				heavy_armor = { x = 0 y = 3 }

				heavy_armor = { x = 1 y = 0 }
				heavy_armor = { x = 1 y = 1 }
				heavy_armor = { x = 1 y = 2 }
				heavy_armor = { x = 1 y = 3 }

				mechanized = { x = 2 y = 0 }
				mechanized = { x = 2 y = 1 }
				mechanized = { x = 2 y = 2 }
				mechanized = { x = 2 y = 3 }

				mechanized = { x = 3 y = 0 }

				heavy_assault_brigade = { x = 4 y = 0 }
				heavy_assault_brigade = { x = 4 y = 1 }
			}

			support = {
				armored_engineer = { x = 0 y = 0 }
				motorized_logistics_company = { x = 0 y = 1 }
				field_hospital = { x = 0 y = 2 }
				heavy_maintenance_company = { x = 0 y = 3 }
				signal_company = { x = 0 y = 4 }

				armoured_recon = { x = 1 y = 0 }
				heavy_artillery = { x = 1 y = 1 }
				heavy_assault = { x = 1 y = 2 }
				support_heavy_armor = { x = 1 y = 3 }
			}
		}
		219 = {
			create_unit = {
				division = "division_template = \"Soviet Heavy Tank Division\" start_experience_factor = 0.4 start_equipment_factor = 0.7"
				owner = SOV
				count = 2
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.011
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			date > 1945.7.1
		}
		else = {
			has_tech = sov_heavy_td_7
		}
	}

	immediate = {
		set_country_flag = heavy_armor_template_3_sov

		division_template = {
			name = "Soviet Modern Heavy Tank Division"
			division_names_group = SOV_GTC_01
			template_counter = 145
			priority = 2

			regiments = {
				heavy_armor = { x = 0 y = 0 }
				heavy_armor = { x = 0 y = 1 }
				heavy_armor = { x = 0 y = 2 }
				heavy_armor = { x = 0 y = 3 }

				heavy_armor = { x = 1 y = 0 }
				heavy_armor = { x = 1 y = 1 }
				heavy_armor = { x = 1 y = 2 }
				heavy_armor = { x = 1 y = 3 }

				mechanized = { x = 2 y = 0 }
				mechanized = { x = 2 y = 1 }
				mechanized = { x = 2 y = 2 }
				mechanized = { x = 2 y = 3 }

				mechanized = { x = 3 y = 0 }
				mechanized = { x = 3 y = 1 }
				mechanized = { x = 3 y = 2 }

				heavy_assault_brigade = { x = 4 y = 0 }
				heavy_tank_destroyer_brigade = { x = 4 y = 1 }
			}

			support = {
				armored_engineer_modern  = { x = 0 y = 0 }
				motorized_logistics_company = { x = 0 y = 1 }
				field_hospital = { x = 0 y = 2 }
				heavy_maintenance_company = { x = 0 y = 3 }
				signal_company = { x = 0 y = 4 }

				armoured_recon = { x = 1 y = 0 }
				heavy_artillery = { x = 1 y = 1 }
				heavy_assault = { x = 1 y = 2 }
				light_sp_anti_air = { x = 1 y = 3 }
				heavy_tank_destroyer = { x = 1 y = 4 }
			}
		}
	}

	option = {}
}

#country_event = {
#	id = sov_armor.012
#	hidden = yes
#
#	mean_time_to_happen = { days = 1 }
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = SOV
#		is_ai = yes
#		if = {
#			limit = {
#				has_dlc = "No Step Back"
#			}
#			date > 1947.7.1
#		}
#		else = {
#			has_tech = sov_heavy_td_9
#			has_tech = sov_modern_aa_3
#		}
#	}
#
#	immediate = {
#		set_country_flag = heavy_armor_template_2_sov
#
#		division_template = {
#			name = "Soviet Adv Heavy Tank Division"
#			division_names_group = SOV_GTC_01
#			template_counter = 145
#			priority = 2
#
#			regiments = {
#				heavy_armor = { x = 0 y = 0 }
#				heavy_armor = { x = 0 y = 1 }
#				heavy_armor = { x = 0 y = 2 }
#				heavy_armor = { x = 0 y = 3 }
#
#				heavy_armor = { x = 1 y = 0 }
#				heavy_armor = { x = 1 y = 1 }
#				heavy_armor = { x = 1 y = 2 }
#				heavy_armor = { x = 1 y = 3 }
#
#				heavy_armor = { x = 2 y = 0 }
#				heavy_armor = { x = 2 y = 1 }
#				heavy_armor = { x = 2 y = 2 }
#				heavy_assault_brigade = { x = 2 y = 3 }
#
#				mechanized = { x = 3 y = 0 }
#				mechanized = { x = 3 y = 1 }
#				mechanized = { x = 3 y = 2 }
#
#				mechanized = { x = 4 y = 0 }
#				mechanized = { x = 4 y = 1 }
#				mechanized = { x = 4 y = 2 }
#			}
#
#			support = {
#				engineer = { x = 0 y = 0 }
#				motorized_logistics_company = { x = 0 y = 1 }
#				field_hospital = { x = 0 y = 2 }
#				heavy_maintenance_company = { x = 0 y = 3 }
#				signal_company = { x = 0 y = 4 }
#
#				armoured_recon = { x = 1 y = 0 }
#				motorized_rocket = { x = 1 y = 1 }
#				heavy_assault = { x = 1 y = 2 }
#				modern_sp_anti_air = { x = 1 y = 3 }
#				military_police = { x = 1 y = 4 }
#			}
#		}
#	}
#
#	option = {}
#}

country_event = {
	id = sov_armor.013
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_tech = converging_sheaf
	}

	immediate = {
		set_country_flag = infantry_template_sov_2
		set_country_flag = modern_armor_template_1_sov

		division_template = {
			name = "Soviet Adv Rifle Division"
			division_names_group = SOV_INF_01

			regiments = {
				heavy_infantry = { x = 0 y = 0 }
				heavy_infantry = { x = 0 y = 1 }
				heavy_infantry = { x = 0 y = 2 }

				heavy_infantry = { x = 1 y = 0 }
				heavy_infantry = { x = 1 y = 1 }
				heavy_infantry = { x = 1 y = 2 }

				heavy_infantry = { x = 2 y = 0 }
				heavy_infantry = { x = 2 y = 1 }
				heavy_infantry = { x = 2 y = 2 }

				artillery_brigade = { x = 3 y = 0 }
				artillery_brigade = { x = 3 y = 1 }
				artillery_brigade = { x = 3 y = 2 }

				anti_tank_brigade = { x = 4 y = 0 }
				anti_tank_brigade = { x = 4 y = 1 }
				anti_tank_brigade = { x = 4 y = 2 }
			}
			support = {
				engineer = { x = 0 y = 0 }
				field_hospital = { x = 0 y = 1 }
				horse_logistics_company = { x = 0 y = 2 }
				signal_company = { x = 0 y = 3 }
				maintenance_company = { x = 0 y = 4 }

				recon = { x = 1 y = 0 }
				heavy_artillery = { x = 1 y = 1 }
				anti_air = { x = 1 y = 2 }
				military_police = { x = 1 y = 3 }
				anti_tank = { x = 1 y = 4 }
			}
		}
	}

	option = {}
}

#####upgrade infantry divisions
country_event = {
	id = sov_armor.014
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Rifle Division"
		has_tech = tech_signal_company
		has_tech = tech_field_hospital
		has_tech = tech_maintenance_company
	}

	immediate = {
		add_units_to_division_template = {
			template_name = "Soviet Rifle Division"
			support = {
				field_hospital = 0
				signal_company = 0
				maintenance_company = 1
			}
		}
	}

	option = {}

}

#####upgrade mountaineers
country_event = {
	id = sov_armor.015
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Shock Division"
		has_tech = converging_sheaf
	}

	immediate = {
		add_units_to_division_template = {
			template_name = "Soviet Shock Division"
			regiments = {
				anti_tank_brigade = 4
			}
		}
	}

	option = {}

}

#####upgrade tanks and mountaineers
country_event = {
	id = sov_armor.016
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Medium Tank Division"
		has_template = "Soviet Heavy Tank Division"
		has_template = "Soviet Shock Division"
		has_tech = armoured_waves
		OR = {
			has_tech = sov_medium_tank_spg_3
			has_tech = sov_medium_spg_3
		}
		OR = {
			has_tech = sov_medium_tank_td_3
			has_tech = sov_medium_td_3
		}
	}

	immediate = {
		division_template = {
			name = "Soviet Adv Medium Tank Division"
			division_names_group = SOV_ARM_01
			template_counter = 140
			priority = 2

			regiments = {
				medium_armor = { x = 0 y = 0 }
				medium_armor = { x = 0 y = 1 }
				medium_armor = { x = 0 y = 2 }
				medium_armor = { x = 0 y = 3 }

				medium_armor = { x = 1 y = 0 }
				medium_armor = { x = 1 y = 1 }
				medium_armor = { x = 1 y = 2 }
				medium_armor = { x = 1 y = 3 }

				mechanized = { x = 2 y = 0 }
				mechanized = { x = 2 y = 1 }
				mechanized = { x = 2 y = 2 }
				mechanized = { x = 2 y = 3 }

				mechanized = { x = 3 y = 0 }
				mechanized = { x = 3 y = 1 }
				mechanized = { x = 3 y = 2 }

				medium_tank_destroyer_brigade = { x = 4 y = 0 }
				assault_brigade = { x = 4 y = 1 }
			}

			support = {
				armored_engineer = { x = 0 y = 0 }
				motorized_logistics_company = { x = 0 y = 1 }
				field_hospital = { x = 0 y = 2 }
				signal_company = { x = 0 y = 3 }
				assault = { x = 0 y = 4 }

				armoured_recon = { x = 1 y = 0 }
				heavy_maintenance_company = { x = 1 y = 1 }
				military_police = { x = 1 y = 2 }
				heavy_artillery = { x = 1 y = 3 }
				medium_tank_destroyer = { x = 1 y = 4 }
			}
		}
		add_units_to_division_template = {
			template_name = "Soviet Heavy Tank Division"
			regiments = {
				mechanized = 3
				mechanized = 3
			}
			support = {
				medium_tank_destroyer = 1
			}
		}
		add_units_to_division_template = {
			template_name = "Soviet Medium Tank Division"
			regiments = {
				mechanized = 4
				mechanized = 4
			}
		}
		add_units_to_division_template = {
			template_name = "Soviet Shock Division"
			support = {
				medium_tank_destroyer = 1
			}
		}
	}

	option = {}

}

#####upgrade rifle division
country_event = {
	id = sov_armor.017
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Adv Rifle Division"
		has_equipment = { anti_tank_equipment > 0 }
		date > 1942.10.1

	}

	immediate = {
		#add_equipment_to_stockpile = { type = sov_hv_at_1 amount = 3000 producer = SOV }
		#add_units_to_division_template = {
		#	template_name = "Soviet Adv Rifle Division"
		#	support = {
		#		anti_tank = 1
		#	}
		#}
	}

	option = {}

}

country_event = {
	id = sov_armor.018
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_tech = converging_sheaf
		has_tech = sov_heavy_anti_tank_1
		NOT = {
			has_war_with = USA
		}
	}

	immediate = {
		set_country_flag = infantry_template_sov_3
		division_template = {
			name = "Soviet Late Rifle Division"
			division_names_group = SOV_INF_01

			regiments = {
				heavy_infantry = { x = 0 y = 0 }
				heavy_infantry = { x = 0 y = 1 }
				heavy_infantry = { x = 0 y = 2 }

				heavy_infantry = { x = 1 y = 0 }
				heavy_infantry = { x = 1 y = 1 }
				heavy_infantry = { x = 1 y = 2 }

				heavy_infantry = { x = 2 y = 0 }
				heavy_infantry = { x = 2 y = 1 }
				heavy_infantry = { x = 2 y = 2 }

				artillery_brigade = { x = 3 y = 0 }
				artillery_brigade = { x = 3 y = 1 }
				artillery_brigade = { x = 3 y = 2 }
				anti_tank_brigade = { x = 3 y = 3 }
				anti_tank_brigade = { x = 3 y = 4 }

				motorized_heavy_anti_tank_brigade = { x = 4 y = 0 }
			}
			support = {
				engineer = { x = 0 y = 0 }
				field_hospital = { x = 0 y = 1 }
				horse_logistics_company = { x = 0 y = 2 }
				signal_company = { x = 0 y = 3 }
				maintenance_company = { x = 0 y = 4 }

				recon = { x = 1 y = 0 }
				artillery = { x = 1 y = 1 }
				anti_air = { x = 1 y = 2 }
				military_police = { x = 1 y = 3 }
				heavy_anti_tank = { x = 1 y = 4 }
			}
		}
		division_template = {
			name = "Soviet Adv Shock Division"
			division_names_group = SOV_GRD_01
			priority = 2

			regiments = {
				mountaineers = { x = 0 y = 0 }
				mountaineers = { x = 0 y = 1 }
				mountaineers = { x = 0 y = 2 }

				mountaineers = { x = 1 y = 0 }
				mountaineers = { x = 1 y = 1 }
				mountaineers = { x = 1 y = 2 }

				mountaineers = { x = 2 y = 0 }
				mountaineers = { x = 2 y = 1 }
				mountaineers = { x = 2 y = 2 }

				anti_tank_brigade = { x = 3 y = 0 }
				anti_tank_brigade = { x = 3 y = 1 }
				anti_tank_brigade = { x = 3 y = 2 }

				artillery_brigade = { x = 4 y = 0 }
				artillery_brigade = { x = 4 y = 1 }
				artillery_brigade = { x = 4 y = 2 }
			}

			support = {
				shock_division_hq = { x = 0 y = 0 }
				motorized_logistics_company = { x = 0 y = 1 }
				field_hospital = { x = 0 y = 2 }
				signal_company = { x = 0 y = 3 }
				heavy_anti_tank = { x = 0 y = 4 }

				armoured_recon = { x = 1 y = 0 }
				engineer = { x = 1 y = 1 }
				heavy_artillery = { x = 1 y = 2 }
				heavy_assault = { x = 1 y = 3 }
				medium_tank_destroyer = { x = 1 y = 4 }
			}
		}
	}

	option = {}
}

####################################### Not cheats

country_event = {
	id = sov_armor.600
	hidden = yes

	mean_time_to_happen = { days = 8 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1936.8.1
	}

	immediate = {
		add_political_power = 750
		add_opinion_modifier = { target = USA modifier = ai_trade_fix }
		add_opinion_modifier = { target = USA modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = USA modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = USA modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = ENG modifier = ai_trade_fix }
		add_opinion_modifier = { target = ENG modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = ENG modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = ENG modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = POR modifier = ai_trade_fix }
		add_opinion_modifier = { target = POR modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = POR modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = POR modifier = ai_trade_fix_2 }


		add_opinion_modifier = { target = SAF modifier = ai_trade_fix }
		add_opinion_modifier = { target = SAF modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = SAF modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = SAF modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = TUR modifier = ai_trade_fix }
		add_opinion_modifier = { target = TUR modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = TUR modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = TUR modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = SIA modifier = ai_trade_fix }
		add_opinion_modifier = { target = SIA modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = SIA modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = SIA modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = INS modifier = ai_trade_fix }
		add_opinion_modifier = { target = INS modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = INS modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = INS modifier = ai_trade_fix_2 }
	}

	option = {}
}

country_event = {
	id = sov_armor.601
	hidden = yes

	mean_time_to_happen = { days = 8 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date < 1937.1.1
		has_country_flag = sov_infantry_template
	}

	immediate = {
		delete_unit_template_and_units = { division_template = "Strelkovaya Diviziya" }
		delete_unit_template_and_units = { division_template = "NKVD Strelkovaya Diviziya" }
		delete_unit_template_and_units = { division_template = "NKVD Pogranichnaya Brigada" }
		delete_unit_template_and_units = { division_template = "Kavaleriyskaya Diviziya" }
		delete_unit_template_and_units = { division_template = "Motostrelkovaya Diviziya" }
		delete_unit_template_and_units = { division_template = "Vozdushno-Desantnaya Diviziya" }
		delete_unit_template_and_units = { division_template = "Brigada Morskoi Pekhoty" }
		load_oob = "SOV_infantry"
	}

	option = {}
}

country_event = {
	id = sov_armor.602
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		NOT = { has_war_with = GER }
		NOT = { has_government = fascism }
		OR = {
			AND = {
				date > 1942.8.1
				NOT = { has_global_flag = uk_evacuated }
				NOT = { has_global_flag = GER_SOV_ceasefire }
				has_completed_focus = SOV_eradicate_western_fascism
			}
			AND = {
				date > 1941.6.1
				NOT = { has_global_flag = uk_evacuated }
				ENG = { surrender_progress > 0.2 }
			}
			AND = {
				date > 1941.1.1
				GER = { has_war_with = USA }
				USA = { surrender_progress > 0.2 }
			}
		}
	}

	immediate = {
		every_other_country = {
			limit = {
				has_government = fascism
				OR = {
					tag = GER
					is_in_faction_with = GER
					is_subject_of = GER
					tag = ROM
					tag = HUN
				}
				NOT = { has_war_with = ROOT }
			}
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.603
	hidden = yes

	mean_time_to_happen = { days = 14 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		OR = {
			AND = {
				has_war = yes
				NOT = { has_global_flag = sov_yes_pact }
			}
			AND = {
				has_war = yes
				any_enemy_country = {
					NOT = { tag = POL }
					NOT = { is_in_faction_with = ENG }
				}
				has_global_flag = sov_yes_pact
			}
		}
	}

	immediate = {
		SOV = { set_country_flag = SOV_war_since_start }
	}

	option = {}
}

country_event = {
	id = sov_armor.604
	hidden = yes

	mean_time_to_happen = { days = 8 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1940.1.1
		OR = {
			date > 1942.1.1
			NOT = {
				has_idea = SOV_molotov_ribbentrop_pact
			}
		}
	}

	immediate = {
		add_opinion_modifier = { target = USA modifier = ai_trade_fix }
		add_opinion_modifier = { target = USA modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = USA modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = USA modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = SAF modifier = ai_trade_fix }
		add_opinion_modifier = { target = SAF modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = SAF modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = SAF modifier = ai_trade_fix_2 }
	}

	option = {}
}

#country_event = {
#	id = sov_armor.605
#	hidden = yes
#
#	mean_time_to_happen = { days = 2 }
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = SOV
#		is_ai = yes
#		has_war = yes
#		has_completed_focus = SOV_left_opposition_coup
#	}
#
#	immediate = {
#		army_experience = 600
#		add_equipment_to_stockpile = { type = sov_inf_1 amount = 70000 producer = SOV }
#		add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 70000 producer = SOV }
#		add_equipment_to_stockpile = { type = support_equipment_1 amount = 20000 producer = SOV }
#		add_equipment_to_stockpile = { type = sov_at_1 amount = 1600 producer = SOV }
#		add_equipment_to_stockpile = { type = sov_art_2 amount = 300 producer = SOV }
#		add_equipment_to_stockpile = { type = sov_hv_art_2 amount = 700 producer = SOV }
#		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 5000 producer = SOV }
#	}
#
#	option = {}
#}

country_event = {
	id = sov_armor.606
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		has_war_with = GER
		NOT = { has_war_with = RCZ }
		OR = {
			RCZ = { is_puppet_of = GER }
			RCZ = { is_in_faction_with = GER }
		}
	}

	immediate = {
		RCZ = {
			add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = asked_to_join }
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.607
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		has_war_with = GER
		NOT = { has_war_with = RPO }
		OR = {
			RPO = { is_puppet_of = GER }
			RPO = { is_in_faction_with = GER }
		}
	}

	immediate = {
		RPO = {
			add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = asked_to_join }
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.608
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_war_with = GER
		NOT = { has_war_with = SLO }
		OR = {
			SLO = { is_puppet_of = GER }
			SLO = { is_in_faction_with = GER }
		}
	}

	immediate = {
		SLO = {
			add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = asked_to_join }
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.609
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		POL = { has_capitulated = yes }
	}

	immediate = {
		add_political_power = 500
	}

	option = {}
}

country_event = {
	id = sov_armor.610
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_war_with = GER
	}

	immediate = {
		add_political_power = 650
		add_equipment_to_stockpile = { type = convoy_1 amount = 1800 producer = SOV }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 1000 producer = SOV } ###I need to find another fix
	}

	option = {}
}

country_event = {
	id = sov_armor.611
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1943.4.1
		tag = SOV
		is_ai = yes
	}

	immediate = {
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 2000 producer = SOV }
		add_equipment_to_stockpile = { type = convoy_1 amount = 750 producer = SOV }
		add_political_power = 1500
	}

	option = {}

}

country_event = {
	id = sov_armor.612
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1944.3.1
		tag = SOV
		is_ai = yes
	}

	immediate = {
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 3000 producer = SOV } ###I need to find another fix
		add_equipment_to_stockpile = { type = convoy_1 amount = 1000 producer = SOV }
		add_political_power = 1200
		random_owned_controlled_state = {
			prioritize = { 585 584 404 1013 }
			limit = {
				free_building_slots = {
					building = aluminium_refinery
					size > 5
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 6
			add_building_construction = {
				type = aluminium_refinery
				level = 6
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 585 584 404 1013 }
			limit = {
				free_building_slots = {
					building = synthetic_refinery
					size > 5
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 6
			add_building_construction = {
				type = synthetic_refinery
				level = 6
				instant_build = yes
			}
		}
		set_technology = {
			sov_mechanized_infantry_4 = 1
			sov_mechanized_artillery_2 = 1
			sov_rocket_upgrade_1 = 1
			sov_rocket_upgrade_2 = 2
		}
		if = {
			limit = {
				NOT = {
					OR = {
						is_researching_technology = sov_infantry_weapons_upgrade_5
						has_tech = sov_infantry_weapons_upgrade_5
					}
				}
			}
			set_technology = {
				sov_infantry_weapons_upgrade_5 = 1
			}
		}
		if = {
			limit = {
				NOT = {
					OR = {
						is_researching_technology = tech_battlefield_medicine_3
						has_tech = tech_battlefield_medicine_3
					}
				}
			}
			set_technology = {
				tech_battlefield_medicine_3 = 1
			}
		}
		if = {
			limit = {
				NOT = {
					OR = {
						is_researching_technology = sov_night_vision_1
						has_tech = sov_night_vision_1
					}
				}
			}
			set_technology = {
				sov_night_vision_1 = 1
			}
		}
	}

	option = {}

}

country_event = {
	id = sov_armor.613
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1943.1.1
	}

	immediate = {
		set_technology = {
			tech_field_hospital4 = 1
			tech_battlefield_medicine_2 = 1
			tech_signal_company4 = 1
			tech_headquarters2 = 1
		}
		random_owned_controlled_state = {
			prioritize = { 583 586 570 590 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 583 586 570 590 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 583 586 570 590 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 583 586 570 590 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 588 569 742 578 575 }
			limit = {
				free_building_slots = {
					building = synthetic_refinery
					size > 2
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = synthetic_refinery
				level = 3
				instant_build = yes
			}
		}
		if = {
			limit = {
				controls_state = 229
			}
			229 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				controls_state = 233
			}
			233 = {
				add_building_construction = {
					type = infrastructure
					level = 4
					instant_build = yes
				}
			}
		}
		set_technology = {
			sov_medium_tank_spg_3 = 1
			sov_medium_tank_td_3 = 1
		}
		air_experience = 300
		SOV_georgy_zhukov = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_aleksandr_vasilevsky = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_konstantin_rokossovsky = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_boris_shaposhnikov = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_nikolay_vatutin = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_ivan_konev = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_semyon_timoshenko = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_vasily_chuykov = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_aleksandr_gorbatov = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_fyodor_tolbukhin = {
			add_trait = { trait = bearer_of_artillery }
		}
		every_army_leader = {
			limit = {
				has_trait = organisational_leader
				is_field_marshal = yes
			}
			remove_trait = { trait = organisational_leader }
			add_trait = { trait = inspirational_leader }
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.614
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		has_completed_focus = SOV_merge_evacuated_plants
		tag = SOV
		is_ai = yes
	}

	immediate = {
		add_political_power = 150
	}

	option = {}

}

country_event = {
	id = sov_armor.615
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1944.9.1
		tag = SOV
		is_ai = yes
	}

	immediate = {
		add_political_power = 1000
		add_equipment_to_stockpile = { type = usa_motorized_equipment_1 amount = 20000 producer = USA }
	}

	option = {}

}

country_event = {
	id = sov_armor.616
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1942.1.1
		tag = SOV
		is_ai = yes
		USA = {
			is_ai = yes
		}
	}

	immediate = {
		USA = {
			give_resource_rights = {
				receiver = SOV
				state = 388
				resources = { coal }
			}
		}
	}

	option = {}

}

country_event = {
	id = sov_armor.617
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1942.1.1
		tag = SOV
		is_ai = yes
		USA = {
			is_ai = yes
		}
		has_war_with = USA
	}

	immediate = {
		remove_resource_rights = 388
	}

	option = {}

}

country_event = {
	id = sov_armor.618
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_global_flag = GER_SOV_ceasefire
		has_war = no
	}

	immediate = {
		set_capital = { state = 572 }
		if = {
			limit = {
				653 = {
					is_owned_and_controlled_by = SOV
				}
			}
			653 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 1841
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				1027 = {
					is_owned_and_controlled_by = SOV
				}
			}
			1027 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 9121
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				581 = {
					is_owned_and_controlled_by = SOV
				}
			}
			581 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 11098
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				262 = {
					is_owned_and_controlled_by = SOV
				}
			}
			262 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 9099
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				1029 = {
					is_owned_and_controlled_by = SOV
				}
			}
			1029 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 31
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				1026 = {
					is_owned_and_controlled_by = SOV
				}
			}
			1026 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 1295
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				1027 = {
					is_owned_and_controlled_by = SOV
				}
			}
			1027 = {
				add_building_construction = {
					type = naval_base
					level = 5
					province = 105
					instant_build = yes
				}
			}
		}
		build_railway = {
			path = { 10723 11098 12502 3169 7768 7796 4846 10720 }
		}
		build_railway = {
			path = { 12527 12187 11195 4314 12558 10579 }
		}
		build_railway = {
			path = { 9121 6538 9230 9099 }
		}
		build_railway = {
			path = { 11195 12175 11170 88 11124 }
		}
		build_railway = {
			path = { 105 11182 10723 }
		}
	}

	option = {}
}

####################################### Great Purges

#First Moscow Trial
country_event = {
	id = sov_armor.701
	title = sov_armor.701.t
	desc = sov_armor.701.d

	picture = GFX_report_event_SOV_purge_administration

	is_triggered_only = yes

	option = {
		name = sov_armor.701.a

		#NKVD
		if = {
			limit = {
				has_idea = SOV_genrikh_yagoda
			}
			activate_advisor = SOV_nikolay_yezhov
		}
		SOV_genrikh_yagoda = { SOV_purge_character_effect = yes }

		#PURGE
		if = {
			limit = {
				has_character = SOV_grigory_zinovyev
			}
			SOV_grigory_zinovyev = { SOV_purge_character_effect = yes }
		}
		if = {
			limit = {
				has_character = SOV_lev_kamenev
			}
			SOV_lev_kamenev = { SOV_purge_character_effect = yes }
		}
		if = {
			limit = {
				has_character = SOV_ivan_smirnov
			}
			SOV_ivan_smirnov = { SOV_purge_character_effect = yes }
		}
		if = {
			limit = {
				has_character = SOV_grigory_sokolnikov
			}
			SOV_grigory_sokolnikov = { SOV_purge_character_effect = yes }
		}
		if = {
			limit = {
				has_character = SOV_aleksandr_shlyapnikov
			}
			SOV_aleksandr_shlyapnikov = { SOV_purge_character_effect = yes }
		}
		#every_character = {
		#	limit = {
		#		has_character_flag = SOV_targeted_for_purge_flag
		#		SOV_character_can_be_purged = yes
		#	}
		#	SOV_purge_character_effect = yes
		#}

		#PARANOIA decreases
		SOV_paranoia_very_high_decrease_effect = yes
		SOV_paranoia_increase_purge_counter_great = yes
	}
}

#Second Moscow Trial
country_event = {
	id = sov_armor.702
	title = sov_armor.702.t
	desc = sov_armor.702.d

	picture = GFX_report_event_soviet_purge_trial

	is_triggered_only = yes

	option = {
		name = sov_armor.702.a

		#PURGE
		if = {
			limit = {
				has_character = SOV_karl_radek
			}
			SOV_karl_radek = { SOV_purge_character_effect = yes }
		}
		if = {
			limit = {
				has_character = SOV_ivar_smilga
			}
			SOV_ivar_smilga = { SOV_purge_character_effect = yes }
		}
		if = {
			limit = {
				has_character = SOV_yevgeny_preobrazhensky
			}
			SOV_yevgeny_preobrazhensky = { SOV_purge_character_effect = yes }
		}
		if = {
			limit = {
				has_character = SOV_martemyan_ryutin
			}
			SOV_martemyan_ryutin = { SOV_purge_character_effect = yes }
		}
		if = {
			limit = {
				has_character = SOV_nikolay_ustryalov
			}
			SOV_nikolay_ustryalov = { SOV_purge_character_effect = yes }
		}
		#every_character = {
		#	limit = {
		#		has_character_flag = SOV_targeted_for_purge_flag
		#		SOV_character_can_be_purged = yes
		#	}
		#	SOV_purge_character_effect = yes
		#}

		#PARANOIA decreases
		SOV_paranoia_very_high_decrease_effect = yes
		SOV_paranoia_increase_purge_counter_great = yes
	}
}

#Military Conspiracy
country_event = {
	id = sov_armor.703
	title = sov_armor.703.t
	desc = sov_armor.703.d

	picture = GFX_report_event_soviet_purge_officers_01

	is_triggered_only = yes

	option = {
		name = sov_armor.703.a

		#PURGE
		if = {
			limit = {
				has_character = SOV_mikhail_tukhachevsky
			}
			SOV_mikhail_tukhachevsky = { SOV_purge_character_effect = yes }
		}
		if = {
			limit = {
				has_character = SOV_aleksandr_yegorov
			}
			SOV_aleksandr_yegorov = { SOV_purge_character_effect = yes }
		}
		if = {
			limit = {
				has_character = SOV_vasily_blyukher
			}
			SOV_vasily_blyukher = { SOV_purge_character_effect = yes }
		}
		if = {
			limit = {
				has_character = SOV_vitaly_primakov
			}
			SOV_vitaly_primakov = { SOV_purge_character_effect = yes }
		}
		every_character = {
			limit = {
				has_character_flag = SOV_targeted_for_purge_flag
				SOV_character_can_be_purged = yes
			}
			SOV_purge_character_effect = yes
		}

		#PARANOIA decreases
		SOV_paranoia_very_high_decrease_effect = yes
		SOV_paranoia_increase_purge_counter_great = yes
	}
}

#Third Moscow Trial
country_event = {
	id = sov_armor.704
	title = sov_armor.704.t
	desc = sov_armor.704.d

	picture = GFX_report_event_SOV_purge_third_moscow_trial

	is_triggered_only = yes

	option = {
		name = sov_armor.704.a

		#NKVD
		#if = {
		#	limit = {
		#		has_idea = SOV_nikolay_yezhov
		#	}
		#	activate_advisor = SOV_lavrenty_beriya
		#}
		SOV_nikolay_yezhov = {
			SOV_purge_character_effect = yes
		}

		#PURGE
		if = {
			limit = {
				has_character = SOV_nikolay_bukharin
			}
			SOV_nikolay_bukharin = { SOV_purge_character_effect = yes }
		}

		if = {
			limit = {
				has_character = SOV_aleksey_rykov
			}
			SOV_aleksey_rykov = { SOV_purge_character_effect = yes }
		}

		if = {
			limit = {
				has_character = SOV_mikhail_tomsky
			}
			SOV_mikhail_tomsky = { SOV_purge_character_effect = yes }
		}

		#every_character = {
		#	limit = {
		#		has_character_flag = SOV_targeted_for_purge_flag
		#		SOV_character_can_be_purged = yes
		#	}
		#	SOV_purge_character_effect = yes
		#}

		#PARANOIA decreases
		SOV_paranoia_very_high_decrease_effect = yes
		SOV_paranoia_increase_purge_counter_great = yes
	}
}

# General Cowed by Stalin
country_event = {
	id = sov_armor.705
	title = sov_armor.705.t
	desc = sov_armor.705.d

	picture = GFX_report_event_soviet_purge_officers_02

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = { flag = cowed_by_stalin_flag days = 120 }
		}
	}

	option = {
		name = sov_armor.705.a

		random_army_leader = {
			limit = {
				NOT = { has_character_flag = SOV_safe_from_purge_flag }
				NOT = { has_trait = trait_SOV_cowed_by_stalin_army }
			}
			add_unit_leader_trait = trait_SOV_cowed_by_stalin_army
		}
		SOV_paranoia_increase_purge_counter_regular = yes
	}

	option = {
		name = sov_armor.705.b

		#add_political_power = -25

		#PARANOIA increases
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}
		SOV_paranoia_low_increase_effect = yes
	}
}

# Academy Purge
country_event = {
	id = sov_armor.706
	title = sov_armor.706.t
	desc = sov_armor.706.d

	picture = GFX_report_event_SOV_purge_administration

	is_triggered_only = yes

	option = {
		name = sov_armor.706.a

		add_timed_idea = {
			idea = SOV_academy_purged
			days = 120
		}
		SOV_paranoia_increase_purge_counter_regular = yes
	}

	option = {
		name = sov_armor.706.b

		#add_political_power = -25
		custom_effect_tooltip = SOV_paranoia_cooldown_small_tt
		set_country_flag = { flag = academy_purge_grace_flag days = 60 }

		#PARANOIA increases
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}
		SOV_paranoia_low_increase_effect = yes
	}
}

# General sent to the Gulag
country_event = {
	id = sov_armor.707
	title = sov_armor.707.t
	desc = sov_armor.707.d

	picture = GFX_report_event_soviet_purge_officers_02

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = { flag = sent_to_gulag_flag days = 120 }
		}
	}

	option = {
		name = sov_armor.707.a

		random_army_leader = {
			limit = {
				NOT = { has_character_flag = SOV_safe_from_purge_flag }
			}
			custom_effect_tooltip = SOV_sent_to_gulag_tt
			hidden_effect = {
				set_character_flag = SOV_sent_to_gulag_flag
			}
		}
		SOV_paranoia_increase_purge_counter_great = yes
	}
}

# Army Young Officers Purges
country_event = {
	id = sov_armor.708
	title = sov_armor.708.t
	desc = sov_armor.708.d

	picture = GFX_report_event_SOV_purge_young_officers

	is_triggered_only = yes

	option = {
		name = sov_armor.708.a

		add_timed_idea = {
			idea = SOV_young_army_officers_purged
			days = 120
		}
		SOV_paranoia_increase_purge_counter_regular = yes
	}

	option = {
		name = sov_armor.708.b

		#add_political_power = -50
		custom_effect_tooltip = SOV_paranoia_cooldown_small_tt
		hidden_effect = {
			set_country_flag = { flag = army_young_officers_grace_flag days = 60 }
		}

		#PARANOIA increases
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}
		SOV_paranoia_medium_increase_effect = yes
	}
}

# Air Young Officers Purges
country_event = {
	id = sov_armor.709
	title = sov_armor.709.t
	desc = sov_armor.709.d

	picture = GFX_report_event_SOV_purge_young_officers

	is_triggered_only = yes

	option = {
		name = sov_armor.709.a

		add_timed_idea = {
			idea = SOV_young_air_officers_purged
			days = 120
		}
		SOV_paranoia_increase_purge_counter_regular = yes
	}

	option = {
		name = sov_armor.709.b

		#add_political_power = -50
		custom_effect_tooltip = SOV_paranoia_cooldown_small_tt
		set_country_flag = { flag = air_young_officers_grace_flag days = 60 }

		#PARANOIA increases
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}
		SOV_paranoia_medium_increase_effect = yes
		SOV_paranoia_increase_purge_counter_great = yes
	}
}

# Navy Young Officers Purges
country_event = {
	id = sov_armor.710
	title = sov_armor.710.t
	desc = sov_armor.710.d

	picture = GFX_report_event_SOV_purge_young_officers

	is_triggered_only = yes

	option = {
		name = sov_armor.710.a

		add_timed_idea = {
			idea = SOV_young_navy_officers_purged
			days = 120
		}
		SOV_paranoia_increase_purge_counter_regular = yes
	}

	option = {
		name = sov_armor.710.b

		#add_political_power = -50
		custom_effect_tooltip = SOV_paranoia_cooldown_small_tt
		set_country_flag = { flag = navy_young_officers_grace_flag days = 60 }

		#PARANOIA increases
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}
		SOV_paranoia_medium_increase_effect = yes
	}
}

# Administration Purges
country_event = {
	id = sov_armor.711
	title = sov_armor.711.t
	desc = sov_armor.711.d

	picture = GFX_report_event_SOV_purge_administration

	is_triggered_only = yes

	option = {
		name = sov_armor.711.a

		add_timed_idea = {
			idea = SOV_administration_purged
			days = 120
		}
		SOV_paranoia_increase_purge_counter_great = yes
	}
}

# TUPOLEV Designer Purge
country_event = {
	id = sov_armor.712
	title = sov_armor.712.t
	desc = sov_armor.712.d

	picture = GFX_report_event_SOV_purge_aircraft_1

	is_triggered_only = yes

	option = {
		name = sov_armor.712.a
		if = {
			limit = { # TUPOLEV
				has_idea = SOV_tupolev_design_bureau
			}
			remove_ideas = SOV_tupolev_design_bureau
		}
		SOV_paranoia_increase_purge_counter_great = yes
		set_country_flag = SOV_tupolev_design_bureau_dissolved_flag
		unlock_decision_tooltip = SOV_reinstate_tupolev_design_bureau
	}
}

####################################### England proposes a joint invasion of Iran

country_event = {
	id = sov_armor.801
	title = sov_armor.801.t
	desc = sov_armor.801.d

	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = sov_armor.801.a
		ENG = { country_event = { days = 1 id = eng_armor.847 } }
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				has_country_flag = defeated_by_ger
			}
		}
	}

	option = {
		name = sov_armor.801.b
		ENG = { country_event = { days = 1 id = eng_armor.848 } }
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				NOT = { has_country_flag = defeated_by_ger }
			}
		}
	}
}

####################################### Romaina asks for white peace

country_event = {
	id = sov_armor.802
	title = sov_armor.802.t
	desc = sov_armor.802.d

	picture = GFX_report_event_romania_poland_visit

	is_triggered_only = yes

	option = { #Accept peace
		name = sov_armor.802.a
		ROM = { country_event = { id = rom_armor.810 } }
		ai_chance = {
			factor = 0
		}
	}

	option = { #Accept peace but under puppet status
		name = sov_armor.802.b
		ROM = { country_event = { id = rom_armor.811 } }
		ai_chance = {
			factor = 25
		}
	}

	option = { #No
		name = sov_armor.802.c
		ROM = { country_event = { id = rom_armor.812 } }
		ai_chance = {
			factor = 0
		}
	}
}

####################################### Romaina rejects puppet status

country_event = {
	id = sov_armor.803
	title = sov_armor.803.t
	desc = sov_armor.803.d

	picture = GFX_report_event_romania_poland_visit

	is_triggered_only = yes

	option = {
		name = sov_armor.803.a
		ROM = { country_event = { days = 1 id = rom_armor.810 } }
		ai_chance = {
			factor = 0
		}
	}

	option = {
		name = sov_armor.803.b
		ROM = { country_event = { days = 1 id = rom_armor.812 } }
		ai_chance = {
			factor = 25
		}
	}
}

####################################### Socialist Realism

#country_event = {
#	id = sov_armor.804
#	title = sov_armor.804.t
#	desc = sov_armor.804.d
#
#	picture = GFX_report_event_spain_civil_war_volunteers_02
#
#	is_triggered_only = yes
#
#	option = {
#		name = sov_armor.804.a
#		add_ideas = SOV_socialist_realism_workforce
#		ai_chance = {
#			factor = 25
#		}
#	}
#
#	option = {
#		name = sov_armor.804.b
#		add_ideas = SOV_socialist_realism_people
#		add_political_power = 25
#		ai_chance = {
#			factor = 0
#		}
#	}
#
#	option = {
#		name = sov_armor.804.c
#		add_ideas = SOV_socialist_realism_army
#		army_experience = 25
#		ai_chance = {
#			factor = 0
#		}
#	}
#
#	option = {
#		name = sov_armor.804.e
#		add_ideas = SOV_socialist_realism_partisans
#		ai_chance = {
#			factor = 0
#		}
#	}
#}

####################################### Comecon

country_event = {
	id = sov_armor.805
	title = sov_armor.805.t
	desc = sov_armor.805.d

	picture = GFX_report_event_molotov_signing_pact

	is_triggered_only = yes

	option = {
		name = sov_armor.805.a
		add_ideas = SOV_comecon_member
		add_to_tech_sharing_group = comintern_research
		if = {
			limit = {
				SOV = {
					NOT = {
						has_idea = SOV_comecon_leader
						has_idea = SOV_comecon_leader_2
						has_idea = SOV_comecon_leader_3
						has_idea = SOV_comecon_leader_4
						has_idea = SOV_comecon_leader_5
						has_idea = SOV_comecon_leader_6
						has_idea = SOV_comecon_leader_7
						has_idea = SOV_comecon_leader_8
						has_idea = SOV_comecon_leader_9
						has_idea = SOV_comecon_leader_10
					}
				}
			}
			SOV = {
				add_ideas = SOV_comecon_leader
			}
		}
		else_if = {
			limit = {
				SOV = {
					has_idea = SOV_comecon_leader
				}
			}
			SOV = {
				swap_ideas = {
					remove_idea = SOV_comecon_leader
					add_idea = SOV_comecon_leader_2
				}
			}
		}
		else_if = {
			limit = {
				SOV = {
					has_idea = SOV_comecon_leader_2
				}
			}
			SOV = {
				swap_ideas = {
					remove_idea = SOV_comecon_leader
					add_idea = SOV_comecon_leader_3
				}
			}
		}
		else_if = {
			limit = {
				SOV = {
					has_idea = SOV_comecon_leader_3
				}
			}
			SOV = {
				swap_ideas = {
					remove_idea = SOV_comecon_leader
					add_idea = SOV_comecon_leader_4
				}
			}
		}
		else_if = {
			limit = {
				SOV = {
					has_idea = SOV_comecon_leader_4
				}
			}
			SOV = {
				swap_ideas = {
					remove_idea = SOV_comecon_leader
					add_idea = SOV_comecon_leader_5
				}
			}
		}
		else_if = {
			limit = {
				SOV = {
					has_idea = SOV_comecon_leader_5
				}
			}
			SOV = {
				swap_ideas = {
					remove_idea = SOV_comecon_leader
					add_idea = SOV_comecon_leader_6
				}
			}
		}
		else_if = {
			limit = {
				SOV = {
					has_idea = SOV_comecon_leader_6
				}
			}
			SOV = {
				swap_ideas = {
					remove_idea = SOV_comecon_leader
					add_idea = SOV_comecon_leader_7
				}
			}
		}
		else_if = {
			limit = {
				SOV = {
					has_idea = SOV_comecon_leader_7
				}
			}
			SOV = {
				swap_ideas = {
					remove_idea = SOV_comecon_leader
					add_idea = SOV_comecon_leader_8
				}
			}
		}
		else_if = {
			limit = {
				SOV = {
					has_idea = SOV_comecon_leader_8
				}
			}
			SOV = {
				swap_ideas = {
					remove_idea = SOV_comecon_leader
					add_idea = SOV_comecon_leader_9
				}
			}
		}
		else_if = {
			limit = {
				SOV = {
					has_idea = SOV_comecon_leader_9
				}
			}
			SOV = {
				swap_ideas = {
					remove_idea = SOV_comecon_leader
					add_idea = SOV_comecon_leader_10
				}
			}
		}

		ai_chance = {
			factor = 10
		}
	}

	option = {
		name = sov_armor.805.b
		SOV = { country_event = { days = 1 id = sov_armor.806 } }
		set_country_flag = refused_comecon
		ai_chance = {
			factor = 0
		}
	}
}

####################################### Comecon Refused

country_event = {
	id = sov_armor.806
	title = sov_armor.806.t
	desc = sov_armor.806.d

	is_triggered_only = yes

	option = {
		name = sov_armor.806.a
		ai_chance = {
			factor = 0
		}
	}
}

####################################### Bulgaria asks for white peace

country_event = {
	id = sov_armor.807
	title = sov_armor.807.t
	desc = sov_armor.807.d

	picture = GFX_report_event_romania_poland_visit

	is_triggered_only = yes

	option = {
		trigger = {
			SOV = { SOV_is_left_opposition = no }
		}
		name = sov_armor.807.a
		BUL = { country_event = { hours = 6 id = bul_armor.802 } }
		ai_chance = {
			factor = 0
		}
	}

	option = {
		name = sov_armor.807.b
		BUL = { country_event = { hours = 6 id = bul_armor.803 } }
		ai_chance = {
			factor = 25
		}
	}

	option = {
		name = sov_armor.807.c
		BUL = { country_event = { hours = 6 id = bul_armor.804 } }
		ai_chance = {
			factor = 0
		}
	}
}

####################################### Bulgaria rejects puppet status

country_event = {
	id = sov_armor.808
	title = sov_armor.808.t
	desc = sov_armor.808.d

	picture = GFX_report_event_romania_poland_visit

	is_triggered_only = yes

	option = {
		name = sov_armor.808.a
		BUL = { country_event = { hours = 6 id = bul_armor.802 } }
		ai_chance = {
			factor = 0
		}
	}

	option = {
		name = sov_armor.808.b
		BUL = { country_event = { hours = 6 id = bul_armor.804 } }
		ai_chance = {
			factor = 25
		}
	}
}

####################################### Liberation of Western Belarus

country_event = {
	id = sov_armor.809
	title = sov_armor.809.t
	desc = sov_armor.809.d

	picture = GFX_report_event_soldiers_marching

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		96 = { is_fully_controlled_by = SOV }
		95 = { is_fully_controlled_by = SOV }
		94 = { is_fully_controlled_by = SOV }
		93 = { is_fully_controlled_by = SOV }
		91 = { is_fully_controlled_by = SOV }
		89 = { is_fully_controlled_by = SOV }
	}

	option = {
		name = sov_armor.809.a
		ai_chance = {
			factor = 1
		}
		96 = { add_core_of = SOV }
		95 = { add_core_of = SOV }
		94 = { add_core_of = SOV }
		93 = { add_core_of = SOV }
		91 = { add_core_of = SOV }
		89 = { add_core_of = SOV }
	}
}

####################################### FRA Confrontation

country_event = {
	id = sov_armor.810
	title = sov_armor.810.t
	desc = sov_armor.810.d

	picture = GFX_report_event_aid_pact

	is_triggered_only = yes

	#yield
	option = {
		name = sov_armor.810.a
		SOV = { country_event = { id = sov_armor.811 } }
		if = {
			limit = {
				ROM = { has_war = no }
				ROM = { is_guaranteed_by = FRA }
			}
			diplomatic_relation = {
				country = ROM
				relation = guarantee
				active = no
			}
		}
		if = {
			limit = {
				LIT = { has_war = no }
				LIT = {is_guaranteed_by = FRA }
			}
			diplomatic_relation = {
				country = LIT
				relation = guarantee
				active = no
			}
		}
		if = {
			limit = {
				LAT = { has_war = no }
				LAT = { is_guaranteed_by = FRA }
			}
			diplomatic_relation = {
				country = LAT
				relation = guarantee
				active = no
			}
		}
		if = {
			limit = {
				EST = { has_war = no }
				EST = { is_guaranteed_by = FRA }
			}
			diplomatic_relation = {
				country = EST
				relation = guarantee
				active = no
			}
		}
		ai_chance = {
			factor = 50
		}
	}

	#dont yield
	option = {
		name = sov_armor.810.b
		SOV = { country_event = { id = sov_armor.812 } }
		if = {
			limit = {
				ROM = { has_war = no }
				ROM = { NOT = { is_guaranteed_by = FRA } }
			}
			diplomatic_relation = {
				country = ROM
				relation = guarantee
				active = yes
			}
		}
		if = {
			limit = {
				LIT = { has_war = no }
				LIT = { NOT = { is_guaranteed_by = FRA } }
			}
			diplomatic_relation = {
				country = LIT
				relation = guarantee
				active = yes
			}
		}
		if = {
			limit = {
				LAT = { has_war = no }
				LAT = { NOT = { is_guaranteed_by = FRA } }
			}
			diplomatic_relation = {
				country = LAT
				relation = guarantee
				active = yes
			}
		}
		if = {
			limit = {
				EST = { has_war = no }
				EST = { NOT = { is_guaranteed_by = FRA } }
			}
			diplomatic_relation = {
				country = EST
				relation = guarantee
				active = yes
			}
		}
		ai_chance = {
			factor = 50

			modifier = {
				factor = 0.5
				has_war = yes
			}

			modifier = {
				factor = 0.1
				any_enemy_country = {
					is_major = yes
				}
			}
		}
	}
}

#yes
country_event = {
	id = sov_armor.811
	title = sov_armor.811.t
	desc = sov_armor.811.d

	picture = GFX_report_event_aid_pact

	is_triggered_only = yes

	option = {
		name = sov_armor.811.a
		hidden_effect = {
			set_country_flag = FRA_eastern_withdrawl
		}
		ai_chance = {
			factor = 1
		}
	}
}

#no
country_event = {
	id = sov_armor.812
	title = sov_armor.812.t
	desc = sov_armor.812.d

	is_triggered_only = yes

	option = {
		name = sov_armor.812.a
		hidden_effect = {
			set_country_flag = FRA_eastern_withdrawl
		}
		ai_chance = {
			factor = 1
		}
	}
}

####################################### GER Confrontation

country_event = {
	id = sov_armor.813
	title = sov_armor.813.t
	desc = sov_armor.813.d

	picture = GFX_report_event_aid_pact

	is_triggered_only = yes

	#yield
	option = {
		name = sov_armor.813.a
		SOV = { country_event = { id = sov_armor.814 } }
		if = {
			limit = {
				ROM = { has_war = no }
				ROM = { is_guaranteed_by = FRA }
			}
			diplomatic_relation = {
				country = ROM
				relation = guarantee
				active = no
			}
		}
		if = {
			limit = {
				LIT = { has_war = no }
				LIT = {is_guaranteed_by = FRA }
			}
			diplomatic_relation = {
				country = LIT
				relation = guarantee
				active = no
			}
		}
		if = {
			limit = {
				LAT = { has_war = no }
				LAT = { is_guaranteed_by = FRA }
			}
			diplomatic_relation = {
				country = LAT
				relation = guarantee
				active = no
			}
		}
		if = {
			limit = {
				EST = { has_war = no }
				EST = { is_guaranteed_by = FRA }
			}
			diplomatic_relation = {
				country = EST
				relation = guarantee
				active = no
			}
		}
		ai_chance = {
			factor = 50
		}
	}

	#dont yield
	option = {
		name = sov_armor.813.b
		SOV = { country_event = { id = sov_armor.815 } }
		if = {
			limit = {
				ROM = { has_war = no }
				ROM = { NOT = { is_guaranteed_by = FRA } }
			}
			diplomatic_relation = {
				country = ROM
				relation = guarantee
				active = yes
			}
		}
		if = {
			limit = {
				LIT = { has_war = no }
				LIT = { NOT = { is_guaranteed_by = FRA } }
			}
			diplomatic_relation = {
				country = LIT
				relation = guarantee
				active = yes
			}
		}
		if = {
			limit = {
				LAT = { has_war = no }
				LAT = { NOT = { is_guaranteed_by = FRA } }
			}
			diplomatic_relation = {
				country = LAT
				relation = guarantee
				active = yes
			}
		}
		if = {
			limit = {
				EST = { has_war = no }
				EST = { NOT = { is_guaranteed_by = FRA } }
			}
			diplomatic_relation = {
				country = EST
				relation = guarantee
				active = yes
			}
		}
		ai_chance = {
			factor = 50

			modifier = {
				factor = 0.5
				has_war = yes
			}

			modifier = {
				factor = 0.1
				any_enemy_country = {
					is_major = yes
				}
			}
		}
	}
}

#yes
country_event = {
	id = sov_armor.814
	title = sov_armor.814.t
	desc = sov_armor.814.d

	picture = GFX_report_event_aid_pact

	is_triggered_only = yes

	option = {
		name = sov_armor.814.a
		hidden_effect = {
			set_country_flag = GER_eastern_withdrawl
		}
		ai_chance = {
			factor = 1
		}
	}
}

#no
country_event = {
	id = sov_armor.815
	title = sov_armor.815.t
	desc = sov_armor.815.d

	is_triggered_only = yes

	option = {
		name = sov_armor.815.a
		hidden_effect = {
			set_country_flag = GER_eastern_withdrawl
		}
		ai_chance = {
			factor = 1
		}
	}
}

####################################### Event for end of civil war

country_event = {
	id = sov_armor.816
	title = sov_armor.816.t
	desc = sov_armor.816.d

	picture = GFX_report_event_soviet_soldiers

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		original_tag = SOV
		has_government = communism
		is_subject = no
		has_civil_war = no
		NOT = { has_war_with = STA }
		has_country_leader = {
			character = SOV_lev_trotsky
			ruling_only = yes
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					country_exists = STA
				}
				SOV = { annex_country = { target = STA transfer_troops = yes } }
			}
		}
	}

	option = { #Appeal to Patriotism
		name = sov_armor.816.a
		ai_chance = {
			factor = 60
		}
		add_political_power = -150

		create_corps_commander = {
			name = "Georgy Zhukov"
			picture = "Portrait_Soviet_Gregory_Zhukov.dds"
			traits = { armor_officer media_personality war_hero winter_specialist skilled_staffer }
			skill = 3

			attack_skill = 5
			defense_skill = 2
			planning_skill = 4
			logistics_skill = 5
		}

		create_navy_leader = {
			name = "Sergey Gorshkov"
				picture = "Portrait_Soviet_Sergey_Gorshkov.dds"
			traits = { navy_career_officer bold }
			skill = 3
			attack_skill = 3
			defense_skill = 2
			maneuvering_skill = 3
			coordination_skill = 2
		}

		create_corps_commander = {
			name = "Vasily Chuikov"
				picture = "Portrait_Soviet_Vasily_Chuikov.dds"
			traits = { brilliant_strategist career_officer }
			skill = 4


			attack_skill = 4
			defense_skill = 5
			planning_skill = 4
			logistics_skill = 4
		}
	}

	option = { #Appeal to Career
		name = sov_armor.816.b
		ai_chance = {
			factor = 30
		}
		add_political_power = -50

		create_corps_commander = {
			name = "Boris Shaposhnikov"
				picture = "Portrait_Soviet_Boris_Shaposhnikov.dds"
			traits = { trait_cautious career_officer }
			skill = 3

			attack_skill = 2
			defense_skill = 3
			planning_skill = 2
			logistics_skill = 3
		}

		create_corps_commander = {
			name = "Ivan Konev"
				picture = "Portrait_Soviet_Ivan_Konev.dds"
			traits = { armor_officer harsh_leader politically_connected }
			skill = 5

			attack_skill = 4
			defense_skill = 5
			planning_skill = 2
			logistics_skill = 5
		}

		create_corps_commander = {
			name = "Ivan Chernyakhovsky"
				picture = "Portrait_Soviet_Ivan_Chernyakhovsky.dds"
			traits = { armor_officer }
			skill = 1

			attack_skill = 1
			defense_skill = 1
			planning_skill = 1
			logistics_skill = 1
		}

		create_corps_commander = {
			name = "Issa Pliyev"
				picture = "Portrait_Soviet_Issa_Pliyev.dds"
			traits = { cavalry_officer }
			skill = 1

			attack_skill = 1
			defense_skill = 1
			planning_skill = 1
			logistics_skill = 1
		}

		create_corps_commander = {
			name = "Leonid Govorov"
				picture = "Portrait_Soviet_Leonid_Govorov.dds"
			traits = { artillery_officer }
			skill = 3

			attack_skill = 3
			defense_skill = 2
			planning_skill = 3
			logistics_skill = 2
		}

		create_corps_commander = {
			name = "Rodion Malinovsky"
				picture = "Portrait_Soviet_Rodion_Malinovsky.dds"
			traits = { career_officer old_guard trait_cautious politically_connected }
			skill = 1

			attack_skill = 1
			defense_skill = 1
			planning_skill = 1
			logistics_skill = 1
		}

		create_navy_leader = {
			name = "Arseniy Golovko"
				picture = "Portrait_Soviet_Arseniy_Golovko.dds"
			traits = { arctic_water_expert spotter }
			skill = 4
			attack_skill = 3
			defense_skill = 4
			maneuvering_skill = 3
			coordination_skill = 3
		}
	}

	option = { #Purge
		name = sov_armor.816.c
		ai_chance = {
			factor = 10
		}
		add_stability = 0.1
	}
}

####################################### Reserves recruited

country_event = {
	id = sov_armor.817
	title = sov_armor.817.t
	desc = sov_armor.817.d

	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes

	option = { #Appeal to Patriotism
		name = sov_armor.817.a
		ai_chance = {
			factor = 1
		}
	}
}

####################################### TrotskyGrad

country_event = {
	id = sov_armor.818
	title = sov_armor.818.t
	desc = sov_armor.818.d
	picture = GFX_report_event_soviet_purge_speech

	fire_only_once = yes

	trigger = {
		original_tag = SOV
		has_government = communism
		is_subject = no
		has_civil_war = no
		NOT = { has_war_with = STA }
		has_country_leader = {
			character = SOV_lev_trotsky
			ruling_only = yes
		}
		owns_state = 217
	}

	option = { #a great idea!
		name = sov_armor.818.a
		ai_chance = {
			base = 100
		}
		set_province_name = { id = 3529 name = "Trotskygrad"}
	}
}




################################################# Molotov Ribbentrop pact invade?




country_event = {
	id = sov_armor.819
	title = sov_armor.819.t
	desc = sov_armor.819.d

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = sov_armor.819.a
		declare_war_on = {
			type = take_state_focus
			target = POL
			generator = { 96 95 97 94 93 91 89 }
		}
		ai_chance = {
			factor = 99

			modifier = {
				factor = 0
				has_war_With = JAP
			}
			modifier = {
				factor = 0
				POL = { is_in_faction_with = USA }
			}

			modifier = {
				factor = 0
				date > 1941.1.1
			}
		}
	}

	option = {
		name = sov_armor.819.b
		ai_chance = {
			factor = 1

			modifier = {
				factor = 0
				NOT = { POL = { is_in_faction_with = USA } }
				NOT = { has_war_With = JAP }
				date < 1941.1.1
			}
		}
	}
}

####################################### Inexperienced Workforce

# More experienced workforce
country_event = {
	id = sov_armor.820
	title = sov_armor.820.t
	desc = sov_armor.820.d
	picture = GFX_report_event_tank_factory

	is_triggered_only = yes

	trigger = {
		OR = {
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier }
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier_munitions_production }
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier_mortar_production }
			#has_dynamic_modifier = { modifier = SOV_third_five_year_plan_23_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_third_five_year_plan_33_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_fourth_five_year_plan_34_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_fourth_five_year_plan_44_dynamic_modifier }
		}
	}

	immediate = {
		hidden_effect = {
			#add_to_variable = { var = SOV_fyp_production_factory_efficiency_gain_factor value = 0.05 }
			add_to_variable = { SOV_fyp_industrial_capacity_factory = 0.05 }
			country_event = { id = sov_armor.821 days = 365 }
		}
	}
	option = {
		name = sov_armor.820.a
		custom_effect_tooltip = sov_armor.820.a_tt
	}
}

# More experienced workforce
country_event = {
	id = sov_armor.821
	title = sov_armor.820.t
	desc = sov_armor.820.d
	picture = GFX_report_event_tank_factory

	is_triggered_only = yes

	trigger = {
		OR = {
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier }
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier_munitions_production }
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier_mortar_production }
			#has_dynamic_modifier = { modifier = SOV_third_five_year_plan_23_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_third_five_year_plan_33_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_fourth_five_year_plan_34_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_fourth_five_year_plan_44_dynamic_modifier }
		}
	}

	immediate = {
		hidden_effect = {
			#add_to_variable = { var = SOV_fyp_production_factory_efficiency_gain_factor value = 0.05 }
			add_to_variable = { SOV_fyp_industrial_capacity_factory = 0.05 }
			country_event = { id = sov_armor.822 days = 365 }
		}
	}
	option = {
		name = sov_armor.820.a
		custom_effect_tooltip = sov_armor.820.a_tt
	}
}

# More experienced workforce
country_event = {
	id = sov_armor.822
	title = sov_armor.820.t
	desc = sov_armor.820.d
	picture = GFX_report_event_tank_factory

	is_triggered_only = yes

	trigger = {
		OR = {
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier }
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier_munitions_production }
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier_mortar_production }
			#has_dynamic_modifier = { modifier = SOV_third_five_year_plan_23_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_third_five_year_plan_33_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_fourth_five_year_plan_34_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_fourth_five_year_plan_44_dynamic_modifier }
		}
	}

	immediate = {
		hidden_effect = {
			#add_to_variable = { var = SOV_fyp_production_factory_efficiency_gain_factor value = 0.05 }
			add_to_variable = { SOV_fyp_industrial_capacity_factory = 0.05 }
			country_event = { id = sov_armor.823 days = 365 }
		}
	}
	option = {
		name = sov_armor.820.a
		custom_effect_tooltip = sov_armor.820.a_tt
	}
}

# More experienced workforce
country_event = {
	id = sov_armor.823
	title = sov_armor.820.t
	desc = sov_armor.820.d
	picture = GFX_report_event_tank_factory

	is_triggered_only = yes

	trigger = {
		OR = {
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier }
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier_munitions_production }
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier_mortar_production }
			#has_dynamic_modifier = { modifier = SOV_third_five_year_plan_23_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_third_five_year_plan_33_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_fourth_five_year_plan_34_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_fourth_five_year_plan_44_dynamic_modifier }
		}
	}

	immediate = {
		hidden_effect = {
			#add_to_variable = { var = SOV_fyp_production_factory_efficiency_gain_factor value = 0.05 }
			add_to_variable = { SOV_fyp_industrial_capacity_factory = 0.05 }
			country_event = { id = sov_armor.824 days = 365 }
		}
	}
	option = {
		name = sov_armor.820.a
		custom_effect_tooltip = sov_armor.820.a_tt
	}
}

# More experienced workforce
country_event = {
	id = sov_armor.824
	title = sov_armor.820.t
	desc = sov_armor.820.d
	picture = GFX_report_event_tank_factory

	is_triggered_only = yes

	trigger = {
		OR = {
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier }
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier_munitions_production }
			has_dynamic_modifier = { modifier = SOV_soviet_industry_dynamic_modifier_mortar_production }
			#has_dynamic_modifier = { modifier = SOV_third_five_year_plan_23_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_third_five_year_plan_33_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_fourth_five_year_plan_34_dynamic_modifier }
			#has_dynamic_modifier = { modifier = SOV_fourth_five_year_plan_44_dynamic_modifier }
		}
	}

	immediate = {
		hidden_effect = {
			#add_to_variable = { var = SOV_fyp_production_factory_efficiency_gain_factor value = 0.05 }
			add_to_variable = { SOV_fyp_industrial_capacity_factory = 0.05 }
		}
	}
	option = {
		name = sov_armor.820.a
		custom_effect_tooltip = sov_armor.820.a_tt
	}
}

####################################### Soviet Death of stalin historical



country_event = {
	id = sov_armor.825
	title = sov_armor.825.t
	desc = sov_armor.825.d

	trigger = {
		tag = SOV
		country_exists = SOV
		has_government = communism
		has_war = no
		date > 1953.1.1
		num_of_controlled_states > 30
		NOT = { has_country_flag = SOV_surrender_wa }
		NOT = { has_global_flag = Stalin_is_dead }
	}

	fire_only_once = yes

	immediate = {
		hidden_effect = {
			set_global_flag = Stalin_is_dead
		}
	}

	option = {
		name = sov_armor.825.a
		ai_chance = {
			factor = 1
		}
		kill_country_leader = yes
		add_country_leader_role = {
			character = SOV_nikita_khrushchyov
			country_leader = {
				expire = "1965.1.1"
				ideology = stalinism
				traits = {
					liberal_reformer
				}
				desc = "POLITICS_NIKITA_KHRUSHCHEV_DESC"
			}
			promote_leader = yes
		}
		add_stability = -0.2
		hidden_effect = {
			news_event = { id = afo_news.34 hours = 6 }
		}
	}

	option = {
		name = sov_armor.825.b
		ai_chance = {
			factor = 0
		}
		kill_country_leader = yes
		add_country_leader_role = {
			character = SOV_georgy_malenkov
			country_leader = {
				expire = "1965.1.1"
				ideology = stalinism
				traits = {
					stalin_loyalist
					power_hungry
				}
				desc = "POLITICS_GEORGY_MALENKOV_DESC"
			}
			promote_leader = yes
		}
		add_stability = -0.2
		hidden_effect = {
			news_event = { id = afo_news.34 hours = 6 }
		}
	}
}

####################################### Soviet Death of stalin alternate



country_event = {
	id = sov_armor.826
	title = sov_armor.826.t
	desc = sov_armor.826.d

	trigger = {
		tag = SOV
		country_exists = SOV
		has_government = communism
		has_war = no
		OR = {
			has_country_flag = SOV_surrender_wa
			num_of_controlled_states < 30
		}
		NOT = { has_global_flag = Stalin_is_dead }
	}

	fire_only_once = yes

	immediate = {
		hidden_effect = {
			set_global_flag = Stalin_is_dead
		}
	}

	option = {
		name = sov_armor.826.a
		ai_chance = {
			factor = 1
		}
		set_cosmetic_tag = SOV_defeated
		kill_country_leader = yes
		add_country_leader_role = {
			character = SOV_nikita_khrushchyov
			country_leader = {
				expire = "1965.1.1"
				ideology = stalinism
				traits = {
					liberal_reformer
				}
				desc = "POLITICS_NIKITA_KHRUSHCHEV_DESC"
			}
			promote_leader = yes
		}
		add_stability = -0.2
		hidden_effect = {
			set_country_flag = khrushchev_picked
			news_event = { id = afo_news.35 hours = 6 }
		}
#	}
#
#	option = {
#		name = sov_armor.826.b
#		ai_chance = {
#			factor = 0
#		}
#		kill_country_leader = yes
#		add_stability = -0.2
#		hidden_effect = {
#			country_event = { id = sov_armor.827 days = 70 }
#			set_country_flag = malenkov_picked
#			news_event = { id = afo_news.35 hours = 6 }
#		}
	}
}


####################################### Soviet Civil War
#
#
#
#country_event = {
#	id = sov_armor.827
#	title = sov_armor.827.t
#	desc = sov_armor.827.d
#
#	is_triggered_only = yes
#
#	immediate = {
#		hidden_effect = {
#			set_party_name = {
#				ideology = neutrality
#				long_name = SOV_russia_neutral_party
#				name = SOV_russia_neutral_party
#			}
#			news_event = { hours = 6 id = afo_news.36 }
#			if = {
#				limit = {
#					has_country_flag = khrushchev_picked
#				}
#				set_politics = {
#					ruling_party = neutrality
#					last_election = "1933.7.1"
#					election_frequency = 48
#					elections_allowed = no
#				}
#				set_popularities = {
#					democratic = 5
#					fascism = 0
#					communism = 44
#					neutrality = 51
#				}
#				start_civil_war = {
#					ideology = communism
#					size = 0.2
#					keep_unit_leaders = { 412 }
#				}
#			}
#			if = {
#				limit = {
#					has_country_flag = malenkov_picked
#				}
#				set_popularities = {
#					democratic = 1
#					fascism = 0
#					communism = 97
#					neutrality = 2
#				}
#				start_civil_war = {
#					ideology = neutrality
#					size = 0.3
#					keep_unit_leaders = { 401 402 410 405 406 403 407 404 }
#				}
#				random_other_country = {
#					limit = {
#						original_tag = SOV
#						has_government = neutrality
#					}
#					set_rule = { can_create_factions = yes }
#					create_faction = "Comintern"
#					kill_country_leader = yes
#				}
#			}
#		}
#	}
#
#	option = {
#		name = sov_armor.827.a
#		ai_chance = {
#			factor = 1
#		}
#		add_stability = -0.2
#	}
#}
#
####################################### Break molotov pact

country_event = {
	id = sov_armor.828
	title = sov_armor.828.t
	desc = sov_armor.828.d

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_subject = no
		NOT = { has_war_with = GER }
		NOT = { is_in_faction_with = GER }
		GER = { has_war = yes }
		GER = { surrender_progress > 0.25 }
		if = {
			limit = {
				GER = { has_war_with = FRA }
			}
			FRA = { surrender_progress < 0.1 }
		}
		any_neighbor_country = {
			tag = GER
		}
		OR = {
			GER = { is_faction_leader = yes }
			GER = { is_in_faction = no }
		}
	}

	immediate = {
	}

	option = {
		name = sov_armor.828.a
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				has_non_aggression_pact_with = GER
			}
			diplomatic_relation = {
				country = GER
				relation = non_aggression_pact
				active = no
			}
		}
		declare_war_on = {
			target = GER
			type = annex_everything
		}
	}

	option = {
		name = sov_armor.828.b
		ai_chance = {
			factor = 0
		}
	}
}

####################################### COLD WAR LOST

#Perm

#Soviet wins
country_event = {
	id = sov_armor.829
	title = sov_armor.829.t
	desc = sov_armor.829.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 398 }
		}
	}

	option = {
		name = sov_armor.829.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 20
		hidden_effect = {
			398 = {
				if = {
					limit = {
						NOT = { has_state_flag = SOV_infiltration_@ROOT }
					}
					set_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 0
					}
				}
				else = {
					modify_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 1
					}
				}
				damage_building = {
					type = infrastructure
					damage = 1
				}
				add_resistance = 10
			}
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
	option = {
		name = sov_armor.829.b
		trigger = {
			original_tag = GER
		}
		hidden_effect = {
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
		army_experience = 10
	}
}

#Soviet loses
country_event = {
	id = sov_armor.830
	title = sov_armor.830.t
	desc = sov_armor.830.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 398 }
		}
	}

	option = {
		name = sov_armor.830.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 10
	}
	option = {
		name = sov_armor.830.b
		trigger = {
			original_tag = GER
		}
		army_experience = 20
	}
}

#stalemate
country_event = {
	id = sov_armor.831
	title = sov_armor.831.t
	desc = sov_armor.831.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 398 }
		}
	}

	option = {
		name = sov_armor.831.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 10
	}
	option = {
		name = sov_armor.831.b
		trigger = {
			original_tag = GER
		}
		army_experience = 10
	}
}

#Soviet wins NO FIGHTING
country_event = {
	id = sov_armor.832
	title = sov_armor.832.t
	desc = sov_armor.832.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = sov_armor.832.a
		trigger = {
			original_tag = SOV
		}
		hidden_effect = {
			398 = {
				if = {
					limit = {
						NOT = { has_state_flag = SOV_infiltration_@ROOT }
					}
					set_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 0
					}
				}
				else = {
					modify_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 1
					}
				}
				damage_building = {
					type = infrastructure
					damage = 1
				}
				add_resistance = 10
			}
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
	option = {
		name = sov_armor.832.b
		trigger = {
			original_tag = GER
		}
		hidden_effect = {
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
}

#Ufa

#Soviet wins
country_event = {
	id = sov_armor.833
	title = sov_armor.833.t
	desc = sov_armor.833.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 651 }
		}
	}

	option = {
		name = sov_armor.833.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 20
		hidden_effect = {
			651 = {
				if = {
					limit = {
						NOT = { has_state_flag = SOV_infiltration_@ROOT }
					}
					set_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 0
					}
				}
				else = {
					modify_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 1
					}
				}
				damage_building = {
					type = infrastructure
					damage = 1
				}
				add_resistance = 10
			}
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
	option = {
		name = sov_armor.833.b
		trigger = {
			original_tag = GER
		}
		hidden_effect = {
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
		army_experience = 10
	}
}

#Soviet loses
country_event = {
	id = sov_armor.834
	title = sov_armor.834.t
	desc = sov_armor.834.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 651 }
		}
	}

	option = {
		name = sov_armor.834.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 10
	}
	option = {
		name = sov_armor.834.b
		trigger = {
			original_tag = GER
		}
		army_experience = 20
	}
}

#stalemate
country_event = {
	id = sov_armor.835
	title = sov_armor.835.t
	desc = sov_armor.835.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 651 }
		}
	}

	option = {
		name = sov_armor.835.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 10
	}
	option = {
		name = sov_armor.835.b
		trigger = {
			original_tag = GER
		}
		army_experience = 10
	}
}

#Soviet wins NO FIGHTING
country_event = {
	id = sov_armor.836
	title = sov_armor.836.t
	desc = sov_armor.836.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = sov_armor.836.a
		trigger = {
			original_tag = SOV
		}
		hidden_effect = {
			651 = {
				if = {
					limit = {
						NOT = { has_state_flag = SOV_infiltration_@ROOT }
					}
					set_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 0
					}
				}
				else = {
					modify_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 1
					}
				}
				damage_building = {
					type = infrastructure
					damage = 1
				}
				add_resistance = 10
			}
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
	option = {
		name = sov_armor.836.b
		trigger = {
			original_tag = GER
		}
		hidden_effect = {
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
}

#Orenburg

#Soviet wins
country_event = {
	id = sov_armor.837
	title = sov_armor.837.t
	desc = sov_armor.837.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 652 }
		}
	}

	option = {
		name = sov_armor.837.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 20
		hidden_effect = {
			652 = {
				if = {
					limit = {
						NOT = { has_state_flag = SOV_infiltration_@ROOT }
					}
					set_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 0
					}
				}
				else = {
					modify_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 1
					}
				}
				damage_building = {
					type = infrastructure
					damage = 1
				}
				add_resistance = 10
			}
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
	option = {
		name = sov_armor.837.b
		trigger = {
			original_tag = GER
		}
		hidden_effect = {
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
		army_experience = 10
	}
}

#Soviet loses
country_event = {
	id = sov_armor.838
	title = sov_armor.838.t
	desc = sov_armor.838.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 652 }
		}
	}

	option = {
		name = sov_armor.838.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 10
	}
	option = {
		name = sov_armor.838.b
		trigger = {
			original_tag = GER
		}
		army_experience = 20
	}
}

#stalemate
country_event = {
	id = sov_armor.839
	title = sov_armor.839.t
	desc = sov_armor.839.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 652 }
		}
	}

	option = {
		name = sov_armor.839.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 10
	}
	option = {
		name = sov_armor.839.b
		trigger = {
			original_tag = GER
		}
		army_experience = 10
	}
}

#Soviet wins NO FIGHTING
country_event = {
	id = sov_armor.840
	title = sov_armor.840.t
	desc = sov_armor.840.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = sov_armor.840.a
		trigger = {
			original_tag = SOV
		}
		hidden_effect = {
			652 = {
				if = {
					limit = {
						NOT = { has_state_flag = SOV_infiltration_@ROOT }
					}
					set_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 0
					}
				}
				else = {
					modify_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 1
					}
				}
				damage_building = {
					type = infrastructure
					damage = 1
				}
				add_resistance = 10
			}
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
	option = {
		name = sov_armor.840.b
		trigger = {
			original_tag = GER
		}
		hidden_effect = {
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
}

#Ural'sk

#Soviet wins
country_event = {
	id = sov_armor.841
	title = sov_armor.841.t
	desc = sov_armor.841.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 407 }
		}
	}

	option = {
		name = sov_armor.841.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 20
		hidden_effect = {
			407 = {
				if = {
					limit = {
						NOT = { has_state_flag = SOV_infiltration_@ROOT }
					}
					set_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 0
					}
				}
				else = {
					modify_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 1
					}
				}
				damage_building = {
					type = infrastructure
					damage = 1
				}
				add_resistance = 10
			}
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
	option = {
		name = sov_armor.841.b
		trigger = {
			original_tag = GER
		}
		hidden_effect = {
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
		army_experience = 10
	}
}

#Soviet loses
country_event = {
	id = sov_armor.842
	title = sov_armor.842.t
	desc = sov_armor.842.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 407 }
		}
	}

	option = {
		name = sov_armor.842.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 10
	}
	option = {
		name = sov_armor.842.b
		trigger = {
			original_tag = GER
		}
		army_experience = 20
	}
}

#stalemate
country_event = {
	id = sov_armor.843
	title = sov_armor.843.t
	desc = sov_armor.843.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 407 }
		}
	}

	option = {
		name = sov_armor.843.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 10
	}
	option = {
		name = sov_armor.843.b
		trigger = {
			original_tag = GER
		}
		army_experience = 10
	}
}

#Soviet wins NO FIGHTING
country_event = {
	id = sov_armor.844
	title = sov_armor.844.t
	desc = sov_armor.844.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = sov_armor.844.a
		trigger = {
			original_tag = SOV
		}
		hidden_effect = {
			407 = {
				if = {
					limit = {
						NOT = { has_state_flag = SOV_infiltration_@ROOT }
					}
					set_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 0
					}
				}
				else = {
					modify_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 1
					}
				}
				damage_building = {
					type = infrastructure
					damage = 1
				}
				add_resistance = 10
			}
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
	option = {
		name = sov_armor.844.b
		trigger = {
			original_tag = GER
		}
		hidden_effect = {
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
}

#

#Soviet wins
country_event = {
	id = sov_armor.845
	title = sov_armor.845.t
	desc = sov_armor.845.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 406 }
		}
	}

	option = {
		name = sov_armor.845.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 20
		hidden_effect = {
			406 = {
				if = {
					limit = {
						NOT = { has_state_flag = SOV_infiltration_@ROOT }
					}
					set_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 0
					}
				}
				else = {
					modify_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 1
					}
				}
				damage_building = {
					type = infrastructure
					damage = 1
				}
				add_resistance = 10
			}
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
	option = {
		name = sov_armor.845.b
		trigger = {
			original_tag = GER
		}
		hidden_effect = {
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
		army_experience = 10
	}
}

#Soviet loses
country_event = {
	id = sov_armor.846
	title = sov_armor.846.t
	desc = sov_armor.846.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 406 }
		}
	}

	option = {
		name = sov_armor.846.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 10
	}
	option = {
		name = sov_armor.846.b
		trigger = {
			original_tag = GER
		}
		army_experience = 20
	}
}

#stalemate
country_event = {
	id = sov_armor.847
	title = sov_armor.847.t
	desc = sov_armor.847.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			RSO = { transfer_state = 406 }
		}
	}

	option = {
		name = sov_armor.847.a
		trigger = {
			original_tag = SOV
		}
		army_experience = 10
	}
	option = {
		name = sov_armor.847.b
		trigger = {
			original_tag = GER
		}
		army_experience = 10
	}
}

#Soviet wins NO FIGHTING
country_event = {
	id = sov_armor.848
	title = sov_armor.848.t
	desc = sov_armor.848.d
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = sov_armor.848.a
		trigger = {
			original_tag = SOV
		}
		hidden_effect = {
			406 = {
				if = {
					limit = {
						NOT = { has_state_flag = SOV_infiltration_@ROOT }
					}
					set_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 0
					}
				}
				else = {
					modify_state_flag = {
						flag = SOV_infiltration_@ROOT
						value = 1
					}
				}
				damage_building = {
					type = infrastructure
					damage = 1
				}
				add_resistance = 10
			}
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
	option = {
		name = sov_armor.848.b
		trigger = {
			original_tag = GER
		}
		hidden_effect = {
			add_to_variable = {
			    var = SOV_infiltration_level
			    value = 5
			}
		}
	}
}

####################################### Winter War failed

country_event = {
	id = sov_armor.849
	title = sov_armor.849.t
	desc = {
		text = sov_armor.849.da
		trigger = {
			has_country_flag = SOV_winter_war_phyrric_victory
		}
	}
	desc = {
		text = sov_armor.849.db
		trigger = {
			NOT = { has_country_flag = SOV_winter_war_phyrric_victory }
		}
	}

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_global_flag = SOV_ww_over
		}
	}

	#partial failure
	option = {
		name = sov_armor.849.a
		trigger = {
			has_country_flag = SOV_winter_war_phyrric_victory
		}
		ai_chance = {
			factor = 1
		}
		effect_tooltip = {
			transfer_state = 146
			transfer_state = 1044
			transfer_state = 1045
			1045 = { set_state_name = "Koivisto" }
			white_peace = FIN
			add_war_support = -0.2
			add_stability = -0.1
			army_experience = 25
			FIN = {
				add_stability = 0.1
			}
		}
		FIN = { country_event = { id = sov_armor.858 hours = 6 } }
	}

	#complete failure
	option = {
		name = sov_armor.849.b
		trigger = {
			NOT = { has_country_flag = SOV_winter_war_phyrric_victory }
		}
		ai_chance = {
			factor = 1
		}
		effect_tooltip = {
			white_peace = FIN
			add_war_support = -0.3
			add_stability = -0.2
			FIN = {
				add_stability = 0.2
			}
		}
		FIN = { country_event = { id = sov_armor.850 hours = 6 } }
	}

	#War goes on
	option = {
		name = sov_armor.849.c
		ai_chance = {
			factor = 0
		}
		add_political_power = -150
		add_war_support = -0.5
		effect_tooltip = {
			FIN = {
				add_war_support = 0.2
			}
		}
		FIN = { country_event = { id = sov_armor.851 hours = 6 } }
	}
}

#SU phyrric win
country_event = {
	id = sov_armor.858
	title = sov_armor.858.t
	desc = sov_armor.858.d

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = sov_armor.858.a
		add_stability = 0.1
		add_timed_idea = { idea = rebuild_the_nation days = 180 }
		SOV = {
			transfer_state = 146
			transfer_state = 1044
			transfer_state = 1045
			1045 = { set_state_name = "Koivisto" }
			army_experience = 25
			white_peace = FIN
			add_war_support = -0.1
			add_stability = -0.05
			hidden_effect = {
				146 = {
					set_building_level = {
						type = bunker
						level = 0
						province = {
							all_provinces = yes
						}
					}
				}
				1044 = {
					set_building_level = {
						type = bunker
						level = 0
						province = {
							all_provinces = yes
						}
					}
				}
				1045 = {
					set_building_level = {
						type = bunker
						level = 0
						province = {
							all_provinces = yes
						}
					}
				}
			}
		}
	}
}

#SU loses and wants peace
country_event = {
	id = sov_armor.850
	title = sov_armor.850.t
	desc = sov_armor.850.d

	is_triggered_only = yes

	immediate = {
	}
	option = {
		name = sov_armor.850.a
		add_stability = 0.2
		add_timed_idea = { idea = rebuild_the_nation days = 180 }
		SOV = {
			white_peace = FIN
			add_war_support = -0.2
			add_stability = -0.1
		}
	}
}

#SU doesnt want peace
country_event = {
	id = sov_armor.851
	title = sov_armor.851.t
	desc = sov_armor.851.d

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = sov_armor.851.a
		add_war_support = 0.2
	}
}

####################################### End of the great patriotic war

country_event = {
	id = sov_armor.852
	title = sov_armor.852.t
	desc = {
		text = sov_armor.852.dalt
		trigger = {
			NOT = {
				owns_state = 219
			}
		}
	}
	desc = sov_armor.852.d

	picture = GFX_news_event_soviet_victory_parade

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		has_war = no
		has_country_flag = great_patriotic_war_flag
	}

	option = {
		trigger = {
			owns_state = 219
		}
		name = sov_armor.852.a
		if = {
			limit = {
				has_idea = great_patriotic_war
			}
			remove_ideas = great_patriotic_war
		}
		if = {
			limit = {
				has_idea = great_patriotic_war_2
			}
			remove_ideas = great_patriotic_war_2
		}
		add_stability = 0.4
		random_unit_leader = {
			limit = {
				has_id = 410
			}
			add_unit_leader_trait = media_personality
			add_unit_leader_trait = war_hero
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		trigger = {
			NOT = {
				owns_state = 219
			}
		}
		name = sov_armor.852.aalt
		if = {
			limit = {
				has_idea = great_patriotic_war
			}
			remove_ideas = great_patriotic_war
		}
		if = {
			limit = {
				has_idea = great_patriotic_war_2
			}
			remove_ideas = great_patriotic_war_2
		}
		add_stability = -0.2
		random_unit_leader = {
			limit = {
				has_id = 410
			}
			add_unit_leader_trait = media_personality
			add_unit_leader_trait = war_hero
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Germany Cedes the East
country_event = {
	id = sov_armor.853
	title = sov_armor.853.t
	desc = sov_armor.853.d

	is_triggered_only = yes

	option = {
		name = sov_armor.853.a
		if = {
			limit = {
				GER = {
					owns_state = 96
					controls_state = 96
				}
			}
			transfer_state = 96
		}
		if = {
			limit = {
				GER = {
					owns_state = 95
					controls_state = 95
				}
			}
			transfer_state = 95
		}
		if = {
			limit = {
				GER = {
					owns_state = 94
					controls_state = 94
				}
			}
			transfer_state = 94
		}
		if = {
			limit = {
				GER = {
					owns_state = 93
					controls_state = 93
				}
			}
			transfer_state = 93
		}
		if = {
			limit = {
				GER = {
					owns_state = 91
					controls_state = 91
				}
			}
			transfer_state = 91
		}
		if = {
			limit = {
				GER = {
					owns_state = 89
					controls_state = 89
				}
			}
			transfer_state = 89
		}
		if = {
			limit = {
				GER = {
					owns_state = 97
					controls_state = 97
				}
			}
			transfer_state = 97
		}
		if = {
			limit = {
				GER = {
					owns_state = 784
					controls_state = 784
				}
			}
			transfer_state = 784
		}
	}
}

# Germany Refuses to Cede the East
country_event = {
	id = sov_armor.854
	title = sov_armor.854.t
	desc = sov_armor.854.d

	is_triggered_only = yes

	option = {
		name = sov_armor.854.a
		create_wargoal = {
			type = take_state_focus
			target = GER
			generator = { 96 95 94 93 91 89 784 }
		}
	}
}

country_event = {
	id = sov_armor.855
	hidden = yes

	mean_time_to_happen = { days = 4 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		is_historical_focus_on = yes
		ENG = { has_war_with = PER }
		ENG = { has_completed_focus = ENG_secure_iran }
		NOT = { has_war_With = PER }
	}

	option = {
		declare_war_on = {
			type = take_state_focus
			target = PER
			generator = { 419 420 266 418 416 }
		}
	}
}

####################################### Hungary asks for white peace

country_event = {
	id = sov_armor.856
	title = sov_armor.856.t
	desc = sov_armor.856.d

	is_triggered_only = yes

	option = {
		name = sov_armor.856.a
		HUN = { country_event = { id = hun_armor.847 } }
		ai_chance = {
			factor = 0
		}
	}

	option = {
		name = sov_armor.856.b
		HUN = { country_event = { id = hun_armor.848 } }
		ai_chance = {
			factor = 25
		}
	}

	option = {
		name = sov_armor.856.c
		HUN = { country_event = { id = hun_armor.849 } }
		ai_chance = {
			factor = 0
		}
	}
}

####################################### Hungary rejects puppet status

country_event = {
	id = sov_armor.857
	title = sov_armor.857.t
	desc = sov_armor.857.d

	is_triggered_only = yes

	option = {
		name = sov_armor.857.a
		HUN = { country_event = { days = 1 id = hun_armor.847 } }
		ai_chance = {
			factor = 0
		}
	}

	option = {
		name = sov_armor.857.b
		HUN = { country_event = { days = 1 id = hun_armor.849 } }
		ai_chance = {
			factor = 25
		}
	}
}

####################################### Struggles of the Third Five year plan

country_event = {
	id = sov_armor.859
	title = {
		text = sov_armor.859.ta
		trigger = {
			has_completed_focus = SOV_start_the_third_five_year_plan
		}
	}
	title = {
		text = sov_armor.859.tb
		trigger = {
			NOT = { has_completed_focus = SOV_start_the_third_five_year_plan }
		}
	}
	desc = {
		text = sov_armor.859.da
		trigger = {
			has_completed_focus = SOV_start_the_third_five_year_plan
		}
	}
	desc = {
		text = sov_armor.859.db
		trigger = {
			NOT = { has_completed_focus = SOV_start_the_third_five_year_plan }
		}
	}

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		date > 1939.11.1
		NOT = { has_tech = expanded_industry4 } #for save games, REMOVE FOR 8.1
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					has_aat = yes
				}
				add_timed_idea = {
					idea = SOV_worker_shortage_mio
					days = 600
				}
			}
			else = {
				add_timed_idea = {
					idea = SOV_worker_shortage
					days = 600
				}
			}
		}
	}

	option = {
		name = sov_armor.859.a
		effect_tooltip = {
			if = {
				limit = {
					has_aat = yes
				}
				add_timed_idea = {
					idea = SOV_worker_shortage_mio
					days = 600
				}
			}
			else = {
				add_timed_idea = {
					idea = SOV_worker_shortage
					days = 600
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

####################################### Officers Purged goes away

country_event = {
	id = sov_armor.860
	title = sov_armor.860.t
	desc = sov_armor.860.d

	fire_only_once = yes

	trigger = {
		original_tag = SOV
		any_enemy_country = {
			is_major = yes
		}
		casualties > 4500000
		OR = {
			has_idea = officers_purged
			has_idea = officers_purged_2
			has_idea = officers_purged_3
			has_idea = officers_purged_4
			has_idea = officers_purged_5
			has_idea = officers_purged_6
			has_idea = officers_purged_7
			has_idea = officers_purged_8
			has_idea = officers_purged_9
			has_idea = officers_purged_10
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					has_idea = officers_purged
				}
				remove_ideas = officers_purged
			}
			if = {
				limit = {
					has_idea = officers_purged_2
				}
				remove_ideas = officers_purged_2
			}
			if = {
				limit = {
					has_idea = officers_purged_3
				}
				remove_ideas = officers_purged_3
			}
			if = {
				limit = {
					has_idea = officers_purged_4
				}
				remove_ideas = officers_purged_4
			}
			if = {
				limit = {
					has_idea = officers_purged_5
				}
				remove_ideas = officers_purged_5
			}
			if = {
				limit = {
					has_idea = officers_purged_6
				}
				remove_ideas = officers_purged_6
			}
			if = {
				limit = {
					has_idea = officers_purged_7
				}
				remove_ideas = officers_purged_7
			}
			if = {
				limit = {
					has_idea = officers_purged_8
				}
				remove_ideas = officers_purged_8
			}
			if = {
				limit = {
					has_idea = officers_purged_9
				}
				remove_ideas = officers_purged_9
			}
			if = {
				limit = {
					has_idea = officers_purged_10
				}
				remove_ideas = officers_purged_10
			}
		}
	}

	option = {
		name = sov_armor.860.a
		ai_chance = {
			factor = 1
		}
		effect_tooltip = {
			remove_ideas = officers_purged_10
		}
	}
}

####################################### River War failed

country_event = {
	id = sov_armor.861
	title = sov_armor.861.t
	desc = {
		text = sov_armor.861.da
		trigger = {
			has_country_flag = SOV_winter_war_phyrric_victory
		}
	}
	desc = {
		text = sov_armor.861.db
		trigger = {
			NOT = { has_country_flag = SOV_winter_war_phyrric_victory }
		}
	}

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_global_flag = SOV_ww_over
		}
	}

	#partial failure
	option = {
		name = sov_armor.861.a
		trigger = {
			has_country_flag = SOV_winter_war_phyrric_victory
		}
		ai_chance = {
			factor = 1
		}
		effect_tooltip = {
			transfer_state = 146
			transfer_state = 1044
			transfer_state = 1045
			1045 = { set_state_name = "Koivisto" }
			white_peace = ROM
			add_war_support = -0.2
			add_stability = -0.1
			army_experience = 50
			ROM = {
				add_stability = 0.1
			}
		}
		ROM = { country_event = { id = sov_armor.862 hours = 6 } }
	}

	#complete failure
	option = {
		name = sov_armor.861.b
		trigger = {
			NOT = { has_country_flag = SOV_winter_war_phyrric_victory }
		}
		ai_chance = {
			factor = 1
		}
		effect_tooltip = {
			white_peace = ROM
			add_war_support = -0.3
			add_stability = -0.2
			ROM = {
				add_stability = 0.2
			}
		}
		ROM = { country_event = { id = sov_armor.863 hours = 6 } }
	}

	#War goes on
	option = {
		name = sov_armor.861.c
		ai_chance = {
			factor = 0
		}
		add_political_power = -150
		add_war_support = -0.5
		effect_tooltip = {
			ROM = {
				add_war_support = 0.2
			}
		}
		ROM = { country_event = { id = sov_armor.864 hours = 6 } }
	}
}

#SU phyrric win
country_event = {
	id = sov_armor.862
	title = sov_armor.862.t
	desc = sov_armor.862.d

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = sov_armor.862.a
		add_stability = 0.1
		SOV = {
			transfer_state = 80
			transfer_state = 78
			transfer_state = 766
			army_experience = 25
			white_peace = ROM
			add_war_support = -0.1
			add_stability = -0.05
		}
	}
}

#SU loses and wants peace
country_event = {
	id = sov_armor.863
	title = sov_armor.863.t
	desc = sov_armor.863.d

	is_triggered_only = yes

	immediate = {
	}
	option = {
		name = sov_armor.863.a
		add_stability = 0.2
		SOV = {
			white_peace = ROM
			add_war_support = -0.2
			add_stability = -0.1
		}
	}
}

#SU doesnt want peace
country_event = {
	id = sov_armor.864
	title = sov_armor.864.t
	desc = sov_armor.864.d

	is_triggered_only = yes

	immediate = {
	}

	option = {
		name = sov_armor.864.a
		add_war_support = 0.2
	}
}

####################################### Cheats

country_event = {
	id = sov_armor.900
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date < 1937.1.1
		is_subject = no
	}

	immediate = {
		#add_equipment_to_stockpile = { type = sov_motorized_equipment_1 amount = 45000 producer = SOV }
	}

	option = {}

}

country_event = {
	id = sov_armor.901
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1937.5.20
	}

	immediate = {
		if = {
			limit = {
				NOT = {
					OR = {
						is_researching_technology = tech_maintenance_company
						has_tech = tech_maintenance_company
					}
				}
			}
			set_technology = {
				tech_maintenance_company = 1
				sov_improved_special_forces = 1
			}
		}
		if = {
		   limit = {
			   NOT = { has_idea = mikhail_kalinin }
		   }
		   activate_advisor = mikhail_kalinin
		}
		if = {
			limit = {
				876 = {
					is_owned_and_controlled_by = SOV
				}
			}
			876 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				572 = {
					is_owned_and_controlled_by = SOV
				}
			}
			572 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				653 = {
					is_owned_and_controlled_by = SOV
				}
			}
			653 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				398 = {
					is_owned_and_controlled_by = SOV
				}
			}
			398 = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		set_technology = { railway_gun = 1 }
		create_railway_gun = {
			equipment = railway_gun_equipment_1
			name = "TM-3-12"
		}
		create_railway_gun = {
			equipment = railway_gun_equipment_1
			name = "TM-3-12"
		}
		create_railway_gun = {
			equipment = railway_gun_equipment_1
			name = "TM-3-12"
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.902
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1939.2.1
		NOT = { date > 1940.1.1 }
	}

	immediate = {
		set_technology = {
			simplified_train = 1
			tech_battlefield_medicine_1 = 1
		}
		set_technology = { sov_anti_tank_2 = 1 }
		add_political_power = 500
		add_equipment_to_stockpile = { type = convoy_1 amount = 100 producer = SOV }
		if = {
			limit = {
				398 = {
					is_owned_and_controlled_by = SOV
				}
			}
			398 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				651 = {
					is_owned_and_controlled_by = SOV
				}
			}
			651 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				572 = {
					is_owned_and_controlled_by = SOV
				}
			}
			572 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				876 = {
					is_owned_and_controlled_by = SOV
				}
			}
			876 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				586 = {
					is_owned_and_controlled_by = SOV
				}
			}
			586 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				229 = {
					is_owned_and_controlled_by = SOV
				}
			}
			229 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		571 = {
			if = {
				limit = {
					is_controlled_by = SOV
				}
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
		}

		570 = {
			if = {
				limit = {
					is_controlled_by = SOV
				}
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
		}

		40 = {
			if = {
				limit = {
					is_controlled_by = SOV
				}
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
		}

		569 = {
			if = {
				limit = {
					is_controlled_by = SOV
				}
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}

		568 = {
			if = {
				limit = {
					is_controlled_by = SOV
				}
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
		}

		588 = {
			if = {
				limit = {
					is_controlled_by = SOV
				}
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.903
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1939.10.12
		NOT = { date > 1940.10.12 }
		controls_state = 653
	}

	immediate = {
		add_political_power = 1000
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
	}

	option = {}
}

country_event = {
	id = sov_armor.904
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1940.1.1
	}

	immediate = {
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 2250 producer = SOV } ###I need to find another fix
		set_technology = {
			sov_infantry_weapons_upgrade_2 = 1
		}
		add_political_power = 300
		if = {
			limit = {
				has_idea = mass_assault_corps_spirit
			}
			remove_ideas = mass_assault_corps_spirit
		}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
	}

	option = {}
}

country_event = {
	id = sov_armor.905
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1940.7.1
		NOT = { date > 1941.7.1 }
	}

	immediate = {
		#if = {
		#	limit = {
		#		NOT = {
		#			has_tech = concentrated_spacing
		#		}
		#	}
		#	set_technology = { concentrated_spacing = 1 }
		#	set_technology = { anti_tank_strong_points = 0 }
		#}
		if = {
			limit = {
				NOT = {
					OR = {
						is_researching_technology = sov_anti_tank_upgrade_1
						has_tech = sov_anti_tank_upgrade_1
					}
				}
			}
			set_technology = {
				sov_anti_tank_upgrade_1 = 1
			}
		}
		if = {
			limit = {
				NOT = {
					OR = {
						is_researching_technology = sov_anti_tank_upgrade_2
						has_tech = sov_anti_tank_upgrade_2
					}
				}
			}
			set_technology = {
				sov_anti_tank_upgrade_2 = 1
			}
		}
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			set_technology = {
				sov_medium_tank_chassis_3 = 1
			}
		}
		else = {
			set_technology = {
				sov_medium_3 = 1
			}
		}
		#load_oob = "SOV_air_2"
		add_equipment_to_stockpile = { type = convoy_1 amount = 50 producer = SOV }
		random_owned_controlled_state = {
			prioritize = { 583 586 570 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 583 586 570 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 2
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 3
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 583 586 570 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 2
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 3
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.906
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1941.1.1
	}

	immediate = {
		set_technology = {
			tech_field_hospital3 = 1
			tech_battlefield_medicine_1 = 1
			tech_signal_company3 = 1
			tech_headquarters1 = 1
			sov_fighter_multirole_ad_tech_5 = 1
			sov_fighter_ad_tech_3 = 1
			sov_attacker_ad_tech_1 = 1
			tech_battlefield_medicine_2 = 1
			sov_scout_plane_ad_tech_2 = 1
			sov_infantry_weapons_3 = 1
			sov_infantry_weapons_4 = 1
		}
		delete_units = {
			division_template = "Soviet Motorized Division"
			disband = yes
		}
		if = {
			limit = {
				NOT = {
					has_tech = armoured_waves
					has_completed_focus = SOV_approach_tukhachevsky
				}
			}
			set_technology = { armoured_waves = 1 }
		}
		set_technology = { camo1 = 1 }
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.907
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1941.2.1
	}

	immediate = {
		add_political_power = 900
		if = {
			limit = {
				195 = { is_controlled_by = SOV }
				137 = { is_controlled_by = SOV }
			}
			load_oob = "SOV_ships_1"
		}
		590 = {
			add_building_construction = {
				type = synthetic_refinery
				level = 1
				instant_build = yes
			}
		}

		571 = {
			add_building_construction = {
				type = synthetic_refinery
				level = 1
				instant_build = yes
			}
		}

		570 = {
			add_building_construction = {
				type = synthetic_refinery
				level = 1
				instant_build = yes
			}
		}

		40 = {
			add_building_construction = {
				type = synthetic_refinery
				level = 1
				instant_build = yes
			}
		}

		588 = {
			add_building_construction = {
				type = synthetic_refinery
				level = 1
				instant_build = yes
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.908
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1941.7.1
		NOT = { date > 1942.7.1 }
	}

	immediate = {
		set_technology = {
			sov_artillery_3 = 1
			sov_mechanized_infantry_3 = 1
		}
		upgrade_intelligence_agency = upgrade_crypto_strength_2
		upgrade_intelligence_agency = upgrade_crypto_strength_2
		upgrade_intelligence_agency = upgrade_crypto_strength_2
		upgrade_intelligence_agency = upgrade_crypto_strength_2
		upgrade_intelligence_agency = upgrade_crypto_strength_2
		upgrade_intelligence_agency = upgrade_crypto_strength_2
		if = {
			limit = {
				has_dlc = "No Step Back"
				NOT = {
					has_tech = sov_medium_tank_chassis_3_2
				}
			}
			set_technology = {
				sov_medium_tank_chassis_3_2 = 1
			}
		}
		else_if = {
			limit = {
				NOT = { has_dlc = "No Step Back" }
				NOT = {
					has_tech = sov_medium_4
				}
			}
			set_technology = {
				sov_medium_4 = 1
			}
		}
		add_political_power = 2000
		army_experience = 150

		add_equipment_to_stockpile = { type = convoy_1 amount = 50 producer = SOV }
		if = {
			limit = {
				USA = {
					is_ai = no
				}
			}
			add_equipment_to_stockpile = { type = sov_inf_9 amount = 150000 producer = SOV }
			add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 100000 producer = SOV }
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 80000 producer = SOV }
			add_equipment_to_stockpile = { type = sov_art_2 amount = 9000 producer = SOV }
			add_equipment_to_stockpile = { type = sov_hv_art_2 amount = 5000 producer = SOV }
			add_equipment_to_stockpile = { type = sov_at_4 amount = 10000 producer = SOV }
		}
	}

	option = {}
}

#country_event = {
#	id = sov_armor.909
#	hidden = yes
#
#	mean_time_to_happen = { days = 2 }
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = SOV
#		is_ai = yes
#		date > 1941.12.1
#		has_war = yes
#	}
#
#	immediate = {
#		add_equipment_to_stockpile = { type = sov_art_2 amount = 800 producer = SOV }
#	}
#
#	option = {}
#}

country_event = {
	id = sov_armor.910
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		OR = {
			243 = { is_controlled_by = GER }
			date > 1942.1.1
		}
		#243 = { is_owned_by = SOV }
	}

	immediate = {
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			set_technology = {
				sov_cas_ad_tech_3 = 1
				sov_fighter_multirole_ad_tech_6 = 1
			}
		}
		else = {
			set_technology = {
				sov_cas_3 = 1
				sov_fighter_multirole_6	 = 1
			}
		}
		set_technology = {
			wartime_train = 1
		}

		if = {
			limit = {
				570 = {
					is_owned_and_controlled_by = SOV
				}
			}
			570 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				569 = {
					is_owned_and_controlled_by = SOV
				}
			}
			569 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				40 = {
					is_owned_and_controlled_by = SOV
				}
			}
			40 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				568 = {
					is_owned_and_controlled_by = SOV
				}
			}
			568 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				408 = {
					is_owned_and_controlled_by = SOV
				}
			}
			408 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.911
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1942.1.1
		NOT = { has_idea = officers_purged }
		NOT = { has_idea = officers_purged_2 }
		NOT = { has_idea = officers_purged_3 }
		NOT = { has_idea = officers_purged_4 }
		NOT = { has_idea = officers_purged_5 }
		NOT = { has_idea = officers_purged_6 }
		NOT = { has_idea = officers_purged_7 }
		NOT = { has_idea = officers_purged_8 }
		NOT = { has_idea = officers_purged_9 }
		NOT = { has_idea = officers_purged_10 }
	}

	immediate = {
		army_experience = 500
		air_experience = 500
		set_technology = { converging_sheaf = 1 }
		delete_units = {
			division_template = "Soviet Light Tank Division"
			disband = yes
		}
		#add_equipment_to_stockpile = { type = sov_inf_1 amount = 10000 producer = SOV }
		#add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 10000 producer = SOV }
		#add_equipment_to_stockpile = { type = support_equipment_1 amount = 20000 producer = SOV }
	}

	option = {}
}

country_event = {
	id = sov_armor.912
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1942.3.1
		NOT = { date > 1943.5.1 }
		GER = { is_ai = no }
		NOT = { has_global_flag = disable_cheats }
	}

	immediate = {
		if = {
			limit = {
				571 = {
					is_owned_and_controlled_by = SOV
				}
			}
			571 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				570 = {
					is_owned_and_controlled_by = SOV
				}
			}
			570 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		398 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 4
		 			instant_build = yes
				}
		 	}
		}
		651 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 6
		 			instant_build = yes
				}
		 	}
		}
		653 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 8
		 			instant_build = yes
				}
		 	}
		}
		572 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 10
		 			instant_build = yes
				}
		 	}
		}
		#load_oob = "SOV_air_3"
		#if = {
		#	limit = {
		#		has_dlc = "No Step Back"
		#	}
		#	add_equipment_to_stockpile = { type = sov_inf_3 amount = 61000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 61000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_motorized_equipment_1 amount = 16000 producer = SOV }
		#	add_equipment_to_stockpile = { type = support_equipment_1 amount = 30000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_art_2 amount = 6000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_hv_art_2 amount = 1300 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_at_4 amount = 3000 producer = SOV }
		#
		#	add_equipment_to_stockpile = { type = sov_mechanized_equipment_1 amount = 2500 producer = SOV }
		#	add_equipment_to_stockpile = { type = tank_sov_medium_chassis_3 amount = 5500 producer = SOV }
		#	add_equipment_to_stockpile = { type = tank_sov_heavy_chassis_2 amount = 4000 producer = SOV }
		#
		#}
		#else = {
		#	add_equipment_to_stockpile = { type = sov_inf_3 amount = 61000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 61000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_motorized_equipment_1 amount = 16000 producer = SOV }
		#	add_equipment_to_stockpile = { type = support_equipment_1 amount = 30000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_art_2 amount = 6000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_hv_art_2 amount = 1300 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_at_4 amount = 3000 producer = SOV }
		#
		#	add_equipment_to_stockpile = { type = sov_mechanized_equipment_1 amount = 2500 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_medium_equipment_3 amount = 5500 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_heavy_equipment_3 amount = 4000 producer = SOV }
		#
		#	load_oob = "SOV_air_3"
		#}
	}

	option = {}
}

country_event = {
	id = sov_armor.913
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			date > 1940.7.1
		}
		else = {
			has_tech = sov_medium_td_1
			has_tech = sov_heavy_spg_2
		}
		is_subject = no
		OR = {
 			NOT = {	SOV = { has_full_control_of_state = 246 }}
			NOT = {	SOV = { has_full_control_of_state = 242 }}
			NOT = {	SOV = { has_full_control_of_state = 205 }}
			NOT = {	SOV = { has_full_control_of_state = 222 }}
			NOT = {	SOV = { has_full_control_of_state = 258 }}
 			date > 1942.5.1
		}
		219 = { is_controlled_by = SOV }
		has_template = "Soviet Medium Tank Division"
		has_template = "Soviet Heavy Tank Division"
	}

	immediate = {
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			set_technology = {
				sov_heavy_tank_chassis_2_2 = 1
			}
			set_technology = {
				sov_medium_tank_chassis_3_2 = 1
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.914
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		OR = {
 			229 = { is_controlled_by = GER }
 			219 = { is_controlled_by = GER }
 			217 = { is_controlled_by = GER }
		}
		653 = { is_controlled_by = SOV }
		572 = { is_controlled_by = SOV }
		876 = { is_controlled_by = SOV }
	 	date > 1942.8.1
		has_war = yes
		not = {has_global_flag = disable_cheats}
	}

	immediate = {
		653 = {
		 	if = {
		 		limit = {
					is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 5
		 			instant_build = yes
		 		}
		 	}
		}
		572 = {
		 	if = {
		 		limit = {
					is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 7
		 			instant_build = yes
		 		}
		 	}
		}
		876 = {
		 	if = {
		 		limit = {
					is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 5
		 			instant_build = yes
		 		}
		 	}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.915
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			date > 1940.7.1
		}
		else = {
			has_tech = sov_medium_td_1
			has_tech = sov_heavy_spg_2
		}
		249 = { is_controlled_by = SOV }
		249 = { is_owned_by = SOV }
 		date > 1942.10.1
		NOT = { date > 1943.1.1 }
		is_subject = no
		not = {has_global_flag = disable_cheats}
		has_dlc = "No Step Back"
		has_template = "Soviet Adv Rifle Division"
		has_template = "Soviet Medium Tank Division"
	}

	immediate = {
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			set_technology = {
				sov_strike_bomber_ad_tech_4 = 1
			}
		}
		else = {
			set_technology = { sov_attacker_2 = 1 }
		}
		if = {
			limit = {
				569 = {
					is_owned_and_controlled_by = SOV
				}
			}
			569 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				40 = {
					is_owned_and_controlled_by = SOV
				}
			}
			40 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				568 = {
					is_owned_and_controlled_by = SOV
				}
			}
			568 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				408 = {
					is_owned_and_controlled_by = SOV
				}
			}
			408 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
	}

	option = {}
}

#country_event = {
#	id = sov_armor.917
#	hidden = yes
#
#	mean_time_to_happen = { days = 2 }
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = SOV
#		is_ai = yes
#		if = {
#			limit = {
#				has_dlc = "No Step Back"
#			}
#			date > 1940.7.1
#		}
#		else = {
#			has_tech = sov_medium_td_1
#			has_tech = sov_heavy_spg_2
#			has_tech = sov_mechanized_artillery_1
#		}
#		OR = {
#			231 = { is_controlled_by = TUR }
#			230 = { is_controlled_by = TUR }
#			231 = { is_controlled_by = GER }
#			233 = { is_controlled_by = GER }
#			235 = { is_controlled_by = GER }
#			237 = { is_controlled_by = GER }
#			217 = { is_controlled_by = GER }
#			date > 1943.3.1
#		}
#		229 = { is_controlled_by = SOV }
#		GER = { is_ai = no }
#	}
#
#	immediate = {
#		229 = {
#			create_unit = {
#				division = "division_template = \"Soviet Motorized Division\" start_experience_factor = 0.3 start_equipment_factor = 1.0"
#				owner = SOV
#				count = 5
#			}
#		}
#	}
#
#	option = {}
#}

country_event = {
	id = sov_armor.919
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1944.1.1
		NOT = { date > 1944.3.1 }
		has_war = yes
		GER = { is_ai = no }
		not = {has_global_flag = disable_cheats}
		has_dlc = "No Step Back"
		has_template = "Soviet Adv Rifle Division"
	}

	immediate = {
		set_technology = {
			sov_heavy_tank_chassis_4_3 = 1
		}
	}
	option = {}
}


country_event = {
	id = sov_armor.921
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1945.1.1
		not = {has_global_flag = disable_cheats}
	}

	immediate = {
		set_technology = {
			tech_field_hospital5 = 1
			tech_battlefield_medicine_3 = 1
			tech_signal_company5 = 1
			tech_headquarters3 = 1
			sov_anti_tank_5 = 1
			sov_artillery_4 = 1
		}
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			set_technology = {
				sov_fighter_ad_tech_7 = 1
			}
		}
		else = {
			set_technology = { sov_fighter_7 = 1 }
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.922
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1945.6.1
		NOT = { date > 1947.6.1 }
		has_war = yes
		surrender_progress < 0.2
	}

	immediate = {
		random_owned_state = {
			prioritize = { 252 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_state = {
			prioritize = { 256 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_state = {
			prioritize = { 248 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_state = {
			prioritize = { 571 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_state = {
			prioritize = { 223 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		#add_equipment_to_stockpile = { type = sov_modern_equipment_1 amount = 7000 producer = SOV }
	}

	option = {}
}

country_event = {
	id = sov_armor.923
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1946.1.1
	}

	immediate = {
		set_technology = {
			sov_fighter_ad_tech_8 = 1
			sov_fighter_multirole_ad_tech_9 = 1
			sov_cas_ad_tech_6 = 1
		}

		add_equipment_to_stockpile = { type = convoy_1 amount = 50 producer = SOV }
	}

	option = {}
}

country_event = {
	id = sov_armor.924
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		252 = { is_controlled_by = SOV }
		has_tech = sov_artillery_2
		has_tech = sov_anti_tank_3
		has_completed_focus = SOV_guards_units
		is_subject = no
		has_template = "Soviet Medium Tank Division"
	}

	immediate = {
		set_technology = {
			sov_tech_mountaineers = 1
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.925
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1942.4.1
	}

	immediate = {
		set_technology = {
			sov_anti_tank_upgrade_3 = 1
			sov_artillery_upgrade_3 = 1
			false_emplacements = 1
		}
		if = {
			limit = {
				has_dlc = "No Step Back"
				NOT = {
					has_tech = sov_medium_tank_chassis_3_3
				}
			}
			set_technology = {
				sov_medium_tank_chassis_3_3 = 1
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.926
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1943.4.1
	}

	immediate = {
		set_technology = {
			sov_anti_tank_4 = 1
			sov_heavy_artillery_3 = 1
			sov_light_tank_aa_6 = 1
			sov_heavy_anti_tank_1 = 1
			sov_infantry_weapons_upgrade_3 = 1
			sov_mechanized_artillery_1 = 1
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.927
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1942.1.1
		tag = SOV
		is_ai = yes
		has_war = yes
	}

	immediate = {
		add_political_power = 1500
	}

	option = {}

}

country_event = {
	id = sov_armor.928
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1943.5.1
		has_war = yes
		#has_equipment = { heavy_infantry_equipment < 10000 }
	}

	immediate = {
		add_political_power = 500
		#add_equipment_to_stockpile = { type = sov_inf_3 amount = 50000 producer = SOV }
		#add_equipment_to_stockpile = { type = sov_art_2 amount = 3000 producer = SOV }
		#add_equipment_to_stockpile = { type = sov_at_4 amount = 4000 producer = SOV }
		#add_equipment_to_stockpile = { type = sov_hv_inf_4 amount = 70000 producer = SOV }
		#add_equipment_to_stockpile = { type = sov_mechanized_equipment_3 amount = 3000 producer = SOV }
	}

	option = {}
}

country_event = {
	id = sov_armor.929
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		surrender_progress > 0.3
	}

	immediate = {
		if = {
			limit = {
				401 = {
					is_owned_and_controlled_by = SOV
				}
			}
			401 = {
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				255 = {
					is_owned_and_controlled_by = SOV
				}
			}
			255 = {
				add_building_construction = {
					type = air_base
					level = 7
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				248 = {
					is_owned_and_controlled_by = SOV
				}
			}
			248 = {
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				249 = {
					is_owned_and_controlled_by = SOV
				}
			}
			249 = {
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 7
					province = 6338
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				397 = {
					is_owned_and_controlled_by = SOV
				}
			}
			397 = {
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				876 = {
					is_owned_and_controlled_by = SOV
				}
			}
			876 = {
				add_building_construction = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				400 = {
					is_owned_and_controlled_by = SOV
				}
			}
			400 = {
				add_building_construction = {
					type = air_base
					level = 6
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				1014 = {
					is_owned_and_controlled_by = SOV
				}
			}
			1014 = {
				add_building_construction = {
					type = air_base
					level = 7
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				250 = {
					is_owned_and_controlled_by = SOV
				}
			}
			250 = {
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				256 = {
					is_owned_and_controlled_by = SOV
				}
			}
			256 = {
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				587 = {
					is_owned_and_controlled_by = SOV
				}
			}
			587 = {
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				582 = {
					is_owned_and_controlled_by = SOV
				}
			}
			582 = {
				add_building_construction = {
					type = air_base
					level = 9
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				573 = {
					is_owned_and_controlled_by = SOV
				}
			}
			573 = {
				add_building_construction = {
					type = air_base
					level = 9
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				651 = {
					is_owned_and_controlled_by = SOV
				}
			}
			651 = {
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				404 = {
					is_owned_and_controlled_by = SOV
				}
			}
			404 = {
				add_building_construction = {
					type = air_base
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				398 = {
					is_owned_and_controlled_by = SOV
				}
			}
			398 = {
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				581 = {
					is_owned_and_controlled_by = SOV
				}
			}
			581 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				1029 = {
					is_owned_and_controlled_by = SOV
				}
			}
			1029 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				219 = {
					is_owned_and_controlled_by = SOV
				}
			}
			219 = {
				add_building_construction = {
					type = radar_station
					level = 4
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				249 = {
					is_owned_and_controlled_by = SOV
				}
			}
			249 = {
				add_building_construction = {
					type = radar_station
					level = 4
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				217 = {
					is_owned_and_controlled_by = SOV
				}
			}
			217 = {
				add_building_construction = {
					type = radar_station
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				195 = {
					is_owned_and_controlled_by = SOV
				}
			}
			195 = {
				add_building_construction = {
					type = radar_station
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				651 = {
					is_owned_and_controlled_by = SOV
				}
			}
			651 = {
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				876 = {
					is_owned_and_controlled_by = SOV
				}
			}
			876 = {
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				572 = {
					is_owned_and_controlled_by = SOV
				}
			}
			572 = {
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 8
					province = 9292
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				653 = {
					is_owned_and_controlled_by = SOV
				}
			}
			653 = {
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 8
					province = 1821
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				398 = {
					is_owned_and_controlled_by = SOV
				}
			}
			398 = {
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				407 = {
					is_owned_and_controlled_by = SOV
				}
			}
			407 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 11537
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				252 = {
					is_owned_and_controlled_by = SOV
				}
			}
			252 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 3245
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 7
					province = 11375
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				251 = {
					is_owned_and_controlled_by = SOV
				}
			}
			251 = {
				add_building_construction = {
					type = bunker
					level = 6
					province = 11225
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				255 = {
					is_owned_and_controlled_by = SOV
				}
			}
			255 = {
				add_building_construction = {
					type = bunker
					level = 6
					province = 9258
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				239 = {
					is_owned_and_controlled_by = SOV
				}
			}
			239 = {
				add_building_construction = {
					type = bunker
					level = 6
					province = 3578
					instant_build = yes
				}
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.237
	hidden = yes

	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		SOV = {
			annex_country = {
				target = GER
				transfer_troops = no
			}
		}
		release = POL
		POL = { transfer_state = 85 }
		POL = { transfer_state = 5 }
		POL = { transfer_state = 98 }
		POL = { transfer_state = 87 }
		POL = { transfer_state = 86 }
		POL = { transfer_state = 10 }
		POL = { transfer_state = 90 }
		POL = { transfer_state = 762 }
		POL = { transfer_state = 88 }
		POL = { transfer_state = 92 }
		POL = { transfer_state = 97 }
		POL = { transfer_state = 798 }
		POL = { transfer_state = 797 }
		POL = { transfer_state = 1000 }
		POL = { transfer_state = 1030 }
		POL = { transfer_state = 892 }
		POL = { transfer_state = 893 }
		POL = { transfer_state = 72 }
		POL = { transfer_state = 63 }
		POL = { transfer_state = 67 }
		POL = { transfer_state = 66 }
		POL = { transfer_state = 68 }
		POL = { transfer_state = 72 }
		POL = { transfer_state = 72 }
		SOV = { transfer_state = 95 }
		SOV = { transfer_state = 94 }
		SOV = { transfer_state = 93 }
		SOV = { transfer_state = 91 }
		SOV = { transfer_state = 89 }
		SOV = { transfer_state = 72 }
		SOV = { transfer_state = 784 }
		SOV = { transfer_state = 188 }
		SOV = { transfer_state = 763 }
		SOV = { transfer_state = 96 }
		if = {
			limit = {
				country_exists = RPO
			}
			POL = { annex_country = { target = RPO transfer_troops = no } }
		}
		POL = {
			set_politics = {
					ruling_party = communism
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
			}
			set_popularities = {
					democratic = 18
					fascism = 0
					communism = 72
					neutrality = 10
			}
			set_cosmetic_tag = POL_commie
		}
		SOV = {
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}
				set_autonomy = {
					target = POL
					autonomy_state = autonomy_puppet
				}
			}
			else = {
				puppet = POL
			}
		}

##########################################################################################################

		SOV = {
			annex_country = {
				target = LIT
				transfer_troops = no
			}
		}
		SOV = {
			annex_country = {
				target = LAT
				transfer_troops = no
			}
		}
		SOV = {
			annex_country = {
				target = EST
				transfer_troops = no
			}
		}
		SOV = {
			annex_country = {
				target = RBL
				transfer_troops = no
			}
		}

##########################################################################################################

		if = {
			limit = {
				NOT = { country_exists = CZE }
			}
			release = CZE
		}
		if = {
			limit = {
				country_exists = RCZ
			}
			CZE = { annex_country = { target = RCZ transfer_troops = no } }
		}
		if = {
			limit = {
				country_exists = SLO
			}
			SOV = { annex_country = { target = SLO transfer_troops = no } }
		}
		CZE = { transfer_state = 9 }
		CZE = { transfer_state = 69 }
		CZE = { transfer_state = 72 }
		CZE = { transfer_state = 75 }
		CZE = { transfer_state = 880 }
		CZE = { transfer_state = 881 }
		CZE = { transfer_state = 74 }
		CZE = { transfer_state = 664 }
		CZE = { transfer_state = 70 }
		CZE = { transfer_state = 71 }
		SOV = { transfer_state = 882 }
		SOV = { transfer_state = 4 }
		SOV = { transfer_state = 73 }
		CZE = {
			set_politics = {
					ruling_party = communism
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
			}
			set_popularities = {
					democratic = 18
					fascism = 0
					communism = 72
					neutrality = 10
			}
			set_cosmetic_tag = CZE_commie
		}
		SOV = {
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}
				set_autonomy = {
					target = CZE
					autonomy_state = autonomy_puppet
				}
			}
			else = {
				puppet = CZE
			}
		}

##########################################################################################################

		if = {
			limit = {
				NOT = { country_exists = HUN }
			}
			release = HUN
		}
		HUN = { transfer_state = 154 }
		HUN = { transfer_state = 43 }
		HUN = { transfer_state = 891 }
		HUN = { transfer_state = 890 }
		HUN = { transfer_state = 155 }
		HUN = {
			set_politics = {
					ruling_party = communism
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
			}
			set_popularities = {
					democratic = 18
					fascism = 0
					communism = 72
					neutrality = 10
			}
			set_cosmetic_tag = HUN_commie
		}
		SOV = {
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}
				set_autonomy = {
					target = HUN
					autonomy_state = autonomy_puppet
				}
			}
			else = {
				puppet = HUN
			}
		}

##########################################################################################################

		if = {
			limit = {
				NOT = { country_exists = ROM }
			}
			release = ROM
		}
		ROM = { transfer_state = 79 }
		ROM = { transfer_state = 899 }
		ROM = { transfer_state = 900 }
		ROM = { transfer_state = 46 }
		ROM = { transfer_state = 76 }
		ROM = { transfer_state = 81 }
		ROM = { transfer_state = 84 }
		ROM = { transfer_state = 83 }
		ROM = { transfer_state = 82 }
		ROM = { transfer_state = 77 }
		SOV = { transfer_state = 78 }
		SOV = { transfer_state = 766 }
		ROM = {
			set_politics = {
					ruling_party = communism
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
			}
			set_popularities = {
					democratic = 18
					fascism = 0
					communism = 72
					neutrality = 10
			}
			set_cosmetic_tag = ROM_commie
		}
		SOV = {
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}
				set_autonomy = {
					target = ROM
					autonomy_state = autonomy_puppet
				}
			}
			else = {
				puppet = ROM
			}
		}

##########################################################################################################

		if = {
			limit = {
				NOT = { country_exists = BUL }
			}
			release = BUL
		}
		BUL = { transfer_state = 211 }
		BUL = { transfer_state = 875 }
		BUL = { transfer_state = 212 }
		BUL = { transfer_state = 48 }
		BUL = { transfer_state = 905 }
		BUL = { remove_state_core = 77 }
		BUL = {
			set_politics = {
					ruling_party = communism
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
			}
			set_popularities = {
					democratic = 18
					fascism = 0
					communism = 72
					neutrality = 10
			}
			set_cosmetic_tag = BUL_commie
		}
		SOV = {
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}
				set_autonomy = {
					target = BUL
					autonomy_state = autonomy_puppet
				}
			}
			else = {
				puppet = BUL
			}
		}
		BUL = {
			set_cosmetic_tag = BUL_commie
		}

##########################################################################################################

		if = {
			limit = {
				NOT = { country_exists = YUG }
			}
			release = YUG
		}
		if = {
			limit = {
				country_exists = RSE
			}
			YUG = { annex_country = { target = RSE transfer_troops = no } }
		}
		if = {
			limit = {
				country_exists = CRO
			}
			YUG = { annex_country = { target = CRO transfer_troops = no } }
		}
		YUG = { transfer_state = 106 }
		YUG = { transfer_state = 849 }
		YUG = { transfer_state = 851 }
		YUG = { transfer_state = 850 }
		YUG = { transfer_state = 108 }
		YUG = { transfer_state = 105 }
		YUG = { transfer_state = 107 }
		YUG = { transfer_state = 104 }
		YUG = { transfer_state = 913 }
		YUG = { transfer_state = 103 }
		YUG = { transfer_state = 1022 }
		YUG = { transfer_state = 999 }
		YUG = { transfer_state = 764 }
		YUG = { transfer_state = 907 }
		YUG = { transfer_state = 45 }
		YUG = { transfer_state = 109 }
		YUG = { transfer_state = 908 }
		YUG = { transfer_state = 163 }
		YUG = { transfer_state = 736 }
		YUG = { transfer_state = 888 }
		YUG = { transfer_state = 102 }
		YUG = { transfer_state = 887 }
		YUG = { transfer_state = 886 }
		YUG = {
			set_politics = {
					ruling_party = communism
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
			}
			set_popularities = {
					democratic = 18
					fascism = 0
					communism = 72
					neutrality = 10
			}
			set_cosmetic_tag = YUG_commie
		}
		SOV = {
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}
				set_autonomy = {
					target = YUG
					autonomy_state = autonomy_puppet
				}
			}
			else = {
				puppet = YUG
			}
		}

##########################################################################################################

		if = {
			limit = {
				NOT = { country_exists = ALB }
			}
			release = ALB
		}
		ALB = { transfer_state = 44 }
		ALB = { transfer_state = 906 }
		ALB = {
			set_politics = {
					ruling_party = communism
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
			}
			set_popularities = {
				democratic = 18
				fascism = 0
				communism = 72
				neutrality = 10
			}
			promote_character = ALB_enver_hoxha
			set_cosmetic_tag = ALB_commie
		}
		SOV = {
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}
				set_autonomy = {
					target = ALB
					autonomy_state = autonomy_puppet
				}
			}
			else = {
				puppet = ALB
			}
		}

##########################################################################################################

		if = {
			limit = {
				NOT = { country_exists = GRE }
			}
			release = GRE
		}
		if = {
			limit = {
				country_exists = RGR
			}
			GRE = { annex_country = { target = RGR transfer_troops = no } }
		}
		GRE = { transfer_state = 184 }
		GRE = { transfer_state = 731 }
		GRE = { transfer_state = 185 }
		GRE = { transfer_state = 47 }
		GRE = { transfer_state = 186 }
		GRE = { transfer_state = 187 }
		GRE = { transfer_state = 164 }
		GRE = { transfer_state = 182 }
		GRE = {
			set_politics = {
					ruling_party = democratic
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
			}
			set_popularities = {
					democratic = 90
					communism = 10
			}
		}

##########################################################################################################

        if = {
            limit = {
                NOT = { country_exists = NOR }
            }
            release = NOR
        }
		if = {
            limit = {
            	country_exists = RNO
            }
            NOR = { annex_country = { target = RNO transfer_troops = no } }
        }
		NOR = {
			transfer_state = 110
			transfer_state = 142
			transfer_state = 143
			transfer_state = 144
			transfer_state = 878
			transfer_state = 1017
			transfer_state = 1018
			transfer_state = 1019
			transfer_state = 1020
	        set_politics = {
				ruling_party = democratic
			}
	        set_popularities = {
				democratic = 80
				communism = 20
			}
		}

##########################################################################################################

        if = {
            limit = {
                NOT = { country_exists = SWE }
            }
            release = SWE
        }
		if = {
            limit = {
            	country_exists = RSW
            }
            SWE = { annex_country = { target = RSW transfer_troops = no } }
        }
        SWE = { transfer_state = 124 }
        SWE = { transfer_state = 138 }
        SWE = { transfer_state = 139 }
        SWE = { transfer_state = 140 }
        SWE = { transfer_state = 141 }
		SWE = { transfer_state = 38 }
        SWE = { transfer_state = 666 }
        SWE = {
	        set_politics = {
				ruling_party = democratic
			}
	        set_popularities = {
				democratic = 75
				communism = 25
			}
		}

##########################################################################################################

		SOV = { transfer_state = 65 }
        SOV = { transfer_state = 60 }
        SOV = { transfer_state = 802 }
        SOV = { transfer_state = 64 }
        SOV = { transfer_state = 996 }
        SOV = { transfer_state = 810 }
		SOV = { transfer_state = 62 }
        SOV = { transfer_state = 61 }
		SOV = { transfer_state = 968 }
        SOV = { transfer_state = 11 }
        SOV = { transfer_state = 188 }
        SOV = { transfer_state = 189 }
        SOV = { transfer_state = 969 }
		SOV = { transfer_state = 96 }
        SOV = { transfer_state = 784 }
		SOV = { transfer_state = 190 }
        SOV = { transfer_state = 965 }
        SOV = { transfer_state = 967 }
        SOV = { transfer_state = 966 }
		SOV = { transfer_state = 12 }
        SOV = { transfer_state = 191 }
		SOV = { transfer_state = 963 }
        SOV = { transfer_state = 962 }
		SOV = { transfer_state = 964 }
        SOV = { transfer_state = 13 }
        SOV = { transfer_state = 964 }
		USA = { transfer_state = 804 }
		USA = { transfer_state = 152 }
		USA = { transfer_state = 52 }
		USA = { transfer_state = 53 }
		USA = { transfer_state = 54 }
		USA = { transfer_state = 55 }
		USA = { transfer_state = 804 }
		USA = { transfer_state = 804 }
		USA = { transfer_state = 804 }
		USA = { transfer_state = 804 }
		ENG = { transfer_state = 852 }
		ENG = { transfer_state = 997 }
		ENG = { transfer_state = 998 }
		ENG = { transfer_state = 853 }
		ENG = { transfer_state = 799 }
		ENG = { transfer_state = 51 }
		ENG = { transfer_state = 57 }
		ENG = { transfer_state = 56 }
		ENG = { transfer_state = 59 }
		ENG = { transfer_state = 803 }
		ENG = { transfer_state = 58 }
		FRA = { transfer_state = 153 }
		FRA = { transfer_state = 50 }
		FRA = { transfer_state = 801 }
		FRA = { transfer_state = 42 }
		FRA = { transfer_state = 800 }
		FRA = { transfer_state = 28 }
		FRA = { transfer_state = 543 }
		FRA = { transfer_state = 680 }
		FRA = { transfer_state = 677 }
		FRA = { transfer_state = 554 }
		FRA = { transfer_state = 553 }
		FRA = { transfer_state = 459 }
		FRA = { transfer_state = 461 }
		FRA = { transfer_state = 665 }
		FRA = { transfer_state = 458 }
		FRA = { transfer_state = 462 }
		FRA = { transfer_state = 513 }
		FRA = { transfer_state = 460 }
		FRA = { transfer_state = 514 }
		FRA = { transfer_state = 515 }
		FRA = { transfer_state = 782 }
		FRA = { transfer_state = 786 }
		FRA = { transfer_state = 781 }
		FRA = { transfer_state = 556 }
		FRA = { transfer_state = 557 }
		FRA = { transfer_state = 778 }
		FRA = { transfer_state = 776 }
		FRA = { transfer_state = 777 }
		FRA = { transfer_state = 779 }
		FRA = { transfer_state = 780 }
		FRA = { transfer_state = 272 }
		FRA = { transfer_state = 780 }
		FRA = { transfer_state = 539 }
		FRA = { transfer_state = 775 }
		UKT = {
			transfer_state = 559
			transfer_state = 268
			transfer_state = 269
			transfer_state = 550
			set_state_controller = 559
			set_state_controller = 268
			set_state_controller = 269
			set_state_controller = 550
		}
		if = {
            limit = {
                NOT = { country_exists = FRA }
            }
            release = FRA
        }
		every_state = {
			limit = {
				is_core_of = FRA
			}
			transfer_state_to = FRA
		}
		every_state = {
			limit = {
				is_core_of = LBA
			}
			transfer_state_to = ENG
		}

##########################################################################################################

        if = {
            limit = {
                NOT = { country_exists = SWI }
            }
            release = SWI
        }
		if = {
            limit = {
            	country_exists = RSI
            }
            SWI = { annex_country = { target = RSI transfer_troops = no } }
        }
        SWI = { transfer_state = 3 }
        SWI = { transfer_state = 911 }
        SWI = { transfer_state = 912 }
        SWI = { transfer_state = 151 }
        SWI = {
	        set_politics = {
				ruling_party = democratic
			}
	        set_popularities = {
				democratic = 100
			}
		}

##########################################################################################################

        if = {
            limit = {
                NOT = { country_exists = DEN }
            }
            release = DEN
        }
		if = {
            limit = {
            	country_exists = RDE
            }
            DEN = { annex_country = { target = RDE transfer_troops = no } }
        }
        DEN = { transfer_state = 37 }
        DEN = { transfer_state = 99 }
        DEN = { transfer_state = 871 }
        DEN = { transfer_state = 100 }
        DEN = { transfer_state = 101 }
        DEN = { transfer_state = 791 }
        DEN = { transfer_state = 873 }
        DEN = { transfer_state = 874 }
        DEN = { transfer_state = 337 }
        DEN = { transfer_state = 957 }
		DEN = {
	        set_politics = {
				ruling_party = democratic
			}
	        set_popularities = {
				democratic = 87
				communism = 13
			}
			leave_faction = yes
		}

##########################################################################################################

        if = {
            limit = {
                NOT = { country_exists = LUX }
            }
            release = LUX
        }
        LUX = { transfer_state = 8 }
        LUX = {
	        set_politics = {
				ruling_party = democratic
			}
	        set_popularities = {
				democratic = 90
				communism = 10
			}
		}

##########################################################################################################

        if = {
            limit = {
                NOT = { country_exists = BEL }
            }
            release = BEL
        }
        BEL = { transfer_state = 6 }
        BEL = { transfer_state = 34 }
        BEL = { transfer_state = 790 }
		BEL = { transfer_state = 979 }
		BEL = { transfer_state = 985 }
        if = {
            limit = {
            	country_exists = RBE
            }
            BEL = { annex_country = { target = RBE transfer_troops = no } }
			BEL = { transfer_state = 6 }
			BEL = { transfer_state = 34 }
			BEL = { transfer_state = 790 }
			BEL = { transfer_state = 979 }
			BEL = { transfer_state = 985 }
        }
        if = {
            limit = {
            	country_exists = BEC
            }
	        BEC = { transfer_state = 295 }
	        BEC = { transfer_state = 538 }
        	BEC = { transfer_state = 718 }
        	BEC = { transfer_state = 769 }
        }
        if = {
            limit = {
            	NOT = { country_exists = BEC }
            }
	        BEL = { transfer_state = 295 }
	        BEL = { transfer_state = 538 }
        	BEL = { transfer_state = 718 }
        	BEL = { transfer_state = 769 }
        }
        BEL = {
	        set_politics = {
				ruling_party = democratic
			}
	        set_popularities = {
				democratic = 80
				communism = 20
			}
		}

##########################################################################################################

        if = {
            limit = {
                NOT = { country_exists = HOL }
            }
            release = HOL
        }
        HOL = { transfer_state = 7 }
        HOL = { transfer_state = 35 }
        HOL = { transfer_state = 36 }
        HOL = { transfer_state = 309 }
        HOL = { transfer_state = 695 }
        if = {
            limit = {
            	country_exists = RHO
            }
            HOL = { annex_country = { target = RHO transfer_troops = no } }
        }
        HOL = {
	        set_politics = {
				ruling_party = democratic
			}
	        set_popularities = {
				democratic = 85
				communism = 15
			}
		}

##########################################################################################################

		if = {
            limit = {
                country_exists = ITA
            }
            ITA = { transfer_state = 856 }
            ITA = { transfer_state = 2 }
	        ITA = { transfer_state = 39 }
	        ITA = { transfer_state = 114 }
	        ITA = { transfer_state = 115 }
	        ITA = { transfer_state = 117 }
	        ITA = { transfer_state = 986 }
	        ITA = { transfer_state = 156 }
	        ITA = { transfer_state = 157 }
	        ITA = { transfer_state = 158 }
	        ITA = { transfer_state = 159 }
	        ITA = { transfer_state = 160 }
	        ITA = { transfer_state = 161 }
	        ITA = { transfer_state = 162 }
	        ITA = { transfer_state = 885 }
	        ITA = {
		        set_politics = {
					ruling_party = democratic
				}
		        set_popularities = {
					democratic = 70
					communism = 30
				}
				leave_faction = yes
			}
        }

        else_if = {
            limit = {
                NOT = { country_exists = ITA }
            }
            release = ITA
            ITA = { transfer_state = 856 }
            ITA = { transfer_state = 2 }
	        ITA = { transfer_state = 39 }
	        ITA = { transfer_state = 114 }
	        ITA = { transfer_state = 115 }
			ITA = { transfer_state = 986 }
	        ITA = { transfer_state = 117 }
	        ITA = { transfer_state = 156 }
	        ITA = { transfer_state = 157 }
	        ITA = { transfer_state = 158 }
	        ITA = { transfer_state = 159 }
	        ITA = { transfer_state = 160 }
	        ITA = { transfer_state = 161 }
	        ITA = { transfer_state = 162 }
	        ITA = { transfer_state = 885 }
            ITA = {
		        set_politics = {
					ruling_party = democratic
				}
		        set_popularities = {
					democratic = 70
					communism = 30
				}
				leave_faction = yes
			}
        }

        if = {
            limit = {
            	country_exists = RIT
            }
            ITA = { annex_country = { target = RIT transfer_troops = no } }
        }

##########################################################################################################

		every_state = {
			limit = {
				is_core_of = SPR
			}
			transfer_state_to = SPR
		}

		every_state = {
			limit = {
				is_core_of = BEL
			}
			transfer_state_to = BEL
		}

		every_state = {
			limit = {
				is_core_of = TUR
			}
			transfer_state_to = TUR
		}

		SPR = {
			leave_faction = yes
		}

##########################################################################################################

		SOV = {
			remove_wargoal = {
				type = all
				target = ITA
			}
		}
		ENG = {
			remove_wargoal = {
				type = all
				target = BUL
			}
		}
		ENG = {
			remove_wargoal = {
				type = all
				target = D05
			}
		}
		ENG = {
			remove_wargoal = {
				type = all
				target = D06
			}
		}
		ENG = {
			remove_wargoal = {
				type = all
				target = SOV
			}
		}
		ITA = {
			remove_wargoal = {
				type = all
				target = YUG
			}
		}
		YUG = {
			remove_wargoal = {
				type = all
				target = ITA
			}
		}
		ITA = {
			remove_wargoal = {
				type = all
				target = SOV
			}
		}
		ITA = {
			remove_state_claim = 886
			remove_state_claim = 736
			remove_state_claim = 102
			remove_state_claim = 44
			remove_state_claim = 906
			remove_state_claim = 908
			remove_state_core = 886
			remove_state_core = 736
		}
		RIT = {
			remove_state_claim = 886
			remove_state_claim = 736
			remove_state_core = 886
			remove_state_core = 736
		}
		BUL = {
			remove_state_claim = 106
			remove_state_claim = 77
			remove_state_claim = 851
			remove_state_claim = 184
			remove_state_claim = 731
			remove_state_core = 106
			remove_state_core = 184
			remove_state_core = 731
		}

##########################################################################################################

		if = {
            limit = {
                NOT = { country_exists = ETH }
            }
            release = ETH
            ETH = { transfer_state = 910 }
            ETH = { transfer_state = 271 }
	        ETH = { transfer_state = 909 }
            ETH = {
		        set_politics = {
					ruling_party = neutrality
				}
		        set_popularities = {
					democratic = 10
					communism = 5
					neutrality = 85
				}
				leave_faction = yes
			}
        }
		ETH = {
		    set_politics = {
				ruling_party = neutrality
			}
		    set_popularities = {
				democratic = 10
				communism = 5
				neutrality = 85
			}
			leave_faction = yes
		}

##########################################################################################################

		if = {
            limit = {
                NOT = { country_exists = PER }
            }
            release = PER
            PER = { transfer_state = 420 }
            PER = { transfer_state = 419 }
	        PER = { transfer_state = 421 }
			PER = { transfer_state = 413 }
            PER = { transfer_state = 416 }
	        PER = { transfer_state = 418 }
			PER = { transfer_state = 266 }
            PER = { transfer_state = 417 }
	        PER = { transfer_state = 411 }
			PER = { transfer_state = 412 }
			PER = { transfer_state = 414 }
            PER = { transfer_state = 410 }
        }
		if = {
            limit = {
            	country_exists = RPE
            }
            PER = { annex_country = { target = RPE transfer_troops = no } }
        }

##########################################################################################################

		POR = {
			leave_faction = yes
		}
		USA = {
			add_to_faction = DEN
			add_to_faction = NOR
			add_to_faction = BEL
			add_to_faction = HOL
			add_to_faction = LUX
			add_to_faction = ITA
			add_to_faction = POR
			add_to_faction = ETH
		}
		DEN = {
			drop_cosmetic_tag = yes
		}
		804 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 13245
					id = 13246
					id = 13247
				}
			}
		}
		810 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 13244
					id = 6521
				}
			}
		}
		55 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 13323
					id = 6488
				}
			}
		}
		801 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 13233
				}
			}
		}
		803 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 9347
				}
			}
		}
		763 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 6332
				}
			}
		}
		52 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 13301
					id = 13242
					id = 692
				}
			}
		}
		66 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 9570
				}
			}
		}
		63 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 6282
				}
			}
		}
		57 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 495
				}
			}
		}
		799 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 6469
				}
			}
		}
		51 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 587
				}
			}
		}
		65 = {
			remove_province_modifier = {
				static_modifiers = { volkssturm_battalions }
				province = {
					id = 514
					id = 13517
					id = 3535
				}
			}
		}
		USA = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		SOV = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		GER = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		ENG = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		FRA = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		YUG = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		HUN = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		SPR = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		POR = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		ROM = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		BUL = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		ITA = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		FIN = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		CAN = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		RAJ = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		IRQ = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		ALB = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		BEL = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		HOL = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		DEN = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		TUR = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		POL = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		CZE = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		PER = {
			if = {
				limit = {
					is_ai = yes
				}
				set_rule = { can_not_declare_war = yes }
			}
			add_timed_idea = { idea = aftermath_of_ww2  days = 720 }
		}
		every_state = {
			limit = {
				is_core_of = ITA
			}
			clr_state_flag = GER_fall_achse_flag
		}
		GER = {
			clr_country_flag = GER_fall_achse_prepared
		}
		set_global_flag = ww2_has_ended
	}
}

country_event = {
	id = sov_armor.930
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1938.3.1
		is_subject = no
	}

	immediate = {
		#set_technology = { sov_mechanized_aa_1 = 1 }
	}

	option = {}

}

country_event = {
	id = sov_armor.931
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1940.1.1
	}

	immediate = {
		set_technology = { fighter_baiting = 1 }
		set_technology = { concentrated_formations = 1 }
		set_technology = { formation_flying = 1 }
		set_technology = { multialtitude_flying = 1 }
		set_technology = { fighter_escorts = 1 }
		add_ideas = battlefield_utility_spirit
		253 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 8
		 			instant_build = yes
				}
		 	}
		}
		build_railway = {
			path = { 9082 60 3160 11103 6034 6075 72 }
		}
		build_railway = {
			path = { 9190 11153 11150 }
		}
		216 = {
			add_building_construction = {
				type = naval_base
				level = 2
				province = 11150
				instant_build = yes
			}
		}
		254 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
				}
				add_building_construction = {
		 			type = air_base
		 			level = 5
		 			instant_build = yes
		 		}
		 	}
		}
		239 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 3
		 			instant_build = yes
		 		}
		 	}
		}
		264 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 8
		 			instant_build = yes
		 		}
		 	}
		}
		247 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 6
		 			instant_build = yes
		 		}
		 	}
		}
		217 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 6
		 			instant_build = yes
		 		}
			}
		}
		236 = {
		 	if = {
		 		limit = {
					is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 6
		 			instant_build = yes
		 		}
		 	}
		}
		401 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 3
		 			instant_build = yes
				}
		 	}
		}
		236 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 2
		 			instant_build = yes
				}
		 	}
		}
		249 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 7
		 			instant_build = yes
				}
		 	}
		}
		252 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 7
		 			instant_build = yes
				}
		 	}
		}
		399 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 3
		 			instant_build = yes
				}
		 	}
		}
		251 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 6
		 			instant_build = yes
				}
		 	}
		}
		230 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 6
		 			instant_build = yes
				}
		 	}
		}
		244 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 2
		 			instant_build = yes
				}
		 	}
		}
		407 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 5
		 			instant_build = yes
				}
		 	}
		}
		if = {
			limit = {
				NOT = {
					has_tech = creeping_barrages
				}
			}
			set_technology = { creeping_barrages = 1 }
			set_technology = { box_barrages = 0 }
			#set_technology = { integrated_support = 1 }
			#set_technology = { creeping_barrages = 0 }
			#set_technology = { direct_fire = 0 }
		}
		if = {
			limit = {
				NOT = {
					has_tech = defense_in_depth
					has_completed_focus = SOV_approach_tukhachevsky
				}
			}
			set_technology = { defense_in_depth = 1 }
		}
		if = {
			limit = {
				NOT = {
					has_tech = c3i
				}
			}
			set_technology = { c3i = 1 }
		}
		if = {
			limit = {
				NOT = {
					has_tech = tank_logistics
					has_completed_focus = SOV_approach_tukhachevsky
				}
			}
			set_technology = { tank_logistics = 1 }
		}
		add_ideas = operational_reserve_spirit
		set_technology = { ai_bunker = 1 }
		if = {
			limit = {
				227 = {
					is_owned_and_controlled_by = SOV
				}
			}
			227 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				200 = {
					is_owned_and_controlled_by = SOV
				}
			}
			200 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				226 = {
					is_owned_and_controlled_by = SOV
				}
			}
			226 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				259 = {
					is_owned_and_controlled_by = SOV
				}
			}
			259 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				193 = {
					is_owned_and_controlled_by = SOV
				}
			}
			193 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				241 = {
					is_owned_and_controlled_by = SOV
				}
			}
			241 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				208 = {
					is_owned_and_controlled_by = SOV
				}
			}
			208 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				210 = {
					is_owned_and_controlled_by = SOV
				}
			}
			210 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				137 = {
					is_owned_and_controlled_by = SOV
				}
			}
			137 = {
				add_building_construction = {
					type = bunker
					level = 5
					province = 3722
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				219 = {
					is_owned_and_controlled_by = SOV
				}
			}
			219 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				201 = {
					is_owned_and_controlled_by = SOV
				}
			}
			201 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				207 = {
					is_owned_and_controlled_by = SOV
				}
			}
			207 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				197 = {
					is_owned_and_controlled_by = SOV
				}
			}
			197 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				217 = {
					is_owned_and_controlled_by = SOV
				}
			}
			217 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				218 = {
					is_owned_and_controlled_by = SOV
				}
			}
			218 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					province = 13597
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				236 = {
					is_owned_and_controlled_by = SOV
				}
			}
			236 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				192 = {
					is_owned_and_controlled_by = SOV
				}
			}
			192 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				203 = {
					is_owned_and_controlled_by = SOV
				}
			}
			203 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				202 = {
					is_owned_and_controlled_by = SOV
				}
			}
			202 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				96 = {
					is_owned_and_controlled_by = SOV
				}
			}
			96 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				95 = {
					is_owned_and_controlled_by = SOV
				}
			}
			95 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				93 = {
					is_owned_and_controlled_by = SOV
				}
			}
			93 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				967 = {
					is_owned_and_controlled_by = SOV
				}
			}
			967 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				966 = {
					is_owned_and_controlled_by = SOV
				}
			}
			966 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				204 = {
					is_owned_and_controlled_by = SOV
				}
			}
			204 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				94 = {
					is_owned_and_controlled_by = SOV
				}
			}
			94 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				194 = {
					is_owned_and_controlled_by = SOV
				}
			}
			194 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				199 = {
					is_owned_and_controlled_by = SOV
				}
			}
			199 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				11 = {
					is_owned_and_controlled_by = SOV
				}
			}
			11 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				784 = {
					is_owned_and_controlled_by = SOV
				}
			}
			784 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				206 = {
					is_owned_and_controlled_by = SOV
				}
			}
			206 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				226 = {
					is_owned_and_controlled_by = SOV
				}
			}
			226 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				12 = {
					is_owned_and_controlled_by = SOV
				}
			}
			12 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				198 = {
					is_owned_and_controlled_by = SOV
				}
			}
			198 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				965 = {
					is_owned_and_controlled_by = SOV
				}
			}
			965 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
	}
}

############################################Alt history stuff

country_event = {
	id = sov_armor.932
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		FRA = {
			is_ai = yes
		}
		ENG = {
			has_completed_focus = ENG_a_change_in_course
		}
		has_war_with = FRA
		has_war_with = POL
		date < 1940.1.1
	}

	immediate = {
		white_peace = {
			tag = FRA
		}
	}
}

country_event = {
	id = sov_armor.933
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_global_flag = SOV_soviet_civil_war_over
		has_completed_focus = SOV_approach_tukhachevsky
	}

	immediate = {
		SOS = {
			every_unit_leader = {
				set_nationality = SOV
			}
		}
		SOV_georgy_zhukov = {
			set_nationality = SOV
		}
		SOV_georgy_zhukov_ai = {
			promote_leader = yes
		}
		SOV_konstantin_rokossovsky_ai = {
			promote_leader = yes
		}
		set_technology = { large_front_operations = 0 }
		set_technology = { advanced_squad_tactics = 1 }
		set_technology = { frontal_tanks = 0 }
		set_technology = { tank_logistics = 0 }
		set_technology = { combined_warfare = 1 }
	}
}

country_event = {
	id = sov_armor.934
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_global_flag = SOV_soviet_civil_war_over
		has_completed_focus = SOV_approach_tukhachevsky
		date > 1939.10.1
	}

	immediate = {
		set_technology = { armoured_waves = 1 }
		army_experience = 300
		add_war_support = 0.5
		activate_advisor = georgy_zhukov
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
	}
}