add_namespace = ita_armor

country_event = {
	id = ita_armor.602
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = ITA
		is_ai = yes
		date > 1940.1.1
		NOT = { date > 1940.6.1 }
		is_subject = no
		has_war = no
	}

	immediate = {
		create_equipment_variant = {
			name = "Conti di Cavour Class."
			type = ita_battleship_hull_1
			name_group = ITA_BB_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_engine_slot = ita_semi_large_ship_engine_3
				fixed_ship_fire_control_system_slot = ship_fire_control_system_2
				fixed_ship_radar_slot = ship_radar_2
				fixed_ship_armor_slot = ship_armor_250_40
				ship_battery_slot_1 = ita_ship_heavy_battery_2_x3
				ship_battery_slot_2 = ita_ship_heavy_battery_2_x3
				ship_battery_slot_3 = ita_ship_heavy_battery_2_x2
				ship_battery_slot_4 = ita_ship_heavy_battery_2_x2
				ship_secondaries_slot_1 = ita_ship_semi_medium_casemate_secondaries_6_6x1
				ship_secondaries_slot_2 = ita_ship_semi_medium_casemate_secondaries_6_6x1
				ship_secondaries_slot_3 = ita_ship_semi_medium_casemate_secondaries_6_6x1
				ship_secondaries_slot_4 = ita_ship_semi_medium_casemate_secondaries_6_2x1
				ship_secondaries_slot_5 = ita_ship_light_secondaries_6_2x2
				ship_anti_air_slot_1 = ita_ship_anti_air_1_6x2
				ship_anti_air_slot_2 = ita_ship_large_anti_air_3_6x2
			}
		}
		create_equipment_variant = {
			name = "Andrea Doria Class."
			type = ita_battleship_hull_2
			name_group = ITA_BB_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_engine_slot = ita_semi_large_ship_engine_2
				fixed_ship_fire_control_system_slot = ship_fire_control_system_2
				fixed_ship_radar_slot = ship_radar_2
				fixed_ship_armor_slot = ship_armor_250_100
				ship_battery_slot_1 = ita_ship_heavy_battery_2_x3
				ship_battery_slot_2 = ita_ship_heavy_battery_2_x3
				ship_battery_slot_3 = ita_ship_heavy_battery_2_x2
				ship_battery_slot_4 = ita_ship_heavy_battery_2_x2
				ship_secondaries_slot_1 = ita_ship_medium_secondaries_8_4x3
				ship_secondaries_slot_2 = ita_ship_light_secondaries_3_6x1
				ship_secondaries_slot_3 = ita_ship_light_secondaries_3_4x1
				ship_anti_air_slot_1 = ita_ship_anti_air_2_4x2
				ship_anti_air_slot_2 = ita_ship_anti_air_2_4x2
				ship_anti_air_slot_3 = ita_ship_large_anti_air_3_4x1
				ship_anti_air_slot_4 = ita_ship_large_anti_air_3_6x2
				airplane_catapult_slot_1 = ship_airplane_launcher_1
			}
		}
		create_equipment_variant = {
			name = "Littorio Class."
			type = ita_battleship_hull_3
			name_group = ITA_BB_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_engine_slot = ita_large_ship_engine_2
				fixed_ship_fire_control_system_slot = ship_fire_control_system_2
				fixed_ship_radar_slot = ship_radar_2
				fixed_ship_armor_slot = ship_armor_370_140
				ship_battery_slot_1 = ita_ship_super_heavy_battery_3_x3
				ship_battery_slot_2 = ita_ship_super_heavy_battery_3_x3
				ship_battery_slot_3 = ita_ship_super_heavy_battery_3_x3
				ship_secondaries_slot_1 = ita_ship_medium_secondaries_9_4x3
				ship_secondaries_slot_2 = ita_ship_light_secondaries_3_6x1
				ship_secondaries_slot_3 = ita_ship_light_secondaries_3_6x1
				ship_anti_air_slot_1 = ita_ship_anti_air_2_6x2
				ship_anti_air_slot_2 = ita_ship_anti_air_2_6x2
				ship_anti_air_slot_3 = ita_ship_anti_air_2_4x2
				ship_anti_air_slot_4 = ita_ship_large_anti_air_3_4x2
				ship_anti_air_slot_5 = ita_ship_large_anti_air_3_4x2
				airplane_catapult_slot_1 = ship_airplane_launcher_1
			}
		}
		create_equipment_variant = {
			name = "San Giorgio Class."
			type = ita_heavy_cruiser_hull_1
			name_group = ITA_CA_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_engine_slot = ita_medium_ship_engine_2
				fixed_ship_fire_control_system_slot = ship_fire_control_system_2
				fixed_ship_radar_slot = ship_radar_2
				fixed_ship_armor_slot = ship_armor_200_50
				ship_battery_slot_1 = ita_ship_semi_heavy_battery_1_x2
				ship_battery_slot_2 = ita_ship_semi_heavy_battery_1_x2
				ship_secondaries_slot_1 = ita_ship_medium_secondaries_1_4x2
				ship_secondaries_slot_2 = ita_ship_light_casemate_secondaries_2_6x1
				ship_secondaries_slot_3 = ita_ship_light_casemate_secondaries_2_4x1
				ship_secondaries_slot_4 = ita_ship_light_secondaries_2_4x1
				ship_secondaries_slot_5 = ita_ship_light_secondaries_2_4x1
				ship_anti_air_slot_1 = ita_ship_anti_air_1_10x1
				torpedo_slot_1 = ita_ship_side_torpedo_3_2x1
				torpedo_slot_2 = ita_ship_side_torpedo_3_1x1
			}
		}
		create_equipment_variant = {
			name = "Trento Class."
			type = ita_heavy_cruiser_hull_2
			name_group = ITA_CA_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_engine_slot = ita_medium_ship_engine_3
				fixed_ship_fire_control_system_slot = ship_fire_control_system_2
				fixed_ship_radar_slot = ship_radar_2
				fixed_ship_armor_slot = ship_armor_70_50
				ship_battery_slot_1 = ita_ship_medium_battery_2_x2
				ship_battery_slot_2 = ita_ship_medium_battery_2_x2
				ship_battery_slot_3 = ita_ship_medium_battery_2_x2
				ship_battery_slot_4 = ita_ship_medium_battery_2_x2
				ship_secondaries_slot_1 = ita_ship_light_secondaries_6_6x2
				ship_anti_air_slot_1 = ita_ship_anti_air_2_4x2
				ship_anti_air_slot_2 = ita_ship_anti_air_2_6x2
				ship_anti_air_slot_3 = ita_ship_large_anti_air_3_4x2
				torpedo_slot_1 = ita_ship_side_torpedo_3_2x2
				torpedo_slot_2 = ita_ship_side_torpedo_3_2x2
			}
		}
		create_equipment_variant = {
			name = "Zara Class."
			type = ita_heavy_cruiser_hull_3
			name_group = ITA_CA_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_engine_slot = ita_medium_ship_engine_4
				fixed_ship_fire_control_system_slot = ship_fire_control_system_2
				fixed_ship_radar_slot = ship_radar_2
				fixed_ship_armor_slot = ship_armor_150_70
				ship_battery_slot_1 = ita_ship_medium_battery_3_x2
				ship_battery_slot_2 = ita_ship_medium_battery_3_x2
				ship_battery_slot_3 = ita_ship_medium_battery_3_x2
				ship_battery_slot_4 = ita_ship_medium_battery_3_x2
				ship_secondaries_slot_1 = ita_ship_light_secondaries_6_6x2
				ship_anti_air_slot_1 = ita_ship_anti_air_1_10x1
				ship_anti_air_slot_2 = ita_ship_anti_air_2_4x2
				ship_anti_air_slot_3 = ita_ship_large_anti_air_3_6x2
				#torpedo_slot_1 = ita_ship_torpedo_1_2x3
				airplane_catapult_slot_1 = ship_airplane_launcher_1
			}
		}
		create_equipment_variant = {
			name = "Bolzano Class."
			type = ita_heavy_cruiser_hull_4
			name_group = ITA_CA_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_engine_slot = ita_medium_ship_engine_4
				fixed_ship_fire_control_system_slot = ship_fire_control_system_2
				fixed_ship_radar_slot = ship_radar_2
				fixed_ship_armor_slot = ship_armor_150_70
				ship_battery_slot_1 = ita_ship_medium_battery_3_x2
				ship_battery_slot_2 = ita_ship_medium_battery_3_x2
				ship_battery_slot_3 = ita_ship_medium_battery_3_x2
				ship_battery_slot_4 = ita_ship_medium_battery_3_x2
				ship_secondaries_slot_1 = ita_ship_light_secondaries_6_4x2
				ship_secondaries_slot_2 = ita_ship_light_secondaries_6_4x2
				ship_anti_air_slot_1 = ita_ship_anti_air_1_10x1
				ship_anti_air_slot_2 = ita_ship_large_anti_air_3_4x1
				ship_anti_air_slot_3 = ita_ship_large_anti_air_3_4x2
				torpedo_slot_1 = ita_ship_side_torpedo_3_2x4
				airplane_catapult_slot_1 = ship_airplane_launcher_1
			}
		}
		destroy_ships = {
			type = ship_hull_heavy_cruiser
			count = all
		}
		destroy_ships = {
			type = ship_hull_heavy
			count = all
		}
		destroy_ships = {
			type = ship_hull_heavy_battleship
			count = all
		}
		set_country_flag = ITA_fleet_refit_flag
	}

	option = {}
}

country_event = {
	id = ita_armor.904
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = ITA
		is_ai = yes
		date > 1937.1.1
		has_country_flag = ethiopian_rebels_amhara
		has_country_flag = ethiopian_rebels_oromia
		has_country_flag = ethiopian_rebels_somali
	}

	immediate = {
		clr_country_flag = ethiopian_rebels_amhara
		clr_country_flag = ethiopian_rebels_oromia
		clr_country_flag = ethiopian_rebels_somali
	}

	option = {}

}

country_event = {
	id = ita_armor.907
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = ITA
		is_ai = yes
		is_subject = no
		#date > 1939.1.1
		OR = {
			451 = { is_controlled_by = ITA }
			451 = { is_controlled_by = ITL }
		}
		OR = {
			450 = { is_controlled_by = ITA }
			450 = { is_controlled_by = ITL }
		}
		OR = {
			449 = { is_controlled_by = ITA }
			449 = { is_controlled_by = ITL }
		}
		OR = {
			448 = { is_controlled_by = ITA }
			448 = { is_controlled_by = ITL }
		}
	}

	immediate = {
		build_railway = {
			path = { 9980 1118 1041 4047 10046 10117 12088 4057 1198 1127 4120 13509 }
		}
	}

	option = {}

}

country_event = {
	id = ita_armor.909
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = ITA
		is_ai = yes
		is_subject = no
		156 = { is_fully_controlled_by = ITA }
		115 = { is_fully_controlled_by = ITA }
	}

	immediate = {
		build_railway = {
			level = 2
			path = { 9990 4159 }
		}
	}

	option = {}

}

country_event = {
	id = ita_armor.910
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = ITA
		is_ai = yes
		NOT = { has_country_flag = adequate_army }
		NOT = { has_country_flag = ITA_army_reform_1 }
		NOT = { has_country_flag = ITA_army_reform_2 }
		NOT = { has_country_flag = ITA_army_reform_3 }
		date > 1938.1.1
	}

	immediate = {
		set_country_flag = ITA_army_reform_1
		add_to_variable = { ITA_inadequate_army_army_org_factor = 0.05 }
		add_to_variable = { ITA_inadequate_army_army_morale_factor = 0.05 }
		add_to_variable = { ITA_inadequate_army_training_time_factor = -0.1 }
		add_to_variable = { ITA_inadequate_army_planning_speed = 0.2 }
		add_to_variable = { ITA_inadequate_army_max_planning = 0.2 }
	}

	option = {}

}

country_event = {
	id = ita_armor.911
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = ITA
		is_ai = yes
		NOT = { has_country_flag = adequate_army }
		has_country_flag = ITA_army_reform_1
		NOT = { has_country_flag = ITA_army_reform_2 }
		NOT = { has_country_flag = ITA_army_reform_3 }
		date > 1939.1.1
	}

	immediate = {
		clr_country_flag = ITA_army_reform_1
		set_country_flag = ITA_army_reform_2
		add_to_variable = { ITA_inadequate_army_army_org_factor = 0.05 }
		add_to_variable = { ITA_inadequate_army_army_morale_factor = 0.05 }
		add_to_variable = { ITA_inadequate_army_training_time_factor = -0.1 }
		add_to_variable = { ITA_inadequate_army_planning_speed = 0.2 }
		add_to_variable = { ITA_inadequate_army_max_planning = 0.2 }
	}

	option = {}

}

country_event = {
	id = ita_armor.912
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = ITA
		is_ai = yes
		NOT = { has_country_flag = adequate_army }
		NOT = { has_country_flag = ITA_army_reform_1 }
		has_country_flag = ITA_army_reform_2
		NOT = { has_country_flag = ITA_army_reform_3 }
		date > 1941.1.1
	}

	immediate = {
		clr_country_flag = ITA_army_reform_2
		set_country_flag = ITA_army_reform_3
		add_to_variable = { ITA_inadequate_army_army_org_factor = 0.05 }
		add_to_variable = { ITA_inadequate_army_army_morale_factor = 0.05 }
		add_to_variable = { ITA_inadequate_army_training_time_factor = -0.1 }
		add_to_variable = { ITA_inadequate_army_planning_speed = 0.2 }
		add_to_variable = { ITA_inadequate_army_max_planning = 0.2 }
	}

	option = {}

}

country_event = {
	id = ita_armor.913
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = ITA
		is_ai = yes
		NOT = { has_country_flag = adequate_army }
		NOT = { has_country_flag = ITA_army_reform_1 }
		NOT = { has_country_flag = ITA_army_reform_2 }
		has_country_flag = ITA_army_reform_3
		date > 1942.1.1
	}

	immediate = {
		clr_country_flag = ITA_army_reform_3
		set_country_flag = adequate_army
		add_to_variable = { ITA_inadequate_army_army_org_factor = 0.05 }
		add_to_variable = { ITA_inadequate_army_army_morale_factor = 0.05 }
		add_to_variable = { ITA_inadequate_army_training_time_factor = -0.1 }
		add_to_variable = { ITA_inadequate_army_planning_speed = 0.2 }
		add_to_variable = { ITA_inadequate_army_max_planning = 0.2 }
	}

	option = {}

}

country_event = {
	id = ita_armor.914
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = ITL
		ITA = { is_ai = yes }
		has_capitulated = no
		has_war = yes
		date > 1939.1.1
	}

	immediate = {
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 24
			producer = ROOT
		}
		add_equipment_to_stockpile = {
			type = ita_motorized_equipment_1
			amount = 2000
			producer = ROOT
		}
	}

	option = {}

}

country_event = {
	id = ita_armor.915
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = ITA
		is_ai = yes
		OR = {
			has_full_control_of_state = 451
			any_allied_country = {
				has_full_control_of_state = 451
			}
		}
		OR = {
			has_full_control_of_state = 663
			any_allied_country = {
				has_full_control_of_state = 663
			}
		}
		OR = {
			controls_province = 9989
			any_allied_country = {
				controls_province = 9989
			}
		}
		OR = {
			controls_province = 7079
			any_allied_country = {
				controls_province = 7079
			}
		}
		OR = {
			controls_province = 13489
			any_allied_country = {
				controls_province = 13489
			}
		}
		OR = {
			controls_province = 12033
			any_allied_country = {
				controls_province = 12033
			}
		}
		OR = {
			controls_province = 5078
			any_allied_country = {
				controls_province = 5078
			}
		}
	}

	immediate = {
		build_railway = {
			level = 1
			path = { 1130 10120 7079 13489 12033 }
		}
	}

	option = {}

}

country_event = {
	id = ita_armor.916
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = ITA
		is_ai = yes
		date > 1937.1.1
		OR = {
			has_full_control_of_state = 451
			any_allied_country = {
				has_full_control_of_state = 451
			}
		}
		OR = {
			has_full_control_of_state = 663
			any_allied_country = {
				has_full_control_of_state = 663
			}
		}
		OR = {
			has_full_control_of_state = 450
			any_allied_country = {
				has_full_control_of_state = 450
			}
		}
		OR = {
			has_full_control_of_state = 449
			any_allied_country = {
				has_full_control_of_state = 449
			}
		}
		OR = {
			has_full_control_of_state = 448
			any_allied_country = {
				has_full_control_of_state = 448
			}
		}
	}

	immediate = {
		build_railway = {
			level = 1
			path = { 4194 7209 7066 9980 }
		}
		build_railway = {
			level = 1
			path = { 9980 1118 1041 4047 10046 10117 12088 4057 }
		}
		build_railway = {
			level = 1
			path = { 10123 12094 4151 1204 7082 9992 13485 1130 }
		}
	}

	option = {}

}