add_namespace = sov_armor

country_event = {
	id = sov_armor.001
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_tech = sov_motorised_infantry
	}

	immediate = {

		SOV_georgy_zhukov = {
			promote_leader = yes
		}
		SOV_aleksandr_vasilevsky = {
			promote_leader = yes
		}
		SOV_konstantin_rokossovsky = {
			promote_leader = yes
		}
		SOV_vasily_kuznetsov = {
			promote_leader = yes
		}
		SOV_nikolay_vatutin = {
			promote_leader = yes
		}
		SOV_semyon_timoshenko = {
			promote_leader = yes
		}
		SOV_andrey_yeryomenko = {
			promote_leader = yes
		}
	}
	option = {}
}


#
#country_event = {
#	id = sov_armor.012
#	hidden = yes
#
#	mean_time_to_happen = { days = 1 }
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = SOV
#		is_ai = yes
#		if = {
#			limit = {
#				has_dlc = "No Step Back"
#			}
#			date > 1947.7.1
#		}
#		else = {
#			has_tech = sov_heavy_td_9
#			has_tech = sov_modern_aa_3
#		}
#	}
#
#	immediate = {
#		set_country_flag = heavy_armor_template_2_sov
#
#		division_template = {
#			name = "Soviet Adv Heavy Tank Division"
#			division_names_group = SOV_GTC_01
#			template_counter = 145
#			priority = 2
#
#			regiments = {
#				heavy_armor = { x = 0 y = 0 }
#				heavy_armor = { x = 0 y = 1 }
#				heavy_armor = { x = 0 y = 2 }
#				heavy_armor = { x = 0 y = 3 }
#
#				heavy_armor = { x = 1 y = 0 }
#				heavy_armor = { x = 1 y = 1 }
#				heavy_armor = { x = 1 y = 2 }
#				heavy_armor = { x = 1 y = 3 }
#
#				heavy_armor = { x = 2 y = 0 }
#				heavy_armor = { x = 2 y = 1 }
#				heavy_armor = { x = 2 y = 2 }
#				heavy_assault_brigade = { x = 2 y = 3 }
#
#				mechanized = { x = 3 y = 0 }
#				mechanized = { x = 3 y = 1 }
#				mechanized = { x = 3 y = 2 }
#
#				mechanized = { x = 4 y = 0 }
#				mechanized = { x = 4 y = 1 }
#				mechanized = { x = 4 y = 2 }
#			}
#
#			support = {
#				assault_engineers = { x = 0 y = 0 }
#				mot_logistics_company = { x = 0 y = 1 }
#				mot_field_hospital = { x = 0 y = 2 }
#				heavy_maintenance_company = { x = 0 y = 3 }
#				mot_signal_company = { x = 0 y = 4 }
#
#				armoured_recon = { x = 1 y = 0 }
#				motorized_rocket = { x = 1 y = 1 }
#				heavy_assault = { x = 1 y = 2 }
#				modern_sp_anti_air = { x = 1 y = 3 }
#				military_police = { x = 1 y = 4 }
#			}
#		}
#	}
#
#	option = {}
#}

country_event = {
	id = sov_armor.014
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Rifle Division"
		has_tech = tech_signal_company
		has_tech = tech_field_hospital
		has_tech = tech_maintenance_company
	}

	immediate = {
		add_units_to_division_template = {
			template_name = "Soviet Rifle Division"
			support = {
				horse_field_hospital = 0
				mot_signal_company = 0
				horse_maintenance_company = 1
			}
		}
	}

	option = {}

}




country_event = {
	id = sov_armor.600
	hidden = yes

	mean_time_to_happen = { days = 8 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1936.8.1
	}

	immediate = {
		add_opinion_modifier = { target = USA modifier = ai_trade_fix }
		add_opinion_modifier = { target = USA modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = USA modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = USA modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = ENG modifier = ai_trade_fix }
		add_opinion_modifier = { target = ENG modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = ENG modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = ENG modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = POR modifier = ai_trade_fix }
		add_opinion_modifier = { target = POR modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = POR modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = POR modifier = ai_trade_fix_2 }


		add_opinion_modifier = { target = SAF modifier = ai_trade_fix }
		add_opinion_modifier = { target = SAF modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = SAF modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = SAF modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = TUR modifier = ai_trade_fix }
		add_opinion_modifier = { target = TUR modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = TUR modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = TUR modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = SIA modifier = ai_trade_fix }
		add_opinion_modifier = { target = SIA modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = SIA modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = SIA modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = INS modifier = ai_trade_fix }
		add_opinion_modifier = { target = INS modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = INS modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = INS modifier = ai_trade_fix_2 }
	}

	option = {}
}

country_event = {
	id = sov_armor.601
	hidden = yes

	mean_time_to_happen = { days = 8 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date < 1937.1.1
		has_country_flag = sov_infantry_template
	}

	immediate = {
		delete_unit_template_and_units = { division_template = "Strelkovaya Diviziya" }
		delete_unit_template_and_units = { division_template = "NKVD Strelkovaya Diviziya" }
		delete_unit_template_and_units = { division_template = "NKVD Pogranichnaya Brigada" }
		delete_unit_template_and_units = { division_template = "Kavaleriyskaya Diviziya" }
		delete_unit_template_and_units = { division_template = "Motostrelkovaya Diviziya" }
		delete_unit_template_and_units = { division_template = "Vozdushno-Desantnaya Diviziya" }
		delete_unit_template_and_units = { division_template = "Brigada Morskoi Pekhoty" }
	}

	option = {}
}

country_event = {
	id = sov_armor.602
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		NOT = { has_war_with = GER }
		NOT = { has_government = fascism }
		OR = {
			AND = {
				date > 1942.8.1
				NOT = { has_global_flag = uk_evacuated }
				NOT = { has_global_flag = GER_SOV_ceasefire }
				has_completed_focus = SOV_eradicate_western_fascism
			}
			AND = {
				date > 1941.6.1
				NOT = { has_global_flag = uk_evacuated }
				ENG = { surrender_progress > 0.2 }
			}
			AND = {
				date > 1941.1.1
				GER = { has_war_with = USA }
				USA = { surrender_progress > 0.2 }
			}
		}
	}

	immediate = {
		every_other_country = {
			limit = {
				has_government = fascism
				OR = {
					tag = GER
					is_in_faction_with = GER
					is_subject_of = GER
					tag = ROM
					tag = HUN
				}
				NOT = { has_war_with = ROOT }
			}
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.604
	hidden = yes

	mean_time_to_happen = { days = 8 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1940.1.1
		OR = {
			date > 1942.1.1
			NOT = {
				has_idea = SOV_molotov_ribbentrop_pact
			}
		}
	}

	immediate = {
		add_opinion_modifier = { target = USA modifier = ai_trade_fix }
		add_opinion_modifier = { target = USA modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = USA modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = USA modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = SAF modifier = ai_trade_fix }
		add_opinion_modifier = { target = SAF modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = SAF modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = SAF modifier = ai_trade_fix_2 }
	}

	option = {}
}

#
#country_event = {
#	id = sov_armor.605
#	hidden = yes
#
#	mean_time_to_happen = { days = 2 }
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = SOV
#		is_ai = yes
#		has_war = yes
#		has_completed_focus = SOV_left_opposition_coup
#	}
#
#	immediate = {
#		army_experience = 600
#		add_equipment_to_stockpile = { type = sov_inf_1 amount = 70000 producer = SOV }
#		add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 70000 producer = SOV }
#		add_equipment_to_stockpile = { type = support_equipment_1 amount = 20000 producer = SOV }
#		add_equipment_to_stockpile = { type = sov_at_1 amount = 1600 producer = SOV }
#		add_equipment_to_stockpile = { type = sov_art_2 amount = 300 producer = SOV }
#		add_equipment_to_stockpile = { type = sov_hv_art_2 amount = 700 producer = SOV }
#		add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 5000 producer = SOV }
#	}
#
#	option = {}
#}

country_event = {
	id = sov_armor.608
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_war_with = GER
		NOT = { has_war_with = SLO }
		OR = {
			SLO = { is_puppet_of = GER }
			SLO = { is_in_faction_with = GER }
		}
	}

	immediate = {
		SLO = {
			add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = asked_to_join }
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.610
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_war_with = GER
	}

	immediate = {
		add_equipment_to_stockpile = { type = convoy_1 amount = 1800 producer = SOV }
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 1000 producer = SOV } ###I need to find another fix
	}

	option = {}
}

country_event = {
	id = sov_armor.611
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1943.4.1
		tag = SOV
		is_ai = yes
	}

	immediate = {
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 2000 producer = SOV }
		add_equipment_to_stockpile = { type = convoy_1 amount = 750 producer = SOV }
	}

	option = {}

}

country_event = {
	id = sov_armor.612
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1944.3.1
		tag = SOV
		is_ai = yes
	}

	immediate = {
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 3000 producer = SOV } ###I need to find another fix
		add_equipment_to_stockpile = { type = convoy_1 amount = 1000 producer = SOV }
		random_owned_controlled_state = {
			prioritize = { 585 584 404 1013 }
			limit = {
				free_building_slots = {
					building = aluminium_refinery
					size > 5
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 6
			add_building_construction = {
				type = aluminium_refinery
				level = 6
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 585 584 404 1013 }
			limit = {
				free_building_slots = {
					building = synthetic_refinery
					size > 5
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 6
			add_building_construction = {
				type = synthetic_refinery
				level = 6
				instant_build = yes
			}
		}
	}

	option = {}

}

country_event = {
	id = sov_armor.613
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1942.12.1
	}

	immediate = {
		random_owned_controlled_state = {
			prioritize = { 583 586 570 590 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 583 586 570 590 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 583 586 570 590 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 583 586 570 590 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 588 569 742 578 575 }
			limit = {
				free_building_slots = {
					building = synthetic_refinery
					size > 2
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = synthetic_refinery
				level = 3
				instant_build = yes
			}
		}
		if = {
			limit = {
				controls_state = 229
			}
			229 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				controls_state = 233
			}
			233 = {
				add_building_construction = {
					type = infrastructure
					level = 4
					instant_build = yes
				}
			}
		}
		air_experience = 300
		SOV_georgy_zhukov = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_aleksandr_vasilevsky = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_konstantin_rokossovsky = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_boris_shaposhnikov = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_nikolay_vatutin = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_ivan_konev = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_semyon_timoshenko = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_vasily_chuykov = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_aleksandr_gorbatov = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_fyodor_tolbukhin = {
			add_trait = { trait = bearer_of_artillery }
		}
		every_army_leader = {
			limit = {
				has_trait = organisational_leader
				is_field_marshal = yes
			}
			remove_trait = { trait = organisational_leader }
			add_trait = { trait = inspirational_leader }
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.614
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		has_completed_focus = SOV_merge_evacuated_plants
		tag = SOV
		is_ai = yes
	}

	immediate = {
		add_political_power = 150
	}

	option = {}

}

country_event = {
	id = sov_armor.615
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1944.9.1
		tag = SOV
		is_ai = yes
	}

	immediate = {
		add_equipment_to_stockpile = { type = usa_motorized_equipment_1 amount = 20000 producer = USA }
	}

	option = {}

}

country_event = {
	id = sov_armor.616
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1942.1.1
		tag = SOV
		is_ai = yes
		USA = {
			is_ai = yes
		}
	}

	immediate = {
		USA = {
			give_resource_rights = {
				receiver = SOV
				state = 388
				resources = { coal }
			}
		}
	}

	option = {}

}

country_event = {
	id = sov_armor.617
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1942.1.1
		tag = SOV
		is_ai = yes
		USA = {
			is_ai = yes
		}
		has_war_with = USA
	}

	immediate = {
		remove_resource_rights = 388
	}

	option = {}

}

country_event = {
	id = sov_armor.618
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_global_flag = GER_SOV_ceasefire
		has_war = no
	}

	immediate = {
		set_capital = { state = 572 }
		if = {
			limit = {
				653 = {
					is_owned_and_controlled_by = SOV
				}
			}
			653 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 1841
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				1027 = {
					is_owned_and_controlled_by = SOV
				}
			}
			1027 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 9121
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				581 = {
					is_owned_and_controlled_by = SOV
				}
			}
			581 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 11098
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				262 = {
					is_owned_and_controlled_by = SOV
				}
			}
			262 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 9099
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				1029 = {
					is_owned_and_controlled_by = SOV
				}
			}
			1029 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 31
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				1026 = {
					is_owned_and_controlled_by = SOV
				}
			}
			1026 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 1295
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				1027 = {
					is_owned_and_controlled_by = SOV
				}
			}
			1027 = {
				add_building_construction = {
					type = naval_base
					level = 5
					province = 105
					instant_build = yes
				}
			}
		}
		#Pechora - Serov
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 10723
			target_province = 10720
		}
		#Urzhum - Ukhta
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 12527
			target_province = 1295
		}
		#Pechora - West Nenets
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 9121
			target_province = 9099
		}
		#Pechora - Naryan-Mar
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 105
			target_province = 10723
		}
		if = {
			limit = { controls_province = 361 }
			573 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 361
					instant_build = yes
				}
			}
		}
		if = {
			limit = { controls_province = 1380 }
			398 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 1380
					instant_build = yes
				}
			}
		}
		if = {
			limit = { controls_province = 10136 }
			573 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 10136
					instant_build = yes
				}
			}
		}
		#Middle Urals
		build_railway = {
			level = 4
			build_only_on_allied = yes
			fallback = yes
			start_province = 237
			target_province = 10136
		}
		build_railway = {
			level = 1
			build_only_on_allied = yes
			fallback = yes
			start_province = 10142
			target_province = 10136
		}
		#Southern Urals
		if = {
			limit = { controls_province = 3330 }
			652 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 3330
					instant_build = yes
				}
			}
		}
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 4411
			target_province = 4261
		}
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 4261
			target_province = 10253
		}
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 4261
			target_province = 12128
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.855
	hidden = yes

	mean_time_to_happen = { days = 4 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		is_historical_focus_on = yes
		ENG = { has_war_with = PER }
		ENG = { has_completed_focus = ENG_secure_iran }
		NOT = { has_war_With = PER }
	}

	option = {
		declare_war_on = {
			type = take_state_focus
			target = PER
			generator = { 419 420 266 418 416 }
		}
	}
}

country_event = {
	id = sov_armor.901
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1937.5.20
	}

	immediate = {
		if = {
			limit = {
				NOT = {
					OR = {
						is_researching_technology = tech_maintenance_company
						has_tech = tech_maintenance_company
					}
				}
			}
		}
		if = {
		   limit = {
			   NOT = { has_idea = mikhail_kalinin }
		   }
		   activate_advisor = mikhail_kalinin
		}
		if = {
			limit = {
				876 = {
					is_owned_and_controlled_by = SOV
				}
			}
			876 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				572 = {
					is_owned_and_controlled_by = SOV
				}
			}
			572 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				653 = {
					is_owned_and_controlled_by = SOV
				}
			}
			653 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				398 = {
					is_owned_and_controlled_by = SOV
				}
			}
			398 = {
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		create_railway_gun = {
			equipment = railway_gun_equipment_1
			name = "TM-3-12"
		}
		create_railway_gun = {
			equipment = railway_gun_equipment_1
			name = "TM-3-12"
		}
		create_railway_gun = {
			equipment = railway_gun_equipment_1
			name = "TM-3-12"
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.902
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1939.2.1
		NOT = { date > 1940.1.1 }
	}

	immediate = {
		584 = {
			add_building_construction = {
				type = naval_base
				level = 3
				province = 7661
				instant_build = yes
			}
		}
		236 = {
			add_building_construction = {
				type = naval_base
				level = 2
				province = 757
				instant_build = yes
			}
		}
		406 = {
			add_building_construction = {
				type = naval_base
				level = 2
				province = 3618
				instant_build = yes
			}
		}
		229 = {
			add_building_construction = {
				type = naval_base
				level = 2
				province = 7477
				instant_build = yes
			}
		}
		if = {
			limit = { has_aat = yes }
			mio:SOV_morozov_design_bureau_organization = {
				add_mio_funds = 3000
			}
			mio:SOV_kirov_organization = {
				add_mio_funds = 3000
			}
		}
		add_equipment_to_stockpile = { type = convoy_1 amount = 100 producer = SOV }
		if = {
			limit = {
				398 = {
					is_owned_and_controlled_by = SOV
				}
			}
			398 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				651 = {
					is_owned_and_controlled_by = SOV
				}
			}
			651 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				572 = {
					is_owned_and_controlled_by = SOV
				}
			}
			572 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				876 = {
					is_owned_and_controlled_by = SOV
				}
			}
			876 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				586 = {
					is_owned_and_controlled_by = SOV
				}
			}
			586 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				229 = {
					is_owned_and_controlled_by = SOV
				}
			}
			229 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		571 = {
			if = {
				limit = {
					is_controlled_by = SOV
				}
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
		}

		570 = {
			if = {
				limit = {
					is_controlled_by = SOV
				}
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
		}

		40 = {
			if = {
				limit = {
					is_controlled_by = SOV
				}
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
		}

		569 = {
			if = {
				limit = {
					is_controlled_by = SOV
				}
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}

		568 = {
			if = {
				limit = {
					is_controlled_by = SOV
				}
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
		}

		588 = {
			if = {
				limit = {
					is_controlled_by = SOV
				}
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.903
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1939.10.12
		NOT = { date > 1940.10.12 }
		controls_state = 653
	}

	immediate = {
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
	}

	option = {}
}

country_event = {
	id = sov_armor.904
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1940.1.1
	}

	immediate = {
		add_ideas = nepotism_naval_academy_spirit
		add_equipment_to_stockpile = { type = train_equipment_1 amount = 2250 producer = SOV } ###I need to find another fix
		add_political_power = 300
		if = {
			limit = {
				has_idea = mass_assault_corps_spirit
			}
			remove_ideas = mass_assault_corps_spirit
		}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
	}

	option = {}
}

country_event = {
	id = sov_armor.905
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1940.7.1
		NOT = { date > 1941.7.1 }
	}

	immediate = {
		#load_oob = "SOV_air_2"
		add_equipment_to_stockpile = { type = convoy_1 amount = 50 producer = SOV }
		random_owned_controlled_state = {
			prioritize = { 583 586 570 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 583 586 570 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 2
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 3
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 583 586 570 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 2
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 3
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 3
					include_locked = yes
				}
			}
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
	}

	option = {}
}

country_event = {
	id = sov_armor.906
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1941.1.1
	}

	immediate = {
		if = {
			limit = {
				NOT = {
            		has_completed_track = tier_1_artillery
				}
			}
			WA_add_mastery_artillery_200 = yes
		}
		if = {
			limit = {
				NOT = {
            		has_completed_track = tier_1_armour
				}
			}
			WA_add_mastery_armour_200 = yes
		}
		if = {
			limit = {
				NOT = {
            		has_completed_track = tier_1_infantry
				}
			}
			WA_add_mastery_infantry_200 = yes
		}
		if = {
			limit = {
				NOT = {
					has_doctrine = armoured_waves
					has_completed_focus = SOV_approach_tukhachevsky
				}
			}
            set_sub_doctrine = armoured_waves
		}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
	}

	option = {}
}

country_event = {
	id = sov_armor.908
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1941.7.1
		NOT = { date > 1942.7.1 }
	}

	immediate = {
		#upgrade_intelligence_agency = upgrade_crypto_strength_2
		#upgrade_intelligence_agency = upgrade_crypto_strength_2
		#upgrade_intelligence_agency = upgrade_crypto_strength_2
		#upgrade_intelligence_agency = upgrade_crypto_strength_2
		#upgrade_intelligence_agency = upgrade_crypto_strength_2
		#upgrade_intelligence_agency = upgrade_crypto_strength_2
		#army_experience = 150

		add_equipment_to_stockpile = { type = convoy_1 amount = 50 producer = SOV }
		if = {
			limit = {
				USA = { is_ai = no }
			}
			add_equipment_to_stockpile = { type = sov_inf_9 amount = 150000 producer = SOV }
			add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 100000 producer = SOV }
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 80000 producer = SOV }
			add_equipment_to_stockpile = { type = sov_art_2 amount = 9000 producer = SOV }
			add_equipment_to_stockpile = { type = sov_hv_art_2 amount = 5000 producer = SOV }
			add_equipment_to_stockpile = { type = sov_at_4 amount = 10000 producer = SOV }
		}
		else = {
			add_equipment_to_stockpile = { type = sov_inf_9 amount = 100000 producer = SOV }
			add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 70000 producer = SOV }
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 55000 producer = SOV }
			add_equipment_to_stockpile = { type = sov_art_2 amount = 6000 producer = SOV }
			add_equipment_to_stockpile = { type = sov_hv_art_2 amount = 3500 producer = SOV }
			add_equipment_to_stockpile = { type = sov_at_4 amount = 7500 producer = SOV }
		}
	}

	option = {}
}

#
#country_event = {
#	id = sov_armor.909
#	hidden = yes
#
#	mean_time_to_happen = { days = 2 }
#
#	fire_only_once = yes
#
#	trigger = {
#		tag = SOV
#		is_ai = yes
#		date > 1941.12.1
#		has_war = yes
#	}
#
#	immediate = {
#		add_equipment_to_stockpile = { type = sov_art_2 amount = 800 producer = SOV }
#	}
#
#	option = {}
#}

country_event = {
	id = sov_armor.910
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1942.3.1
		#243 = { is_owned_by = SOV }
	}

	immediate = {
		if = {
			limit = {
				570 = {
					is_owned_and_controlled_by = SOV
				}
			}
			570 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				569 = {
					is_owned_and_controlled_by = SOV
				}
			}
			569 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				40 = {
					is_owned_and_controlled_by = SOV
				}
			}
			40 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				568 = {
					is_owned_and_controlled_by = SOV
				}
			}
			568 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				408 = {
					is_owned_and_controlled_by = SOV
				}
			}
			408 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.911
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1942.1.1
		NOT = { has_idea = officers_purged }
		NOT = { has_idea = officers_purged_2 }
		NOT = { has_idea = officers_purged_3 }
		NOT = { has_idea = officers_purged_4 }
		NOT = { has_idea = officers_purged_5 }
		NOT = { has_idea = officers_purged_6 }
		NOT = { has_idea = officers_purged_7 }
		NOT = { has_idea = officers_purged_8 }
		NOT = { has_idea = officers_purged_9 }
		NOT = { has_idea = officers_purged_10 }
	}

	immediate = {
		#army_experience = 500
		#air_experience = 500
		delete_units = {
			division_template = "Soviet Light Tank Division"
			disband = yes
		}
		delete_units = {
			division_template = "Soviet Light Infantry Tank Division"
			disband = yes
		}
		#add_equipment_to_stockpile = { type = sov_inf_1 amount = 10000 producer = SOV }
		#add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 10000 producer = SOV }
		#add_equipment_to_stockpile = { type = support_equipment_1 amount = 20000 producer = SOV }
	}

	option = {}
}

country_event = {
	id = sov_armor.912
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1941.10.1
		NOT = { date > 1942.5.1 }
		GER = { is_ai = no }
		NOT = { has_global_flag = disable_cheats }
	}

	immediate = {
		if = {
			limit = {
				571 = {
					is_owned_and_controlled_by = SOV
				}
			}
			571 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				570 = {
					is_owned_and_controlled_by = SOV
				}
			}
			570 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		every_state = {
			limit = {
				is_core_of = SOV
				is_controlled_by = SOV
				air_base < 5
				OR = {
					state = 213
					state = 1047
					state = 1046
					state = 215
					state = 216
					state = 244
					state = 195
					state = 214
					state = 1024
					state = 1025
					state = 264
					state = 246
					state = 247
					state = 248
					state = 219
					state = 253
					state = 351
					state = 400
					state = 252
					state = 256
					state = 249
					state = 399
					state = 1029
					state = 397
					state = 223
					state = 254
					state = 255
					state = 250
					state = 251
					state = 258
					state = 257
					state = 239
					state = 260
					state = 265
					state = 401
					state = 217
					state = 1013
					state = 236
					state = 232
					state = 233
					state = 231
					state = 229
					state = 235
					state = 398
					state = 651
					state = 652
					state = 653
					state = 572
					state = 876
					state = 583
					state = 1066
					state = 1067
					state = 1068
					state = 1069
					state = 1070
					state = 1071
				}
			}
			add_building_construction = {
				type = air_base
				level = 4
				instant_build = yes
			}
		}
		#load_oob = "SOV_air_3"
		#if = {
		#	limit = {
		#		has_dlc = "No Step Back"
		#	}
		#	add_equipment_to_stockpile = { type = sov_inf_3 amount = 61000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 61000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_motorized_equipment_1 amount = 16000 producer = SOV }
		#	add_equipment_to_stockpile = { type = support_equipment_1 amount = 30000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_art_2 amount = 6000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_hv_art_2 amount = 1300 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_at_4 amount = 3000 producer = SOV }
		#
		#	add_equipment_to_stockpile = { type = sov_mechanized_equipment_1 amount = 2500 producer = SOV }
		#	add_equipment_to_stockpile = { type = tank_sov_medium_chassis_3 amount = 5500 producer = SOV }
		#	add_equipment_to_stockpile = { type = tank_sov_heavy_chassis_2 amount = 4000 producer = SOV }
		#
		#}
		#else = {
		#	add_equipment_to_stockpile = { type = sov_inf_3 amount = 61000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_hv_inf_1 amount = 61000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_motorized_equipment_1 amount = 16000 producer = SOV }
		#	add_equipment_to_stockpile = { type = support_equipment_1 amount = 30000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_art_2 amount = 6000 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_hv_art_2 amount = 1300 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_at_4 amount = 3000 producer = SOV }
		#
		#	add_equipment_to_stockpile = { type = sov_mechanized_equipment_1 amount = 2500 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_medium_equipment_3 amount = 5500 producer = SOV }
		#	add_equipment_to_stockpile = { type = sov_heavy_equipment_3 amount = 4000 producer = SOV }
		#
		#	load_oob = "SOV_air_3"
		#}
	}

	option = {}
}

country_event = {
	id = sov_armor.914
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
	 	date > 1942.3.1
		#not = {has_global_flag = disable_cheats}
	}

	immediate = {
		every_state = {
			limit = {
				is_core_of = SOV
				is_controlled_by = SOV
				air_base < 5
				OR = {
					state = 213
					state = 1047
					state = 1046
					state = 215
					state = 216
					state = 244
					state = 195
					state = 214
					state = 1024
					state = 1025
					state = 264
					state = 246
					state = 247
					state = 248
					state = 219
					state = 253
					state = 351
					state = 400
					state = 252
					state = 256
					state = 249
					state = 399
					state = 1029
					state = 397
					state = 223
					state = 254
					state = 255
					state = 250
					state = 251
					state = 258
					state = 257
					state = 239
					state = 260
					state = 265
					state = 401
					state = 217
					state = 1013
					state = 236
					state = 232
					state = 233
					state = 231
					state = 229
					state = 235
					state = 398
					state = 651
					state = 652
					state = 653
					state = 572
					state = 876
					state = 583
					is_core_of = UKR
					is_core_of = BEL
					is_core_of = EST
					is_core_of = LAT
					is_core_of = LIT
					state = 238
					state = 234
					state = 218
					state = 245
					state = 240
					state = 220
					state = 222
					state = 205
					state = 242
					state = 243
					state = 224
					state = 210
					state = 209
					state = 208
					state = 1066
					state = 1067
					state = 1068
					state = 1069
					state = 1070
					state = 1071
				}
			}
			add_building_construction = {
				type = air_base
				level = 4
				instant_build = yes
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.915
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			date > 1940.7.1
		}
		else = {
			has_tech = sov_medium_td_1
			has_tech = sov_heavy_spg_2
		}
		249 = { is_controlled_by = SOV }
		249 = { is_owned_by = SOV }
 		date > 1942.10.1
		NOT = { date > 1943.1.1 }
		is_subject = no
		#not = {has_global_flag = disable_cheats}
		has_dlc = "No Step Back"
		has_template = "Soviet Adv Rifle Division"
		has_template = "Soviet Medium Tank Division"
	}

	immediate = {
		if = {
			limit = {
				569 = {
					is_owned_and_controlled_by = SOV
				}
			}
			569 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				40 = {
					is_owned_and_controlled_by = SOV
				}
			}
			40 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				568 = {
					is_owned_and_controlled_by = SOV
				}
			}
			568 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				408 = {
					is_owned_and_controlled_by = SOV
				}
			}
			408 = {
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.917
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1942.1.1
		has_war = yes
		has_deployed_air_force_size = { size < 4000 type = fighter }
	}

	immediate = {
		add_timed_idea = { idea = soviet_ai_air days = 360 }
		if = {
			limit = {
				has_template = "Soviet Medium Tank Division"
			}
			add_units_to_division_template = {
				template_name = "Soviet Medium Tank Division"
				regiments = {
					medium_armor = 0
					medium_armor = 1
					medium_armor = 2
				}
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.922
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1945.6.1
		NOT = { date > 1947.6.1 }
		has_war = yes
		surrender_progress < 0.2
	}

	immediate = {
		random_owned_state = {
			prioritize = { 252 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_state = {
			prioritize = { 256 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_state = {
			prioritize = { 248 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_state = {
			prioritize = { 571 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		random_owned_state = {
			prioritize = { 223 }
			limit = {
				free_building_slots = {
					building = steel_refinery
					size > 4
					include_locked = yes
				}
			}
			add_building_construction = {
				type = steel_refinery
				level = 5
				instant_build = yes
			}
		}
		every_state = {
			limit = {
				is_core_of = SOV
				is_controlled_by = SOV
				air_base < 13
				OR = {
					state = 213
					state = 1047
					state = 1046
					state = 215
					state = 216
					state = 244
					state = 195
					state = 214
					state = 1024
					state = 1025
					state = 264
					state = 246
					state = 247
					state = 248
					state = 219
					state = 253
					state = 351
					state = 400
					state = 252
					state = 256
					state = 249
					state = 399
					state = 1029
					state = 397
					state = 223
					state = 254
					state = 255
					state = 250
					state = 251
					state = 258
					state = 257
					state = 239
					state = 260
					state = 265
					state = 401
					state = 217
					state = 1013
					state = 236
					state = 232
					state = 233
					state = 231
					state = 229
					state = 235
					state = 398
					state = 651
					state = 652
					state = 653
					state = 572
					state = 876
					state = 583
					is_core_of = UKR
					is_core_of = BEL
					is_core_of = EST
					is_core_of = LAT
					is_core_of = LIT
					state = 238
					state = 234
					state = 218
					state = 245
					state = 240
					state = 220
					state = 222
					state = 205
					state = 242
					state = 243
					state = 224
					state = 210
					state = 209
					state = 208
					state = 1066
					state = 1067
					state = 1068
					state = 1069
					state = 1070
					state = 1071
				}
			}
			add_building_construction = {
				type = air_base
				level = 4
				instant_build = yes
			}
		}
		#add_equipment_to_stockpile = { type = sov_modern_equipment_1 amount = 7000 producer = SOV }
	}

	option = {}
}

country_event = {
	id = sov_armor.926
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1943.4.1
	}

	immediate = {
		every_state = {
			limit = {
				is_core_of = SOV
				is_controlled_by = SOV
				air_base < 9
				OR = {
					state = 213
					state = 1047
					state = 1046
					state = 215
					state = 216
					state = 244
					state = 195
					state = 214
					state = 1024
					state = 1025
					state = 264
					state = 246
					state = 247
					state = 248
					state = 219
					state = 253
					state = 351
					state = 400
					state = 252
					state = 256
					state = 249
					state = 399
					state = 1029
					state = 397
					state = 223
					state = 254
					state = 255
					state = 250
					state = 251
					state = 258
					state = 257
					state = 239
					state = 260
					state = 265
					state = 401
					state = 217
					state = 1013
					state = 236
					state = 232
					state = 233
					state = 231
					state = 229
					state = 235
					state = 398
					state = 651
					state = 652
					state = 653
					state = 572
					state = 876
					state = 583
					is_core_of = UKR
					is_core_of = BEL
					is_core_of = EST
					is_core_of = LAT
					is_core_of = LIT
					state = 238
					state = 234
					state = 218
					state = 245
					state = 240
					state = 220
					state = 222
					state = 205
					state = 242
					state = 243
					state = 224
					state = 210
					state = 209
					state = 208
					state = 1066
					state = 1067
					state = 1068
					state = 1069
					state = 1070
					state = 1071
				}
			}
			add_building_construction = {
				type = air_base
				level = 4
				instant_build = yes
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.927
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1942.1.1
		tag = SOV
		is_ai = yes
		has_war = yes
	}

	immediate = {
		add_ideas = steel_wings_steel_hearts_spirit
	}

	option = {}

}

country_event = {
	id = sov_armor.928
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1943.5.1
		has_war = yes
		#has_equipment = { heavy_infantry_equipment < 10000 }
	}

	immediate = {
		#add_equipment_to_stockpile = { type = sov_inf_3 amount = 50000 producer = SOV }
		#add_equipment_to_stockpile = { type = sov_art_2 amount = 3000 producer = SOV }
		#add_equipment_to_stockpile = { type = sov_at_4 amount = 4000 producer = SOV }
		#add_equipment_to_stockpile = { type = sov_hv_inf_4 amount = 70000 producer = SOV }
		#add_equipment_to_stockpile = { type = sov_mechanized_equipment_3 amount = 3000 producer = SOV }
	}

	option = {}
}

country_event = {
	id = sov_armor.929
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		surrender_progress > 0.3
		difficulty > 2 #Hard and above Difficulty
	}

	immediate = {
		if = {
			limit = {
				249 = {
					is_owned_and_controlled_by = SOV
				}
			}
			249 = { #Kazan
				add_building_construction = {
					type = bunker
					level = 1
					province = 6338
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				219 = {
					is_owned_and_controlled_by = SOV
				}
			}
			219 = {
				add_building_construction = {
					type = radar_station
					level = 4
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				249 = {
					is_owned_and_controlled_by = SOV
				}
			}
			249 = {
				add_building_construction = {
					type = radar_station
					level = 4
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				217 = {
					is_owned_and_controlled_by = SOV
				}
			}
			217 = {
				add_building_construction = {
					type = radar_station
					level = 5
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				195 = {
					is_owned_and_controlled_by = SOV
				}
			}
			195 = {
				add_building_construction = {
					type = radar_station
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				651 = {
					is_owned_and_controlled_by = SOV
				}
			}
			651 = {
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				876 = {
					is_owned_and_controlled_by = SOV
				}
			}
			876 = {
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				572 = {
					is_owned_and_controlled_by = SOV
				}
			}
			572 = { #Ural - Chelyabinsk
				if = {
					limit = { has_dlc = "Gotterdammerung" }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = stronghold_network
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 8
					province = 9292
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				653 = {
					is_owned_and_controlled_by = SOV
				}
			}
			653 = { #Ural = Sverdlovsk
				if = {
					limit = { has_dlc = "Gotterdammerung" }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = stronghold_network
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 8
					province = 1821
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				398 = {
					is_owned_and_controlled_by = SOV
				}
			}
			398 = {
				add_building_construction = {
					type = anti_air_building
					level = 7
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				407 = {
					is_owned_and_controlled_by = SOV
				}
			}
			407 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 11537
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				252 = {
					is_owned_and_controlled_by = SOV
				}
			}
			252 = { #Gorki
				add_building_construction = {
					type = bunker
					level = 1
					province = 11375
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				255 = {
					is_owned_and_controlled_by = SOV
				}
			}
			255 = { #Gorki
				add_building_construction = {
					type = bunker
					level = 6
					province = 9258
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				239 = {
					is_owned_and_controlled_by = SOV
				}
			}
			239 = { #Saratov
				add_building_construction = {
					type = bunker
					level = 6
					province = 3578
					instant_build = yes
				}
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.931
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1941.1.1
	}

	immediate = {
        set_sub_doctrine = concentrated_formations
        set_sub_doctrine = formation_flying
		add_ideas = battlefield_utility_spirit
		253 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 4
		 			instant_build = yes
				}
		 	}
		}
		build_railway = {
			path = { 9082 60 3160 11103 6034 6075 72 }
		}
		build_railway = {
			path = { 9190 11153 11150 }
		}
		216 = {
			add_building_construction = {
				type = naval_base
				level = 2
				province = 11150
				instant_build = yes
			}
		}
		254 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
				}
				add_building_construction = {
		 			type = air_base
		 			level = 3
		 			instant_build = yes
		 		}
		 	}
		}
		239 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 2
		 			instant_build = yes
		 		}
		 	}
		}
		264 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 4
		 			instant_build = yes
		 		}
		 	}
		}
		247 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 3
		 			instant_build = yes
		 		}
		 	}
		}
		217 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 3
		 			instant_build = yes
		 		}
			}
		}
		236 = {
		 	if = {
		 		limit = {
					is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 3
		 			instant_build = yes
		 		}
		 	}
		}
		401 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 2
		 			instant_build = yes
				}
		 	}
		}
		236 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 1
		 			instant_build = yes
				}
		 	}
		}
		249 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 4
		 			instant_build = yes
				}
		 	}
		}
		252 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 4
		 			instant_build = yes
				}
		 	}
		}
		399 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 1
		 			instant_build = yes
				}
		 	}
		}
		251 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 3
		 			instant_build = yes
				}
		 	}
		}
		230 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 3
		 			instant_build = yes
				}
		 	}
		}
		244 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 1
		 			instant_build = yes
				}
		 	}
		}
		407 = {
		 	if = {
		 		limit = {
		 			is_controlled_by = SOV
		 		}
		 		add_building_construction = {
		 			type = air_base
		 			level = 3
		 			instant_build = yes
				}
		 	}
		}
		WA_add_mastery_artillery_100 = yes
		WA_add_mastery_infantry_100 = yes
		WA_add_mastery_armour_100 = yes
		add_ideas = operational_reserve_spirit
		set_technology = { ai_bunker = 1 }
		if = {
			limit = {
				227 = {
					is_owned_and_controlled_by = SOV
				}
			}
			227 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				200 = {
					is_owned_and_controlled_by = SOV
				}
			}
			200 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				226 = {
					is_owned_and_controlled_by = SOV
				}
			}
			226 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				259 = {
					is_owned_and_controlled_by = SOV
				}
			}
			259 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				193 = {
					is_owned_and_controlled_by = SOV
				}
			}
			193 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				241 = {
					is_owned_and_controlled_by = SOV
				}
			}
			241 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				208 = {
					is_owned_and_controlled_by = SOV
				}
			}
			208 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				210 = {
					is_owned_and_controlled_by = SOV
				}
			}
			210 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				219 = {
					is_owned_and_controlled_by = SOV
				}
			}
			219 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				201 = {
					is_owned_and_controlled_by = SOV
				}
			}
			201 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				207 = {
					is_owned_and_controlled_by = SOV
				}
			}
			207 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				197 = {
					is_owned_and_controlled_by = SOV
				}
			}
			197 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				217 = {
					is_owned_and_controlled_by = SOV
				}
			}
			217 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				218 = {
					is_owned_and_controlled_by = SOV
				}
			}
			218 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					province = 13597
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				236 = {
					is_owned_and_controlled_by = SOV
				}
			}
			236 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				192 = {
					is_owned_and_controlled_by = SOV
				}
			}
			192 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				203 = {
					is_owned_and_controlled_by = SOV
				}
			}
			203 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				202 = {
					is_owned_and_controlled_by = SOV
				}
			}
			202 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				96 = {
					is_owned_and_controlled_by = SOV
				}
			}
			96 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				95 = {
					is_owned_and_controlled_by = SOV
				}
			}
			95 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				93 = {
					is_owned_and_controlled_by = SOV
				}
			}
			93 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				967 = {
					is_owned_and_controlled_by = SOV
				}
			}
			967 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				966 = {
					is_owned_and_controlled_by = SOV
				}
			}
			966 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				204 = {
					is_owned_and_controlled_by = SOV
				}
			}
			204 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				94 = {
					is_owned_and_controlled_by = SOV
				}
			}
			94 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				194 = {
					is_owned_and_controlled_by = SOV
				}
			}
			194 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				199 = {
					is_owned_and_controlled_by = SOV
				}
			}
			199 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				11 = {
					is_owned_and_controlled_by = SOV
				}
			}
			11 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				784 = {
					is_owned_and_controlled_by = SOV
				}
			}
			784 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				206 = {
					is_owned_and_controlled_by = SOV
				}
			}
			206 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				226 = {
					is_owned_and_controlled_by = SOV
				}
			}
			226 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				12 = {
					is_owned_and_controlled_by = SOV
				}
			}
			12 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				198 = {
					is_owned_and_controlled_by = SOV
				}
			}
			198 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
		if = {
			limit = {
				965 = {
					is_owned_and_controlled_by = SOV
				}
			}
			965 = {
				add_building_construction = {
					type = bunker_ai
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
					}
				}
			}
		}
	}
}

country_event = {
	id = sov_armor.932
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		NOT = {
			has_full_control_of_state = 219 #Moscow
		}
		controls_state = 249
		#has_country_flag = ai_barb_timer
		has_template = "Soviet Medium Tank Division"
		has_template = "Soviet Rifle Division"
		difficulty > 2 #Hard and above Difficulty
		has_war_with_major = yes
	}

	immediate = {
		load_oob = "SOV_failsafe"
	}

	option = {}
}

country_event = {
	id = sov_armor.933
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		NOT = {
			has_full_control_of_state = 195 #Leningrad
		}
		controls_state = 249
		#has_country_flag = ai_barb_timer
		has_template = "Soviet Medium Tank Division"
		has_template = "Soviet Rifle Division"
		difficulty > 2 #Hard and above Difficulty
		has_war_with_major = yes
	}

	immediate = {
		load_oob = "SOV_failsafe_2"
	}

	option = {}
}

country_event = {
	id = sov_armor.934
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		NOT = {
			has_full_control_of_state = 217 #Stalingrad
		}
		controls_state = 249
		#has_country_flag = ai_barb_timer
		has_template = "Soviet Heavy Tank Division"
		has_template = "Soviet Medium Tank Division"
		has_template = "Soviet Rifle Division"
		difficulty > 2 #Hard and above Difficulty
		has_war_with_major = yes
	}

	immediate = {
		load_oob = "SOV_failsafe_3"
	}

	option = {}
}

country_event = {
	id = sov_armor.971
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		FRA = {
			is_ai = yes
		}
		ENG = {
			has_completed_focus = ENG_a_change_in_course
		}
		has_war_with = FRA
		has_war_with = POL
		date < 1940.1.1
	}

	immediate = {
		white_peace = {
			tag = FRA
		}
	}
}

country_event = {
	id = sov_armor.972
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_global_flag = SOV_soviet_civil_war_over
		has_completed_focus = SOV_approach_tukhachevsky
	}

	immediate = {
		SOS = {
			every_unit_leader = {
				set_nationality = SOV
			}
		}
		SOV_georgy_zhukov = {
			set_nationality = SOV
		}
		SOV_georgy_zhukov_ai = {
			promote_leader = yes
		}
		SOV_konstantin_rokossovsky_ai = {
			promote_leader = yes
		}
		set_sub_doctrine = advanced_squad_tactics
		set_sub_doctrine = combined_warfare
	}
}

country_event = {
	id = sov_armor.973
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_global_flag = SOV_soviet_civil_war_over
		has_completed_focus = SOV_approach_tukhachevsky
		date > 1939.10.1
	}

	immediate = {
		set_sub_doctrine = armoured_waves
		army_experience = 300
		add_war_support = 0.5
		activate_advisor = georgy_zhukov
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
		#random_owned_controlled_state = {
		#	prioritize = { 247 248 253 252 255 254 223 217 219 229 239 250 }
		#	limit = {
		#		free_building_slots = {
		#			building = arms_factory
		#			size > 3
		#			include_locked = yes
		#		}
		#	}
		#	add_building_construction = {
		#		type = arms_factory
		#		level = 4
		#		instant_build = yes
		#	}
		#}
	}
}

country_event = { #Leningrad Reserves #Ai cant recruit inf divs during barb cos it sucks
	id = sov_armor.974
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Rifle Division"
		has_war = yes
		difficulty > 1 #normal
		NOT = {
			any_enemy_country = {
				original_tag = SOV
			}
		}
		controls_state = 195
		OR = {
			NOT = { has_full_control_of_state = 1045 }
			NOT = { has_full_control_of_state = 195 }
		}
		has_manpower > 59999
	}

	immediate = {
		add_manpower = -60000
		195 = {
			create_unit = {
				division = "division_template = \"Soviet Rifle Division\" start_experience_factor = 0.3 start_equipment_factor = 1.0"
				owner = SOV
				count = 4
			}
		}
	}
}

country_event = { #Moscow Reserves #Ai cant recruit inf divs during barb cos it sucks
	id = sov_armor.975
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Rifle Division"
		has_war = yes
		difficulty > 1 #normal
		NOT = {
			any_enemy_country = {
				original_tag = SOV
			}
		}
		controls_state = 253
		OR = {
			NOT = { has_full_control_of_state = 247 }
			NOT = { has_full_control_of_state = 219 }
			NOT = { has_full_control_of_state = 223 }
		}
		has_manpower > 179999
	}

	immediate = {
		add_manpower = -180000
		253 = {
			create_unit = {
				division = "division_template = \"Soviet Rifle Division\" start_experience_factor = 0.3 start_equipment_factor = 1.0"
				owner = SOV
				count = 12
			}
		}
	}
}

country_event = { #Stalingrad Reserves #Ai cant recruit inf divs during barb cos it sucks
	id = sov_armor.976
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Rifle Division"
		has_war = yes
		difficulty > 1 #normal
		NOT = {
			any_enemy_country = {
				original_tag = SOV
			}
		}
		controls_state = 401
		OR = {
			NOT = { has_full_control_of_state = 217 }
			NOT = { has_full_control_of_state = 265 }
			NOT = { has_full_control_of_state = 237 }
		}
		has_manpower > 179999
	}

	immediate = {
		add_manpower = -180000
		401 = {
			create_unit = {
				division = "division_template = \"Soviet Rifle Division\" start_experience_factor = 0.3 start_equipment_factor = 1.0"
				owner = SOV
				count = 12
			}
		}
	}
}

country_event = { #Tambov Reserves #Ai cant recruit inf divs during barb cos it sucks
	id = sov_armor.977
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Rifle Division"
		has_war = yes
		difficulty > 1 #normal
		NOT = {
			any_enemy_country = {
				original_tag = SOV
			}
		}
		controls_state = 257
		OR = {
			NOT = { has_full_control_of_state = 260 }
			NOT = { has_full_control_of_state = 258 }
			NOT = { has_full_control_of_state = 237 }
		}
		has_manpower > 179999
	}

	immediate = {
		add_manpower = -180000
		257 = {
			create_unit = {
				division = "division_template = \"Soviet Rifle Division\" start_experience_factor = 0.3 start_equipment_factor = 1.0"
				owner = SOV
				count = 12
			}
		}
	}
}

country_event = { #Astrakhan Reserves #Ai cant recruit inf divs during barb cos it sucks
	id = sov_armor.978
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Rifle Division"
		has_war = yes
		difficulty > 1 #normal
		NOT = {
			any_enemy_country = {
				original_tag = SOV
			}
		}
		controls_state = 236
		OR = {
			NOT = { has_full_control_of_state = 237 }
		}
		has_manpower > 89999
	}

	immediate = {
		add_manpower = -90000
		236 = {
			create_unit = {
				division = "division_template = \"Soviet Rifle Division\" start_experience_factor = 0.3 start_equipment_factor = 1.0"
				owner = SOV
				count = 6
			}
		}
	}
}

country_event = { #Grozny Reserves #Ai cant recruit inf divs during barb cos it sucks
	id = sov_armor.979
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Rifle Division"
		has_war = yes
		NOT = {
			any_enemy_country = {
				original_tag = SOV
			}
		}
		difficulty > 1 #normal
		controls_state = 232
		OR = {
			NOT = { has_full_control_of_state = 237 }
			NOT = { has_full_control_of_state = 235 }
			NOT = { has_full_control_of_state = 229 }
			NOT = { has_full_control_of_state = 231 }
		}
		has_manpower > 89999
	}

	immediate = {
		add_manpower = -90000
		232 = {
			create_unit = {
				division = "division_template = \"Soviet Rifle Division\" start_experience_factor = 0.3 start_equipment_factor = 1.0"
				owner = SOV
				count = 6
			}
		}
		if = {
			limit = {
				difficulty > 2 #hard
			}
			233 = {
				create_unit = {
					division = "division_template = \"Soviet Rifle Division\" start_experience_factor = 0.3 start_equipment_factor = 1.0"
					owner = SOV
					count = 12
				}
			}
			229 = {
				create_unit = {
					division = "division_template = \"Soviet Rifle Division\" start_experience_factor = 0.3 start_equipment_factor = 1.0"
					owner = SOV
					count = 6
				}
			}
		}
	}
}

country_event = { #Donetsk Reserves #Ai cant recruit inf divs during barb cos it sucks
	id = sov_armor.980
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Rifle Division"
		has_war = yes
		NOT = {
			any_enemy_country = {
				original_tag = SOV
			}
		}
		difficulty > 1 #normal
		controls_state = 228
		OR = {
			NOT = { has_full_control_of_state = 240 }
			NOT = { has_full_control_of_state = 221 }
			NOT = { has_full_control_of_state = 200 }
			NOT = { has_full_control_of_state = 227 }
		}
		has_manpower > 89999
	}

	immediate = {
		add_manpower = -90000
		228 = {
			create_unit = {
				division = "division_template = \"Soviet Rifle Division\" start_experience_factor = 0.3 start_equipment_factor = 1.0"
				owner = SOV
				count = 8
			}
		}
	}
}

country_event = { #Ai doesnt prioritize or construct railways/supplyhubs
	id = sov_armor.981
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		any_enemy_country = {
			is_major = yes
		}
		controls_state = 249
		difficulty > 1 #normal
		OR = {
			has_completed_focus = SOV_defense_of_the_motherland
			focus_progress = {
				focus = SOV_defense_of_the_motherland
				progress > 0.1
			}
		}
		NOT = {
			any_enemy_country = {
				original_tag = SOV
			}
		}
	}

	immediate = {
		if = {
			limit = { controls_province = 11474 }
			217 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 11474
					instant_build = yes
				}
			}
		}
		if = {
			limit = { controls_province = 11523 }
			401 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 11523
					instant_build = yes
				}
			}
		}
		if = {
			limit = { controls_province = 6362 }
			253 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 6362
					instant_build = yes
				}
			}
		}
		if = {
			limit = { controls_province = 6253 }
			256 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 6253
					instant_build = yes
				}
			}
		}
		if = {
			limit = { controls_province = 11166 }
			248 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 11166
					instant_build = yes
				}
			}
		}
		if = {
			limit = { controls_province = 9365 }
			251 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 9365
					instant_build = yes
				}
			}
		}
		if = {
			limit = { controls_province = 4324 }
			652 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 4324
					instant_build = yes
				}
			}
		}
		if = {
			limit = { controls_province = 3245 }
			25 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 3245
					instant_build = yes
				}
			}
		}
		if = {
			limit = { controls_province = 12567 }
			573 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 12567
					instant_build = yes
				}
			}
		}
		if = {
			limit = { controls_province = 10648 }
			573 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 10648
					instant_build = yes
				}
			}
		}
		#Caucuses Area
		build_railway = {
			level = 2
			build_only_on_allied = yes
			fallback = yes
			start_province = 7661
			target_province = 6701
		}
		#Stalingrad Area
		build_railway = {
			level = 2
			path = { 3578 11523 }
		}
		build_railway = {
			level = 2
			path = { 11523 11460 6479 3517 6541 6516 }
		}
		build_railway = {
			level = 2
			path = { 6516 520 11474 }
		}
		build_railway = {
			level = 2
			build_only_on_allied = yes
			fallback = yes
			start_province = 6516
			target_province = 9753
		}
		#Kuybyshev to Engels
		build_railway = {
			level = 2
			build_only_on_allied = yes
			fallback = yes
			start_province = 9365
			target_province = 6601
		}
		build_railway = {
			level = 2
			build_only_on_allied = yes
			fallback = yes
			start_province = 6601
			target_province = 11523
		}
		#Kazan to Ural
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 6278
			target_province = 6338
		}
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 6278
			target_province = 10136
		}
		build_railway = {
			level = 3
			path = { 10136 10142 }
		}
		#Kazan to Moscow
		build_railway = {
			level = 1
			build_only_on_allied = yes
			fallback = yes
			start_province = 6338
			target_province = 11344
		}
		build_railway = {
			level = 1
			build_only_on_allied = yes
			fallback = yes
			start_province = 11375
			target_province = 301
		}
		build_railway = {
			level = 1
			build_only_on_allied = yes
			fallback = yes
			start_province = 11344
			target_province = 3290
		}
		#Kazan to Kirov
		build_railway = {
			level = 2
			build_only_on_allied = yes
			fallback = yes
			start_province = 260
			target_province = 6124
		}
		#Kirov to Volgo North
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 9082
			target_province = 72
		}
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 72
			target_province = 186
		}
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 186
			target_province = 6124
		}
		build_railway = {
			level = 3
			path = { 186 108 }
		}
		#Kirov to Gorgi
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 11375
			target_province = 6191
		}
		build_railway = {
			level = 2
			path = { 6191 9370 6124 }
		}
		#Kirov to Yaroslavl
		build_railway = {
			level = 2
			build_only_on_allied = yes
			fallback = yes
			start_province = 6191
			target_province = 143
		}
		build_railway = {
			level = 2
			build_only_on_allied = yes
			fallback = yes
			start_province = 143
			target_province = 11099
		}
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 143
			target_province = 9131
		}
		#Yaroslavl
		build_railway = {
			level = 2
			build_only_on_allied = yes
			fallback = yes
			start_province = 121
			target_province = 6203
		}
		############################## URALS
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 9292
			target_province = 1821
		}
		build_railway = {
			level = 2
			build_only_on_allied = yes
			fallback = yes
			start_province = 9292
			target_province = 1292
		}
		build_railway = {
			level = 4
			build_only_on_allied = yes
			fallback = yes
			start_province = 1292
			target_province = 4824
		}
		build_railway = {
			level = 2
			build_only_on_allied = yes
			fallback = yes
			start_province = 9292
			target_province = 1278
		}
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 1821
			target_province = 7375
		}
		#Chelyabinsk
		build_railway = {
			level = 2
			build_only_on_allied = yes
			fallback = yes
			start_province = 9292
			target_province = 10256
		}
		build_railway = {
			level = 3
			build_only_on_allied = yes
			fallback = yes
			start_province = 9292
			target_province = 4411
		}
		if = {
			limit = { controls_province = 3245 }
			25 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 3245
					instant_build = yes
				}
			}
		}
	}
}

