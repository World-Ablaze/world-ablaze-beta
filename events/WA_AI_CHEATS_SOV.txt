add_namespace = sov_armor

country_event = {
	id = sov_armor.001
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_tech = sov_motorised_infantry
	}

	immediate = {

		SOV_georgy_zhukov = {
			promote_leader = yes
		}
		SOV_aleksandr_vasilevsky = {
			promote_leader = yes
		}
		SOV_konstantin_rokossovsky = {
			promote_leader = yes
		}
		SOV_vasily_kuznetsov = {
			promote_leader = yes
		}
		SOV_nikolay_vatutin = {
			promote_leader = yes
		}
		SOV_semyon_timoshenko = {
			promote_leader = yes
		}
		SOV_andrey_yeryomenko = {
			promote_leader = yes
		}
	}
	option = {}
}

country_event = {
	id = sov_armor.014
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_template = "Soviet Rifle Division"
		has_tech = tech_signal_company
		has_tech = tech_field_hospital
		has_tech = tech_maintenance_company
	}

	immediate = {
		add_units_to_division_template = {
			template_name = "Soviet Rifle Division"
			support = {
				horse_field_hospital = 0
				mot_signal_company = 0
				horse_maintenance_company = 1
			}
		}
	}

	option = {}

}




country_event = {
	id = sov_armor.600
	hidden = yes

	mean_time_to_happen = { days = 8 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1936.8.1
	}

	immediate = {
		add_opinion_modifier = { target = USA modifier = ai_trade_fix }
		add_opinion_modifier = { target = USA modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = USA modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = USA modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = ENG modifier = ai_trade_fix }
		add_opinion_modifier = { target = ENG modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = ENG modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = ENG modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = POR modifier = ai_trade_fix }
		add_opinion_modifier = { target = POR modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = POR modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = POR modifier = ai_trade_fix_2 }


		add_opinion_modifier = { target = SAF modifier = ai_trade_fix }
		add_opinion_modifier = { target = SAF modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = SAF modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = SAF modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = TUR modifier = ai_trade_fix }
		add_opinion_modifier = { target = TUR modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = TUR modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = TUR modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = SIA modifier = ai_trade_fix }
		add_opinion_modifier = { target = SIA modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = SIA modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = SIA modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = INS modifier = ai_trade_fix }
		add_opinion_modifier = { target = INS modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = INS modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = INS modifier = ai_trade_fix_2 }
	}

	option = {}
}

country_event = {
	id = sov_armor.601
	hidden = yes

	mean_time_to_happen = { days = 8 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date < 1937.1.1
		has_country_flag = sov_infantry_template
	}

	immediate = {
		delete_unit_template_and_units = { division_template = "Strelkovaya Diviziya" }
		delete_unit_template_and_units = { division_template = "NKVD Strelkovaya Diviziya" }
		delete_unit_template_and_units = { division_template = "NKVD Pogranichnaya Brigada" }
		delete_unit_template_and_units = { division_template = "Kavaleriyskaya Diviziya" }
		delete_unit_template_and_units = { division_template = "Motostrelkovaya Diviziya" }
		delete_unit_template_and_units = { division_template = "Vozdushno-Desantnaya Diviziya" }
		delete_unit_template_and_units = { division_template = "Brigada Morskoi Pekhoty" }
	}

	option = {}
}

country_event = {
	id = sov_armor.602
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		NOT = { has_war_with = GER }
		NOT = { has_government = fascism }
		OR = {
			AND = {
				date > 1942.8.1
				NOT = { has_global_flag = uk_evacuated }
				NOT = { has_global_flag = GER_SOV_ceasefire }
				has_completed_focus = SOV_eradicate_western_fascism
			}
			AND = {
				date > 1941.6.1
				NOT = { has_global_flag = uk_evacuated }
				ENG = { surrender_progress > 0.2 }
			}
			AND = {
				date > 1941.1.1
				GER = { has_war_with = USA }
				USA = { surrender_progress > 0.2 }
			}
		}
	}

	immediate = {
		every_other_country = {
			limit = {
				has_government = fascism
				OR = {
					tag = GER
					is_in_faction_with = GER
					is_subject_of = GER
					tag = ROM
					tag = HUN
				}
				NOT = { has_war_with = ROOT }
			}
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.604
	hidden = yes

	mean_time_to_happen = { days = 8 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1940.1.1
		OR = {
			date > 1942.1.1
			NOT = {
				has_idea = SOV_molotov_ribbentrop_pact
			}
		}
	}

	immediate = {
		add_opinion_modifier = { target = USA modifier = ai_trade_fix }
		add_opinion_modifier = { target = USA modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = USA modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = USA modifier = ai_trade_fix_2 }

		add_opinion_modifier = { target = SAF modifier = ai_trade_fix }
		add_opinion_modifier = { target = SAF modifier = ai_trade_fix_2 }
		reverse_add_opinion_modifier = { target = SAF modifier = ai_trade_fix }
		reverse_add_opinion_modifier = { target = SAF modifier = ai_trade_fix_2 }
	}

	option = {}
}

country_event = {
	id = sov_armor.608
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_war_with = GER
		NOT = { has_war_with = SLO }
		OR = {
			SLO = { is_puppet_of = GER }
			SLO = { is_in_faction_with = GER }
		}
	}

	immediate = {
		SLO = {
			add_to_war = { targeted_alliance = GER enemy = SOV hostility_reason = asked_to_join }
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.610
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_war_with = GER
	}

	immediate = {
		add_equipment_to_stockpile = { type = convoy_1 amount = 1800 producer = SOV }
	}

	option = {}
}

country_event = {
	id = sov_armor.611
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1943.4.1
		tag = SOV
		is_ai = yes
	}

	immediate = {
		add_equipment_to_stockpile = { type = convoy_1 amount = 750 producer = SOV }
	}

	option = {}

}

country_event = {
	id = sov_armor.612
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1944.3.1
		tag = SOV
		is_ai = yes
	}

	immediate = {
		add_equipment_to_stockpile = { type = convoy_1 amount = 1000 producer = SOV }
	}

	option = {}

}

country_event = {
	id = sov_armor.613
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1942.12.1
	}

	immediate = {
		SOV_georgy_zhukov = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_aleksandr_vasilevsky = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_konstantin_rokossovsky = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_boris_shaposhnikov = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_nikolay_vatutin = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_ivan_konev = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_semyon_timoshenko = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_vasily_chuykov = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_aleksandr_gorbatov = {
			add_trait = { trait = bearer_of_artillery }
		}
		SOV_fyodor_tolbukhin = {
			add_trait = { trait = bearer_of_artillery }
		}
		every_army_leader = {
			limit = {
				has_trait = organisational_leader
				is_field_marshal = yes
			}
			remove_trait = { trait = organisational_leader }
			add_trait = { trait = inspirational_leader }
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.616
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1942.1.1
		tag = SOV
		is_ai = yes
		USA = {
			is_ai = yes
		}
	}

	immediate = {
		USA = {
			give_resource_rights = {
				receiver = SOV
				state = 388
				resources = { coal }
			}
		}
	}

	option = {}

}

country_event = {
	id = sov_armor.617
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1942.1.1
		tag = SOV
		is_ai = yes
		USA = {
			is_ai = yes
		}
		has_war_with = USA
	}

	immediate = {
		remove_resource_rights = 388
	}

	option = {}

}

country_event = {
	id = sov_armor.618
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_global_flag = GER_SOV_ceasefire
		has_war = no
	}

	immediate = {
		set_capital = { state = 572 }
	}

	option = {}
}

country_event = {
	id = sov_armor.855
	hidden = yes

	mean_time_to_happen = { days = 4 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		is_historical_focus_on = yes
		ENG = { has_war_with = PER }
		ENG = { has_completed_focus = ENG_secure_iran }
		NOT = { has_war_With = PER }
	}

	option = {
		declare_war_on = {
			type = take_state_focus
			target = PER
			generator = { 419 420 266 418 416 }
		}
	}
}

country_event = {
	id = sov_armor.902
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1939.2.1
		NOT = { date > 1940.1.1 }
	}

	immediate = {
		add_equipment_to_stockpile = { type = convoy_1 amount = 100 producer = SOV }
	}

	option = {}
}

country_event = {
	id = sov_armor.904
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1940.1.1
	}

	immediate = {
		add_ideas = nepotism_naval_academy_spirit
		if = {
			limit = {
				has_idea = mass_assault_corps_spirit
			}
			remove_ideas = mass_assault_corps_spirit
		}
	}

	option = {}
}

country_event = {
	id = sov_armor.905
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1940.7.1
		NOT = { date > 1941.7.1 }
	}

	immediate = {
		add_equipment_to_stockpile = { type = convoy_1 amount = 50 producer = SOV }
	}

	option = {}
}

country_event = {
	id = sov_armor.908
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1941.7.1
		NOT = { date > 1942.7.1 }
	}

	immediate = {
		add_equipment_to_stockpile = { type = convoy_1 amount = 50 producer = SOV }
	}

	option = {}
}

country_event = {
	id = sov_armor.917
	hidden = yes

	mean_time_to_happen = { days = 2 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1942.1.1
		has_war = yes
		has_deployed_air_force_size = { size < 4000 type = fighter }
	}

	immediate = {
		add_timed_idea = { idea = soviet_ai_air days = 360 }
		if = {
			limit = {
				has_template = "Soviet Medium Tank Division"
			}
			add_units_to_division_template = {
				template_name = "Soviet Medium Tank Division"
				regiments = {
					medium_armor = 0
					medium_armor = 1
					medium_armor = 2
				}
			}
		}
	}

	option = {}
}


country_event = {
	id = sov_armor.927
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		date > 1942.1.1
		tag = SOV
		is_ai = yes
		has_war = yes
	}

	immediate = {
		add_ideas = steel_wings_steel_hearts_spirit
	}

	option = {}

}

country_event = {
	id = sov_armor.931
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		date > 1941.1.1
	}

	immediate = {
		add_ideas = battlefield_utility_spirit
	}
}

country_event = {
	id = sov_armor.971
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		FRA = {
			is_ai = yes
		}
		ENG = {
			has_completed_focus = ENG_a_change_in_course
		}
		has_war_with = FRA
		has_war_with = POL
		date < 1940.1.1
	}

	immediate = {
		white_peace = {
			tag = FRA
		}
	}
}

country_event = {
	id = sov_armor.972
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_global_flag = SOV_soviet_civil_war_over
		has_completed_focus = SOV_approach_tukhachevsky
	}

	immediate = {
		SOS = {
			every_unit_leader = {
				set_nationality = SOV
			}
		}
		SOV_georgy_zhukov = {
			set_nationality = SOV
		}
		SOV_georgy_zhukov_ai = {
			promote_leader = yes
		}
		SOV_konstantin_rokossovsky_ai = {
			promote_leader = yes
		}
	}
}

country_event = {
	id = sov_armor.973
	hidden = yes

	mean_time_to_happen = { days = 1 }

	fire_only_once = yes

	trigger = {
		tag = SOV
		is_ai = yes
		has_global_flag = SOV_soviet_civil_war_over
		has_completed_focus = SOV_approach_tukhachevsky
		date > 1939.10.1
	}

	immediate = {
		add_war_support = 0.5
		activate_advisor = georgy_zhukov
	}
}